import{j as e,r as m,d as f}from"./index-UXJnZv-7.js";import{c as E,g as A}from"./index-CNi6eETH.js";var L=document.getElementsByClassName("closeTab"),R=document.getElementsByClassName("tab"),P=document.querySelectorAll("button.btn");Array.prototype.forEach.call(L,function(a){a.addEventListener("click",B)});Array.prototype.forEach.call(R,function(a){a.style.width=a.offsetWidth+"px"});Array.prototype.forEach.call(P,function(a){a.addEventListener("click",function(t){return t.preventDefault(),!1})});function q(a){var t=a.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+l}}function B(a){var t=a.currentTarget.parentElement,l=q(t),i=l.left,s=l.top+10,o=document.createElement("canvas"),n=o.getContext("2d"),c=window.devicePixelRatio,u=[];t.classList.add("tabClosed"),window.setTimeout(function(){document.body.appendChild(o),o.style.position="absolute",o.style.left=i-40+"px",o.style.top=s-150+"px",o.style.pointerEvents="none",o.style.width="80px",o.style.height="300px",o.width=80*c,o.height=300*c;function d(){n.clearRect(0,0,o.width,o.height),u.forEach(function(r,y){r.opacity-=.01,r.speed*=r.friction,r.radius*=r.friction,r.yVel+=r.gravity,r.y+=r.yVel,!(r.opacity<0)&&(r.radius<0||(n.beginPath(),n.globalAlpha=r.opacity,n.fillStyle=r.color,n.arc(r.x,r.y,r.radius,0,2*Math.PI,!1),n.fill()))})}(function r(){requestAnimationFrame(r),d()})(),setTimeout(function(){document.body.removeChild(o)},3e3)},150)}function z({carouselSamples:a,setCarouselSamples:t,setPopupWindow:l}){const i=()=>{let s=[...a];s.push({title:document.querySelector(".carouselSampleTitle").value,img:document.querySelector(".image_carussel").files}),t(s),l(null)};return e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"popup",children:[e.jsx("p",{onClick:()=>l(null),children:"X"}),e.jsx("input",{type:"text",className:"carouselSampleTitle",name:"carouselSampleTitle",placeholder:"carousel Sample Title"}),e.jsx("input",{type:"file",className:"image_carussel",accept:"image/jpeg,image/jpg,image/png",name:"image"}),e.jsx("button",{onClick:i,children:"Submit"})]})})}function $({codeSamples:a,setCodeSamples:t,setPopupWindow:l}){const[i,s]=m.useState([]);m.useEffect(()=>{(async()=>{const u=(await E(A)).scopes();s(u)})()},[]);const o=()=>{let n=[...a];n.push({title:document.querySelector(".codeSampleTitle").value,code:document.querySelector(".codeSample-code").value,language:document.querySelector(".codeSample-language").value}),t(n),l(null)};return e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"popup",children:[e.jsx("p",{onClick:()=>l(null),children:"X"}),e.jsx("input",{type:"text",className:"codeSampleTitle",name:"codeSampleTitle",placeholder:"Code Sample Title"}),e.jsx("br",{}),e.jsx("select",{name:"language",id:"language",className:"codeSample-language",children:i.map((n,c)=>e.jsx("option",{value:n,children:n},c))}),e.jsx("textarea",{type:"text",className:"codeSample-code",name:"codeSample",placeholder:"Code Sample"}),e.jsx("button",{onClick:o,children:"Submit"})]})})}function X({techs:a,setTechs:t,setPopupWindow:l}){const i=()=>{let s=[...a];s.push({title:document.querySelector(".techTitle").value,description:document.querySelector(".techDescription").value}),t(s),l(null)};return e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"popup",children:[e.jsx("p",{onClick:()=>l(null),children:"X"}),e.jsx("input",{type:"text",className:"techTitle",name:"techTitle",placeholder:"Tech Title"}),e.jsx("br",{}),e.jsx("textarea",{type:"text",className:"techDescription",name:"techDescription",placeholder:"Tech Description"}),e.jsx("button",{onClick:i,children:"Submit"})]})})}function U({resources:a,setResources:t,setPopupWindow:l}){const i=()=>{let s=[...a];s.push({title:document.querySelector(".resourceTitle").value,description:document.querySelector(".resourceDescription").value}),t(s),l(null)};return e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"popup",children:[e.jsx("p",{onClick:()=>l(null),children:"X"}),e.jsx("input",{type:"text",className:"resourceTitle",name:"resourceTitle",placeholder:"Resource Title"}),e.jsx("br",{}),e.jsx("textarea",{type:"text",className:"resourceDescription",name:"resourceDescription",placeholder:"Resource Description"}),e.jsx("button",{onClick:i,children:"Submit"})]})})}function O({dataSources:a,setDataSources:t,setPopupWindow:l}){const[i,s]=m.useState(""),[o,n]=m.useState(""),[c,u]=m.useState(""),[d,r]=m.useState(""),y=()=>{let p=[...a];p.push({type:i,name:o,size:c,link:d}),t(p),l(null)},v=["excel","csv","json","sql-server","mysql","mongodb","python","xml"],S=p=>{s(p.target.value)};return e.jsx("div",{className:"popup-container",children:e.jsxs("div",{className:"popup",children:[e.jsx("p",{onClick:()=>l(null),children:"X"}),e.jsxs("select",{value:i,onChange:S,children:[e.jsx("option",{value:"",children:"Select Data Source Type"}),v.map((p,D)=>e.jsx("option",{value:p,children:p},D))]}),e.jsx("br",{}),e.jsx("input",{type:"text",value:o,onChange:p=>n(p.target.value),placeholder:"Data Source Name"}),e.jsx("br",{}),e.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Data Source Size"}),e.jsx("br",{}),e.jsx("input",{type:"text",value:d,onChange:p=>r(p.target.value),placeholder:"Data Source Link"}),e.jsx("button",{onClick:y,children:"Submit"})]})})}const C=({type:a="text",name:t,className:l="form__input",placeholder:i="",required:s=!0,value:o,onChange:n,label:c})=>e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:a,name:t,className:l,placeholder:i,required:s,value:o,onChange:n}),e.jsx("label",{className:"form__label",children:c})]}),V=({name:a})=>e.jsx("input",{type:"file",name:a}),M=({name:a})=>e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"checkbox",name:a}),e.jsx("label",{className:"form__label",children:"Highlighted"})]}),_=({items:a,setItems:t,title:l,setPopupWindow:i,formComponent:s})=>{const o=(n,c)=>{n.preventDefault();let u=[...a];u.splice(c,1),t(u)};return e.jsxs("div",{className:"group-container",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("h2",{className:"title",children:l}),e.jsx("input",{type:"button",className:"add-code-sample",value:`Add ${l}`,onClick:()=>{i(s)}})]}),a.length>0&&e.jsx("div",{className:"code-samples h-list",children:a.map((n,c)=>e.jsxs("li",{className:"tab tabSelected",children:[e.jsx("button",{className:"btn title",children:n.title}),e.jsx("button",{className:"btn closeTab",onClick:u=>o(u,c),children:"âœ•"})]},c))})]})};function G(){const[a,t]=m.useState(null),[l,i]=m.useState([]),[s,o]=m.useState([]),[n,c]=m.useState([]),[u,d]=m.useState([]),[r,y]=m.useState([]),[v,S]=m.useState(""),[p,D]=m.useState("Submit"),F=async j=>{j.preventDefault();const h=new FormData(j.target),g=h.get("image"),b={title:h.get("title"),description:h.get("description"),githubLink:h.get("githubLink"),image:null,codeSamples:l,carouselImages:[],startDate:h.get("startDate"),endDate:h.get("endDate")?h.get("endDate"):null,tools:{techs:n,resources:u},dataSources:r,highlighted:h.get("highlighted")==="on"?"star":"basic",tags:v.split(",").map(x=>x.trim())};g&&(b.image=await T(g));for(let x=0;x<s.length;x++){const k=s[x],I=await T(k.img[0]);b.carouselImages.push({img:I,title:k.title})}try{const x=await f.post("projects",b);console.log(x),D("Successfully Submitted")}catch(x){console.log(x)}},T=j=>new Promise((h,g)=>{const b=new FileReader;b.onload=()=>h(b.result),b.onerror=x=>g(x),b.readAsDataURL(j)});m.useEffect(()=>{const j=()=>{D("Submit")},h=document.querySelectorAll("input, textarea");return h.forEach(g=>{g.addEventListener("input",j)}),()=>{h.forEach(g=>{g.removeEventListener("input",j)})}},[]);const N=[e.jsx($,{codeSamples:l,setCodeSamples:i,setPopupWindow:t}),e.jsx(z,{carouselSamples:s,setCarouselSamples:o,setPopupWindow:t}),e.jsx(X,{techs:n,setTechs:c,setPopupWindow:t}),e.jsx(U,{resources:u,setResources:d,setPopupWindow:t}),e.jsx(O,{dataSources:r,setDataSources:y,setPopupWindow:t})];return e.jsxs("form",{onSubmit:F,className:"filldb-form project-form",children:[e.jsx("h1",{className:"project-form__title",children:"Project"}),e.jsx("br",{}),e.jsxs("div",{className:"input-container",children:[e.jsx(C,{name:"title",label:"Title"}),e.jsx(C,{name:"githubLink",label:"Github Link"})]}),e.jsxs("div",{className:"input-container",children:[e.jsx(C,{type:"date",name:"startDate",label:"Start Date"}),e.jsx(C,{type:"date",name:"endDate",required:!1,label:"End Date"})]}),e.jsx("textarea",{className:"description",type:"text",name:"description",required:!0,placeholder:"Write a Brief Description of the Project"}),e.jsx(V,{name:"image"}),e.jsx("br",{}),e.jsx(_,{items:l,setItems:i,title:"Code Samples",formComponent:N[0],setPopupWindow:t}),e.jsx(_,{items:s,setItems:o,title:"Carousels",formComponent:N[1],setPopupWindow:t}),e.jsx(_,{items:n,setItems:c,title:"Technologies",formComponent:N[2],setPopupWindow:t}),e.jsx(_,{items:u,setItems:d,title:"Resources",formComponent:N[3],setPopupWindow:t}),e.jsx(_,{items:r,setItems:y,title:"Data Sources",formComponent:N[4],setPopupWindow:t}),a,e.jsx("br",{}),e.jsx("br",{}),e.jsx(M,{name:"highlighted"}),e.jsx(C,{type:"text",name:"tags",className:"form__input",placeholder:" ",required:!0,value:v,onChange:j=>S(j.target.value),label:"Tags (separated by comma)"}),e.jsx("input",{type:"submit",value:p})]})}function H(){return e.jsxs("form",{onSubmit:a=>{a.preventDefault();var t={};t.title=a.target.title.value,t.description=a.target.description.value;const i=a.target.roadmapImage.files[0],s=new FileReader;s.addEventListener("load",()=>{t.roadmapImage=s.result,console.log(t),f.post("/skills",t).then(o=>{console.log(o)}).catch(o=>{console.log(o)})}),s.readAsDataURL(i)},className:"skill-form filldb-form",children:[e.jsx("h1",{className:"project-form__title",children:"Add Skill"}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"title_skill",children:"Title"})]}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"description",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"Description_skill",children:"Description"})]}),e.jsx("br",{}),e.jsx("input",{type:"file",name:"roadmapImage",placeholder:"roadmapImage"}),e.jsx("br",{}),e.jsx("input",{type:"submit",value:"Submit"})]})}function W(){return e.jsxs("form",{className:"report-form filldb-form",onSubmit:a=>{a.preventDefault();var t={};t.title=a.target.title.value,t.description=a.target.description.value;const i=a.target.reportFile.files[0],s=new FileReader;s.addEventListener("load",()=>{t.reportFile=s.result,console.log(t),f.post("/reports",t).then(o=>{console.log(o)}).catch(o=>{console.log(o)})}),s.readAsDataURL(i)},children:[e.jsx("h1",{className:"project-form__title",children:"Add Report"}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"title_report",children:"Title of Report"})]}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"description",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"Description_report",children:"Description"})]}),e.jsx("br",{}),e.jsx("input",{type:"file",name:"reportFile",placeholder:"image"}),e.jsx("input",{type:"submit",value:"Submit"})]})}function Y({setAuthenticated:a}){return e.jsx("div",{className:"login-container",children:e.jsxs("form",{className:"login-form",onSubmit:t=>{t.preventDefault();const l={email:t.target.email.value,password:t.target.password.value};f.post("users/login",l).then(i=>{document.cookie=`jwt=${i.token}`,localStorage.removeItem("jwt"),localStorage.setItem("jwt",i.token),a(!0)}).catch(i=>{a(!1)})},children:[e.jsx("h1",{className:"login-title",children:"Login"}),e.jsx("input",{className:"login-input",type:"text",name:"email",placeholder:"Email"}),e.jsx("input",{className:"login-input",type:"password",name:"password",placeholder:"Password"}),e.jsx("input",{type:"submit",className:"login-submit",value:"Submit"})]})})}function J(){const[a,t]=m.useState([]),[l,i]=m.useState([]);m.useEffect(()=>{f.get("/projects?fields=title").then(n=>{t(n.data),console.log(n.data)}).catch(n=>console.error(n))},[]);const s=Math.ceil(a.length/3),o=async()=>{const n=document.cookie.split("; ").find(u=>u.startsWith("jwt=")),c=n?n.split("=")[1]:"";await f.put("/projects/overview",{projectIds:l.map(u=>u._id)},{headers:{Authorization:`Bearer ${c}`}}).then(u=>{console.log(u.data)}).catch(u=>console.error(u))};return e.jsxs("div",{className:"arrange-projects-form filldb-form",children:[e.jsx("div",{className:"highlighted-projects",children:l.length>0&&l.filter((n,c)=>c<3).map(n=>e.jsx("div",{className:"highlighted-project",onClick:()=>{i(l.filter(c=>c!==n))},children:e.jsx("h3",{children:n.title})},n.title))}),e.jsx("div",{className:"scrollable-grid",children:e.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:a.length>0&&a.map(n=>e.jsx("div",{style:{flex:`1 0 ${100/s}%`},className:"project",onClick:()=>{if(l.includes(n))i(l.filter(c=>c!==n));else{if(l.length===3)return;i([...l,n])}},children:e.jsx("h3",{children:n.title})},n.title))})}),e.jsx("button",{className:"validate-btn",onClick:()=>o(),children:"Validate"})]})}function K(){return e.jsxs("form",{onSubmit:a=>{a.preventDefault();var t={};t.title=a.target.title.value,t.issuer=a.target.issuer.value,t.link=a.target.link.value,t.downloadPath=a.target.downloadPath.value;const i=a.target.roadmapImage.files[0],s=new FileReader;s.addEventListener("load",()=>{t.image=s.result,console.log(t),f.post("certificates",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(o=>{console.log(o)}).catch(o=>{console.log(o)})}),s.readAsDataURL(i)},className:"certificates-form filldb-form",children:[e.jsx("h1",{className:"project-form__title",children:"Add Certificate"}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"title_certificates",children:"Title"})]}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"issuer",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"issuer_certificates",children:"Issuer"})]}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"link",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"link_certificates",children:"Link"})]}),e.jsx("br",{}),e.jsxs("div",{className:"input-flow",children:[e.jsx("input",{type:"text",name:"downloadPath",className:"form__input label_",placeholder:" "}),e.jsx("label",{className:"form__label",htmlFor:"downloadPath_certificates",children:"Download Path"})]}),e.jsx("br",{}),e.jsx("input",{type:"file",name:"roadmapImage",placeholder:"roadmapImage"}),e.jsx("br",{}),e.jsx("button",{className:"form__button",children:"Add Certificate"})]})}function Q(){const[a,t]=m.useState(""),[l,i]=m.useState(""),[s,o]=m.useState(""),[n,c]=m.useState(""),u=async d=>{d.preventDefault();try{const r={name:a,description:l,profession:s,company:n},v=d.target.image.files[0],S=new FileReader;S.onloadend=()=>{r.image=S.result;const p=f.post("clients",r,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}});console.log("Client added successfully:",p.data)},v&&S.readAsDataURL(v)}catch(r){console.error("Error adding client:",r)}};return e.jsxs("form",{onSubmit:u,className:"add-client-form",children:[e.jsxs("div",{className:"client-profession",children:[e.jsx("input",{type:"text",placeholder:"Client Name",value:a,onChange:d=>t(d.target.value)}),e.jsx("textarea",{placeholder:"Client Description",value:l,onChange:d=>i(d.target.value)}),e.jsx("input",{type:"text",placeholder:"Client Profession",value:s,onChange:d=>o(d.target.value)}),e.jsx("input",{type:"text",placeholder:"Company",value:n,onChange:d=>c(d.target.value)}),e.jsx("input",{type:"file",accept:"image/*",className:"client-picture-input",name:"image"})]}),e.jsx("button",{type:"submit",children:"Add Client"})]})}const w=[{id:0,label:"Project",component:e.jsx(G,{})},{id:1,label:"Arrange Projects",component:e.jsx(J,{})},{id:2,label:"Certificate",component:e.jsx(K,{})},{id:3,label:"Skill",component:e.jsx(H,{})},{id:4,label:"Report",component:e.jsx(W,{})},{id:5,label:"Clients",component:e.jsx(Q,{})}];function te(){const[a,t]=m.useState(!1),[l,i]=m.useState(w[0].id);return m.useEffect(()=>{const s=localStorage.getItem("jwt");f.get("users/is-logged-in",{headers:{Authorization:`Bearer ${s}`}}).then(o=>{o.status==="success"?t(!0):t(!1)}).catch(o=>{console.log(o),t(!1)})},[]),e.jsx(e.Fragment,{children:a?e.jsxs("div",{className:"filldb-container",children:[e.jsx("div",{className:"buttons",children:w.map(s=>e.jsx("button",{className:`filldb-nav__btn ${l===s.id?"active":""}`,onClick:()=>i(s.id),children:s.label},s.id))}),e.jsx("div",{className:"tab-content",children:w.map(s=>l===s.id&&s.component)})]}):e.jsx(Y,{setAuthenticated:t})})}export{te as default};
