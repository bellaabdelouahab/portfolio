import{r as y,j as r,e as De,f as X,s as kt,h as Oe,G as Me,i as Ft,k as Pe,l as ge,m as ae,n as Ve,q as _t,o as Lt,p as It,t as Ut}from"./index-1SiXtgPz.js";import{F as v,f as Bt}from"./index-ChZUlZ7D.js";import{g as ee,h as $t,i as ot,j as at,k as qt,l as Ht,m as Mt,n as Vt,c as zt,o as Jt,p as Gt,q as Kt,r as Wt,s as Xt}from"./index-CH9pj7N8.js";import{c as Qt,g as Zt}from"./index-BJtZ6oyW.js";import"./index-Chjiymov.js";var Yt=document.getElementsByClassName("closeTab"),es=document.getElementsByClassName("tab"),ts=document.querySelectorAll("button.btn");Array.prototype.forEach.call(Yt,function(e){e.addEventListener("click",ns)});Array.prototype.forEach.call(es,function(e){e.style.width=e.offsetWidth+"px"});Array.prototype.forEach.call(ts,function(e){e.addEventListener("click",function(t){return t.preventDefault(),!1})});function ss(e){var t=e.getBoundingClientRect(),s=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+s}}function ns(e){var t=e.currentTarget.parentElement,s=ss(t),n=s.left,o=s.top+10,a=document.createElement("canvas"),i=a.getContext("2d"),l=window.devicePixelRatio,f=[];t.classList.add("tabClosed"),window.setTimeout(function(){document.body.appendChild(a),a.style.position="absolute",a.style.left=n-40+"px",a.style.top=o-150+"px",a.style.pointerEvents="none",a.style.width="80px",a.style.height="300px",a.width=80*l,a.height=300*l;function c(){i.clearRect(0,0,a.width,a.height),f.forEach(function(u,m){u.opacity-=.01,u.speed*=u.friction,u.radius*=u.friction,u.yVel+=u.gravity,u.y+=u.yVel,!(u.opacity<0)&&(u.radius<0||(i.beginPath(),i.globalAlpha=u.opacity,i.fillStyle=u.color,i.arc(u.x,u.y,u.radius,0,2*Math.PI,!1),i.fill()))})}(function u(){requestAnimationFrame(u),c()})(),setTimeout(function(){document.body.removeChild(a)},3e3)},150)}function rs({carouselSamples:e,setCarouselSamples:t,setPopupWindow:s}){const[n,o]=y.useState(""),[a,i]=y.useState(null),[l,f]=y.useState(null),[c,u]=y.useState(""),m=p=>{const j=p.target.files[0];if(j){if(!j.type.match("image.*")){u("Please select an image file");return}if(j.size>5*1024*1024){u("Image must be less than 5MB");return}i(j);const w=new FileReader;w.onload=N=>{f(N.target.result)},w.readAsDataURL(j),u("")}},h=p=>{p.preventDefault(),p.currentTarget.classList.add("drag-over")},x=p=>{p.currentTarget.classList.remove("drag-over")},b=p=>{if(p.preventDefault(),p.currentTarget.classList.remove("drag-over"),p.dataTransfer.files&&p.dataTransfer.files[0]){const j=p.dataTransfer.files[0];if(!j.type.match("image.*")){u("Please select an image file");return}if(j.size>5*1024*1024){u("Image must be less than 5MB");return}i(j);const w=new FileReader;w.onload=N=>{f(N.target.result)},w.readAsDataURL(j),u("")}},g=()=>{if(!n){u("Please enter a title for the carousel image");return}if(!a){u("Please select an image");return}let p=[...e];p.push({title:n,img:[a]}),t(p),s(null)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"carousel-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(v,{icon:ee})}),r.jsx("h2",{className:"form-title",children:"Add Carousel Image"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"carouselTitle",children:"Image Title"}),r.jsx("input",{type:"text",id:"carouselTitle",className:"carousel-input",value:n,onChange:p=>o(p.target.value),placeholder:"Enter a descriptive title for this image"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Image Upload"}),r.jsxs("div",{className:`carousel-upload-area ${l?"has-preview":""}`,onDragOver:h,onDragLeave:x,onDrop:b,children:[r.jsx("input",{type:"file",className:"file-input",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:m,id:"carouselImage"}),l?r.jsxs("div",{className:"carousel-preview",children:[r.jsx("img",{src:l,alt:"Preview",className:"preview-image"}),r.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{i(null),f(null)},children:r.jsx(v,{icon:ee})})]}):r.jsxs("div",{className:"upload-placeholder",children:[r.jsx(v,{icon:$t,className:"upload-icon"}),r.jsxs("div",{className:"upload-text",children:[r.jsx("p",{children:"Drag & drop image here"}),r.jsx("span",{children:"or"}),r.jsxs("label",{htmlFor:"carouselImage",className:"browse-btn",children:[r.jsx(v,{icon:ot})," Browse files"]})]})]})]}),r.jsxs("div",{className:"image-requirements",children:[r.jsx(v,{icon:at,className:"info-icon"}),r.jsx("span",{children:"Recommended: JPG, PNG or WebP • Max 5MB • 16:9 aspect ratio"})]})]}),c&&r.jsx("div",{className:"form-error",children:c}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:g,children:"Add to Carousel"})]})]})})}function os({codeSamples:e,setCodeSamples:t,setPopupWindow:s}){const[n,o]=y.useState(""),[a,i]=y.useState(""),[l,f]=y.useState(""),[c,u]=y.useState([]),[m,h]=y.useState(""),[x,b]=y.useState(!0);y.useEffect(()=>{(async()=>{try{b(!0);const w=(await Qt(Zt)).scopes();u(w),w.length>0&&f(w.find(N=>N.includes("javascript"))||w[0])}catch(j){console.error("Error loading syntax highlighting:",j)}finally{b(!1)}})()},[]);const g=()=>{if(!n.trim()){h("Please enter a title for the code sample");return}if(!a.trim()){h("Please enter some code");return}if(!l){h("Please select a language");return}const p=[...e];p.push({title:n.trim(),code:a.trim(),language:l}),t(p),s(null)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"code-sample-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(v,{icon:ee})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(v,{icon:qt,className:"title-icon"}),"Add Code Sample"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"codeSampleTitle",children:"Sample Title"}),r.jsx("input",{type:"text",id:"codeSampleTitle",className:"form-control",value:n,onChange:p=>o(p.target.value),placeholder:"e.g., 'Authentication Function', 'API Request Handler'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"language",children:"Programming Language"}),r.jsx("div",{className:"select-wrapper",children:r.jsx("select",{id:"language",className:"form-control",value:l,onChange:p=>f(p.target.value),disabled:x,children:x?r.jsx("option",{value:"",children:"Loading languages..."}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a language"}),c.map((p,j)=>r.jsx("option",{value:p,children:p.replace(/^source\./,"").replace(/\b\w/g,w=>w.toUpperCase())},j))]})})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"code",children:"Code"}),r.jsx("textarea",{id:"code",className:"code-editor",value:a,onChange:p=>i(p.target.value),placeholder:"Paste your code snippet here...",rows:10,spellCheck:"false"}),r.jsxs("div",{className:"code-helper",children:[r.jsx(v,{icon:at,className:"info-icon"}),r.jsx("span",{children:"Use proper indentation for better readability"})]})]}),m&&r.jsx("div",{className:"form-error",children:m}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:g,children:"Add Code Sample"})]})]})})}function as({techs:e,setTechs:t,setPopupWindow:s}){const[n,o]=y.useState(""),[a,i]=y.useState(""),[l,f]=y.useState(""),c=()=>{if(!n.trim()){f("Please enter a technology name");return}if(!a.trim()){f("Please enter a technology description");return}const h=[...e];h.push({title:n.trim(),description:a.trim()}),t(h),s(null)},u=[{name:"React",desc:"A JavaScript library for building user interfaces"},{name:"Node.js",desc:"JavaScript runtime built on Chrome's V8 JavaScript engine"},{name:"Python",desc:"Interpreted high-level general-purpose programming language"},{name:"Docker",desc:"Platform for developing, shipping, and running applications in containers"},{name:"MongoDB",desc:"NoSQL document database with scalability and flexibility"},{name:"Firebase",desc:"Google's platform for app development, hosting and more"}],m=h=>{o(h.name),i(h.desc)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"tech-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(v,{icon:ee})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(v,{icon:Ht,className:"title-icon"}),"Add Technology"]}),r.jsxs("div",{className:"quick-select",children:[r.jsx("label",{children:"Quick Select:"}),r.jsx("div",{className:"quick-select-buttons",children:u.map((h,x)=>r.jsx("button",{type:"button",onClick:()=>m(h),className:"quick-select-btn",children:h.name},x))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"techTitle",children:"Technology Name"}),r.jsx("input",{type:"text",id:"techTitle",className:"form-control",value:n,onChange:h=>o(h.target.value),placeholder:"e.g., 'React', 'TensorFlow', 'AWS'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"techDescription",children:"Description"}),r.jsx("textarea",{id:"techDescription",className:"form-control",value:a,onChange:h=>i(h.target.value),placeholder:"Describe how this technology was used in your project",rows:4})]}),l&&r.jsx("div",{className:"form-error",children:l}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:c,children:"Add Technology"})]})]})})}function is({resources:e,setResources:t,setPopupWindow:s}){const[n,o]=y.useState(""),[a,i]=y.useState(""),[l,f]=y.useState(""),c=()=>{if(!n.trim()){f("Please enter a resource title");return}if(!a.trim()){f("Please enter a resource description");return}const m=[...e];m.push({title:n.trim(),description:a.trim()}),t(m),s(null)},u=[{type:"Book",prefix:"Book: "},{type:"Article",prefix:"Article: "},{type:"Video",prefix:"Video Tutorial: "},{type:"Documentation",prefix:"Documentation: "},{type:"Framework",prefix:"Framework: "},{type:"Library",prefix:"Library: "}];return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"resource-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(v,{icon:ee})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(v,{icon:Mt,className:"title-icon"}),"Add Resource"]}),r.jsxs("div",{className:"resource-types",children:[r.jsx("label",{children:"Resource Type:"}),r.jsx("div",{className:"resource-type-buttons",children:u.map((m,h)=>r.jsx("button",{type:"button",className:"resource-type-btn",onClick:()=>o(m.prefix),children:m.type},h))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"resourceTitle",children:"Resource Title"}),r.jsx("input",{type:"text",id:"resourceTitle",className:"form-control",value:n,onChange:m=>o(m.target.value),placeholder:"e.g., 'Clean Code by Robert Martin', 'React Documentation'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"resourceDescription",children:"Description"}),r.jsx("textarea",{id:"resourceDescription",className:"form-control",value:a,onChange:m=>i(m.target.value),placeholder:"Describe how this resource was helpful for your project",rows:4})]}),l&&r.jsx("div",{className:"form-error",children:l}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsxs("button",{type:"button",className:"submit-btn",onClick:c,children:[r.jsx(v,{icon:ot})," Add Resource"]})]})]})})}function ls({dataSources:e,setDataSources:t,setPopupWindow:s}){const[n,o]=y.useState(""),[a,i]=y.useState(""),[l,f]=y.useState(""),[c,u]=y.useState(""),[m,h]=y.useState(""),x=()=>{if(!n){h("Please select a data source type");return}if(!a.trim()){h("Please enter a name for the data source");return}const g=[...e];g.push({type:n,name:a.trim(),size:l.trim(),link:c.trim()}),t(g),s(null)},b=["excel","csv","json","sql-server","mysql","mongodb","python","xml"];return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"datasource-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(v,{icon:ee})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(v,{icon:Vt,className:"title-icon"}),"Add Data Source"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"dataSourceType",children:"Data Source Type"}),r.jsx("div",{className:"datasource-types",children:b.map((g,p)=>r.jsxs("div",{className:`datasource-type ${n===g?"selected":""}`,onClick:()=>o(g),children:[r.jsx("div",{className:"datasource-icon",children:r.jsx("img",{src:`/images/datasources/${g}.svg`,alt:g,onError:j=>{j.target.onError=null,j.target.src="/images/datasources/default.svg"}})}),r.jsx("span",{children:g})]},p))})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceName",children:[r.jsx(v,{icon:zt,className:"field-icon"}),"Data Source Name"]}),r.jsx("input",{type:"text",id:"dataSourceName",className:"form-control",value:a,onChange:g=>i(g.target.value),placeholder:"e.g., 'Customer Records', 'Transaction Data'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceSize",children:[r.jsx(v,{icon:Jt,className:"field-icon"}),"Size/Records (optional)"]}),r.jsx("input",{type:"text",id:"dataSourceSize",className:"form-control",value:l,onChange:g=>f(g.target.value),placeholder:"e.g., '2.5 GB', '10,000 records'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceLink",children:[r.jsx(v,{icon:Gt,className:"field-icon"}),"Source Link (optional)"]}),r.jsx("input",{type:"text",id:"dataSourceLink",className:"form-control",value:c,onChange:g=>u(g.target.value),placeholder:"URL to the data source if publicly available"})]}),m&&r.jsx("div",{className:"form-error",children:m}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:x,disabled:!n||!a,children:"Add Data Source"})]})]})})}const cs=({tags:e,setTags:t,label:s})=>{const[n,o]=y.useState(""),[a,i]=y.useState(!1),l=y.useRef(null),f=x=>{o(x.target.value)},c=x=>{x.key==="Enter"||x.key===","?(x.preventDefault(),u()):x.key==="Backspace"&&n===""&&e.length>0&&m(e.length-1)},u=()=>{const x=n.trim();x&&!e.includes(x)&&(t([...e,x]),o(""))},m=x=>{t(e.filter((b,g)=>g!==x))},h=()=>{l.current.focus()};return r.jsxs("div",{className:`tag-input-container ${a?"focused":""}`,onClick:h,children:[r.jsx("div",{className:"tag-input-icon",children:r.jsx(v,{icon:Kt})}),r.jsx("div",{className:"tag-input-wrapper",children:r.jsxs("div",{className:"tag-input-field",children:[e.map((x,b)=>r.jsxs("div",{className:"tag",children:[r.jsx("span",{className:"tag-text",children:x}),r.jsx("span",{className:"tag-close",onClick:g=>{g.stopPropagation(),m(b)},children:r.jsx(v,{icon:Wt})})]},b)),r.jsx("input",{ref:l,type:"text",value:n,onChange:f,onKeyDown:c,onFocus:()=>i(!0),onBlur:()=>{i(!1),n&&u()},className:"tag-input",placeholder:e.length>0?"":"Type and press Enter to add tags"})]})}),r.jsx("div",{className:"tag-input-helper",children:"Press Enter or comma to add"})]})},O=[];for(let e=0;e<256;++e)O.push((e+256).toString(16).slice(1));function us(e,t=0){return(O[e[t+0]]+O[e[t+1]]+O[e[t+2]]+O[e[t+3]]+"-"+O[e[t+4]]+O[e[t+5]]+"-"+O[e[t+6]]+O[e[t+7]]+"-"+O[e[t+8]]+O[e[t+9]]+"-"+O[e[t+10]]+O[e[t+11]]+O[e[t+12]]+O[e[t+13]]+O[e[t+14]]+O[e[t+15]]).toLowerCase()}let Ce;const ds=new Uint8Array(16);function ms(){if(!Ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ce=crypto.getRandomValues.bind(crypto)}return Ce(ds)}const fs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ze={randomUUID:fs};function ps(e,t,s){var o;if(ze.randomUUID&&!e)return ze.randomUUID();e=e||{};const n=e.random??((o=e.rng)==null?void 0:o.call(e))??ms();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,us(n)}const de=({type:e="text",name:t,className:s="form__input",placeholder:n="",required:o=!0,value:a,onChange:i,label:l})=>r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:e,name:t,className:s,placeholder:n,required:o,value:a,onChange:i,id:t}),r.jsx("label",{className:"form__label",htmlFor:t,children:l})]}),hs=({name:e})=>r.jsx("input",{type:"file",name:e}),gs=({name:e})=>r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"checkbox",name:e}),r.jsx("label",{className:"form__label",children:"Highlighted"})]}),re=({items:e,setItems:t,title:s,setPopupWindow:n,formComponent:o})=>{const a=(i,l)=>{i.preventDefault();let f=[...e];f.splice(l,1),t(f)};return r.jsxs("div",{className:"group-container",children:[r.jsxs("div",{className:"input-container",children:[r.jsx("h2",{className:"title",children:s}),r.jsx("input",{type:"button",className:"add-code-sample",value:`Add ${s}`,onClick:()=>{n(o)}})]}),e.length>0&&r.jsx("div",{className:"code-samples h-list",children:e.map((i,l)=>r.jsxs("li",{className:"tab tabSelected",children:[r.jsx("button",{className:"btn title",children:i.title}),r.jsx("button",{className:"btn closeTab",onClick:f=>a(f,l),children:"✕"})]},l))})]})};function bs(){const[e,t]=y.useState(null),[s,n]=y.useState([]),[o,a]=y.useState([]),[i,l]=y.useState([]),[f,c]=y.useState([]),[u,m]=y.useState([]),[h,x]=y.useState([]),[b,g]=y.useState("Submit"),[p,j]=y.useState(!1),[w,N]=y.useState(""),[F,A]=y.useState(!1),C={owner:"bellaabdelouahab",repo:"portfolio",branch:"master",baseImagePath:"public/images/projects/",token:localStorage.getItem("githubToken")||""},M=_=>new Promise((E,P)=>{const R=new FileReader;R.readAsDataURL(_),R.onload=()=>{const $=R.result.split(",")[1];E($)},R.onerror=$=>P($)}),K=async(_,E,P)=>{if(!_||!C.token)throw new Error("Missing file or GitHub token");try{const R=await M(_);let $=null;try{const L=await fetch(`https://api.github.com/repos/${C.owner}/${C.repo}/contents/${E}?ref=${C.branch}`,{headers:{Authorization:`token ${C.token}`,Accept:"application/vnd.github.v3+json"}});L.status===200&&($=(await L.json()).sha)}catch{console.log(`File does not exist yet: ${E}`)}const V={message:P,content:R,branch:C.branch};$&&(V.sha=$);const z=await fetch(`https://api.github.com/repos/${C.owner}/${C.repo}/contents/${E}`,{method:"PUT",headers:{Authorization:`token ${C.token}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify(V)}),J=await z.json();if(z.status===200||z.status===201)return J;throw new Error(`GitHub API Error: ${J.message}`)}catch(R){throw console.error("Error committing to GitHub:",R),R}},ue=async(_,E,P,R,$)=>{A(!0),N("Starting to commit images to GitHub...");try{const V=C.baseImagePath+$,z=`${V}/carousel`,J=[];if(_){const L=Date.now(),G=`${V}/${E}`;N(`Committing main image: ${E}`);const W=K(_,G,`Add project main image: ${E}`);J.push(W)}for(let L=0;L<P.length;L++){const G=P[L];if(G.img&&G.img[0]){const W=R[L],D=`${z}/${W}`;N(`Committing carousel image ${L+1}/${P.length}: ${W}`);const q=K(G.img[0],D,`Add project carousel image: ${W}`);J.push(q)}}return await Promise.all(J),N("All images successfully committed to GitHub!"),setTimeout(()=>{N(""),A(!1)},3e3),!0}catch(V){return console.error("Error committing images to GitHub:",V),N(`Error committing images: ${V.message}`),A(!1),!1}},Pt=async _=>{if(_.preventDefault(),!p){j(!0),g("Submitting...");try{const E=new FormData(_.target),P=E.get("image");if(P&&P.type!=="image/webp"){alert("Only .webp images are accepted for the main image."),g("Submit"),j(!1);return}if(!C.token){const D=prompt("Please enter your GitHub token to commit images:");if(!D){alert("GitHub token is required to commit images."),g("Submit"),j(!1);return}localStorage.setItem("githubToken",D),C.token=D}const R=ps().replace(/-/g,"").substring(0,24),V=`${`public/images/projects/${R}`}/carousel`,z={_id:R,title:E.get("title"),description:E.get("description"),githubLink:E.get("githubLink"),startDate:E.get("startDate")?new Date(E.get("startDate")).toISOString():null,endDate:E.get("endDate")?new Date(E.get("endDate")).toISOString():null,durration:E.get("endDate")?"completed":"ongoing",highlighted:E.get("highlighted")==="on"?"star":"basic",tags:h,showInOverview:!1,codeSamples:s,dataSources:u,tools:{techs:i.map((D,q)=>({_id:`${R}${q}t`,title:D.title,description:D.description})),resources:f.map((D,q)=>({_id:`${R}${q}r`,title:D.title,description:D.description}))},carouselImages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),__v:0},J=Date.now();let L=null;P&&(L=`${J}.webp`,z.image=`/images/projects/${R}/${L}`);let G=[];for(let D=0;D<o.length;D++){const q=o[D];if(q.img&&q.img[0]){if(q.img[0].type!=="image/webp"){alert(`Only .webp images are accepted for carousel image ${D+1}.`),g("Submit"),j(!1);return}const He=`${J}-${D}.webp`;G.push(He),z.carouselImages.push({_id:`${R}${D}c`,img:`/images/projects/${R}/carousel/${He}`,title:q.title})}}g("Saving to Firebase...");const W=De(X,"projects",R);await kt(W,z),g("Committing images..."),await ue(P,L,o,G,R),g("Successfully Submitted!"),setTimeout(()=>{_.target.reset(),n([]),a([]),l([]),c([]),m([]),x([]),g("Submit"),j(!1)},3e3)}catch(E){console.error("Error submitting project:",E),g("Error: Please try again"),j(!1)}}};y.useEffect(()=>{const _=()=>{g("Submit")},E=document.querySelectorAll("input, textarea");return E.forEach(P=>{P.addEventListener("input",_)}),()=>{E.forEach(P=>{P.removeEventListener("input",_)})}},[]);const ne=[r.jsx(os,{codeSamples:s,setCodeSamples:n,setPopupWindow:t}),r.jsx(rs,{carouselSamples:o,setCarouselSamples:a,setPopupWindow:t}),r.jsx(as,{techs:i,setTechs:l,setPopupWindow:t}),r.jsx(is,{resources:f,setResources:c,setPopupWindow:t}),r.jsx(ls,{dataSources:u,setDataSources:m,setPopupWindow:t})];return r.jsxs("form",{onSubmit:Pt,className:"filldb-form project-form",children:[r.jsx("h1",{className:"project-form__title",children:"Create New Project"}),r.jsx("br",{}),r.jsxs("div",{className:"input-container",children:[r.jsx(de,{name:"title",label:"Title"}),r.jsx(de,{name:"githubLink",label:"Github Link"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx(de,{type:"date",name:"startDate",label:"Start Date"}),r.jsx(de,{type:"date",name:"endDate",required:!1,label:"End Date"})]}),r.jsx("textarea",{className:"description",type:"text",name:"description",required:!0,placeholder:"Write a Brief Description of the Project"}),r.jsx(hs,{name:"image"}),r.jsx("br",{}),r.jsx(re,{items:s,setItems:n,title:"Code Samples",formComponent:ne[0],setPopupWindow:t}),r.jsx(re,{items:o,setItems:a,title:"Carousels",formComponent:ne[1],setPopupWindow:t}),r.jsx(re,{items:i,setItems:l,title:"Technologies",formComponent:ne[2],setPopupWindow:t}),r.jsx(re,{items:f,setItems:c,title:"Resources",formComponent:ne[3],setPopupWindow:t}),r.jsx(re,{items:u,setItems:m,title:"Data Sources",formComponent:ne[4],setPopupWindow:t}),e,r.jsx("br",{}),r.jsx("br",{}),r.jsx(gs,{name:"highlighted"}),r.jsx(cs,{tags:h,setTags:x}),r.jsx("input",{type:"submit",value:b,disabled:p||F,className:p||F?"submitting":""}),(F||w)&&r.jsxs("div",{className:`commit-status ${w.includes("Error")?"error":w.includes("success")?"success":"info"}`,children:[w,F&&r.jsx("div",{className:"spinner"})]})]})}function it(e,t){return function(){return e.apply(t,arguments)}}const{toString:xs}=Object.prototype,{getPrototypeOf:Be}=Object,ye=(e=>t=>{const s=xs.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),B=e=>(e=e.toLowerCase(),t=>ye(t)===e),je=e=>t=>typeof t===e,{isArray:te}=Array,ie=je("undefined");function ys(e){return e!==null&&!ie(e)&&e.constructor!==null&&!ie(e.constructor)&&U(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lt=B("ArrayBuffer");function js(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lt(e.buffer),t}const Ss=je("string"),U=je("function"),ct=je("number"),Se=e=>e!==null&&typeof e=="object",ws=e=>e===!0||e===!1,fe=e=>{if(ye(e)!=="object")return!1;const t=Be(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ns=B("Date"),Es=B("File"),vs=B("Blob"),Cs=B("FileList"),Rs=e=>Se(e)&&U(e.pipe),Ts=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||U(e.append)&&((t=ye(e))==="formdata"||t==="object"&&U(e.toString)&&e.toString()==="[object FormData]"))},As=B("URLSearchParams"),[Ds,Os,Ps,ks]=["ReadableStream","Request","Response","Headers"].map(B),Fs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function le(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),te(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function ut(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const Q=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dt=e=>!ie(e)&&e!==Q;function ke(){const{caseless:e}=dt(this)&&this||{},t={},s=(n,o)=>{const a=e&&ut(t,o)||o;fe(t[a])&&fe(n)?t[a]=ke(t[a],n):fe(n)?t[a]=ke({},n):te(n)?t[a]=n.slice():t[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&le(arguments[n],s);return t}const _s=(e,t,s,{allOwnKeys:n}={})=>(le(t,(o,a)=>{s&&U(o)?e[a]=it(o,s):e[a]=o},{allOwnKeys:n}),e),Ls=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Is=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Us=(e,t,s,n)=>{let o,a,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&Be(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Bs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},$s=e=>{if(!e)return null;if(te(e))return e;let t=e.length;if(!ct(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},qs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Be(Uint8Array)),Hs=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},Ms=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Vs=B("HTMLFormElement"),zs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Je=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Js=B("RegExp"),mt=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};le(s,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(n[a]=i||o)}),Object.defineProperties(e,n)},Gs=e=>{mt(e,(t,s)=>{if(U(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(U(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ks=(e,t)=>{const s={},n=o=>{o.forEach(a=>{s[a]=!0})};return te(e)?n(e):n(String(e).split(t)),s},Ws=()=>{},Xs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Qs(e){return!!(e&&U(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Zs=e=>{const t=new Array(10),s=(n,o)=>{if(Se(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const a=te(n)?[]:{};return le(n,(i,l)=>{const f=s(i,o+1);!ie(f)&&(a[l]=f)}),t[o]=void 0,a}}return n};return s(e,0)},Ys=B("AsyncFunction"),en=e=>e&&(Se(e)||U(e))&&U(e.then)&&U(e.catch),ft=((e,t)=>e?setImmediate:t?((s,n)=>(Q.addEventListener("message",({source:o,data:a})=>{o===Q&&a===s&&n.length&&n.shift()()},!1),o=>{n.push(o),Q.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",U(Q.postMessage)),tn=typeof queueMicrotask<"u"?queueMicrotask.bind(Q):typeof process<"u"&&process.nextTick||ft,d={isArray:te,isArrayBuffer:lt,isBuffer:ys,isFormData:Ts,isArrayBufferView:js,isString:Ss,isNumber:ct,isBoolean:ws,isObject:Se,isPlainObject:fe,isReadableStream:Ds,isRequest:Os,isResponse:Ps,isHeaders:ks,isUndefined:ie,isDate:Ns,isFile:Es,isBlob:vs,isRegExp:Js,isFunction:U,isStream:Rs,isURLSearchParams:As,isTypedArray:qs,isFileList:Cs,forEach:le,merge:ke,extend:_s,trim:Fs,stripBOM:Ls,inherits:Is,toFlatObject:Us,kindOf:ye,kindOfTest:B,endsWith:Bs,toArray:$s,forEachEntry:Hs,matchAll:Ms,isHTMLForm:Vs,hasOwnProperty:Je,hasOwnProp:Je,reduceDescriptors:mt,freezeMethods:Gs,toObjectSet:Ks,toCamelCase:zs,noop:Ws,toFiniteNumber:Xs,findKey:ut,global:Q,isContextDefined:dt,isSpecCompliantForm:Qs,toJSONObject:Zs,isAsyncFn:Ys,isThenable:en,setImmediate:ft,asap:tn};function S(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}d.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const pt=S.prototype,ht={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ht[e]={value:e}});Object.defineProperties(S,ht);Object.defineProperty(pt,"isAxiosError",{value:!0});S.from=(e,t,s,n,o,a)=>{const i=Object.create(pt);return d.toFlatObject(e,i,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),S.call(i,e.message,t,s,n,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const sn=null;function Fe(e){return d.isPlainObject(e)||d.isArray(e)}function gt(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function Ge(e,t,s){return e?e.concat(t).map(function(o,a){return o=gt(o),!s&&a?"["+o+"]":o}).join(s?".":""):t}function nn(e){return d.isArray(e)&&!e.some(Fe)}const rn=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function we(e,t,s){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=d.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!d.isUndefined(p[g])});const n=s.metaTokens,o=s.visitor||u,a=s.dots,i=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(o))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(d.isDate(b))return b.toISOString();if(!f&&d.isBlob(b))throw new S("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(b)||d.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,g,p){let j=b;if(b&&!p&&typeof b=="object"){if(d.endsWith(g,"{}"))g=n?g:g.slice(0,-2),b=JSON.stringify(b);else if(d.isArray(b)&&nn(b)||(d.isFileList(b)||d.endsWith(g,"[]"))&&(j=d.toArray(b)))return g=gt(g),j.forEach(function(N,F){!(d.isUndefined(N)||N===null)&&t.append(i===!0?Ge([g],F,a):i===null?g:g+"[]",c(N))}),!1}return Fe(b)?!0:(t.append(Ge(p,g,a),c(b)),!1)}const m=[],h=Object.assign(rn,{defaultVisitor:u,convertValue:c,isVisitable:Fe});function x(b,g){if(!d.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(b),d.forEach(b,function(j,w){(!(d.isUndefined(j)||j===null)&&o.call(t,j,d.isString(w)?w.trim():w,g,h))===!0&&x(j,g?g.concat(w):[w])}),m.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Ke(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $e(e,t){this._pairs=[],e&&we(e,this,t)}const bt=$e.prototype;bt.append=function(t,s){this._pairs.push([t,s])};bt.toString=function(t){const s=t?function(n){return t.call(this,n,Ke)}:Ke;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function on(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xt(e,t,s){if(!t)return e;const n=s&&s.encode||on;d.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let a;if(o?a=o(t,s):a=d.isURLSearchParams(t)?t.toString():new $e(t,s).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class We{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},an=typeof URLSearchParams<"u"?URLSearchParams:$e,ln=typeof FormData<"u"?FormData:null,cn=typeof Blob<"u"?Blob:null,un={isBrowser:!0,classes:{URLSearchParams:an,FormData:ln,Blob:cn},protocols:["http","https","file","blob","url","data"]},qe=typeof window<"u"&&typeof document<"u",_e=typeof navigator=="object"&&navigator||void 0,dn=qe&&(!_e||["ReactNative","NativeScript","NS"].indexOf(_e.product)<0),mn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fn=qe&&window.location.href||"http://localhost",pn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qe,hasStandardBrowserEnv:dn,hasStandardBrowserWebWorkerEnv:mn,navigator:_e,origin:fn},Symbol.toStringTag,{value:"Module"})),k={...pn,...un};function hn(e,t){return we(e,new k.classes.URLSearchParams,Object.assign({visitor:function(s,n,o,a){return k.isNode&&d.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function gn(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bn(e){const t={},s=Object.keys(e);let n;const o=s.length;let a;for(n=0;n<o;n++)a=s[n],t[a]=e[a];return t}function jt(e){function t(s,n,o,a){let i=s[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),f=a>=s.length;return i=!i&&d.isArray(o)?o.length:i,f?(d.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!l):((!o[i]||!d.isObject(o[i]))&&(o[i]=[]),t(s,n,o[i],a)&&d.isArray(o[i])&&(o[i]=bn(o[i])),!l)}if(d.isFormData(e)&&d.isFunction(e.entries)){const s={};return d.forEachEntry(e,(n,o)=>{t(gn(n),o,s,0)}),s}return null}function xn(e,t,s){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const ce={transitional:yt,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,a=d.isObject(t);if(a&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return o?JSON.stringify(jt(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hn(t,this.formSerializer).toString();if((l=d.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return we(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||o?(s.setContentType("application/json",!1),xn(t)):t}],transformResponse:[function(t){const s=this.transitional||ce.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(n&&!this.responseType||o)){const i=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:k.classes.FormData,Blob:k.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{ce.headers[e]={}});const yn=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jn=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),s=i.substring(0,o).trim().toLowerCase(),n=i.substring(o+1).trim(),!(!s||t[s]&&yn[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Xe=Symbol("internals");function oe(e){return e&&String(e).trim().toLowerCase()}function pe(e){return e===!1||e==null?e:d.isArray(e)?e.map(pe):String(e)}function Sn(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const wn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Re(e,t,s,n,o){if(d.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!d.isString(t)){if(d.isString(n))return t.indexOf(n)!==-1;if(d.isRegExp(n))return n.test(t)}}function Nn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function En(e,t){const s=d.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,a,i){return this[n].call(this,t,o,a,i)},configurable:!0})})}let I=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function a(l,f,c){const u=oe(f);if(!u)throw new Error("header name must be a non-empty string");const m=d.findKey(o,u);(!m||o[m]===void 0||c===!0||c===void 0&&o[m]!==!1)&&(o[m||f]=pe(l))}const i=(l,f)=>d.forEach(l,(c,u)=>a(c,u,f));if(d.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(d.isString(t)&&(t=t.trim())&&!wn(t))i(jn(t),s);else if(d.isHeaders(t))for(const[l,f]of t.entries())a(f,l,n);else t!=null&&a(s,t,n);return this}get(t,s){if(t=oe(t),t){const n=d.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return Sn(o);if(d.isFunction(s))return s.call(this,o,n);if(d.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=oe(t),t){const n=d.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Re(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function a(i){if(i=oe(i),i){const l=d.findKey(n,i);l&&(!s||Re(n,n[l],l,s))&&(delete n[l],o=!0)}}return d.isArray(t)?t.forEach(a):a(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const a=s[n];(!t||Re(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const s=this,n={};return d.forEach(this,(o,a)=>{const i=d.findKey(n,a);if(i){s[i]=pe(o),delete s[a];return}const l=t?Nn(a):String(a).trim();l!==a&&delete s[a],s[l]=pe(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return d.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&d.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Xe]=this[Xe]={accessors:{}}).accessors,o=this.prototype;function a(i){const l=oe(i);n[l]||(En(o,i),n[l]=!0)}return d.isArray(t)?t.forEach(a):a(t),this}};I.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(I.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});d.freezeMethods(I);function Te(e,t){const s=this||ce,n=t||s,o=I.from(n.headers);let a=n.data;return d.forEach(e,function(l){a=l.call(s,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function St(e){return!!(e&&e.__CANCEL__)}function se(e,t,s){S.call(this,e??"canceled",S.ERR_CANCELED,t,s),this.name="CanceledError"}d.inherits(se,S,{__CANCEL__:!0});function wt(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new S("Request failed with status code "+s.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function vn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Cn(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(f){const c=Date.now(),u=n[a];i||(i=c),s[o]=f,n[o]=c;let m=a,h=0;for(;m!==o;)h+=s[m++],m=m%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const x=u&&c-u;return x?Math.round(h*1e3/x):void 0}}function Rn(e,t){let s=0,n=1e3/t,o,a;const i=(c,u=Date.now())=>{s=u,o=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),m=u-s;m>=n?i(c,u):(o=c,a||(a=setTimeout(()=>{a=null,i(o)},n-m)))},()=>o&&i(o)]}const be=(e,t,s=3)=>{let n=0;const o=Cn(50,250);return Rn(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,f=i-n,c=o(f),u=i<=l;n=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:f,rate:c||void 0,estimated:c&&l&&u?(l-i)/c:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Qe=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Ze=e=>(...t)=>d.asap(()=>e(...t)),Tn=k.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,k.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(k.origin),k.navigator&&/(msie|trident)/i.test(k.navigator.userAgent)):()=>!0,An=k.hasStandardBrowserEnv?{write(e,t,s,n,o,a){const i=[e+"="+encodeURIComponent(t)];d.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),d.isString(n)&&i.push("path="+n),d.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function On(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Nt(e,t,s){let n=!Dn(t);return e&&n||s==!1?On(e,t):t}const Ye=e=>e instanceof I?{...e}:e;function Y(e,t){t=t||{};const s={};function n(c,u,m,h){return d.isPlainObject(c)&&d.isPlainObject(u)?d.merge.call({caseless:h},c,u):d.isPlainObject(u)?d.merge({},u):d.isArray(u)?u.slice():u}function o(c,u,m,h){if(d.isUndefined(u)){if(!d.isUndefined(c))return n(void 0,c,m,h)}else return n(c,u,m,h)}function a(c,u){if(!d.isUndefined(u))return n(void 0,u)}function i(c,u){if(d.isUndefined(u)){if(!d.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,m){if(m in t)return n(c,u);if(m in e)return n(void 0,c)}const f={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,u,m)=>o(Ye(c),Ye(u),m,!0)};return d.forEach(Object.keys(Object.assign({},e,t)),function(u){const m=f[u]||o,h=m(e[u],t[u],u);d.isUndefined(h)&&m!==l||(s[u]=h)}),s}const Et=e=>{const t=Y({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;t.headers=i=I.from(i),t.url=xt(Nt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(d.isFormData(s)){if(k.hasStandardBrowserEnv||k.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((f=i.getContentType())!==!1){const[c,...u]=f?f.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...u].join("; "))}}if(k.hasStandardBrowserEnv&&(n&&d.isFunction(n)&&(n=n(t)),n||n!==!1&&Tn(t.url))){const c=o&&a&&An.read(a);c&&i.set(o,c)}return t},Pn=typeof XMLHttpRequest<"u",kn=Pn&&function(e){return new Promise(function(s,n){const o=Et(e);let a=o.data;const i=I.from(o.headers).normalize();let{responseType:l,onUploadProgress:f,onDownloadProgress:c}=o,u,m,h,x,b;function g(){x&&x(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function j(){if(!p)return;const N=I.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:N,config:e,request:p};wt(function(M){s(M),g()},function(M){n(M),g()},A),p=null}"onloadend"in p?p.onloadend=j:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(j)},p.onabort=function(){p&&(n(new S("Request aborted",S.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new S("Network Error",S.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let F=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const A=o.transitional||yt;o.timeoutErrorMessage&&(F=o.timeoutErrorMessage),n(new S(F,A.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,p)),p=null},a===void 0&&i.setContentType(null),"setRequestHeader"in p&&d.forEach(i.toJSON(),function(F,A){p.setRequestHeader(A,F)}),d.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),l&&l!=="json"&&(p.responseType=o.responseType),c&&([h,b]=be(c,!0),p.addEventListener("progress",h)),f&&p.upload&&([m,x]=be(f),p.upload.addEventListener("progress",m),p.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(u=N=>{p&&(n(!N||N.type?new se(null,e,p):N),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const w=vn(o.url);if(w&&k.protocols.indexOf(w)===-1){n(new S("Unsupported protocol "+w+":",S.ERR_BAD_REQUEST,e));return}p.send(a||null)})},Fn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const a=function(c){if(!o){o=!0,l();const u=c instanceof Error?c:this.reason;n.abort(u instanceof S?u:new se(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:f}=n;return f.unsubscribe=()=>d.asap(l),f}},_n=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},Ln=async function*(e,t){for await(const s of In(e))yield*_n(s,t)},In=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},et=(e,t,s,n)=>{const o=Ln(e,t);let a=0,i,l=f=>{i||(i=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:c,value:u}=await o.next();if(c){l(),f.close();return}let m=u.byteLength;if(s){let h=a+=m;s(h)}f.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(f){return l(f),o.return()}},{highWaterMark:2})},Ne=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vt=Ne&&typeof ReadableStream=="function",Un=Ne&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ct=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Bn=vt&&Ct(()=>{let e=!1;const t=new Request(k.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),tt=64*1024,Le=vt&&Ct(()=>d.isReadableStream(new Response("").body)),xe={stream:Le&&(e=>e.body)};Ne&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xe[t]&&(xe[t]=d.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new S(`Response type '${t}' is not supported`,S.ERR_NOT_SUPPORT,n)})})})(new Response);const $n=async e=>{if(e==null)return 0;if(d.isBlob(e))return e.size;if(d.isSpecCompliantForm(e))return(await new Request(k.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(d.isArrayBufferView(e)||d.isArrayBuffer(e))return e.byteLength;if(d.isURLSearchParams(e)&&(e=e+""),d.isString(e))return(await Un(e)).byteLength},qn=async(e,t)=>{const s=d.toFiniteNumber(e.getContentLength());return s??$n(t)},Hn=Ne&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:f,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:h}=Et(e);c=c?(c+"").toLowerCase():"text";let x=Fn([o,a&&a.toAbortSignal()],i),b;const g=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let p;try{if(f&&Bn&&s!=="get"&&s!=="head"&&(p=await qn(u,n))!==0){let A=new Request(t,{method:"POST",body:n,duplex:"half"}),C;if(d.isFormData(n)&&(C=A.headers.get("content-type"))&&u.setContentType(C),A.body){const[M,K]=Qe(p,be(Ze(f)));n=et(A.body,tt,M,K)}}d.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;b=new Request(t,{...h,signal:x,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:j?m:void 0});let w=await fetch(b);const N=Le&&(c==="stream"||c==="response");if(Le&&(l||N&&g)){const A={};["status","statusText","headers"].forEach(ue=>{A[ue]=w[ue]});const C=d.toFiniteNumber(w.headers.get("content-length")),[M,K]=l&&Qe(C,be(Ze(l),!0))||[];w=new Response(et(w.body,tt,M,()=>{K&&K(),g&&g()}),A)}c=c||"text";let F=await xe[d.findKey(xe,c)||"text"](w,e);return!N&&g&&g(),await new Promise((A,C)=>{wt(A,C,{data:F,headers:I.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:b})})}catch(j){throw g&&g(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,e,b),{cause:j.cause||j}):S.from(j,j&&j.code,e,b)}}),Ie={http:sn,xhr:kn,fetch:Hn};d.forEach(Ie,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const st=e=>`- ${e}`,Mn=e=>d.isFunction(e)||e===null||e===!1,Rt={getAdapter:e=>{e=d.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let a=0;a<t;a++){s=e[a];let i;if(n=s,!Mn(s)&&(n=Ie[(i=String(s)).toLowerCase()],n===void 0))throw new S(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+a]=n}if(!n){const a=Object.entries(o).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(st).join(`
`):" "+st(a[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Ie};function Ae(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new se(null,e)}function nt(e){return Ae(e),e.headers=I.from(e.headers),e.data=Te.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rt.getAdapter(e.adapter||ce.adapter)(e).then(function(n){return Ae(e),n.data=Te.call(e,e.transformResponse,n),n.headers=I.from(n.headers),n},function(n){return St(n)||(Ae(e),n&&n.response&&(n.response.data=Te.call(e,e.transformResponse,n.response),n.response.headers=I.from(n.response.headers))),Promise.reject(n)})}const Tt="1.8.2",Ee={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ee[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const rt={};Ee.transitional=function(t,s,n){function o(a,i){return"[Axios v"+Tt+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,l)=>{if(t===!1)throw new S(o(i," has been removed"+(s?" in "+s:"")),S.ERR_DEPRECATED);return s&&!rt[i]&&(rt[i]=!0,console.warn(o(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,i,l):!0}};Ee.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Vn(e,t,s){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const l=e[a],f=l===void 0||i(l,a,e);if(f!==!0)throw new S("option "+a+" must be "+f,S.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new S("Unknown option "+a,S.ERR_BAD_OPTION)}}const he={assertOptions:Vn,validators:Ee},H=he.validators;let Z=class{constructor(t){this.defaults=t,this.interceptors={request:new We,response:new We}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Y(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:a}=s;n!==void 0&&he.assertOptions(n,{silentJSONParsing:H.transitional(H.boolean),forcedJSONParsing:H.transitional(H.boolean),clarifyTimeoutError:H.transitional(H.boolean)},!1),o!=null&&(d.isFunction(o)?s.paramsSerializer={serialize:o}:he.assertOptions(o,{encode:H.function,serialize:H.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),he.assertOptions(s,{baseUrl:H.spelling("baseURL"),withXsrfToken:H.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=a&&d.merge(a.common,a[s.method]);a&&d.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),s.headers=I.concat(i,a);const l=[];let f=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(f=f&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,m=0,h;if(!f){const b=[nt.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,c),h=b.length,u=Promise.resolve(s);m<h;)u=u.then(b[m++],b[m++]);return u}h=l.length;let x=s;for(m=0;m<h;){const b=l[m++],g=l[m++];try{x=b(x)}catch(p){g.call(this,p);break}}try{u=nt.call(this,x)}catch(b){return Promise.reject(b)}for(m=0,h=c.length;m<h;)u=u.then(c[m++],c[m++]);return u}getUri(t){t=Y(this.defaults,t);const s=Nt(t.baseURL,t.url,t.allowAbsoluteUrls);return xt(s,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){Z.prototype[t]=function(s,n){return this.request(Y(n||{},{method:t,url:s,data:(n||{}).data}))}});d.forEach(["post","put","patch"],function(t){function s(n){return function(a,i,l){return this.request(Y(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Z.prototype[t]=s(),Z.prototype[t+"Form"]=s(!0)});let zn=class At{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(l=>{n.subscribe(l),a=l}).then(o);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,l){n.reason||(n.reason=new se(a,i,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new At(function(o){t=o}),cancel:t}}};function Jn(e){return function(s){return e.apply(null,s)}}function Gn(e){return d.isObject(e)&&e.isAxiosError===!0}const Ue={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ue).forEach(([e,t])=>{Ue[t]=e});function Dt(e){const t=new Z(e),s=it(Z.prototype.request,t);return d.extend(s,Z.prototype,t,{allOwnKeys:!0}),d.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return Dt(Y(e,o))},s}const T=Dt(ce);T.Axios=Z;T.CanceledError=se;T.CancelToken=zn;T.isCancel=St;T.VERSION=Tt;T.toFormData=we;T.AxiosError=S;T.Cancel=T.CanceledError;T.all=function(t){return Promise.all(t)};T.spread=Jn;T.isAxiosError=Gn;T.mergeConfig=Y;T.AxiosHeaders=I;T.formToJSON=e=>jt(d.isHTMLForm(e)?new FormData(e):e);T.getAdapter=Rt.getAdapter;T.HttpStatusCode=Ue;T.default=T;const{Axios:lr,AxiosError:cr,CanceledError:ur,isCancel:dr,CancelToken:mr,VERSION:fr,all:pr,Cancel:hr,isAxiosError:gr,spread:br,toFormData:xr,AxiosHeaders:yr,HttpStatusCode:jr,formToJSON:Sr,getAdapter:wr,mergeConfig:Nr}=T;var Kn={};const Ot=Kn.BACKEND_API;console.log("API",Ot);const ve=T.create({baseURL:Ot,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("jwt")}`}});ve.interceptors.response.use(e=>e.data,e=>Promise.reject(e.response&&e.response.data||"Something went wrong"));function Wn(){return r.jsxs("form",{className:"report-form filldb-form",onSubmit:e=>{e.preventDefault();var t={};t.title=e.target.title.value,t.description=e.target.description.value;const n=e.target.reportFile.files[0],o=new FileReader;o.addEventListener("load",()=>{t.reportFile=o.result,console.log(t),ve.post("/reports",t).then(a=>{console.log(a)}).catch(a=>{console.log(a)})}),o.readAsDataURL(n)},children:[r.jsx("h1",{className:"project-form__title",children:"Add Report"}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"title_report",children:"Title of Report"})]}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"description",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"Description_report",children:"Description"})]}),r.jsx("br",{}),r.jsx("input",{type:"file",name:"reportFile",placeholder:"image"}),r.jsx("input",{type:"submit",value:"Submit"})]})}function Xn({setAuthenticated:e}){const[t,s]=y.useState(!1),[n,o]=y.useState(null),[a,i]=y.useState(!1),l="abdobella977@gmail.com";y.useEffect(()=>{o(null),i(!1)},[]),y.useEffect(()=>{if(n&&!a){const c=setTimeout(()=>{o(null)},5e3);return()=>clearTimeout(c)}},[n,a]);const f=async()=>{s(!0),o(null),i(!1);const c=Oe(),u=new Me;try{const m=await Ft(c,u),h=m.user,b=Me.credentialFromResult(m).accessToken;if(console.log("User email:",h.email),console.log("Authorized email:",l),h.email!==l){console.log("Unauthorized access attempt"),await Pe(c),i(!0),o("You are not my owner! Get the hell out of here!"),localStorage.removeItem("firebaseAuthUser"),e(!1);return}localStorage.setItem("firebaseAuthUser",JSON.stringify({uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL})),e(!0)}catch(m){m.code;const h=m.message;console.error("Login error:",m),o(`Login failed: ${h}`)}finally{s(!1)}};return r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-form",children:[r.jsx("h1",{className:"login-title",children:"Admin Access"}),r.jsx("p",{className:"login-subtitle",children:"Sign in with your GitHub account to access the admin panel"}),r.jsxs("button",{className:"github-login-btn",onClick:f,disabled:t,children:[r.jsx(v,{icon:Bt,className:"github-icon"}),t?"Connecting...":"Sign in with GitHub"]}),n&&r.jsxs("div",{className:`login-error ${a?"unauthorized":""}`,children:[a&&r.jsx(v,{icon:Xt,className:"error-icon"}),n]})]})})}function Qn(){const[e,t]=y.useState([]),[s,n]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=ge(X,"projects"),c=(await ae(l)).docs.map(u=>({id:u.id,...u.data()}));t(c),console.log(c)}catch(l){console.error("Error fetching projects:",l)}})()},[]);const o=Math.ceil(e.length/3),a=async()=>{try{const i=ge(X,"projects"),f=(await ae(i)).docs.map(async m=>{const h=De(X,"projects",m.id);await Ve(h,{showInOverview:!1})});await Promise.all(f);const u=s.map(m=>m.id).map(async m=>{const h=De(X,"projects",m);await Ve(h,{showInOverview:!0})});await Promise.all(u),alert("Featured projects updated successfully!")}catch(i){console.error("Error updating featured projects:",i),alert("Failed to update featured projects. See console for details.")}};return r.jsxs("div",{className:"arrange-projects-form filldb-form",children:[r.jsx("div",{className:"highlighted-projects",children:s.length>0&&s.filter((i,l)=>l<3).map(i=>r.jsx("div",{className:"highlighted-project",onClick:()=>{n(s.filter(l=>l!==i))},children:r.jsx("h3",{children:i.title})},i.id||i.title))}),r.jsx("div",{className:"scrollable-grid",children:r.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:e.length>0&&e.map(i=>r.jsx("div",{style:{flex:`1 0 ${100/o}%`},className:"project",onClick:()=>{if(s.includes(i))n(s.filter(l=>l!==i));else{if(s.length===3)return;n([...s,i])}},children:r.jsx("h3",{children:i.title})},i.id||i.title))})}),r.jsx("button",{className:"validate-btn",onClick:()=>a(),children:"Validate"})]})}function Zn(){return r.jsxs("form",{onSubmit:e=>{e.preventDefault();var t={};t.title=e.target.title.value,t.issuer=e.target.issuer.value,t.link=e.target.link.value,t.downloadPath=e.target.downloadPath.value;const n=e.target.roadmapImage.files[0],o=new FileReader;o.addEventListener("load",()=>{t.image=o.result,console.log(t),ve.post("certificates",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(a=>{console.log(a)}).catch(a=>{console.log(a)})}),o.readAsDataURL(n)},className:"certificates-form filldb-form",children:[r.jsx("h1",{className:"project-form__title",children:"Add Certificate"}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"title_certificates",children:"Title"})]}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"issuer",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"issuer_certificates",children:"Issuer"})]}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"link",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"link_certificates",children:"Link"})]}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"downloadPath",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"downloadPath_certificates",children:"Download Path"})]}),r.jsx("br",{}),r.jsx("input",{type:"file",name:"roadmapImage",placeholder:"roadmapImage"}),r.jsx("br",{}),r.jsx("button",{className:"form__button",children:"Add Certificate"})]})}function Yn(){const[e,t]=y.useState(""),[s,n]=y.useState(""),[o,a]=y.useState(""),[i,l]=y.useState(""),f=async c=>{c.preventDefault();try{const u={name:e,description:s,profession:o,company:i},h=c.target.image.files[0],x=new FileReader;x.onloadend=()=>{u.image=x.result;const b=ve.post("clients",u,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}});console.log("Client added successfully:",b.data)},h&&x.readAsDataURL(h)}catch(u){console.error("Error adding client:",u)}};return r.jsxs("form",{onSubmit:f,className:"add-client-form",children:[r.jsxs("div",{className:"client-profession",children:[r.jsx("input",{type:"text",placeholder:"Client Name",value:e,onChange:c=>t(c.target.value)}),r.jsx("textarea",{placeholder:"Client Description",value:s,onChange:c=>n(c.target.value)}),r.jsx("input",{type:"text",placeholder:"Client Profession",value:o,onChange:c=>a(c.target.value)}),r.jsx("input",{type:"text",placeholder:"Company",value:i,onChange:c=>l(c.target.value)}),r.jsx("input",{type:"file",accept:"image/*",className:"client-picture-input",name:"image"})]}),r.jsx("button",{type:"submit",children:"Add Client"})]})}function er(){const[e,t]=y.useState({totalVisitors:0,recentVisitors:[],topPages:[],loading:!0,error:null});return y.useEffect(()=>{(async()=>{try{const n=ge(X,"visitors"),o=await ae(n),a=_t(n,Lt("timestamp","desc"),It(10)),l=(await ae(a)).docs.map(h=>{var x,b;return{id:h.id,...h.data(),timestamp:((b=(x=h.data().timestamp)==null?void 0:x.toDate)==null?void 0:b.call(x))||new Date}}),f=ge(X,"pageViews"),c=await ae(f),u={};c.docs.forEach(h=>{const x=h.data().path;x&&(u[x]=(u[x]||0)+1)});const m=Object.entries(u).map(([h,x])=>({path:h,count:x})).sort((h,x)=>x.count-h.count).slice(0,5);t({totalVisitors:o.size,recentVisitors:l,topPages:m,loading:!1,error:null})}catch(n){console.error("Error fetching visitor stats:",n),t(o=>({...o,loading:!1,error:"Failed to load visitor statistics"}))}})()},[]),e.loading?r.jsx("div",{className:"loading",children:"Loading visitor statistics..."}):e.error?r.jsx("div",{className:"error",children:e.error}):r.jsxs("div",{className:"visitor-stats",children:[r.jsx("h2",{children:"Visitor Statistics"}),r.jsxs("div",{className:"stats-card",children:[r.jsx("h3",{children:"Total Unique Visitors"}),r.jsx("div",{className:"stat-number",children:e.totalVisitors})]}),r.jsxs("div",{className:"stats-section",children:[r.jsx("h3",{children:"Top Pages"}),r.jsx("ul",{className:"top-pages",children:e.topPages.map((s,n)=>r.jsxs("li",{children:[r.jsx("span",{className:"page-path",children:s.path||"/"}),r.jsxs("span",{className:"page-count",children:[s.count," views"]})]},n))})]}),r.jsxs("div",{className:"stats-section",children:[r.jsx("h3",{children:"Recent Visitors"}),r.jsxs("table",{className:"visitors-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"IP Address"}),r.jsx("th",{children:"Browser"}),r.jsx("th",{children:"OS"}),r.jsx("th",{children:"Time"})]})}),r.jsx("tbody",{children:e.recentVisitors.map((s,n)=>r.jsxs("tr",{children:[r.jsx("td",{children:s.ip}),r.jsx("td",{children:s.browser}),r.jsx("td",{children:s.operatingSystem}),r.jsx("td",{children:s.timestamp.toLocaleString()})]},n))})]})]})]})}const me=[{id:0,label:"Project",component:r.jsx(bs,{})},{id:1,label:"Arrange Projects",component:r.jsx(Qn,{})},{id:2,label:"Certificate",component:r.jsx(Zn,{})},{id:4,label:"Report",component:r.jsx(Wn,{})},{id:5,label:"Clients",component:r.jsx(Yn,{})},{id:6,label:"Visitor Stats",component:r.jsx(er,{})}];function Er(){const[e,t]=y.useState(!1),[s,n]=y.useState(me[0].id),[o,a]=y.useState(null),[i,l]=y.useState(!1);y.useEffect(()=>{const c=Oe(),u=Ut(c,m=>{if(m)m.email==="abdobella977@gmail.com"?(a(m),t(!0),localStorage.setItem("firebaseAuthUser",JSON.stringify({uid:m.uid,displayName:m.displayName,email:m.email,photoURL:m.photoURL}))):Pe(c).then(()=>{a(null),t(!1),localStorage.removeItem("firebaseAuthUser")});else{a(null);const h=localStorage.getItem("firebaseAuthUser");if(h){const x=JSON.parse(h);x.email==="abdobella977@gmail.com"?(t(!0),a(x)):(localStorage.removeItem("firebaseAuthUser"),t(!1))}else t(!1)}l(!0)});return()=>u()},[]),y.useEffect(()=>{var c;e&&console.log(`Tab changed to: ${(c=me[s])==null?void 0:c.label}`)},[s,e]);const f=async()=>{const c=Oe();try{await Pe(c),localStorage.removeItem("firebaseAuthUser"),localStorage.removeItem("githubToken"),t(!1),a(null)}catch(u){console.error("Error signing out: ",u)}};return i?r.jsx(r.Fragment,{children:e?r.jsxs("div",{className:"filldb-container",children:[r.jsxs("div",{className:"buttons",children:[o&&r.jsxs("div",{className:"user-profile",children:[r.jsx("img",{src:o.photoURL,alt:o.displayName,className:"user-avatar",onError:c=>{c.target.onerror=null,c.target.src="https://via.placeholder.com/30"}}),r.jsx("span",{className:"user-name",children:o.displayName})]}),me.map(c=>r.jsx("button",{className:`filldb-nav__btn ${s===c.id?"active":""}`,onClick:()=>n(c.id),children:c.label},c.id)),r.jsx("button",{className:"filldb-nav__btn logout-btn",onClick:f,children:"Logout"})]}),r.jsx("div",{className:"tab-content",children:me.map(c=>s===c.id&&c.component)})]}):r.jsx(Xn,{setAuthenticated:t})}):r.jsx("div",{className:"loading-auth",children:"Checking authentication..."})}export{Er as default};
