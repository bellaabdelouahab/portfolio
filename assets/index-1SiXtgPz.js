const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-CqVwr4Fn.js","./index-ChZUlZ7D.js","./index-Chjiymov.js","./index-CH9pj7N8.js","./Root-D3hzenOY.css","./Project-Bdk5RCaT.js","./index-BJtZ6oyW.js","./Project-DoEP67Rf.css","./Certificates-CPdHbtUH.js","./Certificates-DlM67GuP.css","./Resume-BZyUhY3X.js","./Resume-DtU7L1PO.css","./MusicPicks-JwEQ8p7A.js","./MusicPicks-DUXKN7Ks.css","./Articles-CnlhjW8J.js","./Articles-DJ5AvvuJ.css","./Team-BtQZfDDD.js","./Team-DD6ZGrwr.css","./BackOffice-BnNEjR_F.js","./BackOffice-DFDHuiZn.css"])))=>i.map(i=>d[i]);
function TT(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function P_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function tx(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Ad={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function IT(){if(Cg)return Ue;Cg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,L={};function j(k,G,de){this.props=k,this.context=G,this.refs=L,this.updater=de||N}j.prototype.isReactComponent={},j.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=j.prototype;function ne(k,G,de){this.props=k,this.context=G,this.refs=L,this.updater=de||N}var oe=ne.prototype=new ee;oe.constructor=ne,B(oe,j.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray,je=Object.prototype.hasOwnProperty,Pe={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(k,G,de){var Ee,Oe={},We=null,He=null;if(G!=null)for(Ee in G.ref!==void 0&&(He=G.ref),G.key!==void 0&&(We=""+G.key),G)je.call(G,Ee)&&!b.hasOwnProperty(Ee)&&(Oe[Ee]=G[Ee]);var Ge=arguments.length-2;if(Ge===1)Oe.children=de;else if(1<Ge){for(var Fe=Array(Ge),Rt=0;Rt<Ge;Rt++)Fe[Rt]=arguments[Rt+2];Oe.children=Fe}if(k&&k.defaultProps)for(Ee in Ge=k.defaultProps,Ge)Oe[Ee]===void 0&&(Oe[Ee]=Ge[Ee]);return{$$typeof:r,type:k,key:We,ref:He,props:Oe,_owner:Pe.current}}function P(k,G){return{$$typeof:r,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return G[de]})}var M=/\/+/g;function C(k,G){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):G.toString(36)}function dt(k,G,de,Ee,Oe){var We=typeof k;(We==="undefined"||We==="boolean")&&(k=null);var He=!1;if(k===null)He=!0;else switch(We){case"string":case"number":He=!0;break;case"object":switch(k.$$typeof){case r:case e:He=!0}}if(He)return He=k,Oe=Oe(He),k=Ee===""?"."+C(He,0):Ee,ae(Oe)?(de="",k!=null&&(de=k.replace(M,"$&/")+"/"),dt(Oe,G,de,"",function(Rt){return Rt})):Oe!=null&&(D(Oe)&&(Oe=P(Oe,de+(!Oe.key||He&&He.key===Oe.key?"":(""+Oe.key).replace(M,"$&/")+"/")+k)),G.push(Oe)),1;if(He=0,Ee=Ee===""?".":Ee+":",ae(k))for(var Ge=0;Ge<k.length;Ge++){We=k[Ge];var Fe=Ee+C(We,Ge);He+=dt(We,G,de,Fe,Oe)}else if(Fe=I(k),typeof Fe=="function")for(k=Fe.call(k),Ge=0;!(We=k.next()).done;)We=We.value,Fe=Ee+C(We,Ge++),He+=dt(We,G,de,Fe,Oe);else if(We==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return He}function Vt(k,G,de){if(k==null)return k;var Ee=[],Oe=0;return dt(k,Ee,"","",function(We){return G.call(de,We,Oe++)}),Ee}function Lt(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Ne={current:null},ie={transition:null},_e={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Pe};return Ue.Children={map:Vt,forEach:function(k,G,de){Vt(k,function(){G.apply(this,arguments)},de)},count:function(k){var G=0;return Vt(k,function(){G++}),G},toArray:function(k){return Vt(k,function(G){return G})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ue.Component=j,Ue.Fragment=t,Ue.Profiler=o,Ue.PureComponent=ne,Ue.StrictMode=i,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Ue.cloneElement=function(k,G,de){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Ee=B({},k.props),Oe=k.key,We=k.ref,He=k._owner;if(G!=null){if(G.ref!==void 0&&(We=G.ref,He=Pe.current),G.key!==void 0&&(Oe=""+G.key),k.type&&k.type.defaultProps)var Ge=k.type.defaultProps;for(Fe in G)je.call(G,Fe)&&!b.hasOwnProperty(Fe)&&(Ee[Fe]=G[Fe]===void 0&&Ge!==void 0?Ge[Fe]:G[Fe])}var Fe=arguments.length-2;if(Fe===1)Ee.children=de;else if(1<Fe){Ge=Array(Fe);for(var Rt=0;Rt<Fe;Rt++)Ge[Rt]=arguments[Rt+2];Ee.children=Ge}return{$$typeof:r,type:k.type,key:Oe,ref:We,props:Ee,_owner:He}},Ue.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ue.createElement=A,Ue.createFactory=function(k){var G=A.bind(null,k);return G.type=k,G},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(k){return{$$typeof:f,render:k}},Ue.isValidElement=D,Ue.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:Lt}},Ue.memo=function(k,G){return{$$typeof:y,type:k,compare:G===void 0?null:G}},Ue.startTransition=function(k){var G=ie.transition;ie.transition={};try{k()}finally{ie.transition=G}},Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.useCallback=function(k,G){return Ne.current.useCallback(k,G)},Ue.useContext=function(k){return Ne.current.useContext(k)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(k){return Ne.current.useDeferredValue(k)},Ue.useEffect=function(k,G){return Ne.current.useEffect(k,G)},Ue.useId=function(){return Ne.current.useId()},Ue.useImperativeHandle=function(k,G,de){return Ne.current.useImperativeHandle(k,G,de)},Ue.useInsertionEffect=function(k,G){return Ne.current.useInsertionEffect(k,G)},Ue.useLayoutEffect=function(k,G){return Ne.current.useLayoutEffect(k,G)},Ue.useMemo=function(k,G){return Ne.current.useMemo(k,G)},Ue.useReducer=function(k,G,de){return Ne.current.useReducer(k,G,de)},Ue.useRef=function(k){return Ne.current.useRef(k)},Ue.useState=function(k){return Ne.current.useState(k)},Ue.useSyncExternalStore=function(k,G,de){return Ne.current.useSyncExternalStore(k,G,de)},Ue.useTransition=function(){return Ne.current.useTransition()},Ue.version="18.2.0",Ue}var Pg;function Ef(){return Pg||(Pg=1,Ad.exports=IT()),Ad.exports}var J=Ef();const _t=P_(J),qd=TT({__proto__:null,default:_t},[J]);var Rd={exports:{}},Ba={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function ST(){if(kg)return Ba;kg=1;var r=Ef(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var E,S={},I=null,N=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(N=p.ref);for(E in p)i.call(p,E)&&!l.hasOwnProperty(E)&&(S[E]=p[E]);if(f&&f.defaultProps)for(E in p=f.defaultProps,p)S[E]===void 0&&(S[E]=p[E]);return{$$typeof:e,type:f,key:I,ref:N,props:S,_owner:o.current}}return Ba.Fragment=t,Ba.jsx=h,Ba.jsxs=h,Ba}var xg;function AT(){return xg||(xg=1,Rd.exports=ST()),Rd.exports}var w=AT(),Uu={},Cd={exports:{}},In={},Pd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function RT(){return Ng||(Ng=1,function(r){function e(ie,_e){var k=ie.length;ie.push(_e);e:for(;0<k;){var G=k-1>>>1,de=ie[G];if(0<o(de,_e))ie[G]=_e,ie[k]=de,k=G;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var _e=ie[0],k=ie.pop();if(k!==_e){ie[0]=k;e:for(var G=0,de=ie.length,Ee=de>>>1;G<Ee;){var Oe=2*(G+1)-1,We=ie[Oe],He=Oe+1,Ge=ie[He];if(0>o(We,k))He<de&&0>o(Ge,We)?(ie[G]=Ge,ie[He]=k,G=He):(ie[G]=We,ie[Oe]=k,G=Oe);else if(He<de&&0>o(Ge,k))ie[G]=Ge,ie[He]=k,G=He;else break e}}return _e}function o(ie,_e){var k=ie.sortIndex-_e.sortIndex;return k!==0?k:ie.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],E=1,S=null,I=3,N=!1,B=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ie){for(var _e=t(y);_e!==null;){if(_e.callback===null)i(y);else if(_e.startTime<=ie)i(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(y)}}function ae(ie){if(L=!1,oe(ie),!B)if(t(p)!==null)B=!0,Lt(je);else{var _e=t(y);_e!==null&&Ne(ae,_e.startTime-ie)}}function je(ie,_e){B=!1,L&&(L=!1,ee(A),A=-1),N=!0;var k=I;try{for(oe(_e),S=t(p);S!==null&&(!(S.expirationTime>_e)||ie&&!V());){var G=S.callback;if(typeof G=="function"){S.callback=null,I=S.priorityLevel;var de=G(S.expirationTime<=_e);_e=r.unstable_now(),typeof de=="function"?S.callback=de:S===t(p)&&i(p),oe(_e)}else i(p);S=t(p)}if(S!==null)var Ee=!0;else{var Oe=t(y);Oe!==null&&Ne(ae,Oe.startTime-_e),Ee=!1}return Ee}finally{S=null,I=k,N=!1}}var Pe=!1,b=null,A=-1,P=5,D=-1;function V(){return!(r.unstable_now()-D<P)}function M(){if(b!==null){var ie=r.unstable_now();D=ie;var _e=!0;try{_e=b(!0,ie)}finally{_e?C():(Pe=!1,b=null)}}else Pe=!1}var C;if(typeof ne=="function")C=function(){ne(M)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Vt=dt.port2;dt.port1.onmessage=M,C=function(){Vt.postMessage(null)}}else C=function(){j(M,0)};function Lt(ie){b=ie,Pe||(Pe=!0,C())}function Ne(ie,_e){A=j(function(){ie(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){B||N||(B=!0,Lt(je))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var _e=3;break;default:_e=I}var k=I;I=_e;try{return ie()}finally{I=k}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var k=I;I=ie;try{return _e()}finally{I=k}},r.unstable_scheduleCallback=function(ie,_e,k){var G=r.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,ie){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=k+de,ie={id:E++,callback:_e,priorityLevel:ie,startTime:k,expirationTime:de,sortIndex:-1},k>G?(ie.sortIndex=k,e(y,ie),t(p)===null&&ie===t(y)&&(L?(ee(A),A=-1):L=!0,Ne(ae,k-G))):(ie.sortIndex=de,e(p,ie),B||N||(B=!0,Lt(je))),ie},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ie){var _e=I;return function(){var k=I;I=_e;try{return ie.apply(this,arguments)}finally{I=k}}}}(kd)),kd}var Dg;function CT(){return Dg||(Dg=1,Pd.exports=RT()),Pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function PT(){if(bg)return In;bg=1;var r=Ef(),e=CT();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function I(n){return p.call(S,n)?!0:p.call(E,n)?!1:y.test(n)?S[n]=!0:(E[n]=!0,!1)}function N(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function B(n,s,a,c){if(s===null||typeof s>"u"||N(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(n,s,a,c,d,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new L(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(ee,ne);j[s]=new L(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(ee,ne);j[s]=new L(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(ee,ne);j[s]=new L(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function oe(n,s,a,c){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(B(s,a,d,c)&&(a=null),c||d===null?I(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var ae=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var k=Object.assign,G;function de(n){if(G===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);G=s&&s[1]||""}return`
`+G+n}var Ee=!1;function Oe(n,s){if(!n||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var c=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){c=$}n.call(s.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),v=d.length-1,R=g.length-1;1<=v&&0<=R&&d[v]!==g[R];)R--;for(;1<=v&&0<=R;v--,R--)if(d[v]!==g[R]){if(v!==1||R!==1)do if(v--,R--,0>R||d[v]!==g[R]){var x=`
`+d[v].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=v&&0<=R);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?de(n):""}function We(n){switch(n.tag){case 5:return de(n.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return n=Oe(n.type,!1),n;case 11:return n=Oe(n.type.render,!1),n;case 1:return n=Oe(n.type,!0),n;default:return""}}function He(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case Pe:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case dt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case M:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Vt:return s=n.displayName||null,s!==null?s:He(n.type)||"Memo";case Lt:s=n._payload,n=n._init;try{return He(n(s))}catch{}}return null}function Ge(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rt(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vr(n){var s=Rt(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Cn(n){n._valueTracker||(n._valueTracker=vr(n))}function Er(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Rt(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Pn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function wr(n,s){var a=s.checked;return k({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function mi(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function gi(n,s){s=s.checked,s!=null&&oe(n,"checked",s,!1)}function cs(n,s){gi(n,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Jn(n,s.type,a):s.hasOwnProperty("defaultValue")&&Jn(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Tr(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Jn(n,s,a){(s!=="number"||Pn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Un=Array.isArray;function kn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function hs(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yi(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Un(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Fe(a)}}function zr(n,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function W(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function q(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?q(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pe,le=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ie(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(n){Le.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),we[s]=we[n]})});function Se(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||we.hasOwnProperty(n)&&we[n]?(""+s).trim():s+"px"}function ot(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Se(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ve=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Je(n,s){if(s){if(Ve[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zt(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zn=null,$t=null,Ht=null;function Ir(n){if(n=Ra(n)){if(typeof Zn!="function")throw Error(t(280));var s=n.stateNode;s&&(s=tu(s),Zn(n.stateNode,n.type,s))}}function nt(n){$t?Ht?Ht.push(n):Ht=[n]:$t=n}function Pt(){if($t){var n=$t,s=Ht;if(Ht=$t=null,Ir(n),s)for(n=0;n<s.length;n++)Ir(s[n])}}function cn(n,s){return n(s)}function er(){}var hn=!1;function ds(n,s,a){if(hn)return n(s,a);hn=!0;try{return cn(n,s,a)}finally{hn=!1,($t!==null||Ht!==null)&&(er(),Pt())}}function ft(n,s){var a=n.stateNode;if(a===null)return null;var c=tu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var en=!1;if(f)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){en=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{en=!1}function Sr(n,s,a,c,d,g,v,R,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Z){this.onError(Z)}}var $r=!1,Gs=null,tr=!1,oa=null,Zc={onError:function(n){$r=!0,Gs=n}};function Ks(n,s,a,c,d,g,v,R,x){$r=!1,Gs=null,Sr.apply(Zc,arguments)}function Rl(n,s,a,c,d,g,v,R,x){if(Ks.apply(this,arguments),$r){if($r){var $=Gs;$r=!1,Gs=null}else throw Error(t(198));tr||(tr=!0,oa=$)}}function nr(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function fs(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function rr(n){if(nr(n)!==n)throw Error(t(188))}function Cl(n){var s=n.alternate;if(!s){if(s=nr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return rr(d),n;if(g===c)return rr(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var v=!1,R=d.child;R;){if(R===a){v=!0,a=d,c=g;break}if(R===c){v=!0,c=d,a=g;break}R=R.sibling}if(!v){for(R=g.child;R;){if(R===a){v=!0,a=g,c=d;break}if(R===c){v=!0,c=g,a=d;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function aa(n){return n=Cl(n),n!==null?Qs(n):null}function Qs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Qs(n);if(s!==null)return s;n=n.sibling}return null}var Xs=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,Pl=e.unstable_shouldYield,eh=e.unstable_requestPaint,it=e.unstable_now,kl=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,_i=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,ua=e.unstable_LowPriority,xl=e.unstable_IdlePriority,ms=null,xn=null;function Nl(n){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(ms,n,void 0,(n.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:bl,ca=Math.log,Dl=Math.LN2;function bl(n){return n>>>=0,n===0?32:31-(ca(n)/Dl|0)|0}var Ys=64,Js=4194304;function vi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gs(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,v=a&268435455;if(v!==0){var R=v&~d;R!==0?c=vi(R):(g&=v,g!==0&&(c=vi(g)))}else v=a&~d,v!==0?c=vi(v):g!==0&&(c=vi(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-dn(s),d=1<<a,c|=n[a],s&=~d;return c}function th(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var v=31-dn(g),R=1<<v,x=d[v];x===-1?((R&a)===0||(R&c)!==0)&&(d[v]=th(R,s)):x<=s&&(n.expiredLanes|=R),g&=~R}}function Nn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ys(){var n=Ys;return Ys<<=1,(Ys&4194240)===0&&(Ys=64),n}function Ei(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function wi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-dn(s),n[s]=a}function rt(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-dn(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Ti(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-dn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var qe=0;function Ii(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ol,Zs,Vl,Ll,Ml,ha=!1,Ar=[],qt=null,ir=null,sr=null,Si=new Map,$n=new Map,Rr=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(n,s){switch(n){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(s.pointerId)}}function gn(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Ra(s),s!==null&&Zs(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function rh(n,s,a,c,d){switch(s){case"focusin":return qt=gn(qt,n,s,a,c,d),!0;case"dragenter":return ir=gn(ir,n,s,a,c,d),!0;case"mouseover":return sr=gn(sr,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Si.set(g,gn(Si.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,$n.set(g,gn($n.get(g)||null,n,s,a,c,d)),!0}return!1}function Fl(n){var s=Ts(n.target);if(s!==null){var a=nr(s);if(a!==null){if(s=a.tag,s===13){if(s=fs(a),s!==null){n.blockedOn=s,Ml(n.priority,function(){Vl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=eo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ct=c,a.target.dispatchEvent(c),Ct=null}else return s=Ra(a),s!==null&&Zs(s),n.blockedOn=a,!1;s.shift()}return!0}function _s(n,s,a){qr(n)&&a.delete(s)}function Ul(){ha=!1,qt!==null&&qr(qt)&&(qt=null),ir!==null&&qr(ir)&&(ir=null),sr!==null&&qr(sr)&&(sr=null),Si.forEach(_s),$n.forEach(_s)}function or(n,s){n.blockedOn===s&&(n.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ul)))}function ar(n){function s(d){return or(d,n)}if(0<Ar.length){or(Ar[0],n);for(var a=1;a<Ar.length;a++){var c=Ar[a];c.blockedOn===n&&(c.blockedOn=null)}}for(qt!==null&&or(qt,n),ir!==null&&or(ir,n),sr!==null&&or(sr,n),Si.forEach(s),$n.forEach(s),a=0;a<Rr.length;a++)c=Rr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)Fl(a),a.blockedOn===null&&Rr.shift()}var Wr=ae.ReactCurrentBatchConfig,Ai=!0;function ct(n,s,a,c){var d=qe,g=Wr.transition;Wr.transition=null;try{qe=1,da(n,s,a,c)}finally{qe=d,Wr.transition=g}}function ih(n,s,a,c){var d=qe,g=Wr.transition;Wr.transition=null;try{qe=4,da(n,s,a,c)}finally{qe=d,Wr.transition=g}}function da(n,s,a,c){if(Ai){var d=eo(n,s,a,c);if(d===null)mh(n,s,c,vs,a),jl(n,c);else if(rh(d,n,s,a,c))c.stopPropagation();else if(jl(n,c),s&4&&-1<nh.indexOf(n)){for(;d!==null;){var g=Ra(d);if(g!==null&&Ol(g),g=eo(n,s,a,c),g===null&&mh(n,s,c,vs,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else mh(n,s,c,null,a)}}var vs=null;function eo(n,s,a,c){if(vs=null,n=Bn(c),n=Ts(n),n!==null)if(s=nr(n),s===null)n=null;else if(a=s.tag,a===13){if(n=fs(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return vs=n,null}function fa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kl()){case ps:return 1;case _i:return 4;case zn:case ua:return 16;case xl:return 536870912;default:return 16}default:return 16}}var Dn=null,to=null,yn=null;function pa(){if(yn)return yn;var n,s=to,a=s.length,c,d="value"in Dn?Dn.value:Dn.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&s[a-c]===d[g-c];c++);return yn=d.slice(n,1<c?1-c:void 0)}function no(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Cr(){return!0}function ma(){return!1}function Wt(n){function s(a,c,d,g,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cr:ma,this.isPropagationStopped=ma,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),s}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Wt(lr),Pr=k({},lr,{view:0,detail:0}),sh=Wt(Pr),io,Gr,Ri,Es=k({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(io=n.screenX-Ri.screenX,Gr=n.screenY-Ri.screenY):Gr=io=0,Ri=n),io)},movementY:function(n){return"movementY"in n?n.movementY:Gr}}),so=Wt(Es),ga=k({},Es,{dataTransfer:0}),Bl=Wt(ga),oo=k({},Pr,{relatedTarget:0}),ao=Wt(oo),zl=k({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=Wt(zl),$l=k({},lr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hl=Wt($l),ql=k({},lr,{data:0}),ya=Wt(ql),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Wl[n])?!!s[n]:!1}function kr(){return Gl}var u=k({},Pr,{key:function(n){if(n.key){var s=lo[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=no(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(n){return n.type==="keypress"?no(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?no(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=Wt(u),_=k({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Wt(_),F=k({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),H=Wt(F),se=k({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Wt(se),xt=k({},Es,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Wt(xt),Mt=[9,13,27,32],wt=f&&"CompositionEvent"in window,Hn=null;f&&"documentMode"in document&&(Hn=document.documentMode);var bn=f&&"TextEvent"in window&&!Hn,ws=f&&(!wt||Hn&&8<Hn&&11>=Hn),uo=" ",Ep=!1;function wp(n,s){switch(n){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var co=!1;function vw(n,s){switch(n){case"compositionend":return Tp(s);case"keypress":return s.which!==32?null:(Ep=!0,uo);case"textInput":return n=s.data,n===uo&&Ep?null:n;default:return null}}function Ew(n,s){if(co)return n==="compositionend"||!wt&&wp(n,s)?(n=pa(),yn=to=Dn=null,co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ws&&s.locale!=="ko"?null:s.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ww[n.type]:s==="textarea"}function Sp(n,s,a,c){nt(c),s=Jl(s,"onChange"),0<s.length&&(a=new ro("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var _a=null,va=null;function Tw(n){zp(n,0)}function Kl(n){var s=go(n);if(Er(s))return n}function Iw(n,s){if(n==="change")return s}var Ap=!1;if(f){var oh;if(f){var ah="oninput"in document;if(!ah){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),ah=typeof Rp.oninput=="function"}oh=ah}else oh=!1;Ap=oh&&(!document.documentMode||9<document.documentMode)}function Cp(){_a&&(_a.detachEvent("onpropertychange",Pp),va=_a=null)}function Pp(n){if(n.propertyName==="value"&&Kl(va)){var s=[];Sp(s,va,n,Bn(n)),ds(Tw,s)}}function Sw(n,s,a){n==="focusin"?(Cp(),_a=s,va=a,_a.attachEvent("onpropertychange",Pp)):n==="focusout"&&Cp()}function Aw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(va)}function Rw(n,s){if(n==="click")return Kl(s)}function Cw(n,s){if(n==="input"||n==="change")return Kl(s)}function Pw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ur=typeof Object.is=="function"?Object.is:Pw;function Ea(n,s){if(ur(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!ur(n[d],s[d]))return!1}return!0}function kp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xp(n,s){var a=kp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function Np(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Np(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Dp(){for(var n=window,s=Pn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Pn(n.document)}return s}function lh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function kw(n){var s=Dp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Np(a.ownerDocument.documentElement,a)){if(c!==null&&lh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=xp(a,g);var v=xp(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xw=f&&"documentMode"in document&&11>=document.documentMode,ho=null,uh=null,wa=null,ch=!1;function bp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ch||ho==null||ho!==Pn(c)||(c=ho,"selectionStart"in c&&lh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wa&&Ea(wa,c)||(wa=c,c=Jl(uh,"onSelect"),0<c.length&&(s=new ro("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=ho)))}function Ql(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var fo={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},hh={},Op={};f&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Xl(n){if(hh[n])return hh[n];if(!fo[n])return n;var s=fo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Op)return hh[n]=s[a];return n}var Vp=Xl("animationend"),Lp=Xl("animationiteration"),Mp=Xl("animationstart"),jp=Xl("transitionend"),Fp=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(n,s){Fp.set(n,s),l(s,[n])}for(var dh=0;dh<Up.length;dh++){var fh=Up[dh],Nw=fh.toLowerCase(),Dw=fh[0].toUpperCase()+fh.slice(1);Ci(Nw,"on"+Dw)}Ci(Vp,"onAnimationEnd"),Ci(Lp,"onAnimationIteration"),Ci(Mp,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(jp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Bp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Rl(c,s,void 0,n),n.currentTarget=null}function zp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var v=c.length-1;0<=v;v--){var R=c[v],x=R.instance,$=R.currentTarget;if(R=R.listener,x!==g&&d.isPropagationStopped())break e;Bp(d,R,$),g=x}else for(v=0;v<c.length;v++){if(R=c[v],x=R.instance,$=R.currentTarget,R=R.listener,x!==g&&d.isPropagationStopped())break e;Bp(d,R,$),g=x}}}if(tr)throw n=oa,tr=!1,oa=null,n}function at(n,s){var a=s[wh];a===void 0&&(a=s[wh]=new Set);var c=n+"__bubble";a.has(c)||($p(s,n,2,!1),a.add(c))}function ph(n,s,a){var c=0;s&&(c|=4),$p(a,n,c,s)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Ia(n){if(!n[Yl]){n[Yl]=!0,i.forEach(function(a){a!=="selectionchange"&&(bw.has(a)||ph(a,!1,n),ph(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Yl]||(s[Yl]=!0,ph("selectionchange",!1,s))}}function $p(n,s,a,c){switch(fa(s)){case 1:var d=ct;break;case 4:d=ih;break;default:d=da}a=d.bind(null,s,a,n),d=void 0,!en||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function mh(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;v=v.return}for(;R!==null;){if(v=Ts(R),v===null)return;if(x=v.tag,x===5||x===6){c=g=v;continue e}R=R.parentNode}}c=c.return}ds(function(){var $=g,Z=Bn(a),te=[];e:{var Y=Fp.get(n);if(Y!==void 0){var ue=ro,me=n;switch(n){case"keypress":if(no(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":me="focus",ue=ao;break;case"focusout":me="blur",ue=ao;break;case"beforeblur":case"afterblur":ue=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case Vp:case Lp:case Mp:ue=Kr;break;case jp:ue=et;break;case"scroll":ue=sh;break;case"wheel":ue=Ke;break;case"copy":case"cut":case"paste":ue=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=T}var ge=(s&4)!==0,vt=!ge&&n==="scroll",U=ge?Y!==null?Y+"Capture":null:Y;ge=[];for(var O=$,z;O!==null;){z=O;var re=z.stateNode;if(z.tag===5&&re!==null&&(z=re,U!==null&&(re=ft(O,U),re!=null&&ge.push(Sa(O,re,z)))),vt)break;O=O.return}0<ge.length&&(Y=new ue(Y,me,null,a,Z),te.push({event:Y,listeners:ge}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",Y&&a!==Ct&&(me=a.relatedTarget||a.fromElement)&&(Ts(me)||me[Qr]))break e;if((ue||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,ue?(me=a.relatedTarget||a.toElement,ue=$,me=me?Ts(me):null,me!==null&&(vt=nr(me),me!==vt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=$),ue!==me)){if(ge=so,re="onMouseLeave",U="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ge=T,re="onPointerLeave",U="onPointerEnter",O="pointer"),vt=ue==null?Y:go(ue),z=me==null?Y:go(me),Y=new ge(re,O+"leave",ue,a,Z),Y.target=vt,Y.relatedTarget=z,re=null,Ts(Z)===$&&(ge=new ge(U,O+"enter",me,a,Z),ge.target=z,ge.relatedTarget=vt,re=ge),vt=re,ue&&me)t:{for(ge=ue,U=me,O=0,z=ge;z;z=po(z))O++;for(z=0,re=U;re;re=po(re))z++;for(;0<O-z;)ge=po(ge),O--;for(;0<z-O;)U=po(U),z--;for(;O--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=po(ge),U=po(U)}ge=null}else ge=null;ue!==null&&Hp(te,Y,ue,ge,!1),me!==null&&vt!==null&&Hp(te,vt,me,ge,!0)}}e:{if(Y=$?go($):window,ue=Y.nodeName&&Y.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Y.type==="file")var ye=Iw;else if(Ip(Y))if(Ap)ye=Cw;else{ye=Aw;var Ae=Sw}else(ue=Y.nodeName)&&ue.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ye=Rw);if(ye&&(ye=ye(n,$))){Sp(te,ye,a,Z);break e}Ae&&Ae(n,Y,$),n==="focusout"&&(Ae=Y._wrapperState)&&Ae.controlled&&Y.type==="number"&&Jn(Y,"number",Y.value)}switch(Ae=$?go($):window,n){case"focusin":(Ip(Ae)||Ae.contentEditable==="true")&&(ho=Ae,uh=$,wa=null);break;case"focusout":wa=uh=ho=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,bp(te,a,Z);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":bp(te,a,Z)}var Re;if(wt)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else co?wp(n,a)&&(ke="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(ws&&a.locale!=="ko"&&(co||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&co&&(Re=pa()):(Dn=Z,to="value"in Dn?Dn.value:Dn.textContent,co=!0)),Ae=Jl($,ke),0<Ae.length&&(ke=new ya(ke,n,null,a,Z),te.push({event:ke,listeners:Ae}),Re?ke.data=Re:(Re=Tp(a),Re!==null&&(ke.data=Re)))),(Re=bn?vw(n,a):Ew(n,a))&&($=Jl($,"onBeforeInput"),0<$.length&&(Z=new ya("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:$}),Z.data=Re))}zp(te,s)})}function Sa(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Jl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ft(n,a),g!=null&&c.unshift(Sa(n,g,d)),g=ft(n,s),g!=null&&c.push(Sa(n,g,d))),n=n.return}return c}function po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hp(n,s,a,c,d){for(var g=s._reactName,v=[];a!==null&&a!==c;){var R=a,x=R.alternate,$=R.stateNode;if(x!==null&&x===c)break;R.tag===5&&$!==null&&(R=$,d?(x=ft(a,g),x!=null&&v.unshift(Sa(a,x,R))):d||(x=ft(a,g),x!=null&&v.push(Sa(a,x,R)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var Ow=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function qp(n){return(typeof n=="string"?n:""+n).replace(Ow,`
`).replace(Vw,"")}function Zl(n,s,a){if(s=qp(s),qp(n)!==s&&a)throw Error(t(425))}function eu(){}var gh=null,yh=null;function _h(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(n){return Wp.resolve(null).then(n).catch(jw)}:vh;function jw(n){setTimeout(function(){throw n})}function Eh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),ar(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);ar(s)}function Pi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Gp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var mo=Math.random().toString(36).slice(2),xr="__reactFiber$"+mo,Aa="__reactProps$"+mo,Qr="__reactContainer$"+mo,wh="__reactEvents$"+mo,Fw="__reactListeners$"+mo,Uw="__reactHandles$"+mo;function Ts(n){var s=n[xr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Qr]||a[xr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Gp(n);n!==null;){if(a=n[xr])return a;n=Gp(n)}return s}n=a,a=n.parentNode}return null}function Ra(n){return n=n[xr]||n[Qr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function go(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function tu(n){return n[Aa]||null}var Th=[],yo=-1;function ki(n){return{current:n}}function lt(n){0>yo||(n.current=Th[yo],Th[yo]=null,yo--)}function st(n,s){yo++,Th[yo]=n.current,n.current=s}var xi={},tn=ki(xi),_n=ki(!1),Is=xi;function _o(n,s){var a=n.type.contextTypes;if(!a)return xi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function vn(n){return n=n.childContextTypes,n!=null}function nu(){lt(_n),lt(tn)}function Kp(n,s,a){if(tn.current!==xi)throw Error(t(168));st(tn,s),st(_n,a)}function Qp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ge(n)||"Unknown",d));return k({},a,c)}function ru(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xi,Is=tn.current,st(tn,n),st(_n,_n.current),!0}function Xp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Qp(n,s,Is),c.__reactInternalMemoizedMergedChildContext=n,lt(_n),lt(tn),st(tn,n)):lt(_n),st(_n,a)}var Xr=null,iu=!1,Ih=!1;function Yp(n){Xr===null?Xr=[n]:Xr.push(n)}function Bw(n){iu=!0,Yp(n)}function Ni(){if(!Ih&&Xr!==null){Ih=!0;var n=0,s=qe;try{var a=Xr;for(qe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Xr=null,iu=!1}catch(d){throw Xr!==null&&(Xr=Xr.slice(n+1)),Xs(ps,Ni),d}finally{qe=s,Ih=!1}}return null}var vo=[],Eo=0,su=null,ou=0,qn=[],Wn=0,Ss=null,Yr=1,Jr="";function As(n,s){vo[Eo++]=ou,vo[Eo++]=su,su=n,ou=s}function Jp(n,s,a){qn[Wn++]=Yr,qn[Wn++]=Jr,qn[Wn++]=Ss,Ss=n;var c=Yr;n=Jr;var d=32-dn(c)-1;c&=~(1<<d),a+=1;var g=32-dn(s)+d;if(30<g){var v=d-d%5;g=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Yr=1<<32-dn(s)+d|a<<d|c,Jr=g+n}else Yr=1<<g|a<<d|c,Jr=n}function Sh(n){n.return!==null&&(As(n,1),Jp(n,1,0))}function Ah(n){for(;n===su;)su=vo[--Eo],vo[Eo]=null,ou=vo[--Eo],vo[Eo]=null;for(;n===Ss;)Ss=qn[--Wn],qn[Wn]=null,Jr=qn[--Wn],qn[Wn]=null,Yr=qn[--Wn],qn[Wn]=null}var On=null,Vn=null,ht=!1,cr=null;function Zp(n,s){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function em(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,On=n,Vn=Pi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,On=n,Vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ss!==null?{id:Yr,overflow:Jr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,On=n,Vn=null,!0):!1;default:return!1}}function Rh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ch(n){if(ht){var s=Vn;if(s){var a=s;if(!em(n,s)){if(Rh(n))throw Error(t(418));s=Pi(a.nextSibling);var c=On;s&&em(n,s)?Zp(c,a):(n.flags=n.flags&-4097|2,ht=!1,On=n)}}else{if(Rh(n))throw Error(t(418));n.flags=n.flags&-4097|2,ht=!1,On=n}}}function tm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;On=n}function au(n){if(n!==On)return!1;if(!ht)return tm(n),ht=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!_h(n.type,n.memoizedProps)),s&&(s=Vn)){if(Rh(n))throw nm(),Error(t(418));for(;s;)Zp(n,s),s=Pi(s.nextSibling)}if(tm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Vn=Pi(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Vn=null}}else Vn=On?Pi(n.stateNode.nextSibling):null;return!0}function nm(){for(var n=Vn;n;)n=Pi(n.nextSibling)}function wo(){Vn=On=null,ht=!1}function Ph(n){cr===null?cr=[n]:cr.push(n)}var zw=ae.ReactCurrentBatchConfig;function hr(n,s){if(n&&n.defaultProps){s=k({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}var lu=ki(null),uu=null,To=null,kh=null;function xh(){kh=To=uu=null}function Nh(n){var s=lu.current;lt(lu),n._currentValue=s}function Dh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Io(n,s){uu=n,kh=To=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(En=!0),n.firstContext=null)}function Gn(n){var s=n._currentValue;if(kh!==n)if(n={context:n,memoizedValue:s,next:null},To===null){if(uu===null)throw Error(t(308));To=n,uu.dependencies={lanes:0,firstContext:n}}else To=To.next=n;return s}var Rs=null;function bh(n){Rs===null?Rs=[n]:Rs.push(n)}function rm(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,bh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Zr(n,c)}function Zr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Di=!1;function Oh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function im(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ei(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Zr(n,a)}return d=c.interleaved,d===null?(s.next=s,bh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Zr(n,a)}function cu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ti(n,a)}}function sm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function hu(n,s,a,c){var d=n.updateQueue;Di=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var x=R,$=x.next;x.next=null,v===null?g=$:v.next=$,v=x;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==v&&(R===null?Z.firstBaseUpdate=$:R.next=$,Z.lastBaseUpdate=x))}if(g!==null){var te=d.baseState;v=0,Z=$=x=null,R=g;do{var Y=R.lane,ue=R.eventTime;if((c&Y)===Y){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=n,ge=R;switch(Y=s,ue=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){te=me.call(ue,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,Y=typeof me=="function"?me.call(ue,te,Y):me,Y==null)break e;te=k({},te,Y);break e;case 2:Di=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,Y=d.effects,Y===null?d.effects=[R]:Y.push(R))}else ue={eventTime:ue,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?($=Z=ue,x=te):Z=Z.next=ue,v|=Y;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(Z===null&&(x=te),d.baseState=x,d.firstBaseUpdate=$,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);ks|=v,n.lanes=v,n.memoizedState=te}}function om(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var am=new r.Component().refs;function Vh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:k({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var du={isMounted:function(n){return(n=n._reactInternals)?nr(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=mn(),d=Mi(n),g=ei(c,d);g.payload=s,a!=null&&(g.callback=a),s=bi(n,g,d),s!==null&&(pr(s,n,d,c),cu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=mn(),d=Mi(n),g=ei(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=bi(n,g,d),s!==null&&(pr(s,n,d,c),cu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=mn(),c=Mi(n),d=ei(a,c);d.tag=2,s!=null&&(d.callback=s),s=bi(n,d,c),s!==null&&(pr(s,n,c,a),cu(s,n,c))}};function lm(n,s,a,c,d,g,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,v):s.prototype&&s.prototype.isPureReactComponent?!Ea(a,c)||!Ea(d,g):!0}function um(n,s,a){var c=!1,d=xi,g=s.contextType;return typeof g=="object"&&g!==null?g=Gn(g):(d=vn(s)?Is:tn.current,c=s.contextTypes,g=(c=c!=null)?_o(n,d):xi),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=du,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function cm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&du.enqueueReplaceState(s,s.state,null)}function Lh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs=am,Oh(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=Gn(g):(g=vn(s)?Is:tn.current,d.context=_o(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Vh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&du.enqueueReplaceState(d,d.state,null),hu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Ca(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var R=d.refs;R===am&&(R=d.refs={}),v===null?delete R[g]:R[g]=v},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function fu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function hm(n){var s=n._init;return s(n._payload)}function dm(n){function s(U,O){if(n){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!n)return null;for(;O!==null;)s(U,O),O=O.sibling;return null}function c(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function d(U,O){return U=Fi(U,O),U.index=0,U.sibling=null,U}function g(U,O,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=2,O):z):(U.flags|=2,O)):(U.flags|=1048576,O)}function v(U){return n&&U.alternate===null&&(U.flags|=2),U}function R(U,O,z,re){return O===null||O.tag!==6?(O=vd(z,U.mode,re),O.return=U,O):(O=d(O,z),O.return=U,O)}function x(U,O,z,re){var ye=z.type;return ye===b?Z(U,O,z.props.children,re,z.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Lt&&hm(ye)===O.type)?(re=d(O,z.props),re.ref=Ca(U,O,z),re.return=U,re):(re=Du(z.type,z.key,z.props,null,U.mode,re),re.ref=Ca(U,O,z),re.return=U,re)}function $(U,O,z,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Ed(z,U.mode,re),O.return=U,O):(O=d(O,z.children||[]),O.return=U,O)}function Z(U,O,z,re,ye){return O===null||O.tag!==7?(O=bs(z,U.mode,re,ye),O.return=U,O):(O=d(O,z),O.return=U,O)}function te(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=vd(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case je:return z=Du(O.type,O.key,O.props,null,U.mode,z),z.ref=Ca(U,null,O),z.return=U,z;case Pe:return O=Ed(O,U.mode,z),O.return=U,O;case Lt:var re=O._init;return te(U,re(O._payload),z)}if(Un(O)||_e(O))return O=bs(O,U.mode,z,null),O.return=U,O;fu(U,O)}return null}function Y(U,O,z,re){var ye=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:R(U,O,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case je:return z.key===ye?x(U,O,z,re):null;case Pe:return z.key===ye?$(U,O,z,re):null;case Lt:return ye=z._init,Y(U,O,ye(z._payload),re)}if(Un(z)||_e(z))return ye!==null?null:Z(U,O,z,re,null);fu(U,z)}return null}function ue(U,O,z,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(z)||null,R(O,U,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case je:return U=U.get(re.key===null?z:re.key)||null,x(O,U,re,ye);case Pe:return U=U.get(re.key===null?z:re.key)||null,$(O,U,re,ye);case Lt:var Ae=re._init;return ue(U,O,z,Ae(re._payload),ye)}if(Un(re)||_e(re))return U=U.get(z)||null,Z(O,U,re,ye,null);fu(O,re)}return null}function me(U,O,z,re){for(var ye=null,Ae=null,Re=O,ke=O=0,Ut=null;Re!==null&&ke<z.length;ke++){Re.index>ke?(Ut=Re,Re=null):Ut=Re.sibling;var Ye=Y(U,Re,z[ke],re);if(Ye===null){Re===null&&(Re=Ut);break}n&&Re&&Ye.alternate===null&&s(U,Re),O=g(Ye,O,ke),Ae===null?ye=Ye:Ae.sibling=Ye,Ae=Ye,Re=Ut}if(ke===z.length)return a(U,Re),ht&&As(U,ke),ye;if(Re===null){for(;ke<z.length;ke++)Re=te(U,z[ke],re),Re!==null&&(O=g(Re,O,ke),Ae===null?ye=Re:Ae.sibling=Re,Ae=Re);return ht&&As(U,ke),ye}for(Re=c(U,Re);ke<z.length;ke++)Ut=ue(Re,U,ke,z[ke],re),Ut!==null&&(n&&Ut.alternate!==null&&Re.delete(Ut.key===null?ke:Ut.key),O=g(Ut,O,ke),Ae===null?ye=Ut:Ae.sibling=Ut,Ae=Ut);return n&&Re.forEach(function(Ui){return s(U,Ui)}),ht&&As(U,ke),ye}function ge(U,O,z,re){var ye=_e(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var Ae=ye=null,Re=O,ke=O=0,Ut=null,Ye=z.next();Re!==null&&!Ye.done;ke++,Ye=z.next()){Re.index>ke?(Ut=Re,Re=null):Ut=Re.sibling;var Ui=Y(U,Re,Ye.value,re);if(Ui===null){Re===null&&(Re=Ut);break}n&&Re&&Ui.alternate===null&&s(U,Re),O=g(Ui,O,ke),Ae===null?ye=Ui:Ae.sibling=Ui,Ae=Ui,Re=Ut}if(Ye.done)return a(U,Re),ht&&As(U,ke),ye;if(Re===null){for(;!Ye.done;ke++,Ye=z.next())Ye=te(U,Ye.value,re),Ye!==null&&(O=g(Ye,O,ke),Ae===null?ye=Ye:Ae.sibling=Ye,Ae=Ye);return ht&&As(U,ke),ye}for(Re=c(U,Re);!Ye.done;ke++,Ye=z.next())Ye=ue(Re,U,ke,Ye.value,re),Ye!==null&&(n&&Ye.alternate!==null&&Re.delete(Ye.key===null?ke:Ye.key),O=g(Ye,O,ke),Ae===null?ye=Ye:Ae.sibling=Ye,Ae=Ye);return n&&Re.forEach(function(wT){return s(U,wT)}),ht&&As(U,ke),ye}function vt(U,O,z,re){if(typeof z=="object"&&z!==null&&z.type===b&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case je:e:{for(var ye=z.key,Ae=O;Ae!==null;){if(Ae.key===ye){if(ye=z.type,ye===b){if(Ae.tag===7){a(U,Ae.sibling),O=d(Ae,z.props.children),O.return=U,U=O;break e}}else if(Ae.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Lt&&hm(ye)===Ae.type){a(U,Ae.sibling),O=d(Ae,z.props),O.ref=Ca(U,Ae,z),O.return=U,U=O;break e}a(U,Ae);break}else s(U,Ae);Ae=Ae.sibling}z.type===b?(O=bs(z.props.children,U.mode,re,z.key),O.return=U,U=O):(re=Du(z.type,z.key,z.props,null,U.mode,re),re.ref=Ca(U,O,z),re.return=U,U=re)}return v(U);case Pe:e:{for(Ae=z.key;O!==null;){if(O.key===Ae)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),O=d(O,z.children||[]),O.return=U,U=O;break e}else{a(U,O);break}else s(U,O);O=O.sibling}O=Ed(z,U.mode,re),O.return=U,U=O}return v(U);case Lt:return Ae=z._init,vt(U,O,Ae(z._payload),re)}if(Un(z))return me(U,O,z,re);if(_e(z))return ge(U,O,z,re);fu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),O=d(O,z),O.return=U,U=O):(a(U,O),O=vd(z,U.mode,re),O.return=U,U=O),v(U)):a(U,O)}return vt}var So=dm(!0),fm=dm(!1),Pa={},Nr=ki(Pa),ka=ki(Pa),xa=ki(Pa);function Cs(n){if(n===Pa)throw Error(t(174));return n}function Mh(n,s){switch(st(xa,s),st(ka,n),st(Nr,Pa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:K(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=K(s,n)}lt(Nr),st(Nr,s)}function Ao(){lt(Nr),lt(ka),lt(xa)}function pm(n){Cs(xa.current);var s=Cs(Nr.current),a=K(s,n.type);s!==a&&(st(ka,n),st(Nr,a))}function jh(n){ka.current===n&&(lt(Nr),lt(ka))}var pt=ki(0);function pu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fh=[];function Uh(){for(var n=0;n<Fh.length;n++)Fh[n]._workInProgressVersionPrimary=null;Fh.length=0}var mu=ae.ReactCurrentDispatcher,Bh=ae.ReactCurrentBatchConfig,Ps=0,mt=null,Nt=null,jt=null,gu=!1,Na=!1,Da=0,$w=0;function nn(){throw Error(t(321))}function zh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ur(n[a],s[a]))return!1;return!0}function $h(n,s,a,c,d,g){if(Ps=g,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=n===null||n.memoizedState===null?Gw:Kw,n=a(c,d),Na){g=0;do{if(Na=!1,Da=0,25<=g)throw Error(t(301));g+=1,jt=Nt=null,s.updateQueue=null,mu.current=Qw,n=a(c,d)}while(Na)}if(mu.current=vu,s=Nt!==null&&Nt.next!==null,Ps=0,jt=Nt=mt=null,gu=!1,s)throw Error(t(300));return n}function Hh(){var n=Da!==0;return Da=0,n}function Dr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=n:jt=jt.next=n,jt}function Kn(){if(Nt===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Nt.next;var s=jt===null?mt.memoizedState:jt.next;if(s!==null)jt=s,Nt=n;else{if(n===null)throw Error(t(310));Nt=n,n={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?mt.memoizedState=jt=n:jt=jt.next=n}return jt}function ba(n,s){return typeof s=="function"?s(n):s}function qh(n){var s=Kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Nt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=v=null,x=null,$=g;do{var Z=$.lane;if((Ps&Z)===Z)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var te={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(R=x=te,v=c):x=x.next=te,mt.lanes|=Z,ks|=Z}$=$.next}while($!==null&&$!==g);x===null?v=c:x.next=R,ur(c,s.memoizedState)||(En=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,mt.lanes|=g,ks|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Wh(n){var s=Kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do g=n(g,v.action),v=v.next;while(v!==d);ur(g,s.memoizedState)||(En=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function mm(){}function gm(n,s){var a=mt,c=Kn(),d=s(),g=!ur(c.memoizedState,d);if(g&&(c.memoizedState=d,En=!0),c=c.queue,Gh(vm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,Oa(9,_m.bind(null,a,c,d,s),void 0,null),Ft===null)throw Error(t(349));(Ps&30)!==0||ym(a,s,d)}return d}function ym(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function _m(n,s,a,c){s.value=a,s.getSnapshot=c,Em(s)&&wm(n)}function vm(n,s,a){return a(function(){Em(s)&&wm(n)})}function Em(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ur(n,a)}catch{return!0}}function wm(n){var s=Zr(n,1);s!==null&&pr(s,n,1,-1)}function Tm(n){var s=Dr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:n},s.queue=n,n=n.dispatch=Ww.bind(null,mt,n),[s.memoizedState,n]}function Oa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Im(){return Kn().memoizedState}function yu(n,s,a,c){var d=Dr();mt.flags|=n,d.memoizedState=Oa(1|s,a,void 0,c===void 0?null:c)}function _u(n,s,a,c){var d=Kn();c=c===void 0?null:c;var g=void 0;if(Nt!==null){var v=Nt.memoizedState;if(g=v.destroy,c!==null&&zh(c,v.deps)){d.memoizedState=Oa(s,a,g,c);return}}mt.flags|=n,d.memoizedState=Oa(1|s,a,g,c)}function Sm(n,s){return yu(8390656,8,n,s)}function Gh(n,s){return _u(2048,8,n,s)}function Am(n,s){return _u(4,2,n,s)}function Rm(n,s){return _u(4,4,n,s)}function Cm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Pm(n,s,a){return a=a!=null?a.concat([n]):null,_u(4,4,Cm.bind(null,s,n),a)}function Kh(){}function km(n,s){var a=Kn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&zh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function xm(n,s){var a=Kn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&zh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Nm(n,s,a){return(Ps&21)===0?(n.baseState&&(n.baseState=!1,En=!0),n.memoizedState=a):(ur(a,s)||(a=ys(),mt.lanes|=a,ks|=a,n.baseState=!0),s)}function Hw(n,s){var a=qe;qe=a!==0&&4>a?a:4,n(!0);var c=Bh.transition;Bh.transition={};try{n(!1),s()}finally{qe=a,Bh.transition=c}}function Dm(){return Kn().memoizedState}function qw(n,s,a){var c=Mi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},bm(n))Om(s,a);else if(a=rm(n,s,a,c),a!==null){var d=mn();pr(a,n,c,d),Vm(a,s,c)}}function Ww(n,s,a){var c=Mi(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(bm(n))Om(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,R=g(v,a);if(d.hasEagerState=!0,d.eagerState=R,ur(R,v)){var x=s.interleaved;x===null?(d.next=d,bh(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=rm(n,s,d,c),a!==null&&(d=mn(),pr(a,n,c,d),Vm(a,s,c))}}function bm(n){var s=n.alternate;return n===mt||s!==null&&s===mt}function Om(n,s){Na=gu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Vm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ti(n,a)}}var vu={readContext:Gn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},Gw={readContext:Gn,useCallback:function(n,s){return Dr().memoizedState=[n,s===void 0?null:s],n},useContext:Gn,useEffect:Sm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,yu(4194308,4,Cm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return yu(4194308,4,n,s)},useInsertionEffect:function(n,s){return yu(4,2,n,s)},useMemo:function(n,s){var a=Dr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Dr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=qw.bind(null,mt,n),[c.memoizedState,n]},useRef:function(n){var s=Dr();return n={current:n},s.memoizedState=n},useState:Tm,useDebugValue:Kh,useDeferredValue:function(n){return Dr().memoizedState=n},useTransition:function(){var n=Tm(!1),s=n[0];return n=Hw.bind(null,n[1]),Dr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=mt,d=Dr();if(ht){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ft===null)throw Error(t(349));(Ps&30)!==0||ym(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Sm(vm.bind(null,c,g,n),[n]),c.flags|=2048,Oa(9,_m.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Dr(),s=Ft.identifierPrefix;if(ht){var a=Jr,c=Yr;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Da++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=$w++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Kw={readContext:Gn,useCallback:km,useContext:Gn,useEffect:Gh,useImperativeHandle:Pm,useInsertionEffect:Am,useLayoutEffect:Rm,useMemo:xm,useReducer:qh,useRef:Im,useState:function(){return qh(ba)},useDebugValue:Kh,useDeferredValue:function(n){var s=Kn();return Nm(s,Nt.memoizedState,n)},useTransition:function(){var n=qh(ba)[0],s=Kn().memoizedState;return[n,s]},useMutableSource:mm,useSyncExternalStore:gm,useId:Dm,unstable_isNewReconciler:!1},Qw={readContext:Gn,useCallback:km,useContext:Gn,useEffect:Gh,useImperativeHandle:Pm,useInsertionEffect:Am,useLayoutEffect:Rm,useMemo:xm,useReducer:Wh,useRef:Im,useState:function(){return Wh(ba)},useDebugValue:Kh,useDeferredValue:function(n){var s=Kn();return Nt===null?s.memoizedState=n:Nm(s,Nt.memoizedState,n)},useTransition:function(){var n=Wh(ba)[0],s=Kn().memoizedState;return[n,s]},useMutableSource:mm,useSyncExternalStore:gm,useId:Dm,unstable_isNewReconciler:!1};function Ro(n,s){try{var a="",c=s;do a+=We(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function Qh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Xh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Xw=typeof WeakMap=="function"?WeakMap:Map;function Lm(n,s,a){a=ei(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Ru||(Ru=!0,hd=c),Xh(n,s)},a}function Mm(n,s,a){a=ei(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Xh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Xh(n,s),typeof c!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function jm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Xw;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=cT.bind(null,n,s,a),s.then(n,n))}function Fm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Um(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ei(-1,1),s.tag=2,bi(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var Yw=ae.ReactCurrentOwner,En=!1;function pn(n,s,a,c){s.child=n===null?fm(s,null,a,c):So(s,n.child,a,c)}function Bm(n,s,a,c,d){a=a.render;var g=s.ref;return Io(s,d),c=$h(n,s,a,c,g,d),a=Hh(),n!==null&&!En?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ti(n,s,d)):(ht&&a&&Sh(s),s.flags|=1,pn(n,s,c,d),s.child)}function zm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!_d(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,$m(n,s,g,c,d)):(n=Du(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(v,c)&&n.ref===s.ref)return ti(n,s,d)}return s.flags|=1,n=Fi(g,c),n.ref=s.ref,n.return=s,s.child=n}function $m(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(Ea(g,c)&&n.ref===s.ref)if(En=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(En=!0);else return s.lanes=n.lanes,ti(n,s,d)}return Yh(n,s,a,c,d)}function Hm(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Po,Ln),Ln|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,st(Po,Ln),Ln|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,st(Po,Ln),Ln|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,st(Po,Ln),Ln|=c;return pn(n,s,d,a),s.child}function qm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Yh(n,s,a,c,d){var g=vn(a)?Is:tn.current;return g=_o(s,g),Io(s,d),a=$h(n,s,a,c,g,d),c=Hh(),n!==null&&!En?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ti(n,s,d)):(ht&&c&&Sh(s),s.flags|=1,pn(n,s,a,d),s.child)}function Wm(n,s,a,c,d){if(vn(a)){var g=!0;ru(s)}else g=!1;if(Io(s,d),s.stateNode===null)wu(n,s),um(s,a,c),Lh(s,a,c,d),c=!0;else if(n===null){var v=s.stateNode,R=s.memoizedProps;v.props=R;var x=v.context,$=a.contextType;typeof $=="object"&&$!==null?$=Gn($):($=vn(a)?Is:tn.current,$=_o(s,$));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function";te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||x!==$)&&cm(s,v,c,$),Di=!1;var Y=s.memoizedState;v.state=Y,hu(s,c,v,d),x=s.memoizedState,R!==c||Y!==x||_n.current||Di?(typeof Z=="function"&&(Vh(s,a,Z,c),x=s.memoizedState),(R=Di||lm(s,a,R,c,Y,x,$))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),v.props=c,v.state=x,v.context=$,c=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,im(n,s),R=s.memoizedProps,$=s.type===s.elementType?R:hr(s.type,R),v.props=$,te=s.pendingProps,Y=v.context,x=a.contextType,typeof x=="object"&&x!==null?x=Gn(x):(x=vn(a)?Is:tn.current,x=_o(s,x));var ue=a.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==te||Y!==x)&&cm(s,v,c,x),Di=!1,Y=s.memoizedState,v.state=Y,hu(s,c,v,d);var me=s.memoizedState;R!==te||Y!==me||_n.current||Di?(typeof ue=="function"&&(Vh(s,a,ue,c),me=s.memoizedState),($=Di||lm(s,a,$,c,Y,me,x)||!1)?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,me,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,me,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=me),v.props=c,v.state=me,v.context=x,c=$):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),c=!1)}return Jh(n,s,a,c,g,d)}function Jh(n,s,a,c,d,g){qm(n,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&Xp(s,a,!1),ti(n,s,g);c=s.stateNode,Yw.current=s;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&v?(s.child=So(s,n.child,null,g),s.child=So(s,null,R,g)):pn(n,s,R,g),s.memoizedState=c.state,d&&Xp(s,a,!0),s.child}function Gm(n){var s=n.stateNode;s.pendingContext?Kp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Kp(n,s.context,!1),Mh(n,s.containerInfo)}function Km(n,s,a,c,d){return wo(),Ph(d),s.flags|=256,pn(n,s,a,c),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function ed(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qm(n,s,a){var c=s.pendingProps,d=pt.current,g=!1,v=(s.flags&128)!==0,R;if((R=v)||(R=n!==null&&n.memoizedState===null?!1:(d&2)!==0),R?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),st(pt,d&1),n===null)return Ch(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,n=c.fallback,g?(c=s.mode,g=s.child,v={mode:"hidden",children:v},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=v):g=bu(v,c,0,null),n=bs(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=ed(a),s.memoizedState=Zh,n):td(s,v));if(d=n.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return Jw(n,s,v,c,R,d,a);if(g){g=c.fallback,v=s.mode,d=n.child,R=d.sibling;var x={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=Fi(d,x),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=Fi(R,g):(g=bs(g,v,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,v=n.child.memoizedState,v=v===null?ed(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=n.childLanes&~a,s.memoizedState=Zh,c}return g=n.child,n=g.sibling,c=Fi(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function td(n,s){return s=bu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Eu(n,s,a,c){return c!==null&&Ph(c),So(s,n.child,null,a),n=td(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Jw(n,s,a,c,d,g,v){if(a)return s.flags&256?(s.flags&=-257,c=Qh(Error(t(422))),Eu(n,s,v,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=bu({mode:"visible",children:c.children},d,0,null),g=bs(g,d,v,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&So(s,n.child,null,v),s.child.memoizedState=ed(v),s.memoizedState=Zh,g);if((s.mode&1)===0)return Eu(n,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=Qh(g,c,void 0),Eu(n,s,v,c)}if(R=(v&n.childLanes)!==0,En||R){if(c=Ft,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Zr(n,d),pr(c,n,d,-1))}return yd(),c=Qh(Error(t(421))),Eu(n,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=hT.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,Vn=Pi(d.nextSibling),On=s,ht=!0,cr=null,n!==null&&(qn[Wn++]=Yr,qn[Wn++]=Jr,qn[Wn++]=Ss,Yr=n.id,Jr=n.overflow,Ss=s),s=td(s,c.children),s.flags|=4096,s)}function Xm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Dh(n.return,s,a)}function nd(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Ym(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(pn(n,s,c.children,a),c=pt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xm(n,a,s);else if(n.tag===19)Xm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(st(pt,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&pu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),nd(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&pu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}nd(s,!0,a,null,g);break;case"together":nd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ti(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ks|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Fi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Fi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Zw(n,s,a){switch(s.tag){case 3:Gm(s),wo();break;case 5:pm(s);break;case 1:vn(s.type)&&ru(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;st(lu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(st(pt,pt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Qm(n,s,a):(st(pt,pt.current&1),n=ti(n,s,a),n!==null?n.sibling:null);st(pt,pt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Ym(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),st(pt,pt.current),c)break;return null;case 22:case 23:return s.lanes=0,Hm(n,s,a)}return ti(n,s,a)}var Jm,rd,Zm,eg;Jm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rd=function(){},Zm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Cs(Nr.current);var g=null;switch(a){case"input":d=wr(n,d),c=wr(n,c),g=[];break;case"select":d=k({},d,{value:void 0}),c=k({},c,{value:void 0}),g=[];break;case"textarea":d=hs(n,d),c=hs(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=eu)}Je(a,c);var v;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var R=d[$];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var x=c[$];if(R=d!=null?d[$]:void 0,c.hasOwnProperty($)&&x!==R&&(x!=null||R!=null))if($==="style")if(R){for(v in R)!R.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in x)x.hasOwnProperty(v)&&R[v]!==x[v]&&(a||(a={}),a[v]=x[v])}else a||(g||(g=[]),g.push($,a)),a=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&at("scroll",n),g||R===x||(g=[])):(g=g||[]).push($,x))}a&&(g=g||[]).push("style",a);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},eg=function(n,s,a,c){a!==c&&(s.flags|=4)};function Va(n,s){if(!ht)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function rn(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function eT(n,s,a){var c=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(s),null;case 1:return vn(s.type)&&nu(),rn(s),null;case 3:return c=s.stateNode,Ao(),lt(_n),lt(tn),Uh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(au(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,cr!==null&&(pd(cr),cr=null))),rd(n,s),rn(s),null;case 5:jh(s);var d=Cs(xa.current);if(a=s.type,n!==null&&s.stateNode!=null)Zm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return rn(s),null}if(n=Cs(Nr.current),au(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[xr]=s,c[Aa]=g,n=(s.mode&1)!==0,a){case"dialog":at("cancel",c),at("close",c);break;case"iframe":case"object":case"embed":at("load",c);break;case"video":case"audio":for(d=0;d<Ta.length;d++)at(Ta[d],c);break;case"source":at("error",c);break;case"img":case"image":case"link":at("error",c),at("load",c);break;case"details":at("toggle",c);break;case"input":mi(c,g),at("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},at("invalid",c);break;case"textarea":yi(c,g),at("invalid",c)}Je(a,g),d=null;for(var v in g)if(g.hasOwnProperty(v)){var R=g[v];v==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&Zl(c.textContent,R,n),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Zl(c.textContent,R,n),d=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&at("scroll",c)}switch(a){case"input":Cn(c),Tr(c,g,!0);break;case"textarea":Cn(c),W(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=eu)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=q(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[xr]=s,n[Aa]=c,Jm(n,s,!1,!1),s.stateNode=n;e:{switch(v=zt(a,c),a){case"dialog":at("cancel",n),at("close",n),d=c;break;case"iframe":case"object":case"embed":at("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ta.length;d++)at(Ta[d],n);d=c;break;case"source":at("error",n),d=c;break;case"img":case"image":case"link":at("error",n),at("load",n),d=c;break;case"details":at("toggle",n),d=c;break;case"input":mi(n,c),d=wr(n,c),at("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=k({},c,{value:void 0}),at("invalid",n);break;case"textarea":yi(n,c),d=hs(n,c),at("invalid",n);break;default:d=c}Je(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?ot(n,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&le(n,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Ie(n,x):typeof x=="number"&&Ie(n,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&at("scroll",n):x!=null&&oe(n,g,x,v))}switch(a){case"input":Cn(n),Tr(n,c,!1);break;case"textarea":Cn(n),W(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?kn(n,!!c.multiple,g,!1):c.defaultValue!=null&&kn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=eu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rn(s),null;case 6:if(n&&s.stateNode!=null)eg(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Cs(xa.current),Cs(Nr.current),au(s)){if(c=s.stateNode,a=s.memoizedProps,c[xr]=s,(g=c.nodeValue!==a)&&(n=On,n!==null))switch(n.tag){case 3:Zl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zl(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[xr]=s,s.stateNode=c}return rn(s),null;case 13:if(lt(pt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ht&&Vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)nm(),wo(),s.flags|=98560,g=!1;else if(g=au(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[xr]=s}else wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rn(s),g=!1}else cr!==null&&(pd(cr),cr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(pt.current&1)!==0?Dt===0&&(Dt=3):yd())),s.updateQueue!==null&&(s.flags|=4),rn(s),null);case 4:return Ao(),rd(n,s),n===null&&Ia(s.stateNode.containerInfo),rn(s),null;case 10:return Nh(s.type._context),rn(s),null;case 17:return vn(s.type)&&nu(),rn(s),null;case 19:if(lt(pt),g=s.memoizedState,g===null)return rn(s),null;if(c=(s.flags&128)!==0,v=g.rendering,v===null)if(c)Va(g,!1);else{if(Dt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=pu(n),v!==null){for(s.flags|=128,Va(g,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,n=v.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return st(pt,pt.current&1|2),s.child}n=n.sibling}g.tail!==null&&it()>ko&&(s.flags|=128,c=!0,Va(g,!1),s.lanes=4194304)}else{if(!c)if(n=pu(v),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Va(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ht)return rn(s),null}else 2*it()-g.renderingStartTime>ko&&a!==1073741824&&(s.flags|=128,c=!0,Va(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,a=pt.current,st(pt,c?a&1|2:a&1),s):(rn(s),null);case 22:case 23:return gd(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(rn(s),s.subtreeFlags&6&&(s.flags|=8192)):rn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function tT(n,s){switch(Ah(s),s.tag){case 1:return vn(s.type)&&nu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ao(),lt(_n),lt(tn),Uh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return jh(s),null;case 13:if(lt(pt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return lt(pt),null;case 4:return Ao(),null;case 10:return Nh(s.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var Tu=!1,sn=!1,nT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Co(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){yt(n,s,c)}else a.current=null}function id(n,s,a){try{a()}catch(c){yt(n,s,c)}}var tg=!1;function rT(n,s){if(gh=Ai,n=Dp(),lh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,R=-1,x=-1,$=0,Z=0,te=n,Y=null;t:for(;;){for(var ue;te!==a||d!==0&&te.nodeType!==3||(R=v+d),te!==g||c!==0&&te.nodeType!==3||(x=v+c),te.nodeType===3&&(v+=te.nodeValue.length),(ue=te.firstChild)!==null;)Y=te,te=ue;for(;;){if(te===n)break t;if(Y===a&&++$===d&&(R=v),Y===g&&++Z===c&&(x=v),(ue=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=ue}a=R===-1||x===-1?null:{start:R,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(yh={focusedElem:n,selectionRange:a},Ai=!1,fe=s;fe!==null;)if(s=fe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,fe=n;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,vt=me.memoizedState,U=s.stateNode,O=U.getSnapshotBeforeUpdate(s.elementType===s.type?ge:hr(s.type,ge),vt);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){yt(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,fe=n;break}fe=s.return}return me=tg,tg=!1,me}function La(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&id(s,a,g)}d=d.next}while(d!==c)}}function Iu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function sd(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function ng(n){var s=n.alternate;s!==null&&(n.alternate=null,ng(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[xr],delete s[Aa],delete s[wh],delete s[Fw],delete s[Uw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rg(n){return n.tag===5||n.tag===3||n.tag===4}function ig(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function od(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=eu));else if(c!==4&&(n=n.child,n!==null))for(od(n,s,a),n=n.sibling;n!==null;)od(n,s,a),n=n.sibling}function ad(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(ad(n,s,a),n=n.sibling;n!==null;)ad(n,s,a),n=n.sibling}var Gt=null,dr=!1;function Oi(n,s,a){for(a=a.child;a!==null;)sg(n,s,a),a=a.sibling}function sg(n,s,a){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(ms,a)}catch{}switch(a.tag){case 5:sn||Co(a,s);case 6:var c=Gt,d=dr;Gt=null,Oi(n,s,a),Gt=c,dr=d,Gt!==null&&(dr?(n=Gt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Gt.removeChild(a.stateNode));break;case 18:Gt!==null&&(dr?(n=Gt,a=a.stateNode,n.nodeType===8?Eh(n.parentNode,a):n.nodeType===1&&Eh(n,a),ar(n)):Eh(Gt,a.stateNode));break;case 4:c=Gt,d=dr,Gt=a.stateNode.containerInfo,dr=!0,Oi(n,s,a),Gt=c,dr=d;break;case 0:case 11:case 14:case 15:if(!sn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,v=g.destroy;g=g.tag,v!==void 0&&((g&2)!==0||(g&4)!==0)&&id(a,s,v),d=d.next}while(d!==c)}Oi(n,s,a);break;case 1:if(!sn&&(Co(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){yt(a,s,R)}Oi(n,s,a);break;case 21:Oi(n,s,a);break;case 22:a.mode&1?(sn=(c=sn)||a.memoizedState!==null,Oi(n,s,a),sn=c):Oi(n,s,a);break;default:Oi(n,s,a)}}function og(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new nT),s.forEach(function(c){var d=dT.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function fr(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,v=s,R=v;e:for(;R!==null;){switch(R.tag){case 5:Gt=R.stateNode,dr=!1;break e;case 3:Gt=R.stateNode.containerInfo,dr=!0;break e;case 4:Gt=R.stateNode.containerInfo,dr=!0;break e}R=R.return}if(Gt===null)throw Error(t(160));sg(g,v,d),Gt=null,dr=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch($){yt(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ag(s,n),s=s.sibling}function ag(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fr(s,n),br(n),c&4){try{La(3,n,n.return),Iu(3,n)}catch(ge){yt(n,n.return,ge)}try{La(5,n,n.return)}catch(ge){yt(n,n.return,ge)}}break;case 1:fr(s,n),br(n),c&512&&a!==null&&Co(a,a.return);break;case 5:if(fr(s,n),br(n),c&512&&a!==null&&Co(a,a.return),n.flags&32){var d=n.stateNode;try{Ie(d,"")}catch(ge){yt(n,n.return,ge)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,v=a!==null?a.memoizedProps:g,R=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&gi(d,g),zt(R,v);var $=zt(R,g);for(v=0;v<x.length;v+=2){var Z=x[v],te=x[v+1];Z==="style"?ot(d,te):Z==="dangerouslySetInnerHTML"?le(d,te):Z==="children"?Ie(d,te):oe(d,Z,te,$)}switch(R){case"input":cs(d,g);break;case"textarea":zr(d,g);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?kn(d,!!g.multiple,ue,!1):Y!==!!g.multiple&&(g.defaultValue!=null?kn(d,!!g.multiple,g.defaultValue,!0):kn(d,!!g.multiple,g.multiple?[]:"",!1))}d[Aa]=g}catch(ge){yt(n,n.return,ge)}}break;case 6:if(fr(s,n),br(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(ge){yt(n,n.return,ge)}}break;case 3:if(fr(s,n),br(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(s.containerInfo)}catch(ge){yt(n,n.return,ge)}break;case 4:fr(s,n),br(n);break;case 13:fr(s,n),br(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(cd=it())),c&4&&og(n);break;case 22:if(Z=a!==null&&a.memoizedState!==null,n.mode&1?(sn=($=sn)||Z,fr(s,n),sn=$):fr(s,n),br(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!Z&&(n.mode&1)!==0)for(fe=n,Z=n.child;Z!==null;){for(te=fe=Z;fe!==null;){switch(Y=fe,ue=Y.child,Y.tag){case 0:case 11:case 14:case 15:La(4,Y,Y.return);break;case 1:Co(Y,Y.return);var me=Y.stateNode;if(typeof me.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){yt(c,a,ge)}}break;case 5:Co(Y,Y.return);break;case 22:if(Y.memoizedState!==null){cg(te);continue}}ue!==null?(ue.return=Y,fe=ue):cg(te)}Z=Z.sibling}e:for(Z=null,te=n;;){if(te.tag===5){if(Z===null){Z=te;try{d=te.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,x=te.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Se("display",v))}catch(ge){yt(n,n.return,ge)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(ge){yt(n,n.return,ge)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===n)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===n)break e;for(;te.sibling===null;){if(te.return===null||te.return===n)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:fr(s,n),br(n),c&4&&og(n);break;case 21:break;default:fr(s,n),br(n)}}function br(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(rg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ie(d,""),c.flags&=-33);var g=ig(n);ad(n,g,d);break;case 3:case 4:var v=c.stateNode.containerInfo,R=ig(n);od(n,R,v);break;default:throw Error(t(161))}}catch(x){yt(n,n.return,x)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function iT(n,s,a){fe=n,lg(n)}function lg(n,s,a){for(var c=(n.mode&1)!==0;fe!==null;){var d=fe,g=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Tu;if(!v){var R=d.alternate,x=R!==null&&R.memoizedState!==null||sn;R=Tu;var $=sn;if(Tu=v,(sn=x)&&!$)for(fe=d;fe!==null;)v=fe,x=v.child,v.tag===22&&v.memoizedState!==null?hg(d):x!==null?(x.return=v,fe=x):hg(d);for(;g!==null;)fe=g,lg(g),g=g.sibling;fe=d,Tu=R,sn=$}ug(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,fe=g):ug(n)}}function ug(n){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:sn||Iu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!sn)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:hr(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&om(s,g,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}om(s,v,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&ar(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||s.flags&512&&sd(s)}catch(Y){yt(s,s.return,Y)}}if(s===n){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function cg(n){for(;fe!==null;){var s=fe;if(s===n){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function hg(n){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Iu(4,s)}catch(x){yt(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(x){yt(s,d,x)}}var g=s.return;try{sd(s)}catch(x){yt(s,g,x)}break;case 5:var v=s.return;try{sd(s)}catch(x){yt(s,v,x)}}}catch(x){yt(s,s.return,x)}if(s===n){fe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,fe=R;break}fe=s.return}}var sT=Math.ceil,Su=ae.ReactCurrentDispatcher,ld=ae.ReactCurrentOwner,Qn=ae.ReactCurrentBatchConfig,Xe=0,Ft=null,Tt=null,Kt=0,Ln=0,Po=ki(0),Dt=0,Ma=null,ks=0,Au=0,ud=0,ja=null,wn=null,cd=0,ko=1/0,ni=null,Ru=!1,hd=null,Vi=null,Cu=!1,Li=null,Pu=0,Fa=0,dd=null,ku=-1,xu=0;function mn(){return(Xe&6)!==0?it():ku!==-1?ku:ku=it()}function Mi(n){return(n.mode&1)===0?1:(Xe&2)!==0&&Kt!==0?Kt&-Kt:zw.transition!==null?(xu===0&&(xu=ys()),xu):(n=qe,n!==0||(n=window.event,n=n===void 0?16:fa(n.type)),n)}function pr(n,s,a,c){if(50<Fa)throw Fa=0,dd=null,Error(t(185));wi(n,a,c),((Xe&2)===0||n!==Ft)&&(n===Ft&&((Xe&2)===0&&(Au|=a),Dt===4&&ji(n,Kt)),Tn(n,c),a===1&&Xe===0&&(s.mode&1)===0&&(ko=it()+500,iu&&Ni()))}function Tn(n,s){var a=n.callbackNode;Hr(n,s);var c=gs(n,n===Ft?Kt:0);if(c===0)a!==null&&la(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&la(a),s===1)n.tag===0?Bw(fg.bind(null,n)):Yp(fg.bind(null,n)),Mw(function(){(Xe&6)===0&&Ni()}),a=null;else{switch(Ii(c)){case 1:a=ps;break;case 4:a=_i;break;case 16:a=zn;break;case 536870912:a=xl;break;default:a=zn}a=wg(a,dg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function dg(n,s){if(ku=-1,xu=0,(Xe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(xo()&&n.callbackNode!==a)return null;var c=gs(n,n===Ft?Kt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Nu(n,c);else{s=c;var d=Xe;Xe|=2;var g=mg();(Ft!==n||Kt!==s)&&(ni=null,ko=it()+500,Ns(n,s));do try{lT();break}catch(R){pg(n,R)}while(!0);xh(),Su.current=g,Xe=d,Tt!==null?s=0:(Ft=null,Kt=0,s=Dt)}if(s!==0){if(s===2&&(d=Nn(n),d!==0&&(c=d,s=fd(n,d))),s===1)throw a=Ma,Ns(n,0),ji(n,c),Tn(n,it()),a;if(s===6)ji(n,c);else{if(d=n.current.alternate,(c&30)===0&&!oT(d)&&(s=Nu(n,c),s===2&&(g=Nn(n),g!==0&&(c=g,s=fd(n,g))),s===1))throw a=Ma,Ns(n,0),ji(n,c),Tn(n,it()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Ds(n,wn,ni);break;case 3:if(ji(n,c),(c&130023424)===c&&(s=cd+500-it(),10<s)){if(gs(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){mn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=vh(Ds.bind(null,n,wn,ni),s);break}Ds(n,wn,ni);break;case 4:if(ji(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var v=31-dn(c);g=1<<v,v=s[v],v>d&&(d=v),c&=~g}if(c=d,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*sT(c/1960))-c,10<c){n.timeoutHandle=vh(Ds.bind(null,n,wn,ni),c);break}Ds(n,wn,ni);break;case 5:Ds(n,wn,ni);break;default:throw Error(t(329))}}}return Tn(n,it()),n.callbackNode===a?dg.bind(null,n):null}function fd(n,s){var a=ja;return n.current.memoizedState.isDehydrated&&(Ns(n,s).flags|=256),n=Nu(n,s),n!==2&&(s=wn,wn=a,s!==null&&pd(s)),n}function pd(n){wn===null?wn=n:wn.push.apply(wn,n)}function oT(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!ur(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(n,s){for(s&=~ud,s&=~Au,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-dn(s),c=1<<a;n[a]=-1,s&=~c}}function fg(n){if((Xe&6)!==0)throw Error(t(327));xo();var s=gs(n,0);if((s&1)===0)return Tn(n,it()),null;var a=Nu(n,s);if(n.tag!==0&&a===2){var c=Nn(n);c!==0&&(s=c,a=fd(n,c))}if(a===1)throw a=Ma,Ns(n,0),ji(n,s),Tn(n,it()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ds(n,wn,ni),Tn(n,it()),null}function md(n,s){var a=Xe;Xe|=1;try{return n(s)}finally{Xe=a,Xe===0&&(ko=it()+500,iu&&Ni())}}function xs(n){Li!==null&&Li.tag===0&&(Xe&6)===0&&xo();var s=Xe;Xe|=1;var a=Qn.transition,c=qe;try{if(Qn.transition=null,qe=1,n)return n()}finally{qe=c,Qn.transition=a,Xe=s,(Xe&6)===0&&Ni()}}function gd(){Ln=Po.current,lt(Po)}function Ns(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Lw(a)),Tt!==null)for(a=Tt.return;a!==null;){var c=a;switch(Ah(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&nu();break;case 3:Ao(),lt(_n),lt(tn),Uh();break;case 5:jh(c);break;case 4:Ao();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Nh(c.type._context);break;case 22:case 23:gd()}a=a.return}if(Ft=n,Tt=n=Fi(n.current,null),Kt=Ln=s,Dt=0,Ma=null,ud=Au=ks=0,wn=ja=null,Rs!==null){for(s=0;s<Rs.length;s++)if(a=Rs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var v=g.next;g.next=d,c.next=v}a.pending=c}Rs=null}return n}function pg(n,s){do{var a=Tt;try{if(xh(),mu.current=vu,gu){for(var c=mt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}gu=!1}if(Ps=0,jt=Nt=mt=null,Na=!1,Da=0,ld.current=null,a===null||a.return===null){Dt=1,Ma=s,Tt=null;break}e:{var g=n,v=a.return,R=a,x=s;if(s=Kt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,Z=R,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=Fm(v);if(ue!==null){ue.flags&=-257,Um(ue,v,R,g,s),ue.mode&1&&jm(g,$,s),s=ue,x=$;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(x),s.updateQueue=ge}else me.add(x);break e}else{if((s&1)===0){jm(g,$,s),yd();break e}x=Error(t(426))}}else if(ht&&R.mode&1){var vt=Fm(v);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Um(vt,v,R,g,s),Ph(Ro(x,R));break e}}g=x=Ro(x,R),Dt!==4&&(Dt=2),ja===null?ja=[g]:ja.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Lm(g,x,s);sm(g,U);break e;case 1:R=x;var O=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Vi===null||!Vi.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Mm(g,R,s);sm(g,re);break e}}g=g.return}while(g!==null)}yg(a)}catch(ye){s=ye,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function mg(){var n=Su.current;return Su.current=vu,n===null?vu:n}function yd(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(ks&268435455)===0&&(Au&268435455)===0||ji(Ft,Kt)}function Nu(n,s){var a=Xe;Xe|=2;var c=mg();(Ft!==n||Kt!==s)&&(ni=null,Ns(n,s));do try{aT();break}catch(d){pg(n,d)}while(!0);if(xh(),Xe=a,Su.current=c,Tt!==null)throw Error(t(261));return Ft=null,Kt=0,Dt}function aT(){for(;Tt!==null;)gg(Tt)}function lT(){for(;Tt!==null&&!Pl();)gg(Tt)}function gg(n){var s=Eg(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,s===null?yg(n):Tt=s,ld.current=null}function yg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=eT(a,s,Ln),a!==null){Tt=a;return}}else{if(a=tT(a,s),a!==null){a.flags&=32767,Tt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dt=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=n}while(s!==null);Dt===0&&(Dt=5)}function Ds(n,s,a){var c=qe,d=Qn.transition;try{Qn.transition=null,qe=1,uT(n,s,a,c)}finally{Qn.transition=d,qe=c}return null}function uT(n,s,a,c){do xo();while(Li!==null);if((Xe&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(rt(n,g),n===Ft&&(Tt=Ft=null,Kt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Cu||(Cu=!0,wg(zn,function(){return xo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Qn.transition,Qn.transition=null;var v=qe;qe=1;var R=Xe;Xe|=4,ld.current=null,rT(n,a),ag(a,n),kw(yh),Ai=!!gh,yh=gh=null,n.current=a,iT(a),eh(),Xe=R,qe=v,Qn.transition=g}else n.current=a;if(Cu&&(Cu=!1,Li=n,Pu=d),g=n.pendingLanes,g===0&&(Vi=null),Nl(a.stateNode),Tn(n,it()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ru)throw Ru=!1,n=hd,hd=null,n;return(Pu&1)!==0&&n.tag!==0&&xo(),g=n.pendingLanes,(g&1)!==0?n===dd?Fa++:(Fa=0,dd=n):Fa=0,Ni(),null}function xo(){if(Li!==null){var n=Ii(Pu),s=Qn.transition,a=qe;try{if(Qn.transition=null,qe=16>n?16:n,Li===null)var c=!1;else{if(n=Li,Li=null,Pu=0,(Xe&6)!==0)throw Error(t(331));var d=Xe;for(Xe|=4,fe=n.current;fe!==null;){var g=fe,v=g.child;if((fe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var $=R[x];for(fe=$;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:La(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,fe=te;else for(;fe!==null;){Z=fe;var Y=Z.sibling,ue=Z.return;if(ng(Z),Z===$){fe=null;break}if(Y!==null){Y.return=ue,fe=Y;break}fe=ue}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&v!==null)v.return=g,fe=v;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:La(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,fe=U;break e}fe=g.return}}var O=n.current;for(fe=O;fe!==null;){v=fe;var z=v.child;if((v.subtreeFlags&2064)!==0&&z!==null)z.return=v,fe=z;else e:for(v=O;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Iu(9,R)}}catch(ye){yt(R,R.return,ye)}if(R===v){fe=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,fe=re;break e}fe=R.return}}if(Xe=d,Ni(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(ms,n)}catch{}c=!0}return c}finally{qe=a,Qn.transition=s}}return!1}function _g(n,s,a){s=Ro(a,s),s=Lm(n,s,1),n=bi(n,s,1),s=mn(),n!==null&&(wi(n,1,s),Tn(n,s))}function yt(n,s,a){if(n.tag===3)_g(n,n,a);else for(;s!==null;){if(s.tag===3){_g(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vi===null||!Vi.has(c))){n=Ro(a,n),n=Mm(s,n,1),s=bi(s,n,1),n=mn(),s!==null&&(wi(s,1,n),Tn(s,n));break}}s=s.return}}function cT(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=mn(),n.pingedLanes|=n.suspendedLanes&a,Ft===n&&(Kt&a)===a&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>it()-cd?Ns(n,0):ud|=a),Tn(n,s)}function vg(n,s){s===0&&((n.mode&1)===0?s=1:(s=Js,Js<<=1,(Js&130023424)===0&&(Js=4194304)));var a=mn();n=Zr(n,s),n!==null&&(wi(n,s,a),Tn(n,a))}function hT(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),vg(n,a)}function dT(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),vg(n,a)}var Eg;Eg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||_n.current)En=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return En=!1,Zw(n,s,a);En=(n.flags&131072)!==0}else En=!1,ht&&(s.flags&1048576)!==0&&Jp(s,ou,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;wu(n,s),n=s.pendingProps;var d=_o(s,tn.current);Io(s,a),d=$h(null,s,c,n,d,a);var g=Hh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(c)?(g=!0,ru(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Oh(s),d.updater=du,s.stateNode=d,d._reactInternals=s,Lh(s,c,n,a),s=Jh(null,s,c,!0,g,a)):(s.tag=0,ht&&g&&Sh(s),pn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(wu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=pT(c),n=hr(c,n),d){case 0:s=Yh(null,s,c,n,a);break e;case 1:s=Wm(null,s,c,n,a);break e;case 11:s=Bm(null,s,c,n,a);break e;case 14:s=zm(null,s,c,hr(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),Yh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),Wm(n,s,c,d,a);case 3:e:{if(Gm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,im(n,s),hu(s,c,null,a);var v=s.memoizedState;if(c=v.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=Ro(Error(t(423)),s),s=Km(n,s,c,a,d);break e}else if(c!==d){d=Ro(Error(t(424)),s),s=Km(n,s,c,a,d);break e}else for(Vn=Pi(s.stateNode.containerInfo.firstChild),On=s,ht=!0,cr=null,a=fm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(wo(),c===d){s=ti(n,s,a);break e}pn(n,s,c,a)}s=s.child}return s;case 5:return pm(s),n===null&&Ch(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,v=d.children,_h(c,d)?v=null:g!==null&&_h(c,g)&&(s.flags|=32),qm(n,s),pn(n,s,v,a),s.child;case 6:return n===null&&Ch(s),null;case 13:return Qm(n,s,a);case 4:return Mh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=So(s,null,c,a):pn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),Bm(n,s,c,d,a);case 7:return pn(n,s,s.pendingProps,a),s.child;case 8:return pn(n,s,s.pendingProps.children,a),s.child;case 12:return pn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,v=d.value,st(lu,c._currentValue),c._currentValue=v,g!==null)if(ur(g.value,v)){if(g.children===d.children&&!_n.current){s=ti(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){v=g.child;for(var x=R.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=ei(-1,a&-a),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),$.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Dh(g.return,a,s),R.lanes|=a;break}x=x.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),Dh(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}pn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Io(s,a),d=Gn(d),c=c(d),s.flags|=1,pn(n,s,c,a),s.child;case 14:return c=s.type,d=hr(c,s.pendingProps),d=hr(c.type,d),zm(n,s,c,d,a);case 15:return $m(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),wu(n,s),s.tag=1,vn(c)?(n=!0,ru(s)):n=!1,Io(s,a),um(s,c,d),Lh(s,c,d,a),Jh(null,s,c,!0,n,a);case 19:return Ym(n,s,a);case 22:return Hm(n,s,a)}throw Error(t(156,s.tag))};function wg(n,s){return Xs(n,s)}function fT(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,s,a,c){return new fT(n,s,a,c)}function _d(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pT(n){if(typeof n=="function")return _d(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===Vt)return 14}return 2}function Fi(n,s){var a=n.alternate;return a===null?(a=Xn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Du(n,s,a,c,d,g){var v=2;if(c=n,typeof n=="function")_d(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case b:return bs(a.children,d,g,s);case A:v=8,d|=8;break;case P:return n=Xn(12,a,s,d|2),n.elementType=P,n.lanes=g,n;case C:return n=Xn(13,a,s,d),n.elementType=C,n.lanes=g,n;case dt:return n=Xn(19,a,s,d),n.elementType=dt,n.lanes=g,n;case Ne:return bu(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:v=10;break e;case V:v=9;break e;case M:v=11;break e;case Vt:v=14;break e;case Lt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Xn(v,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function bs(n,s,a,c){return n=Xn(7,n,c,s),n.lanes=a,n}function bu(n,s,a,c){return n=Xn(22,n,c,s),n.elementType=Ne,n.lanes=a,n.stateNode={isHidden:!1},n}function vd(n,s,a){return n=Xn(6,n,null,s),n.lanes=a,n}function Ed(n,s,a){return s=Xn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function mT(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function wd(n,s,a,c,d,g,v,R,x){return n=new mT(n,s,a,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Xn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oh(g),n}function gT(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Tg(n){if(!n)return xi;n=n._reactInternals;e:{if(nr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(vn(a))return Qp(n,a,s)}return s}function Ig(n,s,a,c,d,g,v,R,x){return n=wd(a,c,!0,n,d,g,v,R,x),n.context=Tg(null),a=n.current,c=mn(),d=Mi(a),g=ei(c,d),g.callback=s??null,bi(a,g,d),n.current.lanes=d,wi(n,d,c),Tn(n,c),n}function Ou(n,s,a,c){var d=s.current,g=mn(),v=Mi(d);return a=Tg(a),s.context===null?s.context=a:s.pendingContext=a,s=ei(g,v),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=bi(d,s,v),n!==null&&(pr(n,d,v,g),cu(n,d,v)),v}function Vu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Td(n,s){Sg(n,s),(n=n.alternate)&&Sg(n,s)}function yT(){return null}var Ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function Id(n){this._internalRoot=n}Lu.prototype.render=Id.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Ou(n,s,null,null)},Lu.prototype.unmount=Id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;xs(function(){Ou(null,n,null,null)}),s[Qr]=null}};function Lu(n){this._internalRoot=n}Lu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ll();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Rr.length&&s!==0&&s<Rr[a].priority;a++);Rr.splice(a,0,n),a===0&&Fl(n)}};function Sd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Mu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Rg(){}function _T(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=Vu(v);g.call($)}}var v=Ig(s,c,n,0,null,!1,!1,"",Rg);return n._reactRootContainer=v,n[Qr]=v.current,Ia(n.nodeType===8?n.parentNode:n),xs(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var $=Vu(x);R.call($)}}var x=wd(n,0,!1,null,null,!1,!1,"",Rg);return n._reactRootContainer=x,n[Qr]=x.current,Ia(n.nodeType===8?n.parentNode:n),xs(function(){Ou(s,x,a,c)}),x}function ju(n,s,a,c,d){var g=a._reactRootContainer;if(g){var v=g;if(typeof d=="function"){var R=d;d=function(){var x=Vu(v);R.call(x)}}Ou(s,v,n,d)}else v=_T(a,s,n,d,c);return Vu(v)}Ol=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=vi(s.pendingLanes);a!==0&&(Ti(s,a|1),Tn(s,it()),(Xe&6)===0&&(ko=it()+500,Ni()))}break;case 13:xs(function(){var c=Zr(n,1);if(c!==null){var d=mn();pr(c,n,1,d)}}),Td(n,1)}},Zs=function(n){if(n.tag===13){var s=Zr(n,134217728);if(s!==null){var a=mn();pr(s,n,134217728,a)}Td(n,134217728)}},Vl=function(n){if(n.tag===13){var s=Mi(n),a=Zr(n,s);if(a!==null){var c=mn();pr(a,n,s,c)}Td(n,s)}},Ll=function(){return qe},Ml=function(n,s){var a=qe;try{return qe=n,s()}finally{qe=a}},Zn=function(n,s,a){switch(s){case"input":if(cs(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=tu(c);if(!d)throw Error(t(90));Er(c),cs(c,d)}}}break;case"textarea":zr(n,a);break;case"select":s=a.value,s!=null&&kn(n,!!a.multiple,s,!1)}},cn=md,er=xs;var vT={usingClientEntryPoint:!1,Events:[Ra,go,tu,nt,Pt,md]},Ua={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ET={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=aa(n),n===null?null:n.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||yT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{ms=Fu.inject(ET),xn=Fu}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT,In.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(s))throw Error(t(200));return gT(n,s,null,a)},In.createRoot=function(n,s){if(!Sd(n))throw Error(t(299));var a=!1,c="",d=Ag;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=wd(n,1,!1,null,null,a,!1,c,d),n[Qr]=s.current,Ia(n.nodeType===8?n.parentNode:n),new Id(s)},In.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=aa(s),n=n===null?null:n.stateNode,n},In.flushSync=function(n){return xs(n)},In.hydrate=function(n,s,a){if(!Mu(s))throw Error(t(200));return ju(null,n,s,!0,a)},In.hydrateRoot=function(n,s,a){if(!Sd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",v=Ag;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=Ig(s,null,n,1,a??null,d,!1,g,v),n[Qr]=s.current,Ia(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Lu(s)},In.render=function(n,s,a){if(!Mu(s))throw Error(t(200));return ju(null,n,s,!1,a)},In.unmountComponentAtNode=function(n){if(!Mu(n))throw Error(t(40));return n._reactRootContainer?(xs(function(){ju(null,null,n,!1,function(){n._reactRootContainer=null,n[Qr]=null})}),!0):!1},In.unstable_batchedUpdates=md,In.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Mu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return ju(n,s,a,!1,c)},In.version="18.2.0-next-9e3b772b8-20220608",In}var Og;function kT(){if(Og)return Cd.exports;Og=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=PT(),Cd.exports}var Vg;function xT(){if(Vg)return Uu;Vg=1;var r=kT();return Uu.createRoot=r.createRoot,Uu.hydrateRoot=r.hydrateRoot,Uu}var NT=xT();const DT=P_(NT),k_=_t.createContext({}),x_=!0;function bT({baseColor:r,highlightColor:e,width:t,height:i,borderRadius:o,circle:l,direction:h,duration:f,enableAnimation:p=x_}){const y={};return h==="rtl"&&(y["--animation-direction"]="reverse"),typeof f=="number"&&(y["--animation-duration"]=`${f}s`),p||(y["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(y.width=t),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof o=="string"||typeof o=="number")&&(y.borderRadius=o),l&&(y.borderRadius="50%"),typeof r<"u"&&(y["--base-color"]=r),typeof e<"u"&&(y["--highlight-color"]=e),y}function Lo({count:r=1,wrapper:e,className:t,containerClassName:i,containerTestId:o,circle:l=!1,style:h,...f}){var p,y,E;const S=_t.useContext(k_),I={...f};for(const[oe,ae]of Object.entries(f))typeof ae>"u"&&delete I[oe];const N={...S,...I,circle:l},B={...h,...bT(N)};let L="react-loading-skeleton";t&&(L+=` ${t}`);const j=(p=N.inline)!==null&&p!==void 0?p:!1,ee=[],ne=Math.ceil(r);for(let oe=0;oe<ne;oe++){let ae=B;if(ne>r&&oe===ne-1){const Pe=(y=ae.width)!==null&&y!==void 0?y:"100%",b=r%1,A=typeof Pe=="number"?Pe*b:`calc(${Pe} * ${b})`;ae={...ae,width:A}}const je=_t.createElement("span",{className:L,style:ae,key:oe},"‌");j?ee.push(je):ee.push(_t.createElement(_t.Fragment,{key:oe},je,_t.createElement("br",null)))}return _t.createElement("span",{className:i,"data-testid":o,"aria-live":"polite","aria-busy":(E=N.enableAnimation)!==null&&E!==void 0?E:x_},e?ee.map((oe,ae)=>_t.createElement(e,{key:ae},oe)):ee)}function OT({children:r,...e}){return _t.createElement(k_.Provider,{value:e},r)}const VT="modulepreload",LT=function(r,e){return new URL(r,e).href},Lg={},Yn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=Promise.allSettled(t.map(y=>{if(y=LT(y,i),y in Lg)return;Lg[y]=!0;const E=y.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(!!i)for(let B=h.length-1;B>=0;B--){const L=h[B];if(L.href===y&&(!E||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const N=document.createElement("link");if(N.rel=E?"stylesheet":VT,E||(N.as="script"),N.crossOrigin="",N.href=y,p&&N.setAttribute("nonce",p),document.head.appendChild(N),E)return new Promise((B,L)=>{N.addEventListener("load",B),N.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return o.then(h=>{for(const f of h||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},tt.apply(this,arguments)}var St;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(St||(St={}));const Mg="popstate";function MT(r){r===void 0&&(r={});function e(o,l){let{pathname:h="/",search:f="",hash:p=""}=Br(o.location.hash.substr(1));return el("",{pathname:h,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:ui(l))}function i(o,l){N_(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return FT(e,t,i,r)}function Me(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function N_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jT(){return Math.random().toString(36).substr(2,8)}function jg(r,e){return{usr:r.state,key:r.key,idx:e}}function el(r,e,t,i){return t===void 0&&(t=null),tt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:t,key:e&&e.key||i||jT()})}function ui(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Br(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function FT(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=St.Pop,p=null,y=E();y==null&&(y=0,h.replaceState(tt({},h.state,{idx:y}),""));function E(){return(h.state||{idx:null}).idx}function S(){let j=St.Pop,ee=E();if(ee!=null){let ne=ee-y;f=j,y=ee,p&&p({action:f,location:L.location,delta:ne})}else N_(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function I(j,ee){f=St.Push;let ne=el(L.location,j,ee);t&&t(ne,j),y=E()+1;let oe=jg(ne,y),ae=L.createHref(ne);try{h.pushState(oe,"",ae)}catch{o.location.assign(ae)}l&&p&&p({action:f,location:L.location,delta:1})}function N(j,ee){f=St.Replace;let ne=el(L.location,j,ee);t&&t(ne,j),y=E();let oe=jg(ne,y),ae=L.createHref(ne);h.replaceState(oe,"",ae),l&&p&&p({action:f,location:L.location,delta:0})}function B(j){let ee=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof j=="string"?j:ui(j);return Me(ee,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,ee)}let L={get action(){return f},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Mg,S),p=j,()=>{o.removeEventListener(Mg,S),p=null}},createHref(j){return e(o,j)},createURL:B,encodeLocation(j){let ee=B(j);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:I,replace:N,go(j){return h.go(j)}};return L}var Qt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Qt||(Qt={}));function UT(r){return r.index===!0}function D_(r,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),r.map((i,o)=>{let l=[...e,o],h=typeof i.id=="string"?i.id:l.join("-");return Me(i.index!==!0||!i.children,"Cannot specify children on an index route"),Me(!t.has(h),'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),t.add(h),UT(i)?tt({},i,{id:h}):tt({},i,{id:h,children:i.children?D_(i.children,l,t):void 0})})}function Ha(r,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Br(e):e,o=V_(i.pathname||"/",t);if(o==null)return null;let l=b_(r);BT(l);let h=null;for(let f=0;h==null&&f<l.length;++f)h=XT(l[f],ZT(o));return h}function b_(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=ai([i,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(Me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),b_(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:KT(y,l.index),routesMeta:E})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of O_(l.path))o(l,h,p)}),e}function O_(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=O_(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function BT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:QT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const zT=/^:\w+$/,$T=3,HT=2,qT=1,WT=10,GT=-2,Fg=r=>r==="*";function KT(r,e){let t=r.split("/"),i=t.length;return t.some(Fg)&&(i+=GT),e&&(i+=HT),t.filter(o=>!Fg(o)).reduce((o,l)=>o+(zT.test(l)?$T:l===""?qT:WT),i)}function QT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function XT(r,e){let{routesMeta:t}=r,i={},o="/",l=[];for(let h=0;h<t.length;++h){let f=t[h],p=h===t.length-1,y=o==="/"?e:e.slice(o.length)||"/",E=YT({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y);if(!E)return null;Object.assign(i,E.params);let S=f.route;l.push({params:i,pathname:ai([o,E.pathname]),pathnameBase:rI(ai([o,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(o=ai([o,E.pathnameBase]))}return l}function YT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=JT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,E,S)=>{if(E==="*"){let I=f[S]||"";h=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}return y[E]=eI(f[S]||"",E),y},{}),pathname:l,pathnameBase:h,pattern:r}}function JT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ac(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,f)=>(i.push(f),"/([^\\/]+)"));return r.endsWith("*")?(i.push("*"),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ZT(r){try{return decodeURI(r)}catch(e){return Ac(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function eI(r,e){try{return decodeURIComponent(r)}catch(t){return Ac(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function V_(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function Ac(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tI(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Br(r):r;return{pathname:t?t.startsWith("/")?t:nI(t,e):e,search:iI(i),hash:sI(o)}}function nI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xd(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rc(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wf(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Br(r):(o=tt({},r),Me(!o.pathname||!o.pathname.includes("?"),xd("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),xd("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),xd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(i||h==null)f=t;else{let S=e.length-1;if(h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}f=S>=0?e[S]:"/"}let p=tI(o,f),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}const ai=r=>r.join("/").replace(/\/\/+/g,"/"),rI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class Ug extends Error{}class oI{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Me(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((l,h)=>i=h),this.controller=new AbortController;let o=()=>i(new Ug("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",o),this.controller.signal.addEventListener("abort",o),this.data=Object.entries(e).reduce((l,h)=>{let[f,p]=h;return Object.assign(l,{[f]:this.trackPromise(f,p)})},{}),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(o=>this.onSettle(i,e,null,o),o=>this.onSettle(i,e,o));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,o){return this.controller.signal.aborted&&i instanceof Ug?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>o}),this.emit(!1,t),o))}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(o=>{this.subscribe(l=>{e.removeEventListener("abort",i),(l||this.done)&&o(l)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Me(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,o]=t;return Object.assign(e,{[i]:lI(o)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function aI(r){return r instanceof Promise&&r._tracked===!0}function lI(r){if(!aI(r))return r;if(r._error)throw r._error;return r._data}class Cc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function L_(r){return r instanceof Cc}const M_=["post","put","patch","delete"],uI=new Set(M_),cI=["get",...M_],hI=new Set(cI),dI=new Set([301,302,303,307,308]),fI=new Set([307,308]),Nd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},pI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Bg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},j_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mI=!j_;function gI(r){Me(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=D_(r.routes),t=null,i=new Set,o=null,l=null,h=null,f=r.hydrationData!=null,p=Ha(e,r.history.location,r.basename),y=null;if(p==null){let W=ri(404,{pathname:r.history.location.pathname}),{matches:q,route:K}=Gg(e);p=q,y={[K.id]:W}}let E=!p.some(W=>W.route.loader)||r.hydrationData!=null,S,I={historyAction:r.history.action,location:r.history.location,matches:p,initialized:E,navigation:Nd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||y,fetchers:new Map,blockers:new Map},N=St.Pop,B=!1,L,j=!1,ee=!1,ne=[],oe=[],ae=new Map,je=0,Pe=-1,b=new Map,A=new Set,P=new Map,D=new Map,V=null,M=new Map,C=!1;function dt(){return t=r.history.listen(W=>{let{action:q,location:K,delta:pe}=W;if(C){C=!1;return}let le=Un({currentLocation:I.location,nextLocation:K,historyAction:q});if(le){C=!0,r.history.go(pe*-1),Jn(le,{state:"blocked",location:K,proceed(){Jn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),r.history.go(pe)},reset(){Tr(le),Ne({blockers:new Map(S.state.blockers)})}});return}return G(q,K)}),I.initialized||G(St.Pop,I.location),S}function Vt(){t&&t(),i.clear(),L&&L.abort(),I.fetchers.forEach((W,q)=>Er(q)),I.blockers.forEach((W,q)=>Tr(q))}function Lt(W){return i.add(W),()=>i.delete(W)}function Ne(W){I=tt({},I,W),i.forEach(q=>q(I))}function ie(W,q){var K,pe;let le=I.actionData!=null&&I.navigation.formMethod!=null&&zi(I.navigation.formMethod)&&I.navigation.state==="loading"&&((K=W.state)==null?void 0:K._isRedirect)!==!0,Ie;q.actionData?Object.keys(q.actionData).length>0?Ie=q.actionData:Ie=null:le?Ie=I.actionData:Ie=null;let we=q.loaderData?Wg(I.loaderData,q.loaderData,q.matches||[],q.errors):I.loaderData;for(let[Se]of M)Tr(Se);let Le=B===!0||I.navigation.formMethod!=null&&zi(I.navigation.formMethod)&&((pe=W.state)==null?void 0:pe._isRedirect)!==!0;Ne(tt({},q,{actionData:Ie,loaderData:we,historyAction:N,location:W,initialized:!0,navigation:Nd,revalidation:"idle",restoreScrollPosition:zr(W,q.matches||I.matches),preventScrollReset:Le,blockers:new Map(I.blockers)})),j||N===St.Pop||(N===St.Push?r.history.push(W,W.state):N===St.Replace&&r.history.replace(W,W.state)),N=St.Pop,B=!1,j=!1,ee=!1,ne=[],oe=[]}async function _e(W,q){if(typeof W=="number"){r.history.go(W);return}let{path:K,submission:pe,error:le}=zg(W,q),Ie=I.location,we=el(I.location,K,q&&q.state);we=tt({},we,r.history.encodeLocation(we));let Le=q&&q.replace!=null?q.replace:void 0,Se=St.Push;Le===!0?Se=St.Replace:Le===!1||pe!=null&&zi(pe.formMethod)&&pe.formAction===I.location.pathname+I.location.search&&(Se=St.Replace);let ot=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ve=Un({currentLocation:Ie,nextLocation:we,historyAction:Se});if(Ve){Jn(Ve,{state:"blocked",location:we,proceed(){Jn(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),_e(W,q)},reset(){Tr(Ve),Ne({blockers:new Map(I.blockers)})}});return}return await G(Se,we,{submission:pe,pendingError:le,preventScrollReset:ot,replace:q&&q.replace})}function k(){if(vr(),Ne({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){G(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}G(N||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation})}}async function G(W,q,K){L&&L.abort(),L=null,N=W,j=(K&&K.startUninterruptedRevalidation)===!0,yi(I.location,I.matches),B=(K&&K.preventScrollReset)===!0;let pe=K&&K.overrideNavigation,le=Ha(e,q,r.basename);if(!le){let Je=ri(404,{pathname:q.pathname}),{matches:zt,route:Ct}=Gg(e);kn(),ie(q,{matches:zt,loaderData:{},errors:{[Ct.id]:Je}});return}if(wI(I.location,q)){ie(q,{matches:le});return}L=new AbortController;let Ie=$a(r.history,q,L.signal,K&&K.submission),we,Le;if(K&&K.pendingError)Le={[Vo(le).route.id]:K.pendingError};else if(K&&K.submission&&zi(K.submission.formMethod)){let Je=await de(Ie,q,K.submission,le,{replace:K.replace});if(Je.shortCircuited)return;we=Je.pendingActionData,Le=Je.pendingActionError,pe=tt({state:"loading",location:q},K.submission),Ie=new Request(Ie.url,{signal:Ie.signal})}let{shortCircuited:Se,loaderData:ot,errors:Ve}=await Ee(Ie,q,le,pe,K&&K.submission,K&&K.replace,we,Le);Se||(L=null,ie(q,tt({matches:le},we?{actionData:we}:{},{loaderData:ot,errors:Ve})))}async function de(W,q,K,pe,le){vr();let Ie=tt({state:"submitting",location:q},K);Ne({navigation:Ie});let we,Le=Yg(pe,q);if(!Le.route.action)we={type:Qt.error,error:ri(405,{method:W.method,pathname:q.pathname,routeId:Le.route.id})};else if(we=await za("action",W,Le,pe,S.basename),W.signal.aborted)return{shortCircuited:!0};if(Mo(we)){let Se;return le&&le.replace!=null?Se=le.replace:Se=we.location===I.location.pathname+I.location.search,await Fe(I,we,{submission:K,replace:Se}),{shortCircuited:!0}}if(Ka(we)){let Se=Vo(pe,Le.route.id);return(le&&le.replace)!==!0&&(N=St.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:we.error}}}if(Ls(we))throw ri(400,{type:"defer-action"});return{pendingActionData:{[Le.route.id]:we.data}}}async function Ee(W,q,K,pe,le,Ie,we,Le){let Se=pe;Se||(Se=tt({state:"loading",location:q,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let ot=le||(Se.formMethod&&Se.formAction&&Se.formData&&Se.formEncType?{formMethod:Se.formMethod,formAction:Se.formAction,formData:Se.formData,formEncType:Se.formEncType}:void 0),[Ve,Je]=$g(r.history,I,K,ot,q,ee,ne,oe,we,Le,P);if(kn(nt=>!(K&&K.some(Pt=>Pt.route.id===nt))||Ve&&Ve.some(Pt=>Pt.route.id===nt)),Ve.length===0&&Je.length===0)return ie(q,tt({matches:K,loaderData:{},errors:Le||null},we?{actionData:we}:{})),{shortCircuited:!0};if(!j){Je.forEach(Pt=>{let[cn]=Pt,er=I.fetchers.get(cn),hn={state:"loading",data:er&&er.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(cn,hn)});let nt=we||I.actionData;Ne(tt({navigation:Se},nt?Object.keys(nt).length===0?{actionData:null}:{actionData:nt}:{},Je.length>0?{fetchers:new Map(I.fetchers)}:{}))}Pe=++je,Je.forEach(nt=>{let[Pt]=nt;return ae.set(Pt,L)});let{results:zt,loaderResults:Ct,fetcherResults:Bn}=await Rt(I.matches,K,Ve,Je,W);if(W.signal.aborted)return{shortCircuited:!0};Je.forEach(nt=>{let[Pt]=nt;return ae.delete(Pt)});let Zn=Kg(zt);if(Zn)return await Fe(I,Zn,{replace:Ie}),{shortCircuited:!0};let{loaderData:$t,errors:Ht}=qg(I,K,Ve,Ct,Le,Je,Bn,D);D.forEach((nt,Pt)=>{nt.subscribe(cn=>{(cn||nt.done)&&D.delete(Pt)})}),mi();let Ir=gi(Pe);return tt({loaderData:$t,errors:Ht},Ir||Je.length>0?{fetchers:new Map(I.fetchers)}:{})}function Oe(W){return I.fetchers.get(W)||pI}function We(W,q,K,pe){if(mI)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ae.has(W)&&Pn(W);let le=Ha(e,K,r.basename);if(!le){Cn(W,q,ri(404,{pathname:K}));return}let{path:Ie,submission:we}=zg(K,pe,!0),Le=Yg(le,Ie);if(we&&zi(we.formMethod)){He(W,q,Ie,Le,le,we);return}P.set(W,[Ie,Le,le]),Ge(W,q,Ie,Le,le,we)}async function He(W,q,K,pe,le,Ie){if(vr(),P.delete(W),!pe.route.action){let en=ri(405,{method:Ie.formMethod,pathname:K,routeId:q});Cn(W,q,en);return}let we=I.fetchers.get(W),Le=tt({state:"submitting"},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});I.fetchers.set(W,Le),Ne({fetchers:new Map(I.fetchers)});let Se=new AbortController,ot=$a(r.history,K,Se.signal,Ie);ae.set(W,Se);let Ve=await za("action",ot,pe,le,S.basename);if(ot.signal.aborted){ae.get(W)===Se&&ae.delete(W);return}if(Mo(Ve)){ae.delete(W),A.add(W);let en=tt({state:"loading"},Ie,{data:void 0," _hasFetcherDoneAnything ":!0});return I.fetchers.set(W,en),Ne({fetchers:new Map(I.fetchers)}),Fe(I,Ve,{isFetchActionRedirect:!0})}if(Ka(Ve)){Cn(W,q,Ve.error);return}if(Ls(Ve))throw ri(400,{type:"defer-action"});let Je=I.navigation.location||I.location,zt=$a(r.history,Je,Se.signal),Ct=I.navigation.state!=="idle"?Ha(e,I.navigation.location,r.basename):I.matches;Me(Ct,"Didn't find any matches after fetcher action");let Bn=++je;b.set(W,Bn);let Zn=tt({state:"loading",data:Ve.data},Ie,{" _hasFetcherDoneAnything ":!0});I.fetchers.set(W,Zn);let[$t,Ht]=$g(r.history,I,Ct,Ie,Je,ee,ne,oe,{[pe.route.id]:Ve.data},void 0,P);Ht.filter(en=>{let[kt]=en;return kt!==W}).forEach(en=>{let[kt]=en,Sr=I.fetchers.get(kt),$r={state:"loading",data:Sr&&Sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(kt,$r),ae.set(kt,Se)}),Ne({fetchers:new Map(I.fetchers)});let{results:Ir,loaderResults:nt,fetcherResults:Pt}=await Rt(I.matches,Ct,$t,Ht,zt);if(Se.signal.aborted)return;b.delete(W),ae.delete(W),Ht.forEach(en=>{let[kt]=en;return ae.delete(kt)});let cn=Kg(Ir);if(cn)return Fe(I,cn);let{loaderData:er,errors:hn}=qg(I,I.matches,$t,nt,void 0,Ht,Pt,D),ds={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(W,ds);let ft=gi(Bn);I.navigation.state==="loading"&&Bn>Pe?(Me(N,"Expected pending action"),L&&L.abort(),ie(I.navigation.location,{matches:Ct,loaderData:er,errors:hn,fetchers:new Map(I.fetchers)})):(Ne(tt({errors:hn,loaderData:Wg(I.loaderData,er,Ct,hn)},ft?{fetchers:new Map(I.fetchers)}:{})),ee=!1)}async function Ge(W,q,K,pe,le,Ie){let we=I.fetchers.get(W),Le=tt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});I.fetchers.set(W,Le),Ne({fetchers:new Map(I.fetchers)});let Se=new AbortController,ot=$a(r.history,K,Se.signal);ae.set(W,Se);let Ve=await za("loader",ot,pe,le,S.basename);if(Ls(Ve)&&(Ve=await z_(Ve,ot.signal,!0)||Ve),ae.get(W)===Se&&ae.delete(W),ot.signal.aborted)return;if(Mo(Ve)){await Fe(I,Ve);return}if(Ka(Ve)){let zt=Vo(I.matches,q);I.fetchers.delete(W),Ne({fetchers:new Map(I.fetchers),errors:{[zt.route.id]:Ve.error}});return}Me(!Ls(Ve),"Unhandled fetcher deferred data");let Je={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(W,Je),Ne({fetchers:new Map(I.fetchers)})}async function Fe(W,q,K){var pe;let{submission:le,replace:Ie,isFetchActionRedirect:we}=K===void 0?{}:K;q.revalidate&&(ee=!0);let Le=el(W.location,q.location,tt({_isRedirect:!0},we?{_isFetchActionRedirect:!0}:{}));if(Me(Le,"Expected a location on the redirect navigation"),j_&&typeof((pe=window)==null?void 0:pe.location)<"u"){let Ct=r.history.createURL(q.location).origin;if(window.location.origin!==Ct){Ie?window.location.replace(q.location):window.location.assign(q.location);return}}L=null;let Se=Ie===!0?St.Replace:St.Push,{formMethod:ot,formAction:Ve,formEncType:Je,formData:zt}=W.navigation;!le&&ot&&Ve&&zt&&Je&&(le={formMethod:ot,formAction:Ve,formEncType:Je,formData:zt}),fI.has(q.status)&&le&&zi(le.formMethod)?await G(Se,Le,{submission:tt({},le,{formAction:q.location}),preventScrollReset:B}):await G(Se,Le,{overrideNavigation:{state:"loading",location:Le,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:B})}async function Rt(W,q,K,pe,le){let Ie=await Promise.all([...K.map(Se=>za("loader",le,Se,q,S.basename)),...pe.map(Se=>{let[,ot,Ve,Je]=Se;return za("loader",$a(r.history,ot,le.signal),Ve,Je,S.basename)})]),we=Ie.slice(0,K.length),Le=Ie.slice(K.length);return await Promise.all([Qg(W,K,we,le.signal,!1,I.loaderData),Qg(W,pe.map(Se=>{let[,,ot]=Se;return ot}),Le,le.signal,!0)]),{results:Ie,loaderResults:we,fetcherResults:Le}}function vr(){ee=!0,ne.push(...kn()),P.forEach((W,q)=>{ae.has(q)&&(oe.push(q),Pn(q))})}function Cn(W,q,K){let pe=Vo(I.matches,q);Er(W),Ne({errors:{[pe.route.id]:K},fetchers:new Map(I.fetchers)})}function Er(W){ae.has(W)&&Pn(W),P.delete(W),b.delete(W),A.delete(W),I.fetchers.delete(W)}function Pn(W){let q=ae.get(W);Me(q,"Expected fetch controller: "+W),q.abort(),ae.delete(W)}function wr(W){for(let q of W){let pe={state:"idle",data:Oe(q).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(q,pe)}}function mi(){let W=[];for(let q of A){let K=I.fetchers.get(q);Me(K,"Expected fetcher: "+q),K.state==="loading"&&(A.delete(q),W.push(q))}wr(W)}function gi(W){let q=[];for(let[K,pe]of b)if(pe<W){let le=I.fetchers.get(K);Me(le,"Expected fetcher: "+K),le.state==="loading"&&(Pn(K),b.delete(K),q.push(K))}return wr(q),q.length>0}function cs(W,q){let K=I.blockers.get(W)||Bg;return M.get(W)!==q&&(M.set(W,q),V==null?V=W:W!==V&&Ac(!1,"A router only supports one blocker at a time")),K}function Tr(W){I.blockers.delete(W),M.delete(W),V===W&&(V=null)}function Jn(W,q){let K=I.blockers.get(W)||Bg;Me(K.state==="unblocked"&&q.state==="blocked"||K.state==="blocked"&&q.state==="blocked"||K.state==="blocked"&&q.state==="proceeding"||K.state==="blocked"&&q.state==="unblocked"||K.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+q.state),I.blockers.set(W,q),Ne({blockers:new Map(I.blockers)})}function Un(W){let{currentLocation:q,nextLocation:K,historyAction:pe}=W;if(V==null)return;let le=M.get(V);Me(le,"Could not find a function for the active blocker");let Ie=I.blockers.get(V);if(!(Ie&&Ie.state==="proceeding")&&le({currentLocation:q,nextLocation:K,historyAction:pe}))return V}function kn(W){let q=[];return D.forEach((K,pe)=>{(!W||W(pe))&&(K.cancel(),q.push(pe),D.delete(pe))}),q}function hs(W,q,K){if(o=W,h=q,l=K||(pe=>pe.key),!f&&I.navigation===Nd){f=!0;let pe=zr(I.location,I.matches);pe!=null&&Ne({restoreScrollPosition:pe})}return()=>{o=null,h=null,l=null}}function yi(W,q){if(o&&l&&h){let K=q.map(le=>Xg(le,I.loaderData)),pe=l(W,K)||W.key;o[pe]=h()}}function zr(W,q){if(o&&l&&h){let K=q.map(Ie=>Xg(Ie,I.loaderData)),pe=l(W,K)||W.key,le=o[pe];if(typeof le=="number")return le}return null}return S={get basename(){return r.basename},get state(){return I},get routes(){return e},initialize:dt,subscribe:Lt,enableScrollRestoration:hs,navigate:_e,fetch:We,revalidate:k,createHref:W=>r.history.createHref(W),encodeLocation:W=>r.history.encodeLocation(W),getFetcher:Oe,deleteFetcher:Er,dispose:Vt,getBlocker:cs,deleteBlocker:Tr,_internalFetchControllers:ae,_internalActiveDeferreds:D},S}function yI(r){return r!=null&&"formData"in r}function zg(r,e,t){t===void 0&&(t=!1);let i=typeof r=="string"?r:ui(r);if(!e||!yI(e))return{path:i};if(e.formMethod&&!II(e.formMethod))return{path:i,error:ri(405,{method:e.formMethod})};let o;if(e.formData&&(o={formMethod:e.formMethod||"get",formAction:B_(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},zi(o.formMethod)))return{path:i,submission:o};let l=Br(i);try{let h=U_(e.formData);t&&l.search&&$_(l.search)&&h.append("index",""),l.search="?"+h}catch{return{path:i,error:ri(400)}}return{path:ui(l),submission:o}}function _I(r,e){let t=r;if(e){let i=r.findIndex(o=>o.route.id===e);i>=0&&(t=r.slice(0,i))}return t}function $g(r,e,t,i,o,l,h,f,p,y,E){let S=y?Object.values(y)[0]:p?Object.values(p)[0]:void 0,I=y?Object.keys(y)[0]:void 0,B=_I(t,I).filter((j,ee)=>j.route.loader!=null&&(vI(e.loaderData,e.matches[ee],j)||h.some(ne=>ne===j.route.id)||Hg(r,e.location,e.matches[ee],i,o,j,l,S))),L=[];return E&&E.forEach((j,ee)=>{let[ne,oe,ae]=j;f.includes(ee)?L.push([ee,ne,oe,ae]):l&&Hg(r,ne,oe,i,ne,oe,l,S)&&L.push([ee,ne,oe,ae])}),[B,L]}function vI(r,e,t){let i=!e||t.route.id!==e.route.id,o=r[t.route.id]===void 0;return i||o}function F_(r,e){let t=r.route.path;return r.pathname!==e.pathname||t&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Hg(r,e,t,i,o,l,h,f){let p=r.createURL(e),y=t.params,E=r.createURL(o),S=l.params,I=F_(t,l)||p.toString()===E.toString()||p.search!==E.search||h;if(l.route.shouldRevalidate){let N=l.route.shouldRevalidate(tt({currentUrl:p,currentParams:y,nextUrl:E,nextParams:S},i,{actionResult:f,defaultShouldRevalidate:I}));if(typeof N=="boolean")return N}return I}async function za(r,e,t,i,o,l,h,f){o===void 0&&(o="/"),l===void 0&&(l=!1),h===void 0&&(h=!1);let p,y,E,S=new Promise((N,B)=>E=B),I=()=>E();e.signal.addEventListener("abort",I);try{let N=t.route[r];Me(N,"Could not find the "+r+' to run on the "'+t.route.id+'" route'),y=await Promise.race([N({request:e,params:t.params,context:f}),S]),Me(y!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(N){p=Qt.error,y=N}finally{e.signal.removeEventListener("abort",I)}if(TI(y)){let N=y.status;if(dI.has(N)){let j=y.headers.get("Location");if(Me(j,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(j)){if(!l){let ne=new URL(e.url),oe=j.startsWith("//")?new URL(ne.protocol+j):new URL(j);oe.origin===ne.origin&&(j=oe.pathname+oe.search+oe.hash)}}else{let ne=i.slice(0,i.indexOf(t)+1),oe=Rc(ne).map(je=>je.pathnameBase),ae=wf(j,oe,new URL(e.url).pathname);if(Me(ui(ae),"Unable to resolve redirect location: "+j),o){let je=ae.pathname;ae.pathname=je==="/"?o:ai([o,je])}j=ui(ae)}if(l)throw y.headers.set("Location",j),y;return{type:Qt.redirect,status:N,location:j,revalidate:y.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:p||Qt.data,response:y};let B,L=y.headers.get("Content-Type");return L&&/\bapplication\/json\b/.test(L)?B=await y.json():B=await y.text(),p===Qt.error?{type:p,error:new Cc(N,y.statusText,B),headers:y.headers}:{type:Qt.data,data:B,statusCode:y.status,headers:y.headers}}return p===Qt.error?{type:p,error:y}:y instanceof oI?{type:Qt.deferred,deferredData:y}:{type:Qt.data,data:y}}function $a(r,e,t,i){let o=r.createURL(B_(e)).toString(),l={signal:t};if(i&&zi(i.formMethod)){let{formMethod:h,formEncType:f,formData:p}=i;l.method=h.toUpperCase(),l.body=f==="application/x-www-form-urlencoded"?U_(p):p}return new Request(o,l)}function U_(r){let e=new URLSearchParams;for(let[t,i]of r.entries())Me(typeof i=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,i);return e}function EI(r,e,t,i,o){let l={},h=null,f,p=!1,y={};return t.forEach((E,S)=>{let I=e[S].route.id;if(Me(!Mo(E),"Cannot handle redirect results in processLoaderData"),Ka(E)){let N=Vo(r,I),B=E.error;i&&(B=Object.values(i)[0],i=void 0),h=h||{},h[N.route.id]==null&&(h[N.route.id]=B),l[I]=void 0,p||(p=!0,f=L_(E.error)?E.error.status:500),E.headers&&(y[I]=E.headers)}else Ls(E)?(o.set(I,E.deferredData),l[I]=E.deferredData.data):l[I]=E.data,E.statusCode!=null&&E.statusCode!==200&&!p&&(f=E.statusCode),E.headers&&(y[I]=E.headers)}),i&&(h=i,l[Object.keys(i)[0]]=void 0),{loaderData:l,errors:h,statusCode:f||200,loaderHeaders:y}}function qg(r,e,t,i,o,l,h,f){let{loaderData:p,errors:y}=EI(e,t,i,o,f);for(let E=0;E<l.length;E++){let[S,,I]=l[E];Me(h!==void 0&&h[E]!==void 0,"Did not find corresponding fetcher result");let N=h[E];if(Ka(N)){let B=Vo(r.matches,I.route.id);y&&y[B.route.id]||(y=tt({},y,{[B.route.id]:N.error})),r.fetchers.delete(S)}else if(Mo(N))Me(!1,"Unhandled fetcher revalidation redirect");else if(Ls(N))Me(!1,"Unhandled fetcher deferred data");else{let B={state:"idle",data:N.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};r.fetchers.set(S,B)}}return{loaderData:p,errors:y}}function Wg(r,e,t,i){let o=tt({},e);for(let l of t){let h=l.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(o[h]=e[h]):r[h]!==void 0&&(o[h]=r[h]),i&&i.hasOwnProperty(h))break}return o}function Vo(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function Gg(r){let e=r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ri(r,e){let{pathname:t,routeId:i,method:o,type:l}=e===void 0?{}:e,h="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(h="Bad Request",o&&t&&i?f="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?f="defer() is not supported in actions":f="Cannot submit binary form data using GET"):r===403?(h="Forbidden",f='Route "'+i+'" does not match URL "'+t+'"'):r===404?(h="Not Found",f='No route matches URL "'+t+'"'):r===405&&(h="Method Not Allowed",o&&t&&i?f="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(f='Invalid request method "'+o.toUpperCase()+'"')),new Cc(r||500,h,new Error(f),!0)}function Kg(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(Mo(t))return t}}function B_(r){let e=typeof r=="string"?Br(r):r;return ui(tt({},e,{hash:""}))}function wI(r,e){return r.pathname===e.pathname&&r.search===e.search&&r.hash!==e.hash}function Ls(r){return r.type===Qt.deferred}function Ka(r){return r.type===Qt.error}function Mo(r){return(r&&r.type)===Qt.redirect}function TI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function II(r){return hI.has(r)}function zi(r){return uI.has(r)}async function Qg(r,e,t,i,o,l){for(let h=0;h<t.length;h++){let f=t[h],p=e[h],y=r.find(S=>S.route.id===p.route.id),E=y!=null&&!F_(y,p)&&(l&&l[p.route.id])!==void 0;Ls(f)&&(o||E)&&await z_(f,i,o).then(S=>{S&&(t[h]=S||t[h])})}}async function z_(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Qt.data,data:r.deferredData.unwrappedData}}catch(o){return{type:Qt.error,error:o}}return{type:Qt.data,data:r.deferredData.data}}}function $_(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Xg(r,e){let{route:t,pathname:i,params:o}=r;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Yg(r,e){let t=typeof e=="string"?Br(e).search:e.search;if(r[r.length-1].route.index&&$_(t||""))return r[r.length-1];let i=Rc(r);return i[i.length-1]}/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ic.apply(this,arguments)}function SI(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}const AI=typeof Object.is=="function"?Object.is:SI,{useState:RI,useEffect:CI,useLayoutEffect:PI,useDebugValue:kI}=qd;function xI(r,e,t){const i=e(),[{inst:o},l]=RI({inst:{value:i,getSnapshot:e}});return PI(()=>{o.value=i,o.getSnapshot=e,Dd(o)&&l({inst:o})},[r,i,e]),CI(()=>(Dd(o)&&l({inst:o}),r(()=>{Dd(o)&&l({inst:o})})),[r]),kI(i),i}function Dd(r){const e=r.getSnapshot,t=r.value;try{const i=e();return!AI(t,i)}catch{return!0}}function NI(r,e,t){return e()}const DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bI=!DI,OI=bI?NI:xI,VI="useSyncExternalStore"in qd?(r=>r.useSyncExternalStore)(qd):OI,Tf=J.createContext(null),Pc=J.createContext(null),dl=J.createContext(null),kc=J.createContext(null),Hs=J.createContext({outlet:null,matches:[]}),H_=J.createContext(null);function LI(r,e){let{relative:t}=e===void 0?{}:e;fl()||Me(!1);let{basename:i,navigator:o}=J.useContext(dl),{hash:l,pathname:h,search:f}=If(r,{relative:t}),p=h;return i!=="/"&&(p=h==="/"?i:ai([i,h])),o.createHref({pathname:p,search:f,hash:l})}function fl(){return J.useContext(kc)!=null}function pl(){return fl()||Me(!1),J.useContext(kc).location}function q_(){fl()||Me(!1);let{basename:r,navigator:e}=J.useContext(dl),{matches:t}=J.useContext(Hs),{pathname:i}=pl(),o=JSON.stringify(Rc(t).map(f=>f.pathnameBase)),l=J.useRef(!1);return J.useEffect(()=>{l.current=!0}),J.useCallback(function(f,p){if(p===void 0&&(p={}),!l.current)return;if(typeof f=="number"){e.go(f);return}let y=wf(f,JSON.parse(o),i,p.relative==="path");r!=="/"&&(y.pathname=y.pathname==="/"?r:ai([r,y.pathname])),(p.replace?e.replace:e.push)(y,p.state,p)},[r,e,o,i])}const MI=J.createContext(null);function jI(r){let e=J.useContext(Hs).outlet;return e&&J.createElement(MI.Provider,{value:r},e)}function If(r,e){let{relative:t}=e===void 0?{}:e,{matches:i}=J.useContext(Hs),{pathname:o}=pl(),l=JSON.stringify(Rc(i).map(h=>h.pathnameBase));return J.useMemo(()=>wf(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function FI(r,e){fl()||Me(!1);let{navigator:t}=J.useContext(dl),i=J.useContext(Pc),{matches:o}=J.useContext(Hs),l=o[o.length-1],h=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=pl(),y;if(e){var E;let L=typeof e=="string"?Br(e):e;f==="/"||(E=L.pathname)!=null&&E.startsWith(f)||Me(!1),y=L}else y=p;let S=y.pathname||"/",I=f==="/"?S:S.slice(f.length)||"/",N=Ha(r,{pathname:I}),B=$I(N&&N.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:ai([f,t.encodeLocation?t.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:ai([f,t.encodeLocation?t.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,i||void 0);return e&&B?J.createElement(kc.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:St.Pop}},B):B}function UI(){let r=qI(),e=L_(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unhandled Thrown Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"errorElement")," props on ",J.createElement("code",{style:l},"<Route>")))}class BI extends J.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?J.createElement(Hs.Provider,{value:this.props.routeContext},J.createElement(H_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zI(r){let{routeContext:e,match:t,children:i}=r,o=J.useContext(Tf);return o&&o.static&&o.staticContext&&t.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(Hs.Provider,{value:e},i)}function $I(r,e,t){if(e===void 0&&(e=[]),r==null)if(t!=null&&t.errors)r=t.matches;else return null;let i=r,o=t==null?void 0:t.errors;if(o!=null){let l=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));l>=0||Me(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,h,f)=>{let p=h.route.id?o==null?void 0:o[h.route.id]:null,y=t?h.route.errorElement||J.createElement(UI,null):null,E=e.concat(i.slice(0,f+1)),S=()=>J.createElement(zI,{match:h,routeContext:{outlet:l,matches:E}},p?y:h.route.element!==void 0?h.route.element:l);return t&&(h.route.errorElement||f===0)?J.createElement(BI,{location:t.location,component:y,error:p,children:S(),routeContext:{outlet:null,matches:E}}):S()},null)}var Jg;(function(r){r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator"})(Jg||(Jg={}));var zo;(function(r){r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator"})(zo||(zo={}));function W_(r){let e=J.useContext(Pc);return e||Me(!1),e}function HI(r){let e=J.useContext(Hs);return e||Me(!1),e}function G_(r){let e=HI(),t=e.matches[e.matches.length-1];return t.route.id||Me(!1),t.route.id}function Sf(){let r=W_(zo.UseLoaderData),e=G_(zo.UseLoaderData);if(r.errors&&r.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return r.loaderData[e]}function qI(){var r;let e=J.useContext(H_),t=W_(zo.UseRouteError),i=G_(zo.UseRouteError);return e||((r=t.errors)==null?void 0:r[i])}function WI(r){let{fallbackElement:e,router:t}=r,i=VI(t.subscribe,()=>t.state,()=>t.state),o=J.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:h=>t.navigate(h),push:(h,f,p)=>t.navigate(h,{state:f,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(h,f,p)=>t.navigate(h,{replace:!0,state:f,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[t]),l=t.basename||"/";return J.createElement(J.Fragment,null,J.createElement(Tf.Provider,{value:{router:t,navigator:o,static:!1,basename:l}},J.createElement(Pc.Provider,{value:i},J.createElement(GI,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:o},t.state.initialized?J.createElement(KI,null):e))),null)}function nx(r){return jI(r.context)}function Mn(r){Me(!1)}function GI(r){let{basename:e="/",children:t=null,location:i,navigationType:o=St.Pop,navigator:l,static:h=!1}=r;fl()&&Me(!1);let f=e.replace(/^\/*/,"/"),p=J.useMemo(()=>({basename:f,navigator:l,static:h}),[f,l,h]);typeof i=="string"&&(i=Br(i));let{pathname:y="/",search:E="",hash:S="",state:I=null,key:N="default"}=i,B=J.useMemo(()=>{let L=V_(y,f);return L==null?null:{pathname:L,search:E,hash:S,state:I,key:N}},[f,y,E,S,I,N]);return B==null?null:J.createElement(dl.Provider,{value:p},J.createElement(kc.Provider,{children:t,value:{location:B,navigationType:o}}))}function KI(r){let{children:e,location:t}=r,i=J.useContext(Tf),o=i&&!e?i.router.routes:sc(e);return FI(o,t)}var Zg;(function(r){r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error"})(Zg||(Zg={}));new Promise(()=>{});function sc(r,e){e===void 0&&(e=[]);let t=[];return J.Children.forEach(r,(i,o)=>{if(!J.isValidElement(i))return;if(i.type===J.Fragment){t.push.apply(t,sc(i.props.children,e));return}i.type!==Mn&&Me(!1),!i.props.index||!i.props.children||Me(!1);let l=[...e,o],h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(h.children=sc(i.props.children,l)),t.push(h)}),t}function K_(r){return r.map(e=>{let t=ic({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=K_(t.children)),t})}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},tl.apply(this,arguments)}function Q_(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function QI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XI(r,e){return r.button===0&&(!e||e==="_self")&&!QI(r)}const YI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JI=["aria-current","caseSensitive","className","end","style","to","children"];function ZI(r,e){return gI({basename:void 0,history:MT({window:void 0}),hydrationData:eS(),routes:K_(r)}).initialize()}function eS(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=tl({},e,{errors:tS(e.errors)})),e}function tS(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Cc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){let l=new Error(o.message);l.stack="",t[i]=l}else t[i]=o;return t}const nS=J.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:E}=e,S=Q_(e,YI),I=LI(y,{relative:o}),N=rS(y,{replace:h,state:f,target:p,preventScrollReset:E,relative:o});function B(L){i&&i(L),L.defaultPrevented||N(L)}return J.createElement("a",tl({},S,{href:I,onClick:l?i:B,ref:t,target:p}))}),rx=J.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:h=!1,style:f,to:p,children:y}=e,E=Q_(e,JI),S=If(p,{relative:E.relative}),I=pl(),N=J.useContext(Pc),{navigator:B}=J.useContext(dl),L=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,j=I.pathname,ee=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(j=j.toLowerCase(),ee=ee?ee.toLowerCase():null,L=L.toLowerCase());let ne=j===L||!h&&j.startsWith(L)&&j.charAt(L.length)==="/",oe=ee!=null&&(ee===L||!h&&ee.startsWith(L)&&ee.charAt(L.length)==="/"),ae=ne?i:void 0,je;typeof l=="function"?je=l({isActive:ne,isPending:oe}):je=[l,ne?"active":null,oe?"pending":null].filter(Boolean).join(" ");let Pe=typeof f=="function"?f({isActive:ne,isPending:oe}):f;return J.createElement(nS,tl({},E,{"aria-current":ae,className:je,ref:t,style:Pe,to:p}),typeof y=="function"?y({isActive:ne,isPending:oe}):y)});var ey;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmitImpl="useSubmitImpl",r.UseFetcher="useFetcher"})(ey||(ey={}));var ty;(function(r){r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ty||(ty={}));function rS(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h}=e===void 0?{}:e,f=q_(),p=pl(),y=If(r,{relative:h});return J.useCallback(E=>{if(XI(E,t)){E.preventDefault();let S=i!==void 0?i:ui(p)===ui(y);f(r,{replace:S,state:o,preventScrollReset:l,relative:h})}},[p,f,y,i,o,t,r,l,h])}function iS(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=null;return J.useEffect(()=>{const t=o=>{let l=0;clearInterval(e),e=setInterval(()=>{o.target.innerText=o.target.innerText.split("").map((h,f)=>f<l?o.target.dataset.value[f]:o.target.dataset.value[f]===" "?" ":r[Math.floor(Math.random()*26)]).join(""),l>=o.target.dataset.value.length&&clearInterval(e),l+=.3333333333333333},25)},i=document.querySelector(".animated-intro-text");return i.addEventListener("mouseover",t),t({target:i}),()=>{clearInterval(e),i.removeEventListener("mouseover",t)}},[e,r]),w.jsxs("section",{className:"home-introduction-section",children:[w.jsx("div",{className:"home-introduction-section__title",children:w.jsx("h1",{className:"animated-intro-text","data-value":"Hi, I'm Abdelouahab",children:"Hi, I'm Abdelouahab"})}),w.jsxs("h2",{className:"home-introduction-section__subtitle",children:[" ","⟫⟫ a Data Scientist & Software Engineer"]}),w.jsxs("a",{className:"home-introduction-section__button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/bellaabdelouahab",children:["Buy Me A Coffee ",w.jsx("span",{children:">"})," "]}),w.jsx("div",{className:"home-introduction-section__img",style:{backgroundImage:"url(./code.png)"}})]})}function sS({project:r}){const{title:e,description:t,image:i,githubLink:o,highlighted:l}=r,[h,f]=J.useState(!1);let p=t.slice(0,250);const y=p.lastIndexOf(" ");return p=p.slice(0,y),J.useEffect(()=>{const E=new Image;E.src=`${i}`,E.onload=()=>f(!0)},[i]),w.jsxs("div",{className:"home-projects-section__projects__project",style:{border:l==="star"?"4px solid #c39a3b":"none"},children:[w.jsx("div",{className:"home-projects-section__projects__project__img",style:{backgroundImage:h?`url(${i})`:"none",backgroundSize:"100.5% 100%"},children:!h&&w.jsx(Lo,{height:"100%"})}),h?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"home-projects-section__projects__project__title",children:e}),w.jsxs("p",{className:"home-projects-section__projects__project__description",children:[p,"..."]})]}):w.jsxs("div",{children:[w.jsx(Lo,{height:24,width:"60%",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Lo,{count:7})})]}),w.jsxs("div",{className:"home-projects-section__projects__project__buttons",children:[w.jsx("a",{className:"home-projects-section__projects__project__buttons__view",target:"_blank",rel:"noopener noreferrer",href:o,children:"View Project"}),l==="star"&&w.jsx("a",{className:"home-projects-section__projects__project__buttons__sponsor",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/bellaabdelouahab/",children:"1$/Sponsor"})]})]})}function oS({projectHighlight:r}){return w.jsxs("section",{className:"home-projects-section hidden-area",children:[w.jsx("h2",{className:"home-projects-section__title",children:"❤️ Projects Highlights"}),w.jsx("hr",{className:"home-projects-section__hr"}),w.jsx("div",{className:"home-projects-section__projects",children:r&&r.map(e=>w.jsx(sS,{project:e},e._id))})]})}function aS(){return w.jsxs("section",{className:"github-progress-section hidden-area",children:[w.jsxs("h2",{className:"home-sections-title",children:[w.jsx("span",{children:"03. "}),"Github Progress"]}),w.jsx("hr",{className:"github-progress-section__hr"}),w.jsx("div",{className:"github-progress-section__img"})]})}function lS(){const[r,e]=J.useState([{title:"S-maint Website [Smart Maintenance]",description:"Smart Maintenance is a Moroccan company that offersa wide range of services in the field of maintenance. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service. The website various features such as a blog, services, staff management, and digital resources management.",link:"https://s-maint.com",image:"./internshipes/smart-maint.jpg",technologies:["Angular","Spring Boot","Mongodb","Docker","Nginx","Plausible","SendGrid"]},{title:"NidInnovation Website",description:"Nid Innovation is a Moroccan company that offers a wide range of services in the field of innovation. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service.",link:"https://nidinnovation.com",image:"./internshipes/nidinnovation.png",technologies:["React","PHP","Node.js","Express","MongoDB","Docker","SendGrid"]},{title:"E-khsab: A Connected Cow Monitoring System [Agri4.0]",description:"Development of e-services to monitor in real-time the health status and well-being of cows, plan artificial inseminations, enhance herd reproduction, and implement a heat detection system within a core group of breeders, which will be extended to a larger number of breeders on a national scale.",link:"https://poledigital.ma/projets/projets-elevage-4-0/e-khsab",image:"./internshipes/agri4.0.png",technologies:["Spring Boot","JHipster","React","PostgreSQL","RabbitMQ","WebSockets","Arduino"]},{title:"CRJEA Website : Reference Center for Young Entrepreneurs [UM6P & CRJEA]",description:"The CRJEA is a reference center that offers tailored support to young project holders or newly created companies and cooperatives. in the field of agriculture. The website is a platform that provides a full tracking system for the projects and the project holders.",link:"http://crjea-rsk.com",image:"./internshipes/crjea.jpg",technologies:["Django","React","Bootstrap","MongoDB","Docker","Nginx"]},{title:"Desktop application for managing package sending for special clients",description:"During this internship, I created a desktop application using JavaFX as a UI library and Oracle as a database. The application is used to manage the sending of packages for special clients (Lawyers, Journalists, Writers). This application was created to make it easy for them to send packages instead of waiting in lines. The application is used by the post office employees.",image:"./internshipes/1200px-GBAM_LOGO.png",technologies:["JavaFX","Oracle - Cloud","XML","CSS","Python","SMTP"]},{title:"A Web Site For Envelope Database Management",description:"During this internship, I worked on a website for the management of the envelopes database. The workflow of the application is as follows: a customer brings a package or an envelope to the post office, the post office employee will register the envelope and scan its code, and the system will automatically generate a tracking number for the envelope which the customer will receive a receipt with.",image:"./internshipes/PosteMaroc.jpg",technologies:["HTML","CSS","JavaScript","Flask"]}]),t=J.useRef(null),[i,o]=J.useState(3),l=()=>{o(r.length)};return J.useEffect(()=>{const h=new IntersectionObserver(y=>{y.forEach(E=>{E.isIntersecting&&E.target.classList.add("is-visible")})},{root:null,rootMargin:"0px",threshold:.1}),f=t.current.querySelectorAll(".animatable");return f.forEach(y=>h.observe(y)),document.querySelectorAll(".internship-project").forEach((y,E)=>{const S=y.clientHeight;document.querySelectorAll(`.gradientLine-${E*2}, .gradientLine-${E*2+1}`).forEach(N=>N.style.height=`${S/2}px`)}),()=>f.forEach(y=>h.unobserve(y))},[i,r]),w.jsxs("section",{className:"internship-projects-section",ref:t,children:[w.jsx("div",{className:"experience",children:w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"04. "}),"Professional Experience"]})}),w.jsxs("div",{className:"internship-projects-section__projects",children:[r.slice(0,i).map((h,f)=>w.jsx(uS,{project:h},f)),w.jsx("div",{className:"lineAnimation",children:r.slice(0,i).map((h,f)=>w.jsxs("div",{className:"animatable",children:[w.jsx("div",{className:`gradientLine-start gradientLine-${f*2}`}),w.jsx("div",{className:"iconContainer",children:w.jsx("img",{src:"./icons/calendar.png",alt:"Calendar",width:"30"})}),w.jsx("div",{className:`gradientLine-end gradientLine-${f*2+1}`})]},f))}),i<r.length?w.jsx("div",{className:"show-more-button",children:w.jsxs("button",{onClick:l,children:["Show More (",r.length-i,")"]})}):w.jsx("div",{className:"show-more-button"})]})]})}function uS({project:r}){return w.jsxs("div",{className:"internship-project ",children:[w.jsx("div",{className:"internship-project__img",children:w.jsx("img",{src:r.image,alt:r.title})}),w.jsxs("div",{className:"internship-project__content",children:[w.jsx("h1",{children:r.title}),w.jsx("p",{children:r.description}),r.link&&w.jsxs("a",{href:r.link,target:"_blank",className:"internship-project__content__link",children:[w.jsx("img",{src:"./icons/site.png",alt:"Link icon",width:"20"}),"Link to website for more details"]}),w.jsx("ul",{className:"internship-project__content__list",children:r.technologies.map((e,t)=>w.jsx("li",{children:e},t))})]})]})}function cS(){return w.jsx("section",{className:"home-about-section",children:w.jsxs("div",{className:"hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"02. "}),"About Me"]}),w.jsxs("div",{className:"about-content",children:[w.jsxs("div",{className:"about-content-text",children:[w.jsxs("p",{children:["I am Bella Abdelouahab, an accomplished data scientist with ten months of extensive experience. My educational foundation encompasses robust training in decision-making, data science, computer systems engineering, and software development. Proficient in both web development and machine learning, I am deeply passionate about my profession. I actively pursue new challenges to enhance my skills and expand my expertise.",w.jsx("br",{}),"In addition to my technical proficiency, I excel as a communicator and thrive in collaborative team environments, dedicated to achieving shared objectives."]}),w.jsx("span",{className:"about-content-skills_title",children:"Skills:"}),w.jsx("div",{className:"about-skills-list",children:w.jsxs("ul",{children:[w.jsx("li",{children:"Python(advanced), Java(advanced), C, C++"}),w.jsx("li",{children:"Machine learning/deep learning"}),w.jsx("li",{children:"Oracle SQL/PLSQL"}),w.jsx("li",{children:"MongoDB"}),w.jsx("li",{children:"Back-end (Django-Node-SpringBoot)"}),w.jsx("li",{children:"Front-end (ReactJS, NextJs, ViewJs)"}),w.jsx("li",{children:"JavaFX & Swing"}),w.jsx("li",{children:"Tkinter & Pyglet"}),w.jsx("li",{children:"Microsoft Power BI"}),w.jsx("li",{children:"Data warehousing"})]})})]}),w.jsx("div",{className:"about-content-image",children:w.jsx("div",{id:"about-content-img_flow",style:{backgroundImage:"url('./Personal Picture.jpg')"}})})]})]})})}function hS(){return w.jsxs("div",{className:"get-in-touch hidden-area",style:{backgroundColor:"#1e1e1e"},children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"08. "}),"Get in Touch"]}),w.jsx("p",{className:"get-in-touch-content",children:"I am actively seeking new career opportunities and my inbox is open for potential job offers. Feel free to reach out with any relevant job opportunities or to connect for potential future collaborations. I look forward to hearing from you!"}),w.jsx("div",{className:"get-in-touch-btn",children:w.jsx("a",{href:"mailto:",children:w.jsx("button",{style:{marginBottom:"5rem"},children:"Get in Touch"})})})]})}const dS=({isOpen:r,onClose:e,title:t,children:i})=>(J.useEffect(()=>{const o=l=>{l.key==="Escape"&&r&&e()};return document.addEventListener("keydown",o),r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.removeEventListener("keydown",o),document.body.style.overflow="auto"}},[r,e]),r?w.jsx("div",{className:"modal-overlay",onClick:e,children:w.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:t}),w.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"})]}),w.jsx("div",{className:"modal-content",children:i})]})}):null);var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},fS=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=l>>2,S=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,N=y&63;p||(N=64,h||(I=64)),i.push(t[E],t[S],t[I],t[N])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(X_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new pS;const I=l<<2|f>>4;if(i.push(I),y!==64){const N=f<<4&240|y>>2;if(i.push(N),S!==64){const B=y<<6&192|S;i.push(B)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mS=function(r){const e=X_(r);return Y_.encodeByteArray(e,!0)},oc=function(r){return mS(r).replace(/\./g,"")},J_=function(r){try{return Y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=()=>gS().__FIREBASE_DEFAULTS__,_S=()=>{if(typeof process>"u"||typeof ny>"u")return;const r=ny.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&J_(r[1]);return e&&JSON.parse(e)},xc=()=>{try{return yS()||_S()||vS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Z_=r=>{var e,t;return(t=(e=xc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},ES=r=>{const e=Z_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ev=()=>{var r;return(r=xc())===null||r===void 0?void 0:r.config},tv=r=>{var e;return(e=xc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oc(JSON.stringify(t)),oc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function SS(){var r;const e=(r=xc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kS(){return!SS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=DS,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?bS(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new pi(o,f,i)}}function bS(r,e){return r.replace(OS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const OS=/\{\$([^}]+)}/g;function VS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ac(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(ry(l)&&ry(h)){if(!ac(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ry(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function LS(r,e){const t=new MS(r,e);return t.subscribe.bind(t)}class MS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");jS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=bd),o.error===void 0&&(o.error=bd),o.complete===void 0&&(o.complete=bd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class Us{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new wS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BS(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:US(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(r){return r===Vs?void 0:r}function BS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const $S={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},HS=Be.INFO,qS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},WS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=qS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Af{constructor(e){this.name=e,this._logLevel=HS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const GS=(r,e)=>e.some(t=>r instanceof t);let iy,sy;function KS(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nv=new WeakMap,Wd=new WeakMap,rv=new WeakMap,Od=new WeakMap,Rf=new WeakMap;function XS(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Ki(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&nv.set(t,r)}).catch(()=>{}),Rf.set(e,r),e}function YS(r){if(Wd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Wd.set(r,e)}let Gd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JS(r){Gd=r(Gd)}function ZS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Vd(this),e,...t);return rv.set(i,e.sort?e.sort():[e]),Ki(i)}:QS().includes(r)?function(...e){return r.apply(Vd(this),e),Ki(nv.get(this))}:function(...e){return Ki(r.apply(Vd(this),e))}}function e0(r){return typeof r=="function"?ZS(r):(r instanceof IDBTransaction&&YS(r),GS(r,KS())?new Proxy(r,Gd):r)}function Ki(r){if(r instanceof IDBRequest)return XS(r);if(Od.has(r))return Od.get(r);const e=e0(r);return e!==r&&(Od.set(r,e),Rf.set(e,r)),e}const Vd=r=>Rf.get(r);function t0(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Ki(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Ki(h.result),p.oldVersion,p.newVersion,Ki(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const n0=["get","getKey","getAll","getAllKeys","count"],r0=["put","add","delete","clear"],Ld=new Map;function oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=r0.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||n0.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Ld.set(e,l),l}JS(r=>({...r,get:(e,t,i)=>oy(e,t)||r.get(e,t,i),has:(e,t)=>!!oy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(s0(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function s0(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kd="@firebase/app",ay="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Af("@firebase/app"),o0="@firebase/app-compat",a0="@firebase/analytics-compat",l0="@firebase/analytics",u0="@firebase/app-check-compat",c0="@firebase/app-check",h0="@firebase/auth",d0="@firebase/auth-compat",f0="@firebase/database",p0="@firebase/data-connect",m0="@firebase/database-compat",g0="@firebase/functions",y0="@firebase/functions-compat",_0="@firebase/installations",v0="@firebase/installations-compat",E0="@firebase/messaging",w0="@firebase/messaging-compat",T0="@firebase/performance",I0="@firebase/performance-compat",S0="@firebase/remote-config",A0="@firebase/remote-config-compat",R0="@firebase/storage",C0="@firebase/storage-compat",P0="@firebase/firestore",k0="@firebase/vertexai",x0="@firebase/firestore-compat",N0="firebase",D0="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",b0={[Kd]:"fire-core",[o0]:"fire-core-compat",[l0]:"fire-analytics",[a0]:"fire-analytics-compat",[c0]:"fire-app-check",[u0]:"fire-app-check-compat",[h0]:"fire-auth",[d0]:"fire-auth-compat",[f0]:"fire-rtdb",[p0]:"fire-data-connect",[m0]:"fire-rtdb-compat",[g0]:"fire-fn",[y0]:"fire-fn-compat",[_0]:"fire-iid",[v0]:"fire-iid-compat",[E0]:"fire-fcm",[w0]:"fire-fcm-compat",[T0]:"fire-perf",[I0]:"fire-perf-compat",[S0]:"fire-rc",[A0]:"fire-rc-compat",[R0]:"fire-gcs",[C0]:"fire-gcs-compat",[P0]:"fire-fst",[x0]:"fire-fst-compat",[k0]:"fire-vertex","fire-js":"fire-js",[N0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,O0=new Map,Xd=new Map;function ly(r,e){try{r.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function $o(r){const e=r.name;if(Xd.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,r);for(const t of lc.values())ly(t,r);for(const t of O0.values())ly(t,r);return!0}function Cf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new ml("app","Firebase",V0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=D0;function iv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=ev()),!t)throw Qi.create("no-options");const l=lc.get(o);if(l){if(ac(t,l.options)&&ac(i,l.config))return l;throw Qi.create("duplicate-app",{appName:o})}const h=new zS(o);for(const p of Xd.values())h.addComponent(p);const f=new L0(t,i,h);return lc.set(o,f),f}function sv(r=Qd){const e=lc.get(r);if(!e&&r===Qd&&ev())return iv();if(!e)throw Qi.create("no-app",{appName:r});return e}function Xi(r,e,t){var i;let o=(i=b0[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(f.join(" "));return}$o(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firebase-heartbeat-database",j0=1,nl="firebase-heartbeat-store";let Md=null;function ov(){return Md||(Md=t0(M0,j0,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Qi.create("idb-open",{originalErrorMessage:r.message})})),Md}async function F0(r){try{const t=(await ov()).transaction(nl),i=await t.objectStore(nl).get(av(r));return await t.done,i}catch(e){if(e instanceof pi)ci.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(t.message)}}}async function uy(r,e){try{const i=(await ov()).transaction(nl,"readwrite");await i.objectStore(nl).put(e,av(r)),await i.done}catch(t){if(t instanceof pi)ci.warn(t.message);else{const i=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ci.warn(i.message)}}}function av(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=1024,B0=30;class z0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>B0){const h=q0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cy(),{heartbeatsToSend:i,unsentEntries:o}=$0(this._heartbeatsCache.heartbeats),l=oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ci.warn(t),""}}}function cy(){return new Date().toISOString().substring(0,10)}function $0(r,e=U0){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),hy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class H0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await F0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(r){return oc(JSON.stringify({version:2,heartbeats:r})).length}function q0(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){$o(new Us("platform-logger",e=>new i0(e),"PRIVATE")),$o(new Us("heartbeat",e=>new z0(e),"PRIVATE")),Xi(Kd,ay,r),Xi(Kd,ay,"esm2017"),Xi("fire-js","")}W0("");var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,lv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function P(){}P.prototype=A.prototype,b.D=A.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(D,V,M){for(var C=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)C[dt-2]=arguments[dt];return A.prototype[V].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)D[V]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(V=0;16>V;++V)D[V]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=b.g[0],P=b.g[1],V=b.g[2];var M=b.g[3],C=A+(M^P&(V^M))+D[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=M+(V^A&(P^V))+D[1]+3905402710&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(P^M&(A^P))+D[2]+606105819&4294967295,V=M+(C<<17&4294967295|C>>>15),C=P+(A^V&(M^A))+D[3]+3250441966&4294967295,P=V+(C<<22&4294967295|C>>>10),C=A+(M^P&(V^M))+D[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(V^A&(P^V))+D[5]+1200080426&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(P^M&(A^P))+D[6]+2821735955&4294967295,V=M+(C<<17&4294967295|C>>>15),C=P+(A^V&(M^A))+D[7]+4249261313&4294967295,P=V+(C<<22&4294967295|C>>>10),C=A+(M^P&(V^M))+D[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(V^A&(P^V))+D[9]+2336552879&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(P^M&(A^P))+D[10]+4294925233&4294967295,V=M+(C<<17&4294967295|C>>>15),C=P+(A^V&(M^A))+D[11]+2304563134&4294967295,P=V+(C<<22&4294967295|C>>>10),C=A+(M^P&(V^M))+D[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(V^A&(P^V))+D[13]+4254626195&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(P^M&(A^P))+D[14]+2792965006&4294967295,V=M+(C<<17&4294967295|C>>>15),C=P+(A^V&(M^A))+D[15]+1236535329&4294967295,P=V+(C<<22&4294967295|C>>>10),C=A+(V^M&(P^V))+D[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^V&(A^P))+D[6]+3225465664&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^P&(M^A))+D[11]+643717713&4294967295,V=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(V^M))+D[0]+3921069994&4294967295,P=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(P^V))+D[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^V&(A^P))+D[10]+38016083&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^P&(M^A))+D[15]+3634488961&4294967295,V=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(V^M))+D[4]+3889429448&4294967295,P=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(P^V))+D[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^V&(A^P))+D[14]+3275163606&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^P&(M^A))+D[3]+4107603335&4294967295,V=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(V^M))+D[8]+1163531501&4294967295,P=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(P^V))+D[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^V&(A^P))+D[2]+4243563512&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^P&(M^A))+D[7]+1735328473&4294967295,V=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(V^M))+D[12]+2368359562&4294967295,P=V+(C<<20&4294967295|C>>>12),C=A+(P^V^M)+D[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^V)+D[8]+2272392833&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^P)+D[11]+1839030562&4294967295,V=M+(C<<16&4294967295|C>>>16),C=P+(V^M^A)+D[14]+4259657740&4294967295,P=V+(C<<23&4294967295|C>>>9),C=A+(P^V^M)+D[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^V)+D[4]+1272893353&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^P)+D[7]+4139469664&4294967295,V=M+(C<<16&4294967295|C>>>16),C=P+(V^M^A)+D[10]+3200236656&4294967295,P=V+(C<<23&4294967295|C>>>9),C=A+(P^V^M)+D[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^V)+D[0]+3936430074&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^P)+D[3]+3572445317&4294967295,V=M+(C<<16&4294967295|C>>>16),C=P+(V^M^A)+D[6]+76029189&4294967295,P=V+(C<<23&4294967295|C>>>9),C=A+(P^V^M)+D[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^V)+D[12]+3873151461&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^P)+D[15]+530742520&4294967295,V=M+(C<<16&4294967295|C>>>16),C=P+(V^M^A)+D[2]+3299628645&4294967295,P=V+(C<<23&4294967295|C>>>9),C=A+(V^(P|~M))+D[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~V))+D[7]+1126891415&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~P))+D[14]+2878612391&4294967295,V=M+(C<<15&4294967295|C>>>17),C=P+(M^(V|~A))+D[5]+4237533241&4294967295,P=V+(C<<21&4294967295|C>>>11),C=A+(V^(P|~M))+D[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~V))+D[3]+2399980690&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~P))+D[10]+4293915773&4294967295,V=M+(C<<15&4294967295|C>>>17),C=P+(M^(V|~A))+D[1]+2240044497&4294967295,P=V+(C<<21&4294967295|C>>>11),C=A+(V^(P|~M))+D[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~V))+D[15]+4264355552&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~P))+D[6]+2734768916&4294967295,V=M+(C<<15&4294967295|C>>>17),C=P+(M^(V|~A))+D[13]+1309151649&4294967295,P=V+(C<<21&4294967295|C>>>11),C=A+(V^(P|~M))+D[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~V))+D[11]+3174756917&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~P))+D[2]+718787259&4294967295,V=M+(C<<15&4294967295|C>>>17),C=P+(M^(V|~A))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+M&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var P=A-this.blockSize,D=this.B,V=this.h,M=0;M<A;){if(V==0)for(;M<=P;)o(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<A;)if(D[V++]=b.charCodeAt(M++),V==this.blockSize){o(this,D),V=0;break}}else for(;M<A;)if(D[V++]=b[M++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var P=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=P&255,P/=256;for(this.u(b),b=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)b[P++]=this.g[A]>>>D&255;return b};function l(b,A){var P=f;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=A(b)}function h(b,A){this.h=A;for(var P=[],D=!0,V=b.length-1;0<=V;V--){var M=b[V]|0;D&&M==A||(P[V]=M,D=!1)}this.g=P}var f={};function p(b){return-128<=b&&128>b?l(b,function(A){return new h([A|0],0>A?-1:0)}):new h([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return S;if(0>b)return j(y(-b));for(var A=[],P=1,D=0;b>=P;D++)A[D]=b/P|0,P*=4294967296;return new h(A,0)}function E(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return j(E(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(A,8)),D=S,V=0;V<b.length;V+=8){var M=Math.min(8,b.length-V),C=parseInt(b.substring(V,V+M),A);8>M?(M=y(Math.pow(A,M)),D=D.j(M).add(y(C))):(D=D.j(P),D=D.add(y(C)))}return D}var S=p(0),I=p(1),N=p(16777216);r=h.prototype,r.m=function(){if(L(this))return-j(this).m();for(var b=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);b+=(0<=D?D:4294967296+D)*A,A*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(B(this))return"0";if(L(this))return"-"+j(this).toString(b);for(var A=y(Math.pow(b,6)),P=this,D="";;){var V=ae(P,A).g;P=ee(P,V.j(A));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=V,B(P))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function B(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function L(b){return b.h==-1}r.l=function(b){return b=ee(this,b),L(b)?-1:B(b)?0:1};function j(b){for(var A=b.g.length,P=[],D=0;D<A;D++)P[D]=~b.g[D];return new h(P,~b.h).add(I)}r.abs=function(){return L(this)?j(this):this},r.add=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0,V=0;V<=A;V++){var M=D+(this.i(V)&65535)+(b.i(V)&65535),C=(M>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);D=C>>>16,M&=65535,C&=65535,P[V]=C<<16|M}return new h(P,P[P.length-1]&-2147483648?-1:0)};function ee(b,A){return b.add(j(A))}r.j=function(b){if(B(this)||B(b))return S;if(L(this))return L(b)?j(this).j(j(b)):j(j(this).j(b));if(L(b))return j(this.j(j(b)));if(0>this.l(N)&&0>b.l(N))return y(this.m()*b.m());for(var A=this.g.length+b.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<b.g.length;V++){var M=this.i(D)>>>16,C=this.i(D)&65535,dt=b.i(V)>>>16,Vt=b.i(V)&65535;P[2*D+2*V]+=C*Vt,ne(P,2*D+2*V),P[2*D+2*V+1]+=M*Vt,ne(P,2*D+2*V+1),P[2*D+2*V+1]+=C*dt,ne(P,2*D+2*V+1),P[2*D+2*V+2]+=M*dt,ne(P,2*D+2*V+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new h(P,0)};function ne(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function oe(b,A){this.g=b,this.h=A}function ae(b,A){if(B(A))throw Error("division by zero");if(B(b))return new oe(S,S);if(L(b))return A=ae(j(b),A),new oe(j(A.g),j(A.h));if(L(A))return A=ae(b,j(A)),new oe(j(A.g),A.h);if(30<b.g.length){if(L(b)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var P=I,D=A;0>=D.l(b);)P=je(P),D=je(D);var V=Pe(P,1),M=Pe(D,1);for(D=Pe(D,2),P=Pe(P,2);!B(D);){var C=M.add(D);0>=C.l(b)&&(V=V.add(P),M=C),D=Pe(D,1),P=Pe(P,1)}return A=ee(b,V.j(A)),new oe(V,A)}for(V=S;0<=b.l(A);){for(P=Math.max(1,Math.floor(b.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=y(P),C=M.j(A);L(C)||0<C.l(b);)P-=D,M=y(P),C=M.j(A);B(M)&&(M=I),V=V.add(M),b=ee(b,C)}return new oe(V,b)}r.A=function(b){return ae(this,b).h},r.and=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&b.i(D);return new h(P,this.h&b.h)},r.or=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|b.i(D);return new h(P,this.h|b.h)},r.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^b.i(D);return new h(P,this.h^b.h)};function je(b){for(var A=b.g.length+1,P=[],D=0;D<A;D++)P[D]=b.i(D)<<1|b.i(D-1)>>>31;return new h(P,b.h)}function Pe(b,A){var P=A>>5;A%=32;for(var D=b.g.length-P,V=[],M=0;M<D;M++)V[M]=0<A?b.i(M+P)>>>A|b.i(M+P+1)<<32-A:b.i(M+P);return new h(V,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Yi=h}).apply(typeof dy<"u"?dy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uv,qa,cv,Ku,Yd,hv,dv,fv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in _))break e;_=_[F]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,T=!1,F={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function I(u,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function N(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function B(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,F,H){for(var se=Array(arguments.length-2),et=2;et<arguments.length;et++)se[et-2]=arguments[et];return m.prototype[F].apply(T,se)}}function L(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const F=u.length||0,H=T.length||0;u.length=F+H;for(let se=0;se<H;se++)u[F+se]=T[se]}else u.push(T)}}class ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var je=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Pe(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function b(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)u[_]=T[_];for(let H=0;H<P.length;H++)_=P[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){f.setTimeout(()=>{throw u},0)}function C(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,_){const T=Vt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Vt=new ee(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ie=!1,_e=new dt,k=()=>{const u=f.Promise.resolve(void 0);Ne=()=>{u.then(G)}};var G=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){M(_)}var m=Vt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function We(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(je){e:{try{ae(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:He[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&We.aa.h.call(this)}}B(We,Ee);var He={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Rt(u,m,_,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function vr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Cn(u){this.src=u,this.g={},this.h=0}Cn.prototype.add=function(u,m,_,T,F){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var se=Pn(u,m,T,F);return-1<se?(m=u[se],_||(m.fa=!1)):(m=new Rt(m,this.src,H,!!T,F),m.fa=_,u.push(m)),m};function Er(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],F=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=F)&&Array.prototype.splice.call(T,F,1),H&&(vr(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Pn(u,m,_,T){for(var F=0;F<u.length;++F){var H=u[F];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return F}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),mi={};function gi(u,m,_,T,F){if(Array.isArray(m)){for(var H=0;H<m.length;H++)gi(u,m[H],_,T,F);return null}return _=W(_),u&&u[Ge]?u.K(m,_,y(T)?!!T.capture:!1,F):cs(u,m,_,!1,T,F)}function cs(u,m,_,T,F,H){if(!m)throw Error("Invalid event type");var se=y(F)?!!F.capture:!!F,et=yi(u);if(et||(u[wr]=et=new Cn(u)),_=et.add(m,_,T,se,H),_.proxy)return _;if(T=Tr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Oe||(F=se),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(kn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tr(){function u(_){return m.call(u.src,u.listener,_)}const m=hs;return u}function Jn(u,m,_,T,F){if(Array.isArray(m))for(var H=0;H<m.length;H++)Jn(u,m[H],_,T,F);else T=y(T)?!!T.capture:!!T,_=W(_),u&&u[Ge]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Pn(H,_,T,F),-1<_&&(vr(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pn(m,_,T,F)),(_=-1<u?m[u]:null)&&Un(_))}function Un(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ge])Er(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(kn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=yi(m))?(Er(_,u),_.h==0&&(_.src=null,m[wr]=null)):vr(u)}}}function kn(u){return u in mi?mi[u]:mi[u]="on"+u}function hs(u,m){if(u.da)u=!0;else{m=new We(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Un(u),u=_.call(T,m)}return u}function yi(u){return u=u[wr],u instanceof Cn?u:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function W(u){return typeof u=="function"?u:(u[zr]||(u[zr]=function(m){return u.handleEvent(m)}),u[zr])}function q(){de.call(this),this.i=new Cn(this),this.M=this,this.F=null}B(q,de),q.prototype[Ge]=!0,q.prototype.removeEventListener=function(u,m,_,T){Jn(this,u,m,_,T)};function K(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var F=m;m=new Ee(T,u),D(m,F)}if(F=!0,_)for(var H=_.length-1;0<=H;H--){var se=m.g=_[H];F=pe(se,T,!0,m)&&F}if(se=m.g=u,F=pe(se,T,!0,m)&&F,F=pe(se,T,!1,m)&&F,_)for(H=0;H<_.length;H++)se=m.g=_[H],F=pe(se,T,!1,m)&&F}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)vr(_[T]);delete u.g[m],u.h--}}this.F=null},q.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},q.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function pe(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,H=0;H<m.length;++H){var se=m[H];if(se&&!se.da&&se.capture==_){var et=se.listener,xt=se.ha||se.src;se.fa&&Er(u.i,se),F=et.call(xt,T)!==!1&&F}}return F&&!T.defaultPrevented}function le(u,m,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Ie(u){u.g=le(()=>{u.g=null,u.i&&(u.i=!1,Ie(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class we extends de{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(u){de.call(this),this.h=u,this.g={}}B(Le,de);var Se=[];function ot(u){Pe(u.g,function(m,_){this.g.hasOwnProperty(_)&&Un(m)},u),u.g={}}Le.prototype.N=function(){Le.aa.N.call(this),ot(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=f.JSON.stringify,Je=f.JSON.parse,zt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ct(){}Ct.prototype.h=null;function Bn(u){return u.h||(u.h=u.i())}function Zn(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){Ee.call(this,"d")}B(Ht,Ee);function Ir(){Ee.call(this,"c")}B(Ir,Ee);var nt={},Pt=null;function cn(){return Pt=Pt||new q}nt.La="serverreachability";function er(u){Ee.call(this,nt.La,u)}B(er,Ee);function hn(u){const m=cn();K(m,new er(m))}nt.STAT_EVENT="statevent";function ds(u,m){Ee.call(this,nt.STAT_EVENT,u),this.stat=m}B(ds,Ee);function ft(u){const m=cn();K(m,new ds(m,u))}nt.Ma="timingevent";function en(u,m){Ee.call(this,nt.Ma,u),this.size=m}B(en,Ee);function kt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Sr(){this.g=!0}Sr.prototype.xa=function(){this.g=!1};function $r(u,m,_,T,F,H){u.info(function(){if(u.g)if(H)for(var se="",et=H.split("&"),xt=0;xt<et.length;xt++){var Ke=et[xt].split("=");if(1<Ke.length){var Mt=Ke[0];Ke=Ke[1];var wt=Mt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Mt+"="+Ke+"&"):se+(Mt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+_+`
`+se})}function Gs(u,m,_,T,F,H,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+_+`
`+H+" "+se})}function tr(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zc(u,_)+(T?" "+T:"")})}function oa(u,m){u.info(function(){return"TIMEOUT: "+m})}Sr.prototype.info=function(){};function Zc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<F.length;se++)F[se]=""}}}}return Ve(_)}catch{return m}}var Ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function fs(){}B(fs,Ct),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},nr=new fs;function rr(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var aa={},Qs={};function Xs(u,m,_){u.L=1,u.v=Ti(Nn(m)),u.m=_,u.P=!0,la(u,null)}function la(u,m){u.F=Date.now(),it(u),u.A=Nn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Si(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Cl,u.g=ql(u.j,_?m:null,!u.m),0<u.O&&(u.M=new we(I(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Se[0]=F.toString()),F=Se);for(var H=0;H<F.length;H++){var se=gi(_,F[H],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),hn(),$r(u.i,u.u,u.A,u.l,u.R,u.m)}rr.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const wt=yn(this.g);var m=this.g.Ba();const Hn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||wt!=4||m==7||(m==8||0>=Hn?hn(3):hn(2)),ps(this);var _=this.g.Z();this.X=_;t:if(Pl(this)){var T=pa(this.g);u="";var F=T.length,H=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),_i(this);var se="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==F-1)});T.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Gs(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var et,xt=this.g;if((et=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(et)){var Ke=et;break t}}Ke=null}if(_=Ke)tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,_);else{this.o=!1,this.s=3,ft(12),zn(this),_i(this);break e}}if(this.P){_=!0;let bn;for(;!this.J&&this.C<se.length;)if(bn=eh(this,se),bn==Qs){wt==4&&(this.s=4,ft(14),_=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==aa){this.s=4,ft(15),tr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else tr(this.i,this.l,bn,null),ua(this,bn);if(Pl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)tr(this.i,this.l,se,"[Invalid Chunked Response]"),zn(this),_i(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ga(Mt),Mt.M=!0,ft(11))}}else tr(this.i,this.l,se,null),ua(this,se);wt==4&&zn(this),this.o&&!this.J&&(wt==4?ao(this.j,this):(this.o=!1,it(this)))}else no(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),zn(this),_i(this)}}}catch{}finally{}};function Pl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eh(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Qs:(_=Number(m.substring(_,T)),isNaN(_)?aa:(T+=1,T+_>m.length?Qs:(m=m.slice(T,T+_),u.C=T+_,m)))}rr.prototype.cancel=function(){this.J=!0,zn(this)};function it(u){u.S=Date.now()+u.I,kl(u,u.I)}function kl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kt(I(u.ba,u),m)}function ps(u){u.B&&(f.clearTimeout(u.B),u.B=null)}rr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(oa(this.i,this.A),this.L!=2&&(hn(),ft(17)),zn(this),this.s=2,_i(this)):kl(this,this.S-u)};function _i(u){u.j.G==0||u.J||ao(u.j,u)}function zn(u){ps(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ot(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ua(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||dn(_.h,u))){if(!u.K&&dn(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)oo(_),lr(_);else break e;so(_),ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=kt(I(_.Za,_),6e3));if(1>=Nl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Kr(_,11)}else if((u.K||_.g==u)&&oo(_),!ne(m))for(F=_.Da.g.parse(m),m=0;m<F.length;m++){let Ke=F[m];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Mt=Ke[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const wt=Ke[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Hn=Ke[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(T=1.5*Hn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const bn=u.g;if(bn){const ws=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var H=T.h;H.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ca(H,H.h),H.h=null))}if(T.D){const uo=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(T.ya=uo,rt(T.I,T.D,uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var se=u;if(T.qa=Hl(T,T.J?T.ia:null,T.W),se.K){Dl(T.h,se);var et=se,xt=T.L;xt&&(et.I=xt),et.B&&(ps(et),it(et)),T.g=se}else Es(T);0<_.i.length&&Pr(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Kr(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Kr(_,7):Wt(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}hn(4)}catch{}}var xl=class{constructor(u,m){this.g=u,this.map=m}};function ms(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nl(u){return u.h?1:u.g?u.g.size:0}function dn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ca(u,m){u.g?u.g.add(m):u.h=m}function Dl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ms.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return L(u.i)}function Ys(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function vi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Js(u),T=Ys(u),F=T.length,H=0;H<F;H++)m.call(void 0,T[H],_&&_[H],u)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),F=null;if(0<=T){var H=u[_].substring(0,T);F=u[_].substring(T+1)}else H=u[_];m(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Hr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Hr){this.h=u.h,ys(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.s),this.l=u.l;var m=u.i,_=new Ar;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),wi(this,_),this.m=u.m}else u&&(m=String(u).match(gs))?(this.h=!1,ys(this,m[1]||"",!0),this.o=qe(m[2]||""),this.g=qe(m[3]||"",!0),Ei(this,m[4]),this.l=qe(m[5]||"",!0),wi(this,m[6]||"",!0),this.m=qe(m[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}Hr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ii(m,Zs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ii(m,Zs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ii(_,_.charAt(0)=="/"?Ll:Vl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ii(_,ha)),u.join("")};function Nn(u){return new Hr(u)}function ys(u,m,_){u.j=_?qe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wi(u,m,_){m instanceof Ar?(u.i=m,Rr(u.i,u.h)):(_||(m=Ii(m,Ml)),u.i=new Ar(m,u.h))}function rt(u,m,_){u.i.set(m,_)}function Ti(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ii(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Ol),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ol(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Vl=/[#\?:]/g,Ll=/[#\?]/g,Ml=/[#\?@]/g,ha=/#/g;function Ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function qt(u){u.g||(u.g=new Map,u.h=0,u.i&&th(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ar.prototype,r.add=function(u,m){qt(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ir(u,m){qt(u),m=$n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sr(u,m){return qt(u),m=$n(u,m),u.g.has(m)}r.forEach=function(u,m){qt(this),this.g.forEach(function(_,T){_.forEach(function(F){u.call(m,F,T,this)},this)},this)},r.na=function(){qt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const F=u[T];for(let H=0;H<F.length;H++)_.push(m[T])}return _},r.V=function(u){qt(this);let m=[];if(typeof u=="string")sr(this,u)&&(m=m.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return qt(this),this.i=null,u=$n(this,u),sr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Si(u,m,_){ir(u,m),0<_.length&&(u.i=null,u.g.set($n(u,m),L(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var F=H;se[T]!==""&&(F+="="+encodeURIComponent(String(se[T]))),u.push(F)}}return this.i=u.join("&")};function $n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Rr(u,m){m&&!u.j&&(qt(u),u.i=null,u.g.forEach(function(_,T){var F=T.toLowerCase();T!=F&&(ir(this,T),Si(this,F,_))},u)),u.j=m}function nh(u,m){const _=new Sr;if(f.Image){const T=new Image;T.onload=N(gn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=N(gn,_,"TestLoadImage: error",!1,m,T),T.onabort=N(gn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=N(gn,_,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jl(u,m){const _=new Sr,T=new AbortController,F=setTimeout(()=>{T.abort(),gn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(F),H.ok?gn(_,"TestPingServer: ok",!0,m):gn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),gn(_,"TestPingServer: error",!1,m)})}function gn(u,m,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function rh(){this.g=new zt}function Fl(u,m,_){const T=_||"";try{vi(u,function(F,H){let se=F;y(F)&&(se=Ve(F)),m.push(T+H+"="+encodeURIComponent(se))})}catch(F){throw m.push(T+"type="+encodeURIComponent("_badmap")),F}}function qr(u){this.l=u.Ub||null,this.j=u.eb||!1}B(qr,Ct),qr.prototype.g=function(){return new _s(this.l,this.j)},qr.prototype.i=function(u){return function(){return u}}({});function _s(u,m){q.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(_s,q),r=_s.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?or(this):ar(this),this.readyState==3&&Ul(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},r.Qa=function(u){this.g&&(this.response=u,or(this))},r.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wr(u){let m="";return Pe(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ai(u,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Wr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):rt(u,m,_))}function ct(u){q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(ct,q);var ih=/^https?$/i,da=["POST","PUT"];r=ct.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Bn(this.o):Bn(nr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){vs(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(da,m,void 0))||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of _)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){vs(this,H)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,eo(u),Dn(u)}function eo(u){u.A||(u.A=!0,K(u,"complete"),K(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,K(this,"complete"),K(this,"abort"),Dn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),ct.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},r.bb=function(){fa(this)};function fa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)le(u.Ea,0,u);else if(K(u,"readystatechange"),yn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=se===0){var F=String(u.D).match(gs)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!ih.test(F?F.toLowerCase():"")}_=T}if(_)K(u,"complete"),K(u,"success");else{u.m=6;try{var H=2<yn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",eo(u)}}finally{Dn(u)}}}}function Dn(u,m){if(u.g){to(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||K(u,"ready");try{_.onreadystatechange=T}catch{}}}function to(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Je(m)}};function pa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function no(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ne(u[T]))continue;var _=V(u[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[F]||[];m[F]=H,H.push(_)}b(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ma(u){this.Aa=0,this.i=[],this.j=new Sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,u),this.cb=Cr("retryDelaySeedMs",1e4,u),this.Wa=Cr("forwardChannelMaxRetries",2,u),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(u&&u.concurrentRequestLimit),this.Da=new rh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ma.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){ft(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Hl(this,null,this.W),Pr(this)};function Wt(u){if(ro(u),u.G==3){var m=u.U++,_=Nn(u.I);if(rt(_,"SID",u.K),rt(_,"RID",m),rt(_,"TYPE","terminate"),Gr(u,_),m=new rr(u,u.j,m),m.L=2,m.v=Ti(Nn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=ql(m.j,null),m.g.ea(m.v)),m.F=Date.now(),it(m)}$l(u)}function lr(u){u.g&&(ga(u),u.g.cancel(),u.g=null)}function ro(u){lr(u),u.u&&(f.clearTimeout(u.u),u.u=null),oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Pr(u){if(!xn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ne||k(),ie||(Ne(),ie=!0),_e.add(m,u),u.B=0}}function sh(u,m){return Nl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kt(I(u.Ga,u,m),zl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new rr(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Ri(this,F,m),_=Nn(this.I),rt(_,"RID",u),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Gr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(Wr(H)))+"&"+m:this.m&&Ai(_,this.m,H)),ca(this.h,F),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",m),rt(_,"SID","null"),F.T=!0,Xs(F,_,null)):Xs(F,_,m),this.G=2}}else this.G==3&&(u?io(this,u):this.i.length==0||xn(this.h)||io(this))};function io(u,m){var _;m?_=m.l:_=u.U++;const T=Nn(u.I);rt(T,"SID",u.K),rt(T,"RID",_),rt(T,"AID",u.T),Gr(u,T),u.m&&u.o&&Ai(T,u.m,u.o),_=new rr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ri(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ca(u.h,_),Xs(_,T,m)}function Gr(u,m){u.H&&Pe(u.H,function(_,T){rt(m,T,_)}),u.l&&vi({},function(_,T){rt(m,T,_)})}function Ri(u,m,_){_=Math.min(u.i.length,_);var T=u.l?I(u.l.Na,u.l,u):null;e:{var F=u.i;let H=-1;for(;;){const se=["count="+_];H==-1?0<_?(H=F[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let et=!0;for(let xt=0;xt<_;xt++){let Ke=F[xt].g;const Mt=F[xt].map;if(Ke-=H,0>Ke)H=Math.max(0,F[xt].g-100),et=!1;else try{Fl(Mt,se,"req"+Ke+"_")}catch{T&&T(Mt)}}if(et){T=se.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,T}function Es(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ne||k(),ie||(Ne(),ie=!0),_e.add(m,u),u.v=0}}function so(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kt(I(u.Fa,u),zl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kt(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),lr(this),Bl(this))};function ga(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new rr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Nn(u.qa);rt(m,"RID","rpc"),rt(m,"SID",u.K),rt(m,"AID",u.T),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(m,"TO",u.ja),rt(m,"TYPE","xmlhttp"),Gr(u,m),u.m&&u.o&&Ai(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ti(Nn(m)),_.m=null,_.P=!0,la(_,u)}r.Za=function(){this.C!=null&&(this.C=null,lr(this),so(this),ft(19))};function oo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function ao(u,m){var _=null;if(u.g==m){oo(u),ga(u),u.g=null;var T=2}else if(dn(u.h,m))_=m.D,Dl(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;T=cn(),K(T,new en(T,_)),Pr(u)}else Es(u);else if(F=m.s,F==3||F==0&&0<m.X||!(T==1&&sh(u,m)||T==2&&so(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),F){case 1:Kr(u,5);break;case 4:Kr(u,10);break;case 3:Kr(u,6);break;default:Kr(u,2)}}}function zl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Kr(u,m){if(u.j.info("Error code "+m),m==2){var _=I(u.fb,u),T=u.Xa;const F=!T;T=new Hr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ys(T,"https"),Ti(T),F?nh(T.toString(),_):jl(T.toString(),_)}else ft(2);u.G=0,u.l&&u.l.sa(m),$l(u),ro(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function Hl(u,m,_){var T=_ instanceof Hr?Nn(_):new Hr(_);if(T.g!="")m&&(T.g=m+"."+T.g),Ei(T,T.s);else{var F=f.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var H=new Hr(null);T&&ys(H,T),m&&(H.g=m),F&&Ei(H,F),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&rt(T,_,m),rt(T,"VER",u.la),Gr(u,T),T}function ql(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ct(new qr({eb:_})):new ct(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}r=ya.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function lo(){}lo.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){q.call(this),this.g=new ma(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ne(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ne(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new kr(this)}B(fn,q),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wt(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ve(u),u=_);m.i.push(new xl(m.Ya++,u)),m.G==3&&Pr(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wt(this.g),delete this.g,fn.aa.N.call(this)};function Wl(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}B(Wl,Ht);function Gl(){Ir.call(this),this.status=1}B(Gl,Ir);function kr(u){this.g=u}B(kr,ya),kr.prototype.ua=function(){K(this.g,"a")},kr.prototype.ta=function(u){K(this.g,new Wl(u))},kr.prototype.sa=function(u){K(this.g,new Gl)},kr.prototype.ra=function(){K(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,fv=function(){return new lo},dv=function(){return cn()},hv=nt,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ks.NO_ERROR=0,Ks.TIMEOUT=8,Ks.HTTP_ERROR=6,Ku=Ks,Rl.COMPLETE="complete",cv=Rl,Zn.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",q.prototype.listen=q.prototype.K,qa=Zn,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,uv=ct}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",py="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Af("@firebase/firestore");function No(){return Bs.logLevel}function ce(r,...e){if(Bs.logLevel<=Be.DEBUG){const t=e.map(Pf);Bs.debug(`Firestore (${Zo}): ${r}`,...t)}}function hi(r,...e){if(Bs.logLevel<=Be.ERROR){const t=e.map(Pf);Bs.error(`Firestore (${Zo}): ${r}`,...t)}}function Ho(r,...e){if(Bs.logLevel<=Be.WARN){const t=e.map(Pf);Bs.warn(`Firestore (${Zo}): ${r}`,...t)}}function Pf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+r;throw hi(e),new Error(e)}function Ze(r,e){r||Ce()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class K0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q0{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ji)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new pv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new an(e)}}class X0{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y0{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new X0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J0{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new my(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new my(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Z0(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function Zd(r,e){const t=Jd().encode(r),i=Jd().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const l=ze(t[o],i[o]);if(l!==0)return l}return ze(t.length,i.length)}function qo(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,yy=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*yy);return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gy)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yy}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new bt(0,0))}static max(){return new De(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Or{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Or.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=Or.isNumericId(e),o=Or.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Or.extractNumericId(e).compare(Or.extractNumericId(t)):Zd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class ut extends Or{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ut(t)}static emptyPath(){return new ut([])}}const eA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Or{construct(e,t,i){return new Yt(e,t,i)}static isValidIdentifier(e){return eA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new Yt([_y])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new he(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=-1;function tA(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=De.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new es(o,ve.empty(),e)}function nA(r){return new es(r.readTime,r.key,rl)}class es{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new es(De.min(),ve.empty(),rl)}static max(){return new es(De.max(),ve.empty(),rl)}}function rA(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==iA)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(E=>{h[y]=E,++f,f===l&&i(h)},E=>o(E))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function oA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=-1;function Dc(r){return r==null}function uc(r){return r===0&&1/r==-1/0}function aA(r){return typeof r=="number"&&Number.isInteger(r)&&!uc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function lA(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=vy(e)),e=uA(r.get(t),e);return vy(e)}function uA(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case gv:t+="";break;default:t+=l}}return t}function vy(r){return r+gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function as(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=o??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Xt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Ot(Yt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _v("Invalid base64 string: "+l):l}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const cA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ze(!!r),typeof r=="string"){let e=0;const t=cA.exec(r);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",Ev="__type__",wv="__previous_value__",Tv="__local_write_time__";function xf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ev])===null||t===void 0?void 0:t.stringValue)===vv}function bc(r){const e=r.mapValue.fields[wv];return xf(e)?bc(e):e}function il(r){const e=ts(r.mapValue.fields[Tv].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,i,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}const cc="(default)";class sl{constructor(e,t){this.projectId=e,this.database=t||cc}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__type__",dA="__max__",$u={mapValue:{}},Sv="__vector__",hc="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xf(r)?4:pA(r)?9007199254740991:fA(r)?10:11:Ce()}function Fr(r,e){if(r===e)return!0;const t=rs(r);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return il(r).isEqual(il(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ts(o.timestampValue),f=ts(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return ns(o.bytesValue).isEqual(ns(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Et(o.doubleValue),f=Et(l.doubleValue);return h===f?uc(h)===uc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return qo(r.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Ey(h)!==Ey(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!Fr(h[p],f[p])))return!1;return!0}(r,e);default:return Ce()}}function ol(r,e){return(r.values||[]).find(t=>Fr(t,e))!==void 0}function Wo(r,e){if(r===e)return 0;const t=rs(r),i=rs(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=Et(l.integerValue||l.doubleValue),p=Et(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Ty(r.timestampValue,e.timestampValue);case 4:return Ty(il(r),il(e));case 5:return Zd(r.stringValue,e.stringValue);case 6:return function(l,h){const f=ns(l),p=ns(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const E=ze(f[y],p[y]);if(E!==0)return E}return ze(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=ze(Et(l.latitude),Et(h.latitude));return f!==0?f:ze(Et(l.longitude),Et(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Iy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,E;const S=l.fields||{},I=h.fields||{},N=(f=S[hc])===null||f===void 0?void 0:f.arrayValue,B=(p=I[hc])===null||p===void 0?void 0:p.arrayValue,L=ze(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0);return L!==0?L:Iy(N,B)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===$u.mapValue&&h===$u.mapValue)return 0;if(l===$u.mapValue)return 1;if(h===$u.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const I=Zd(p[S],E[S]);if(I!==0)return I;const N=Wo(f[p[S]],y[E[S]]);if(N!==0)return N}return ze(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function Ty(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=ts(r),i=ts(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function Iy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Wo(t[o],i[o]);if(l)return l}return ze(t.length,i.length)}function Go(r){return ef(r)}function ef(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=ts(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ns(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ef(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${ef(t.fields[h])}`;return o+"}"}(r.mapValue):Ce()}function Qu(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Qu(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return as(i.fields,(l,h)=>{o+=l.length+Qu(h)}),o}(r.mapValue);default:throw Ce()}}function Sy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tf(r){return!!r&&"integerValue"in r}function Nf(r){return!!r&&"arrayValue"in r}function Ay(r){return!!r&&"nullValue"in r}function Ry(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xu(r){return!!r&&"mapValue"in r}function fA(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iv])===null||t===void 0?void 0:t.stringValue)===Sv}function Qa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qa(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(t)}setAll(e){let t=Yt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Qa(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){as(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new An(Qa(this.value))}}function Av(r){const e=[];return as(r.fields,(t,i)=>{const o=new Yt([t]);if(Xu(i)){const l=Av(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new ln(e,0,De.min(),De.min(),De.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new ln(e,1,t,De.min(),i,o,0)}static newNoDocument(e,t){return new ln(e,2,t,De.min(),De.min(),An.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,De.min(),De.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function Cy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(h.referenceValue),t.key):i=Wo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Py(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t="asc"){this.field=e,this.dir=t}}function mA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class At extends Rv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new yA(e,t,i):t==="array-contains"?new EA(e,i):t==="in"?new wA(e,i):t==="not-in"?new TA(e,i):t==="array-contains-any"?new IA(e,i):new At(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new _A(e,i):new vA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wo(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Rv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _r(e,t)}matches(e){return Cv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Cv(r){return r.op==="and"}function Pv(r){return gA(r)&&Cv(r)}function gA(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function nf(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+Go(r.value);if(Pv(r))return r.filters.map(e=>nf(e)).join(",");{const e=r.filters.map(t=>nf(t)).join(",");return`${r.op}(${e})`}}function kv(r,e){return r instanceof At?function(i,o){return o instanceof At&&i.op===o.op&&i.field.isEqual(o.field)&&Fr(i.value,o.value)}(r,e):r instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&kv(h,o.filters[f]),!0):!1}(r,e):void Ce()}function xv(r){return r instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(r):r instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(xv).join(" ,")+"}"}(r):"Filter"}class yA extends At{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class _A extends At{constructor(e,t){super(e,"in",t),this.keys=Nv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vA extends At{constructor(e,t){super(e,"not-in",t),this.keys=Nv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class EA extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nf(t)&&ol(t.arrayValue,this.value)}}class wA extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ol(this.value.arrayValue,t)}}class TA extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ol(this.value.arrayValue,t)}}class IA extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ol(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.le=null}}function ky(r,e=null,t=[],i=[],o=null,l=null,h=null){return new SA(r,e,t,i,o,l,h)}function Df(r){const e=be(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>nf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Go(i)).join(",")),e.le=t}return e.le}function bf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!mA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!kv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Py(r.startAt,e.startAt)&&Py(r.endAt,e.endAt)}function rf(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function AA(r,e,t,i,o,l,h,f){return new na(r,e,t,i,o,l,h,f)}function Dv(r){return new na(r)}function xy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bv(r){return r.collectionGroup!==null}function Xa(r){const e=be(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Ot(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new al(l,i))}),t.has(Yt.keyField().canonicalString())||e.he.push(new al(Yt.keyField(),i))}return e.he}function Lr(r){const e=be(r);return e.Pe||(e.Pe=RA(e,Xa(r))),e.Pe}function RA(r,e){if(r.limitType==="F")return ky(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new al(o.field,l)});const t=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return ky(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function sf(r,e){const t=r.filters.concat([e]);return new na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function fc(r,e,t){return new na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Oc(r,e){return bf(Lr(r),Lr(e))&&r.limitType===e.limitType}function Ov(r){return`${Df(Lr(r))}|lt:${r.limitType}`}function Do(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>xv(o)).join(", ")}]`),Dc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(Lr(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of Xa(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,f,p){const y=Cy(h,f,p);return h.inclusive?y<=0:y<0}(i.startAt,Xa(i),o)||i.endAt&&!function(h,f,p){const y=Cy(h,f,p);return h.inclusive?y>=0:y>0}(i.endAt,Xa(i),o))}(r,e)}function CA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vv(r){return(e,t)=>{let i=!1;for(const o of Xa(r)){const l=PA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function PA(r,e,t){const i=r.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Wo(p,y):Ce()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new gt(ve.comparator);function di(){return kA}const Lv=new gt(ve.comparator);function Wa(...r){let e=Lv;for(const t of r)e=e.insert(t.key,t);return e}function Mv(r){let e=Lv;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ms(){return Ya()}function jv(){return Ya()}function Ya(){return new qs(r=>r.toString(),(r,e)=>r.isEqual(e))}const xA=new gt(ve.comparator),NA=new Ot(ve.comparator);function $e(...r){let e=NA;for(const t of r)e=e.add(t);return e}const DA=new Ot(ze);function bA(){return DA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Fv(r){return{integerValue:""+r}}function OA(r,e){return aA(e)?Fv(e):Of(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function VA(r,e,t){return r instanceof ll?function(o,l){const h={fields:{[Ev]:{stringValue:vv},[Tv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&xf(l)&&(l=bc(l)),l&&(h.fields[wv]=l),{mapValue:h}}(t,e):r instanceof ul?Bv(r,e):r instanceof cl?zv(r,e):function(o,l){const h=Uv(o,l),f=Ny(h)+Ny(o.Ie);return tf(h)&&tf(o.Ie)?Fv(f):Of(o.serializer,f)}(r,e)}function LA(r,e,t){return r instanceof ul?Bv(r,e):r instanceof cl?zv(r,e):t}function Uv(r,e){return r instanceof pc?function(i){return tf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ll extends Lc{}class ul extends Lc{constructor(e){super(),this.elements=e}}function Bv(r,e){const t=$v(e);for(const i of r.elements)t.some(o=>Fr(o,i))||t.push(i);return{arrayValue:{values:t}}}class cl extends Lc{constructor(e){super(),this.elements=e}}function zv(r,e){let t=$v(e);for(const i of r.elements)t=t.filter(o=>!Fr(o,i));return{arrayValue:{values:t}}}class pc extends Lc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ny(r){return Et(r.integerValue||r.doubleValue)}function $v(r){return Nf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t){this.field=e,this.transform=t}}function jA(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof ul&&o instanceof ul||i instanceof cl&&o instanceof cl?qo(i.elements,o.elements,Fr):i instanceof pc&&o instanceof pc?Fr(i.Ie,o.Ie):i instanceof ll&&o instanceof ll}(r.transform,e.transform)}class FA{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mc{}function Hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wv(r.key,gr.none()):new yl(r.key,r.data,gr.none());{const t=r.data,i=An.empty();let o=new Ot(Yt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new ls(r.key,i,new Fn(o.toArray()),gr.none())}}function UA(r,e,t){r instanceof yl?function(o,l,h){const f=o.value.clone(),p=by(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ls?function(o,l,h){if(!Yu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=by(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(qv(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ja(r,e,t,i){return r instanceof yl?function(l,h,f,p){if(!Yu(l.precondition,h))return f;const y=l.value.clone(),E=Oy(l.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof ls?function(l,h,f,p){if(!Yu(l.precondition,h))return f;const y=Oy(l.fieldTransforms,p,h),E=h.data;return E.setAll(qv(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(r,e,t,i):function(l,h,f){return Yu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function BA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=Uv(i.transform,o||null);l!=null&&(t===null&&(t=An.empty()),t.set(i.field,l))}return t||null}function Dy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,(l,h)=>jA(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yl extends Mc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ls extends Mc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function by(r,e,t){const i=new Map;Ze(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,LA(h,f,t[o]))}return i}function Oy(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,VA(l,h,e))}return i}class Wv extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zA extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&UA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ja(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=jv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=Hv(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,i)=>Dy(t,i))&&qo(this.baseMutations,e.baseMutations,(t,i)=>Dy(t,i))}}class Vf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return xA}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Vf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function WA(r){switch(r){case Q.OK:return Ce();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ce()}}function Gv(r){if(r===void 0)return hi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case It.OK:return Q.OK;case It.CANCELLED:return Q.CANCELLED;case It.UNKNOWN:return Q.UNKNOWN;case It.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case It.INTERNAL:return Q.INTERNAL;case It.UNAVAILABLE:return Q.UNAVAILABLE;case It.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case It.NOT_FOUND:return Q.NOT_FOUND;case It.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case It.ABORTED:return Q.ABORTED;case It.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case It.DATA_LOSS:return Q.DATA_LOSS;default:return Ce()}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Yi([4294967295,4294967295],0);function Vy(r){const e=Jd().encode(r),t=new lv;return t.update(e),new Uint8Array(t.digest())}function Ly(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yi([t,i],0),new Yi([o,l],0)]}class Lf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Yi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Yi.fromNumber(i)));return o.compare(GA)===1&&(o=new Yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Vy(e),[i,o]=Ly(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Lf(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=Vy(e),[i,o]=Ly(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jc(De.min(),o,new gt(ze),di(),$e())}}class _l{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _l(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Kv{constructor(e,t){this.targetId=e,this.ge=t}}class Qv{constructor(e,t,i=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class My{constructor(){this.pe=0,this.ye=jy(),this.we=Zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=$e(),t=$e(),i=$e();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce()}}),new _l(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=jy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class KA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=di(),this.$e=Hu(),this.Ue=Hu(),this.Ke=new gt(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(rf(l))if(i===0){const h=new ve(l.path);this.ze(t,h,ln.newNoDocument(h,De.min()))}else Ze(i===1);else{const h=this.et(t);if(h!==i){const f=this.tt(e),p=f?this.nt(f,e,h):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=ns(i).toUint8Array()}catch(p){if(p instanceof _v)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Lf(h,o,l)}catch(p){return Ho(p instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const f=this.Xe(h);if(f){if(l.current&&rf(f.target)){const p=new ve(f.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,ln.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let i=$e();this.Ue.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new jc(e,t,this.Ke,this.Qe,i);return this.Qe=di(),this.$e=Hu(),this.Ue=Hu(),this.Ke=new gt(ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new My,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ot(ze),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ot(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new My),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Hu(){return new gt(ve.comparator)}function jy(){return new gt(ve.comparator)}const QA={asc:"ASCENDING",desc:"DESCENDING"},XA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YA={and:"AND",or:"OR"};class JA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function of(r,e){return r.useProto3Json||Dc(e)?e:{value:e}}function mc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZA(r,e){return mc(r,e.toTimestamp())}function Mr(r){return Ze(!!r),De.fromTimestamp(function(t){const i=ts(t);return new bt(i.seconds,i.nanos)}(r))}function Mf(r,e){return af(r,e).canonicalString()}function af(r,e){const t=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Yv(r){const e=ut.fromString(r);return Ze(nE(e)),e}function lf(r,e){return Mf(r.databaseId,e.path)}function jd(r,e){const t=Yv(e);if(t.get(1)!==r.databaseId.projectId)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(Zv(t))}function Jv(r,e){return Mf(r.databaseId,e)}function eR(r){const e=Yv(r);return e.length===4?ut.emptyPath():Zv(e)}function uf(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zv(r){return Ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fy(r,e,t){return{name:lf(r,e),fields:t.value.mapValue.fields}}function tR(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string"),Zt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const E=y.code===void 0?Q.UNKNOWN:Gv(y.code);return new he(E,y.message||"")}(h);t=new Qv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=jd(r,i.document.name),l=Mr(i.document.updateTime),h=i.document.createTime?Mr(i.document.createTime):De.min(),f=new An({mapValue:{fields:i.document.fields}}),p=ln.newFoundDocument(o,l,h,f),y=i.targetIds||[],E=i.removedTargetIds||[];t=new Ju(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=jd(r,i.document),l=i.readTime?Mr(i.readTime):De.min(),h=ln.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Ju([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=jd(r,i.document),l=i.removedTargetIds||[];t=new Ju([],l,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new qA(o,l),f=i.targetId;t=new Kv(f,h)}}return t}function nR(r,e){let t;if(e instanceof yl)t={update:Fy(r,e.key,e.value)};else if(e instanceof Wv)t={delete:lf(r,e.key)};else if(e instanceof ls)t={update:Fy(r,e.key,e.data),updateMask:hR(e.fieldMask)};else{if(!(e instanceof zA))return Ce();t={verify:lf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof ll)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ul)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pc)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ZA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce()}(r,e.precondition)),t}function rR(r,e){return r&&r.length>0?(Ze(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?Mr(o.updateTime):Mr(l);return h.isEqual(De.min())&&(h=Mr(l)),new FA(h,o.transformResults||[])}(t,e))):[]}function iR(r,e){return{documents:[Jv(r,e.path)]}}function sR(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Jv(r,o);const l=function(y){if(y.length!==0)return tE(_r.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:bo(I.field),direction:lR(I.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=of(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function oR(r){let e=eR(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const I=eE(S);return I instanceof _r&&Pv(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(I=>function(B){return new al(Oo(B.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(S){let I;return I=typeof S=="object"?S.value:S,Dc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(S){const I=!!S.before,N=S.values||[];return new dc(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const I=!S.before,N=S.values||[];return new dc(N,I)}(t.endAt)),AA(e,o,h,l,f,"F",p,y)}function aR(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return At.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Oo(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(t){return At.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>eE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(r):Ce()}function lR(r){return QA[r]}function uR(r){return XA[r]}function cR(r){return YA[r]}function bo(r){return{fieldPath:r.canonicalString()}}function Oo(r){return Yt.fromServerFormat(r.fieldPath)}function tE(r){return r instanceof At?function(t){if(t.op==="=="){if(Ry(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Ay(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ry(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Ay(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:uR(t.op),value:t.value}}}(r):r instanceof _r?function(t){const i=t.getFilters().map(o=>tE(o));return i.length===1?i[0]:{compositeFilter:{op:cR(t.op),filters:i}}}(r):Ce()}function hR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,i,o,l=De.min(),h=De.min(),f=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.Tt=e}}function fR(r){const e=oR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.Tn=new mR}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(es.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class mR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ot(ut.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ot(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(rE,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ko(0)}static Kn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LruGarbageCollector",gR=1048576;function zy([r,e],[t,i]){const o=ze(r,t);return o===0?ze(e,i):o}class yR{constructor(e){this.Hn=e,this.buffer=new Ot(zy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(By,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?ce(By,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.er(3e5)})}}class vR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Nc.ae);const i=new yR(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Uy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,h,f,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),No()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function ER(r,e){return new vR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.changes=new qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ja(i.mutation,o,Fn.empty(),bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const o=Ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Wa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=di();const h=Ya(),f=function(){return Ya()}();return t.forEach((p,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ls)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Ja(E.mutation,y,E.mutation.getFieldMask(),bt.now())):h.set(y.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var S;return f.set(y,new TR(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ya();let o=new gt((h,f)=>h-f),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let E=i.get(p)||Fn.empty();E=f.applyToLocalView(y,E),i.set(p,E);const S=(o.get(f.batchId)||$e()).add(p);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,E=p.value,S=jv();E.forEach(I=>{if(!l.has(I)){const N=Hv(t.get(I),i.get(I));N!==null&&S.set(I,N),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(Ms());let f=rl,p=l;return h.next(y=>X.forEach(y,(E,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,$e())).next(E=>({batchId:f,changes:Mv(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=Wa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Wa();return this.indexManager.getCollectionParents(e,l).next(f=>X.forEach(f,p=>{const y=function(S,I){return new na(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(E=>{E.forEach((S,I)=>{h=h.insert(S,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))});let f=Wa();return h.forEach((p,y)=>{const E=l.get(p);E!==void 0&&Ja(E.mutation,y,Fn.empty(),bt.now()),Vc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:fR(o.bundledQuery),readTime:Mr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.overlays=new gt(ve.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ms();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Ms(),l=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new gt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=l.get(y.largestBatchId);E===null&&(E=Ms(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=Ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=o)););return X.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new HA(t,i));let l=this.Rr.get(t);l===void 0&&(l=$e(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.Vr=new Ot(Bt.mr),this.gr=new Ot(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Bt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Bt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ve(new ut([])),i=new Bt(t,e),o=new Bt(t,e+1),l=[];return this.gr.forEachInRange([i,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new ut([])),i=new Bt(t,e),o=new Bt(t,e+1);let l=$e();return this.gr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Bt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(Bt.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $A(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?kf:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],h=>{const f=this.Or(h.Cr);l.push(f)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ot(ze);return t.forEach(o=>{const l=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],f=>{i=i.add(f.Cr)})}),X.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const h=new Bt(new ve(l),0);let f=new Ot(ze);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Cr)),!0)},h),X.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return X.forEach(t.mutations,o=>{const l=new Bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Bt(t,0),o=this.Mr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.kr=e,this.docs=function(){return new gt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=di();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():ln.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=di();const h=t.path,f=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||rA(nA(E),i)<=0||(o.has(E.key)||Vc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ce()}qr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new kR(this)}getSize(e){return X.resolve(this.size)}}class kR extends wR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.persistence=e,this.Qr=new qs(t=>Df(t),bf),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jf,this.targetCount=0,this.Kr=Ko.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Nc(0),this.zr=!1,this.zr=!0,this.jr=new RR,this.referenceDelegate=e(this),this.Hr=new xR(this),this.indexManager=new pR,this.remoteDocumentCache=function(o){return new PR(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new dR(t),this.Yr=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new CR(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new NR(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return X.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class NR extends sA{constructor(e){super(),this.currentSequenceNumber=e}}class Ff{constructor(e){this.persistence=e,this.ti=new jf,this.ni=null}static ri(e){return new Ff(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,i=>{const o=ve.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,De.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class gc{constructor(e,t){this.persistence=e,this.oi=new qs(i=>lA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ER(this,t)}static ri(e,t){return new gc(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(i++,l.removeEntry(h,De.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qu(e.data.value)),t}ar(e,t,i){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=$e(),o=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Uf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kS()?8:oA(un())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new DR;return this._s(e,t,h).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(No()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(No()<=Be.DEBUG&&ce("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(No()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):X.resolve())}rs(e,t){if(xy(t))return X.resolve(null);let i=Lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=fc(t,null,"F"),i=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=$e(...l);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,f);return this.ls(t,y,h,p.readTime)?this.rs(e,fc(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return xy(t)||o.isEqual(De.min())?X.resolve(null):this.ns.getDocuments(e,i).next(l=>{const h=this.cs(t,l);return this.ls(t,h,i,o)?X.resolve(null):(No()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.hs(e,h,t,tA(o,rl)).next(f=>f))})}cs(e,t){let i=new Ot(Vv(e));return t.forEach((o,l)=>{Vc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return No()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ns.getDocumentsMatchingQuery(e,t,es.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="LocalStore",OR=3e8;class VR{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new gt(ze),this.Is=new qs(l=>Df(l),bf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LR(r,e,t,i){return new VR(r,e,t,i)}async function sE(r,e){const t=be(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let p=$e();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:f}))})})}function MR(r,e){const t=be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,y,E){const S=y.batch,I=S.keys();let N=X.resolve();return I.forEach(B=>{N=N.next(()=>E.getEntry(p,B)).next(L=>{const j=y.docVersions.get(B);Ze(j!==null),L.version.compareTo(j)<0&&(S.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),E.addEntry(L)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=$e();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function oE(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function jR(r,e){const t=be(r),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;f.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,S)));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Zt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),o=o.insert(S,N),function(L,j,ee){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=OR?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(I,N,E)&&f.push(t.Hr.updateTargetData(l,N))});let p=di(),y=$e();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(FR(l,h,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!i.isEqual(De.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(E)}return X.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function FR(r,e,t){let i=$e(),o=$e();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let h=di();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ce(Bf,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function UR(r,e){const t=be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=kf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function BR(r,e){const t=be(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Hr.allocateTargetId(i).next(h=>(o=new Gi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function cf(r,e,t){const i=be(r),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ta(h))throw h;ce(Bf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function $y(r,e,t){const i=be(r);let o=De.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,E){const S=be(p),I=S.Is.get(E);return I!==void 0?X.resolve(S.Ts.get(I)):S.Hr.getTargetData(y,E)}(i,h,Lr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?o:De.min(),t?l:$e())).next(f=>(zR(i,CA(e),f),{documents:f,gs:l})))}function zR(r,e,t){let i=r.Es.get(e)||De.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.Es.set(e,i)}class Hy{constructor(){this.activeTargetIds=bA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.ho=new Hy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Hy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class Wy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(qy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function hf(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===cc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const h=hf(),f=this.bo(e,t.toUriEncodedString());ce(Fd,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,f,p,i).then(y=>(ce(Fd,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Ho(Fd,`RPC '${e}' ${h} failed with error: `,y,"url: ",f,"request:",i),y})}Co(e,t,i,o,l,h){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=qR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class KR extends WR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=hf();return new Promise((h,f)=>{const p=new uv;p.setWithCredentials(!0),p.listenOnce(cv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ku.NO_ERROR:const E=p.getResponseJson();ce(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Ku.TIMEOUT:ce(on,`RPC '${e}' ${l} timed out`),f(new he(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const S=p.getStatus();if(ce(on,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const B=function(j){const ee=j.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ee)>=0?ee:Q.UNKNOWN}(N.status);f(new he(B,N.message))}else f(new he(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new he(Q.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(on,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ce(on,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=hf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fv(),f=dv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const E=l.join("");ce(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let I=!1,N=!1;const B=new GR({Fo:j=>{N?ce(on,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(I||(ce(on,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),ce(on,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),L=(j,ee,ne)=>{j.listen(ee,oe=>{try{ne(oe)}catch(ae){setTimeout(()=>{throw ae},0)}})};return L(S,qa.EventType.OPEN,()=>{N||(ce(on,`RPC '${e}' stream ${o} transport opened.`),B.Qo())}),L(S,qa.EventType.CLOSE,()=>{N||(N=!0,ce(on,`RPC '${e}' stream ${o} transport closed`),B.Uo())}),L(S,qa.EventType.ERROR,j=>{N||(N=!0,Ho(on,`RPC '${e}' stream ${o} transport errored:`,j),B.Uo(new he(Q.UNAVAILABLE,"The operation could not be completed")))}),L(S,qa.EventType.MESSAGE,j=>{var ee;if(!N){const ne=j.data[0];Ze(!!ne);const oe=ne,ae=(oe==null?void 0:oe.error)||((ee=oe[0])===null||ee===void 0?void 0:ee.error);if(ae){ce(on,`RPC '${e}' stream ${o} received error:`,ae);const je=ae.status;let Pe=function(P){const D=It[P];if(D!==void 0)return Gv(D)}(je),b=ae.message;Pe===void 0&&(Pe=Q.INTERNAL,b="Unknown error status: "+je+" with message "+ae.message),N=!0,B.Uo(new he(Pe,b)),S.close()}else ce(on,`RPC '${e}' stream ${o} received:`,ne),B.Ko(ne)}}),L(f,hv.STAT_EVENT,j=>{j.stat===Yd.PROXY?ce(on,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Yd.NOPROXY&&ce(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return new JA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="PersistentStream";class lE{constructor(e,t,i,o,l,h,f,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new aE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new he(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(Gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(Gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QR extends lE{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=tR(this.serializer,e),i=function(l){if(!("targetChange"in l))return De.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?De.min():h.readTime?Mr(h.readTime):De.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=uf(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=rf(p)?{documents:iR(l,p)}:{query:sR(l,p).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Xv(l,h.resumeToken);const y=of(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(De.min())>0){f.readTime=mc(l,h.snapshotVersion.toTimestamp());const y=of(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=aR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=uf(this.serializer),t.removeTarget=e,this.I_(t)}}class XR extends lE{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=rR(e.writeResults,e.commitTime),i=Mr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=uf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nR(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{}class JR extends YR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,af(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Q.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,af(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(Q.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ZR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class eC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{i.enqueueAndForget(async()=>{Ws(this)&&(ce(zs,"Restarting streams for network reachability change."),await async function(p){const y=be(p);y.W_.add(4),await vl(y),y.j_.set("Unknown"),y.W_.delete(4),await Uc(y)}(this))})}),this.j_=new ZR(i,o)}}async function Uc(r){if(Ws(r))for(const e of r.G_)await e(!0)}async function vl(r){for(const e of r.G_)await e(!1)}function uE(r,e){const t=be(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),qf(t)?Hf(t):ra(t).c_()&&$f(t,e))}function zf(r,e){const t=be(r),i=ra(t);t.K_.delete(e),i.c_()&&cE(t,e),t.K_.size===0&&(i.c_()?i.P_():Ws(t)&&t.j_.set("Unknown"))}function $f(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ra(r).y_(e)}function cE(r,e){r.H_.Ne(e),ra(r).w_(e)}function Hf(r){r.H_=new KA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ra(r).start(),r.j_.B_()}function qf(r){return Ws(r)&&!ra(r).u_()&&r.K_.size>0}function Ws(r){return be(r).W_.size===0}function hE(r){r.H_=void 0}async function tC(r){r.j_.set("Online")}async function nC(r){r.K_.forEach((e,t)=>{$f(r,e)})}async function rC(r,e){hE(r),qf(r)?(r.j_.q_(e),Hf(r)):r.j_.set("Unknown")}async function iC(r,e,t){if(r.j_.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.K_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(i){ce(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(r,i)}else if(e instanceof Ju?r.H_.We(e):e instanceof Kv?r.H_.Ze(e):r.H_.je(e),!t.isEqual(De.min()))try{const i=await oE(r.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.H_.ot(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.K_.get(y);E&&l.K_.set(y,E.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const E=l.K_.get(p);if(!E)return;l.K_.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),cE(l,p);const S=new Gi(E.target,p,y,E.sequenceNumber);$f(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){ce(zs,"Failed to raise snapshot:",i),await yc(r,i)}}async function yc(r,e,t){if(!ta(e))throw e;r.W_.add(1),await vl(r),r.j_.set("Offline"),t||(t=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(zs,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Uc(r)})}function dE(r,e){return e().catch(t=>yc(r,t,e))}async function Bc(r){const e=be(r),t=is(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:kf;for(;sC(e);)try{const o=await UR(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,oC(e,o)}catch(o){await yc(e,o)}fE(e)&&pE(e)}function sC(r){return Ws(r)&&r.U_.length<10}function oC(r,e){r.U_.push(e);const t=is(r);t.c_()&&t.S_&&t.b_(e.mutations)}function fE(r){return Ws(r)&&!is(r).u_()&&r.U_.length>0}function pE(r){is(r).start()}async function aC(r){is(r).C_()}async function lC(r){const e=is(r);for(const t of r.U_)e.b_(t.mutations)}async function uC(r,e,t){const i=r.U_.shift(),o=Vf.from(i,e,t);await dE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bc(r)}async function cC(r,e){e&&is(r).S_&&await async function(i,o){if(function(h){return WA(h)&&h!==Q.ABORTED}(o.code)){const l=i.U_.shift();is(i).h_(),await dE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Bc(i)}}(r,e),fE(r)&&pE(r)}async function Ky(r,e){const t=be(r);t.asyncQueue.verifyOperationInProgress(),ce(zs,"RemoteStore received new credentials");const i=Ws(t);t.W_.add(3),await vl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Uc(t)}async function hC(r,e){const t=be(r);e?(t.W_.delete(2),await Uc(t)):e||(t.W_.add(2),await vl(t),t.j_.set("Unknown"))}function ra(r){return r.J_||(r.J_=function(t,i,o){const l=be(t);return l.M_(),new QR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:tC.bind(null,r),No:nC.bind(null,r),Lo:rC.bind(null,r),p_:iC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),qf(r)?Hf(r):r.j_.set("Unknown")):(await r.J_.stop(),hE(r))})),r.J_}function is(r){return r.Y_||(r.Y_=function(t,i,o){const l=be(t);return l.M_(),new XR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:aC.bind(null,r),Lo:cC.bind(null,r),D_:lC.bind(null,r),v_:uC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Bc(r)):(await r.Y_.stop(),r.U_.length>0&&(ce(zs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new Wf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gf(r,e){if(hi("AsyncQueue",`${e}: ${r}`),ta(r))return new he(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Wa(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Z_=new gt(ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Qo(e,t,jo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class fC{constructor(){this.queries=Xy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=be(t),l=o.queries;o.queries=Xy(),l.forEach((h,f)=>{for(const p of f.ta)p.onError(i)})})(this,new he(Q.ABORTED,"Firestore shutting down"))}}function Xy(){return new qs(r=>Ov(r),Oc)}async function pC(r,e){const t=be(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new dC,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Gf(h,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Kf(t)}async function mC(r,e){const t=be(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function gC(r,e){const t=be(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.ta)f.oa(o)&&(i=!0);h.ea=o}}i&&Kf(t)}function yC(r,e,t){const i=be(r),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function Kf(r){r.ia.forEach(e=>{e.next()})}var df,Yy;(Yy=df||(df={}))._a="default",Yy.Cache="cache";class _C{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.key=e}}class gE{constructor(e){this.key=e}}class vC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=Vv(e),this.wa=new jo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Qy,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),N=Vc(this.query,S)?S:null,B=!!I&&this.mutatedKeys.has(I.key),L=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;I&&N?I.data.isEqual(N.data)?B!==L&&(i.track({type:3,doc:N}),j=!0):this.va(I,N)||(i.track({type:2,doc:N}),j=!0,(p&&this.ya(N,p)>0||y&&this.ya(N,y)<0)&&(f=!0)):!I&&N?(i.track({type:0,doc:N}),j=!0):I&&!N&&(i.track({type:1,doc:I}),j=!0,(p||y)&&(f=!0)),j&&(N?(h=h.add(N),l=L?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{wa:h,Da:i,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(N,B){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return L(N)-L(B)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new Qo(this.query,e.wa,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new gE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new mE(i))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qf="SyncEngine";class EC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wC{constructor(e){this.key=e,this.Ba=!1}}class TC{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new qs(f=>Ov(f),Oc),this.qa=new Map,this.Qa=new Set,this.$a=new gt(ve.comparator),this.Ua=new Map,this.Ka=new jf,this.Wa={},this.Ga=new Map,this.za=Ko.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function IC(r,e,t=!0){const i=TE(r);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await yE(i,e,t,!0),o}async function SC(r,e){const t=TE(r);await yE(t,e,!0,!1)}async function yE(r,e,t,i){const o=await BR(r.localStore,Lr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await AC(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&uE(r.remoteStore,o),f}async function AC(r,e,t,i,o){r.Ha=(S,I,N)=>async function(L,j,ee,ne){let oe=j.view.ba(ee);oe.ls&&(oe=await $y(L.localStore,j.query,!1).then(({documents:b})=>j.view.ba(b,oe)));const ae=ne&&ne.targetChanges.get(j.targetId),je=ne&&ne.targetMismatches.get(j.targetId)!=null,Pe=j.view.applyChanges(oe,L.isPrimaryClient,ae,je);return Zy(L,j.targetId,Pe.Ma),Pe.snapshot}(r,S,I,N);const l=await $y(r.localStore,e,!0),h=new vC(e,l.gs),f=h.ba(l.documents),p=_l.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);Zy(r,t,y.Ma);const E=new EC(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function RC(r,e,t){const i=be(r),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(h=>!Oc(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&zf(i.remoteStore,o.targetId),ff(i,o.targetId)}).catch(ea)):(ff(i,o.targetId),await cf(i.localStore,o.targetId,!0))}async function CC(r,e){const t=be(r),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zf(t.remoteStore,i.targetId))}async function PC(r,e,t){const i=VC(r);try{const o=await function(h,f){const p=be(h),y=bt.now(),E=f.reduce((N,B)=>N.add(B.key),$e());let S,I;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let B=di(),L=$e();return p.ds.getEntries(N,E).next(j=>{B=j,B.forEach((ee,ne)=>{ne.isValidDocument()||(L=L.add(ee))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,B)).next(j=>{S=j;const ee=[];for(const ne of f){const oe=BA(ne,S.get(ne.key).overlayedDocument);oe!=null&&ee.push(new ls(ne.key,oe,Av(oe.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,ee,f)}).next(j=>{I=j;const ee=j.applyToLocalDocumentSet(S,L);return p.documentOverlayCache.saveOverlays(N,j.batchId,ee)})}).then(()=>({batchId:I.batchId,changes:Mv(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new gt(ze)),y=y.insert(f,p),h.Wa[h.currentUser.toKey()]=y}(i,o.batchId,t),await El(i,o.changes),await Bc(i.remoteStore)}catch(o){const l=Gf(o,"Failed to persist write");t.reject(l)}}async function _E(r,e){const t=be(r);try{const i=await jR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ua.get(l);h&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ze(h.Ba):o.removedDocuments.size>0&&(Ze(h.Ba),h.Ba=!1))}),await El(t,i,e)}catch(i){await ea(i)}}function Jy(r,e,t){const i=be(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=be(h);p.onlineState=f;let y=!1;p.queries.forEach((E,S)=>{for(const I of S.ta)I.sa(f)&&(y=!0)}),y&&Kf(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kC(r,e,t){const i=be(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),l=o&&o.key;if(l){let h=new gt(ve.comparator);h=h.insert(l,ln.newNoDocument(l,De.min()));const f=$e().add(l),p=new jc(De.min(),new Map,new gt(ze),h,f);await _E(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),Xf(i)}else await cf(i.localStore,e,!1).then(()=>ff(i,e,t)).catch(ea)}async function xC(r,e){const t=be(r),i=e.batch.batchId;try{const o=await MR(t.localStore,e);EE(t,i,null),vE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await El(t,o)}catch(o){await ea(o)}}async function NC(r,e,t){const i=be(r);try{const o=await function(h,f){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,f).next(S=>(Ze(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(i.localStore,e);EE(i,e,t),vE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await El(i,o)}catch(o){await ea(o)}}function vE(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function EE(r,e,t){const i=be(r);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function ff(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.qa.get(e))r.ka.delete(i),t&&r.La.Ja(i,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(i=>{r.Ka.containsKey(i)||wE(r,i)})}function wE(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(zf(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Xf(r))}function Zy(r,e,t){for(const i of t)i instanceof mE?(r.Ka.addReference(i.key,e),DC(r,i)):i instanceof gE?(ce(Qf,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,e),r.Ka.containsKey(i.key)||wE(r,i.key)):Ce()}function DC(r,e){const t=e.key,i=t.path.canonicalString();r.$a.get(t)||r.Qa.has(i)||(ce(Qf,"New document in limbo: "+t),r.Qa.add(i),Xf(r))}function Xf(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ve(ut.fromString(e)),i=r.za.next();r.Ua.set(i,new wC(t)),r.$a=r.$a.insert(t,i),uE(r.remoteStore,new Gi(Lr(Dv(t.path)),i,"TargetPurposeLimboResolution",Nc.ae))}}async function El(r,e,t){const i=be(r),o=[],l=[],h=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{h.push(i.Ha(p,e,t).then(y=>{var E;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Uf.Yi(p.targetId,y);l.push(S)}}))}),await Promise.all(h),i.La.p_(o),await async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,I=>X.forEach(I.Hi,N=>E.persistence.referenceDelegate.addReference(S,I.targetId,N)).next(()=>X.forEach(I.Ji,N=>E.persistence.referenceDelegate.removeReference(S,I.targetId,N)))))}catch(S){if(!ta(S))throw S;ce(Bf,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const N=E.Ts.get(I),B=N.snapshotVersion,L=N.withLastLimboFreeSnapshotVersion(B);E.Ts=E.Ts.insert(I,L)}}}(i.localStore,l))}async function bC(r,e){const t=be(r);if(!t.currentUser.isEqual(e)){ce(Qf,"User change. New user:",e.toKey());const i=await sE(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(f=>{f.forEach(p=>{p.reject(new he(Q.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await El(t,i.Rs)}}function OC(r,e){const t=be(r),i=t.Ua.get(e);if(i&&i.Ba)return $e().add(i.key);{let o=$e();const l=t.qa.get(e);if(!l)return o;for(const h of l){const f=t.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function TE(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kC.bind(null,e),e.La.p_=gC.bind(null,e.eventManager),e.La.Ja=yC.bind(null,e.eventManager),e}function VC(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LR(this.persistence,new bR,e.initialUser,this.serializer)}Xa(e){return new iE(Ff.ri,this.serializer)}Za(e){return new $R}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class LC extends _c{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof gc);const i=this.persistence.referenceDelegate.garbageCollector;return new _R(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new iE(i=>gc.ri(i,t),this.serializer)}}class pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fC}()}createDatastore(e){const t=Fc(e.databaseInfo.databaseId),i=function(l){return new KR(l)}(e.databaseInfo);return function(l,h,f,p){return new JR(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new eC(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Jy(this.syncEngine,t,0),function(){return Wy.D()?new Wy:new HR}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,E){const S=new TC(o,l,h,f,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=be(o);ce(zs,"RemoteStore shutting down."),l.W_.add(5),await vl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pf.provider={build:()=>new pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class jC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ce(ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ce(ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gf(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ss,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await sE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function e_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await FC(r);ce(ss,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>Ky(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>Ky(e.remoteStore,o)),r._onlineComponents=e}async function FC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ss,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ho("Error using user provided cache. Falling back to memory cache: "+t),await Bd(r,new _c)}}else ce(ss,"Using default OfflineComponentProvider"),await Bd(r,new LC(void 0));return r._offlineComponents}async function IE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ss,"Using user provided OnlineComponentProvider"),await e_(r,r._uninitializedComponentsProvider._online)):(ce(ss,"Using default OnlineComponentProvider"),await e_(r,new pf))),r._onlineComponents}function UC(r){return IE(r).then(e=>e.syncEngine)}async function BC(r){const e=await IE(r),t=e.eventManager;return t.onListen=IC.bind(null,e.syncEngine),t.onUnlisten=RC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CC.bind(null,e.syncEngine),t}function zC(r,e,t={}){const i=new Ji;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const E=new MC({next:I=>{E.su(),h.enqueueAndForget(()=>mC(l,S)),I.fromCache&&p.source==="server"?y.reject(new he(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new _C(f,E,{includeMetadataChanges:!0,Ta:!0});return pC(l,S)}(await BC(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r,e,t){if(!t)throw new he(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $C(r,e,t,i){if(e===!0&&i===!0)throw new he(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function n_(r){if(!ve.isDocumentKey(r))throw new he(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r_(r){if(ve.isDocumentKey(r))throw new he(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function os(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zc(r);throw new he(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function HC(r,e){if(e<=0)throw new he(Q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firestore.googleapis.com",i_=!0;class s_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RE,this.ssl=i_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gR)throw new he(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new G0;switch(i.type){case"firstParty":return new Y0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=t_.get(t);i&&(ce("ComponentProvider","Removing Datastore"),t_.delete(t),i.terminate())}(this),Promise.resolve()}}function qC(r,e,t,i={}){var o;const l=(r=os(r,$c))._getSettings(),h=`${e}:${t}`;if(l.host!==RE&&l.host!==h&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=an.MOCK_USER;else{f=TS(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new he(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new an(y)}r._authCredentials=new K0(new pv(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Zi extends us{constructor(e,t,i){super(e,t,Dv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ve(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function li(r,e,...t){if(r=Jt(r),AE("collection","path",e),r instanceof $c){const i=ut.fromString(e,...t);return r_(i),new Zi(r,null,i)}{if(!(r instanceof Rn||r instanceof Zi))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...t));return r_(i),new Zi(r.firestore,null,i)}}function CE(r,e,...t){if(r=Jt(r),arguments.length===1&&(e=mv.newId()),AE("doc","path",e),r instanceof $c){const i=ut.fromString(e,...t);return n_(i),new Rn(r,null,new ve(i))}{if(!(r instanceof Rn||r instanceof Zi))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...t));return n_(i),new Rn(r.firestore,r instanceof Zi?r.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class a_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new aE(this,"async_queue_retry"),this.Su=()=>{const i=Ud();i&&ce(o_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Ud();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ud();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ta(e))throw e;ce(o_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(i);throw hi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Wf.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class wl extends $c{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new a_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function WC(r,e){const t=typeof r=="object"?r:sv(),i=typeof r=="string"?r:cc,o=Cf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=ES("firestore");l&&qC(o,...l)}return o}function PE(r){if(r._terminated)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GC(r),r._firestoreClient}function GC(r){var e,t,i;const o=r._freezeSettings(),l=function(f,p,y,E){return new hA(f,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,SE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new jC(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Zt.fromBase64String(e))}catch(t){throw new he(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^__.*__$/;class QC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new yl(e,this.data,t,this.fieldTransforms)}}class kE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Zf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xE(this.Lu)&&KC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class XC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Fc(e)}ju(e,t,i,o=!1){return new Zf({Lu:e,methodName:t,zu:i,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(r){const e=r._freezeSettings(),t=Fc(r._databaseId);return new XC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function NE(r,e,t,i,o,l={}){const h=r.ju(l.merge||l.mergeFields?2:0,e,t,o);tp("Data must be an object, but it was:",h,i);const f=DE(i,h);let p,y;if(l.merge)p=new Fn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const I=mf(e,S,t);if(!h.contains(I))throw new he(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);OE(E,I)||E.push(I)}p=new Fn(E),y=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=h.fieldTransforms;return new QC(new An(f),p,y)}class Gc extends qc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}class ep extends qc{_toFieldTransform(e){return new MA(e.path,new ll)}isEqual(e){return e instanceof ep}}function YC(r,e,t,i){const o=r.ju(1,e,t);tp("Data must be an object, but it was:",o,i);const l=[],h=An.empty();as(i,(p,y)=>{const E=np(e,p,t);y=Jt(y);const S=o.Uu(E);if(y instanceof Gc)l.push(E);else{const I=Tl(y,S);I!=null&&(l.push(E),h.set(E,I))}});const f=new Fn(l);return new kE(h,f,o.fieldTransforms)}function JC(r,e,t,i,o,l){const h=r.ju(1,e,t),f=[mf(e,i,t)],p=[o];if(l.length%2!=0)throw new he(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(mf(e,l[I])),p.push(l[I+1]);const y=[],E=An.empty();for(let I=f.length-1;I>=0;--I)if(!OE(y,f[I])){const N=f[I];let B=p[I];B=Jt(B);const L=h.Uu(N);if(B instanceof Gc)y.push(N);else{const j=Tl(B,L);j!=null&&(y.push(N),E.set(N,j))}}const S=new Fn(y);return new kE(E,S,h.fieldTransforms)}function ZC(r,e,t,i=!1){return Tl(t,r.ju(i?4:3,e))}function Tl(r,e){if(bE(r=Jt(r)))return tp("Unsupported field value:",e,r),DE(r,e);if(r instanceof qc)return function(i,o){if(!xE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let p=Tl(f,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=Jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:mc(o.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(i instanceof Yf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:Xv(o.serializer,i._byteString)};if(i instanceof Rn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Jf)return function(h,f){return{mapValue:{fields:{[Iv]:{stringValue:Sv},[hc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.Wu("VectorValues must only contain numeric values.");return Of(f.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${zc(i)}`)}(r,e)}function DE(r,e){const t={};return yv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(i,o)=>{const l=Tl(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function bE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof Yf||r instanceof Xo||r instanceof Rn||r instanceof qc||r instanceof Jf)}function tp(r,e,t){if(!bE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=zc(t);throw i==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+i)}}function mf(r,e,t){if((e=Jt(e))instanceof Hc)return e._internalPath;if(typeof e=="string")return np(r,e);throw vc("Field path arguments must be of type string or ",r,!1,void 0,t)}const eP=new RegExp("[~\\*/\\[\\]]");function np(r,e,t){if(e.search(eP)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Hc(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function vc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new he(Q.INVALID_ARGUMENT,f+r+p)}function OE(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends VE{data(){return super.data()}}function Kc(r,e){return typeof e=="string"?np(r,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class ip extends rp{}function rP(r,e,...t){let i=[];e instanceof rp&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof sp).length,f=l.filter(p=>p instanceof Qc).length;if(h>1||h>0&&f>0)throw new he(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class Qc extends ip{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Qc(e,t,i)}_apply(e){const t=this._parse(e);return LE(e._query,t),new us(e.firestore,e.converter,sf(e._query,t))}_parse(e){const t=Wc(e.firestore);return function(l,h,f,p,y,E,S){let I;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){c_(S,E);const B=[];for(const L of S)B.push(u_(p,l,L));I={arrayValue:{values:B}}}else I=u_(p,l,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||c_(S,E),I=ZC(f,h,S,E==="in"||E==="not-in");return At.create(y,E,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function l_(r,e,t){const i=e,o=Kc("where",r);return Qc._create(o,i,t)}class sp extends rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)LE(h,p),h=sf(h,p)}(e._query,t),new us(e.firestore,e.converter,sf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class op extends ip{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new op(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new he(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new al(l,h)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new na(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function sx(r,e="asc"){const t=e,i=Kc("orderBy",r);return op._create(i,t)}class ap extends ip{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ap(e,t,i)}_apply(e){return new us(e.firestore,e.converter,fc(e._query,this._limit,this._limitType))}}function iP(r){return HC("limit",r),ap._create("limit",r,"F")}function u_(r,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new he(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bv(e)&&t.indexOf("/")!==-1)throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ut.fromString(t));if(!ve.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sy(r,new ve(i))}if(t instanceof Rn)return Sy(r,t._key);throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(t)}.`)}function c_(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LE(r,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sP{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return as(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[hc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new Jf(l)}convertGeoPoint(e){return new Yf(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=bc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const t=ts(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Ze(nE(i));const o=new sl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||hi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oP extends VE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zu extends oP{data(e={}){return super.data(e)}}class aP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zu(this._firestore,this._userDataWriter,i.key,i,new Wu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new Zu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Wu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Zu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Wu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:lP(f.type),doc:p,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class uP extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function ia(r){r=os(r,us);const e=os(r.firestore,wl),t=PE(e),i=new uP(e);return nP(r._query),zC(t,r._query).then(o=>new aP(e,i,r,o))}function ox(r,e,t){r=os(r,Rn);const i=os(r.firestore,wl),o=ME(r.converter,e);return lp(i,[NE(Wc(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,gr.none())])}function cP(r,e,t,...i){r=os(r,Rn);const o=os(r.firestore,wl),l=Wc(o);let h;return h=typeof(e=Jt(e))=="string"||e instanceof Hc?JC(l,"updateDoc",r._key,e,t,i):YC(l,"updateDoc",r._key,e),lp(o,[h.toMutation(r._key,gr.exists(!0))])}function gf(r,e){const t=os(r.firestore,wl),i=CE(r),o=ME(r.converter,e);return lp(t,[NE(Wc(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,gr.exists(!1))]).then(()=>i)}function lp(r,e){return function(i,o){const l=new Ji;return i.asyncQueue.enqueueAndForget(async()=>PC(await UC(i),o,l)),l.promise}(PE(r),e)}function zd(){return new ep("serverTimestamp")}(function(e,t=!0){(function(o){Zo=o})(Jo),$o(new Us("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new wl(new Q0(i.getProvider("auth-internal")),new J0(h,i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Xi(fy,py,e),Xi(fy,py,"esm2017")})();var hP="firebase",dP="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(hP,dP,"app");function up(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fP=jE,FE=new ml("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Af("@firebase/auth");function pP(r,...e){Ec.logLevel<=Be.WARN&&Ec.warn(`Auth (${Jo}): ${r}`,...e)}function ec(r,...e){Ec.logLevel<=Be.ERROR&&Ec.error(`Auth (${Jo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,...e){throw hp(r,...e)}function yr(r,...e){return hp(r,...e)}function cp(r,e,t){const i=Object.assign(Object.assign({},fP()),{[e]:t});return new ml("auth","Firebase",i).create(e,{appName:r.name})}function Fs(r){return cp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mP(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ur(r,"argument-error"),cp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return FE.create(r,...e)}function xe(r,e,...t){if(!r)throw hp(e,...t)}function ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ec(e),new Error(e)}function fi(r,e){r||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function gP(){return h_()==="http:"||h_()==="https:"}function h_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||RS()||"connection"in navigator)?navigator.onLine:!0}function _P(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=IS()||CS()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,e){fi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Il(3e4,6e4);function fp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function sa(r,e,t,i,o={}){return BE(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=gl(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return AS()||(y.referrerPolicy="no-referrer"),UE.fetch()(zE(r,r.config.apiHost,t,f),y)})}async function BE(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},vP),e);try{const o=new TP(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Gu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Gu(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Gu(r,"user-disabled",h);const E=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw cp(r,E,y);Ur(r,E)}}catch(o){if(o instanceof pi)throw o;Ur(r,"network-request-failed",{message:String(o)})}}async function wP(r,e,t,i,o={}){const l=await sa(r,e,t,i,o);return"mfaPendingCredential"in l&&Ur(r,"multi-factor-auth-required",{_serverResponse:l}),l}function zE(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?dp(r.config,o):`${r.config.apiScheme}://${o}`}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),EP.get())})}}function Gu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(r,e){return sa(r,"POST","/v1/accounts:delete",e)}async function $E(r,e){return sa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SP(r,e=!1){const t=Jt(r),i=await t.getIdToken(e),o=pp(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Za($d(o.auth_time)),issuedAtTime:Za($d(o.iat)),expirationTime:Za($d(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $d(r){return Number(r)*1e3}function pp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=J_(t);return o?JSON.parse(o):(ec("Failed to decode base64 JWT payload"),null)}catch(o){return ec("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d_(r){const e=pp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pi&&AP(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function AP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await hl(r,$E(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?HE(l.providerUserInfo):[],f=PP(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),E=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new _f(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function CP(r){const e=Jt(r);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function HE(r){return r.map(e=>{var{providerId:t}=e,i=up(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(r,e){const t=await BE(r,{},async()=>{const i=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=zE(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",UE.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xP(r,e){return sa(r,"POST","/v2/accounts:revokeToken",fp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=d_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await kP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Fo;return i&&(xe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _f(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hl(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SP(this,e)}reload(){return CP(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await wc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await hl(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,B=(h=t.photoURL)!==null&&h!==void 0?h:void 0,L=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,ee=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:ae,isAnonymous:je,providerData:Pe,stsTokenManager:b}=t;xe(oe&&b,e,"internal-error");const A=Fo.fromJSON(this.name,b);xe(typeof oe=="string",e,"internal-error"),Bi(S,e.name),Bi(I,e.name),xe(typeof ae=="boolean",e,"internal-error"),xe(typeof je=="boolean",e,"internal-error"),Bi(N,e.name),Bi(B,e.name),Bi(L,e.name),Bi(j,e.name),Bi(ee,e.name),Bi(ne,e.name);const P=new si({uid:oe,auth:e,email:I,emailVerified:ae,displayName:S,isAnonymous:je,photoURL:B,phoneNumber:N,tenantId:L,stsTokenManager:A,createdAt:ee,lastLoginAt:ne});return Pe&&Array.isArray(Pe)&&(P.providerData=Pe.map(D=>Object.assign({},D))),j&&(P._redirectEventId=j),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new Fo;o.updateFromServerResponse(t);const l=new si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await wc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?HE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Fo;f.updateFromIdToken(i);const p=new si({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _f(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;function oi(r){fi(r instanceof Function,"Expected a class definition");let e=f_.get(r);return e?(fi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,f_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qE.type="NONE";const p_=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r,e,t){return`firebase:${r}:${e}:${t}`}class Uo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=tc(this.userKey,o.apiKey,l),this.fullPersistenceKey=tc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Uo(oi(p_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||oi(p_);const h=tc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const E=await y._get(h);if(E){const S=si._fromJSON(e,E);y!==l&&(f=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Uo(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Uo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(JE(e))return"Webos";if(GE(e))return"Safari";if((e.includes("chrome/")||KE(e))&&!e.includes("edge/"))return"Chrome";if(XE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WE(r=un()){return/firefox\//i.test(r)}function GE(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KE(r=un()){return/crios\//i.test(r)}function QE(r=un()){return/iemobile/i.test(r)}function XE(r=un()){return/android/i.test(r)}function YE(r=un()){return/blackberry/i.test(r)}function JE(r=un()){return/webos/i.test(r)}function mp(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NP(r=un()){var e;return mp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DP(){return PS()&&document.documentMode===10}function ZE(r=un()){return mp(r)||XE(r)||JE(r)||YE(r)||/windows phone/i.test(r)||QE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r,e=[]){let t;switch(r){case"Browser":t=m_(un());break;case"Worker":t=`${m_(un())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(r,e={}){return sa(r,"GET","/v2/passwordPolicy",fp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=6;class LP{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:VP,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $E(this,{idToken:e}),i=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Fs(this));const t=e?Jt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OP(this),t=new LP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xc(r){return Jt(r)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LS(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jP(r){gp=r}function FP(r){return gp.loadJS(r)}function UP(){return gp.gapiScript}function BP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(r,e){const t=Cf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ac(l,e??{}))return o;Ur(o,"already-initialized")}return t.initialize({options:e})}function $P(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function HP(r,e,t){const i=Xc(r);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=tw(e),{host:h,port:f}=qP(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),WP()}function tw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qP(r){const e=tw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:y_(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:y_(h)}}}function y_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e){return wP(r,"POST","/v1/accounts:signInWithIdp",fp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="http://localhost";class $s extends nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=up(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new $s(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:GP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Sl{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Sl{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Sl{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Wi.credential(t,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await si._fromIdTokenResponse(e,i,o),h=__(i);return new Yo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=__(i);return new Yo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function __(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends pi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Tc(e,t,i,o)}}function rw(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(r,l,e,i):l})}async function KP(r,e,t=!1){const i=await hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Yo._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(r,e,t=!1){const{auth:i}=r;if(mr(i.app))return Promise.reject(Fs(i));const o="reauthenticate";try{const l=await hl(r,rw(i,o,e,r),t);xe(l.idToken,i,"internal-error");const h=pp(l.idToken);xe(h,i,"internal-error");const{sub:f}=h;return xe(r.uid===f,i,"user-mismatch"),Yo._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ur(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(r,e,t=!1){if(mr(r.app))return Promise.reject(Fs(r));const i="signIn",o=await rw(r,i,e),l=await Yo._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function YP(r,e,t,i){return Jt(r).onIdTokenChanged(e,t,i)}function JP(r,e,t){return Jt(r).beforeAuthStateChanged(e,t)}function ax(r,e,t,i){return Jt(r).onAuthStateChanged(e,t,i)}function lx(r){return Jt(r).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,ek=10;class sw extends iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);DP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ek):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sw.type="LOCAL";const tk=sw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ow.type="SESSION";const aw=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Yc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await nk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=_p("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function ik(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function sk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ok(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ak(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firebaseLocalStorageDb",lk=1,Sc="firebaseLocalStorage",cw="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jc(r,e){return r.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function uk(){const r=indexedDB.deleteDatabase(uw);return new Al(r).toPromise()}function vf(){const r=indexedDB.open(uw,lk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Sc,{keyPath:cw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Sc)?e(i):(i.close(),await uk(),e(await vf()))})})}async function v_(r,e,t){const i=Jc(r,!0).put({[cw]:e,value:t});return new Al(i).toPromise()}async function ck(r,e){const t=Jc(r,!1).get(e),i=await new Al(t).toPromise();return i===void 0?null:i.value}function E_(r,e){const t=Jc(r,!0).delete(e);return new Al(t).toPromise()}const hk=800,dk=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(ak()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sk(),!this.activeServiceWorker)return;this.sender=new rk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vf();return await v_(e,Ic,"1"),await E_(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ck(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>E_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Jc(o,!1).getAll();return new Al(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const fk=hw;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r,e){return e?oi(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pk(r){return XP(r.auth,new vp(r),r.bypassAuthState)}function mk(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),QP(t,new vp(r),r.bypassAuthState)}async function gk(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),KP(t,new vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pk;case"linkViaPopup":case"linkViaRedirect":return gk;case"reauthViaPopup":case"reauthViaRedirect":return mk;default:Ur(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Il(2e3,1e4);async function ux(r,e,t){if(mr(r.app))return Promise.reject(yr(r,"operation-not-supported-in-this-environment"));const i=Xc(r);mP(r,e,yp);const o=dw(i,t);return new js(i,"signInViaPopup",e,o).executeNotNull()}class js extends fw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yk.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="pendingRedirect",nc=new Map;class vk extends fw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const i=await Ek(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ek(r,e){const t=Ik(e),i=Tk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function wk(r,e){nc.set(r._key(),e)}function Tk(r){return oi(r._redirectPersistence)}function Ik(r){return tc(_k,r.config.apiKey,r.name)}async function Sk(r,e,t=!1){if(mr(r.app))return Promise.reject(Fs(r));const i=Xc(r),o=dw(i,e),h=await new vk(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=10*60*1e3;class Rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ck(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!pw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ak&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ck(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(r,e={}){return sa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xk=/^https?/;async function Nk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Pk(r);for(const t of e)try{if(Dk(t))return}catch{}Ur(r,"unauthorized-domain")}function Dk(r){const e=yf(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!xk.test(t))return!1;if(kk.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new Il(3e4,6e4);function T_(){const r=jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ok(r){return new Promise((e,t)=>{var i,o,l;function h(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),t(yr(r,"network-request-failed"))},timeout:bk.get()})}if(!((o=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=jr().gapi)===null||l===void 0)&&l.load)h();else{const f=BP("iframefcb");return jr()[f]=()=>{gapi.load?h():t(yr(r,"network-request-failed"))},FP(`${UP()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw rc=null,e})}let rc=null;function Vk(r){return rc=rc||Ok(r),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Il(5e3,15e3),Mk="__/auth/iframe",jk="emulator/auth/iframe",Fk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bk(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?dp(e,jk):`https://${r.config.authDomain}/${Mk}`,i={apiKey:e.apiKey,appName:r.name,v:Jo},o=Uk.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${gl(i).slice(1)}`}async function zk(r){const e=await Vk(r),t=jr().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:Bk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=yr(r,"network-request-failed"),f=jr().setTimeout(()=>{l(h)},Lk.get());function p(){jr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hk=500,qk=600,Wk="_blank",Gk="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kk(r,e,t,i=Hk,o=qk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},$k),{width:i.toString(),height:o.toString(),top:l,left:h}),y=un().toLowerCase();t&&(f=KE(y)?Wk:t),WE(y)&&(e=e||Gk,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[N,B])=>`${I}${N}=${B},`,"");if(NP(y)&&f!=="_self")return Qk(e||"",f),new I_(null);const S=window.open(e||"",f,E);xe(S,r,"popup-blocked");try{S.focus()}catch{}return new I_(S)}function Qk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="__/auth/handler",Yk="emulator/auth/handler",Jk=encodeURIComponent("fac");async function S_(r,e,t,i,o,l){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Jo,eventId:o};if(e instanceof yp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",VS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Sl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const p=await r._getAppCheckToken(),y=p?`#${Jk}=${encodeURIComponent(p)}`:"";return`${Zk(r)}?${gl(f).slice(1)}${y}`}function Zk({config:r}){return r.emulator?dp(r,Yk):`https://${r.authDomain}/${Xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class e1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=Sk,this._overrideRedirectResult=wk}async _openPopup(e,t,i,o){var l;fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await S_(e,t,i,yf(),o);return Kk(e,h,_p())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await S_(e,t,i,yf(),o);return ik(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zk(e),i=new Rk(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Hd];h!==void 0&&t(!!h),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZE()||GE()||mp()}}const t1=e1;var A_="@firebase/auth",R_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i1(r){$o(new Us("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(r)},y=new MP(i,o,l,p);return $P(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$o(new Us("auth-internal",e=>{const t=Xc(e.getProvider("auth").getImmediate());return(i=>new n1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(A_,R_,r1(r)),Xi(A_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=5*60,o1=tv("authIdTokenMaxAge")||s1;let C_=null;const a1=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>o1)return;const o=t==null?void 0:t.token;C_!==o&&(C_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function l1(r=sv()){const e=Cf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=zP(r,{popupRedirectResolver:t1,persistence:[fk,tk,aw]}),i=tv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=a1(l.toString());JP(t,h,()=>h(t.currentUser)),YP(t,f=>h(f))}}const o=Z_("auth");return o&&HP(t,`http://${o}`),t}function u1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}jP({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",u1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i1("Browser");var Os={VITE_FIREBASE_API_KEY:"AIzaSyC_S3ogmaZ9laLIetOD6eWO8HESZ7OFXEU",VITE_FIREBASE_AUTH_DOMAIN:"portfolio-d0eff.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"portfolio-d0eff",VITE_FIREBASE_STORAGE_BUCKET:"portfolio-d0eff.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"68887099400",VITE_FIREBASE_APP_ID:"1:68887099400:web:a697b208557cd1eed2f9bd",VITE_FIREBASE_MEASUREMENT_ID:"G-D8JLXQDMXF"};const c1={apiKey:Os.VITE_FIREBASE_API_KEY,authDomain:Os.VITE_FIREBASE_AUTH_DOMAIN,projectId:Os.VITE_FIREBASE_PROJECT_ID,storageBucket:Os.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Os.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Os.VITE_FIREBASE_APP_ID,measurementId:Os.VITE_FIREBASE_MEASUREMENT_ID},mw=iv(c1),Vr=WC(mw);l1(mw);function h1(){const[r,e]=J.useState([]),[t,i]=J.useState(!1);J.useEffect(()=>{(async()=>{try{const f=(await ia(li(Vr,"clients"))).docs.map(p=>p.data());e(f)}catch(h){console.error(h)}})()},[]);const o=()=>{i(!t)};return w.jsxs("div",{className:"happy-clients-section hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"06. "}),"What My Clients Say"]}),w.jsxs("div",{className:"happy-clients-content",children:[r==null?void 0:r.map((l,h)=>w.jsxs("div",{className:"happy-clients-card",children:[w.jsx("img",{className:"client-pic",src:`${l.image}`,alt:"client"}),w.jsx("img",{className:"quotes-pic",src:"./icons/quotes.png",alt:"quotes"}),w.jsx("h3",{children:l.name}),w.jsx("p",{children:l.description}),w.jsxs("div",{className:"client-profession",children:[w.jsx("p",{children:l.profession}),w.jsx("p",{children:l.company})]})]},h)),w.jsx("div",{className:"add-testimonial-container",children:w.jsx("button",{className:"add-testimonial-btn",onClick:o,children:"Share Your Experience"})})]}),w.jsx(dS,{isOpen:t,onClose:o,title:"Share Your Experience",children:w.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSff6tzcnt1lN26FklbTZtNm2DvUFy5iAS9Pggxz0U8dN83VsA/viewform?embedded=true",title:"Client Testimonial Form",frameBorder:"0",marginHeight:"0",marginWidth:"0",children:"Loading form..."})})]})}const d1="_servicesSection_18is4_1",f1="_servicesContainer_18is4_7",p1="_cardsWrapper_18is4_14",m1="_slideOut_18is4_18",g1="_cards_18is4_14",y1="_card_18is4_14",_1="_cardTitle_18is4_48",v1="_cardText_18is4_54",E1="_cardButton_18is4_61",w1="_formWrapper_18is4_79",T1="_slideIn_18is4_88",I1="_formContent_18is4_93",S1="_formHeader_18is4_118",A1="_backButton_18is4_126",R1="_formGroup_18is4_145",C1="_submitButton_18is4_176",Te={servicesSection:d1,servicesContainer:f1,cardsWrapper:p1,slideOut:m1,cards:g1,card:y1,cardTitle:_1,cardText:v1,cardButton:E1,formWrapper:w1,slideIn:T1,formContent:I1,formHeader:S1,backButton:A1,formGroup:R1,submitButton:C1};function P1(){const[r,e]=J.useState(null),[t,i]=J.useState({name:"",email:""}),[o,l]=J.useState(!1),h=p=>{i({...t,[p.target.name]:p.target.value})},f=async(p,y={})=>{try{l(!0);const E={...t,...y,service:p,timestamp:new Date};await gf(li(Vr,"offers"),E),alert("Thank you! Your request has been submitted. I will be in touch shortly."),e(null),i({name:"",email:""})}catch(E){console.error("Error submitting request:",E),alert("Error submitting your request. Please try again.")}finally{l(!1)}};return w.jsxs("div",{className:Te.servicesSection,children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"07. "}),"Services"]}),w.jsxs("div",{className:Te.servicesContainer,children:[w.jsx("div",{className:`${Te.cardsWrapper} ${r?Te.slideOut:""}`,children:w.jsxs("div",{className:Te.cards,children:[w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/AI.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"AI solutions"}),w.jsx("p",{className:Te.cardText,children:"Leverage our cutting-edge AI solutions to transform your business operations and gain valuable insights. With our expertise spanning chatbots, predictive analytics, and automation, we empower you to stay ahead in today's data-centric environment. Harness the power of AI with us to unlock new opportunities and drive innovation in your organization."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("ai"),children:"Learn More"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/web-dev.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"Web Development"}),w.jsx("p",{className:Te.cardText,children:"Embark on your online journey with me. My website development services blend creativity and functionality to deliver visually stunning websites. I have worked on more than 100+ websites Specializing in both front-end and back-end development,I guarantee seamless performance and an intuitive user interface. Let us lay the groundwork for your digital success."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("web"),children:"Hire Me"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/online-learning.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"Online Learning"}),w.jsx("p",{className:Te.cardText,children:"I offer personalized online tutoring services to help you master programming languages and frameworks. Whether you're a beginner or an experienced coder, I provide tailored lessons to suit your learning style. With my guidance, you can enhance your skills and achieve your learning goals. Let's embark on a learning journey together."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("learning"),children:"Contact Me"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="ai"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"AI Solutions"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={company:p.target.company.value,projectDescription:p.target.projectDescription.value,budget:p.target.budget.value,timeline:p.target.timeline.value};f("ai",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Company/Organization"}),w.jsx("input",{type:"text",name:"company",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Description"}),w.jsx("textarea",{name:"projectDescription",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $250",children:"Less than $250"}),w.jsx("option",{value:"$250 - $1,000",children:"$250 - $1,000"}),w.jsx("option",{value:"$1,000 - $2,500",children:"$1,000 - $2,500"}),w.jsx("option",{value:"> $2,500",children:"More than $2,500"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 1 month",children:"Less than 1 month"}),w.jsx("option",{value:"1-3 months",children:"1-3 months"}),w.jsx("option",{value:"3-6 months",children:"3-6 months"}),w.jsx("option",{value:"> 6 months",children:"More than 6 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="web"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Web Development"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={projectType:p.target.projectType.value,features:p.target.features.value,budget:p.target.budget.value,timeline:p.target.timeline.value};f("web",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Type"}),w.jsxs("select",{name:"projectType",required:!0,children:[w.jsx("option",{value:"",children:"Select Project Type"}),w.jsx("option",{value:"E-commerce",children:"E-commerce"}),w.jsx("option",{value:"Portfolio",children:"Portfolio"}),w.jsx("option",{value:"Blog",children:"Blog"}),w.jsx("option",{value:"Corporate",children:"Corporate Website"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Features Needed"}),w.jsx("textarea",{name:"features",placeholder:"Describe the features you need...",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $1,000",children:"Less than $1,000"}),w.jsx("option",{value:"$1,000 - $3,000",children:"$1,000 - $3,000"}),w.jsx("option",{value:"$3,000 - $5,000",children:"$3,000 - $5,000"}),w.jsx("option",{value:"> $5,000",children:"More than $5,000"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 2 weeks",children:"Less than 2 weeks"}),w.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),w.jsx("option",{value:"1-2 months",children:"1-2 months"}),w.jsx("option",{value:"> 2 months",children:"More than 2 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="learning"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Online Learning"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={technology:p.target.technology.value,skillLevel:p.target.skillLevel.value,learningGoals:p.target.learningGoals.value,schedule:p.target.schedule.value};f("learning",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Technology Interested In"}),w.jsxs("select",{name:"technology",required:!0,children:[w.jsx("option",{value:"",children:"Select Technology"}),w.jsx("option",{value:"JavaScript",children:"JavaScript"}),w.jsx("option",{value:"Python",children:"Python"}),w.jsx("option",{value:"React",children:"React"}),w.jsx("option",{value:"Node.js",children:"Node.js"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Current Skill Level"}),w.jsxs("select",{name:"skillLevel",required:!0,children:[w.jsx("option",{value:"",children:"Select Skill Level"}),w.jsx("option",{value:"Beginner",children:"Beginner"}),w.jsx("option",{value:"Intermediate",children:"Intermediate"}),w.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Learning Goals"}),w.jsx("textarea",{name:"learningGoals",placeholder:"What do you want to achieve?",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Preferred Schedule"}),w.jsx("textarea",{name:"schedule",placeholder:"What days/times work best for you?",required:!0})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})})]})]})}function k1(){return J.useEffect(()=>{const r=document.querySelectorAll(".scroller");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e();function e(){r.forEach(t=>{t.setAttribute("data-animated",!0);const i=t.querySelector(".scroller__inner");Array.from(i.children).forEach(l=>{const h=l.cloneNode(!0);h.setAttribute("aria-hidden",!0),i.appendChild(h)})})}},[]),w.jsxs("div",{className:"collaborations hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"05. "}),"Collaborations"]}),w.jsx("div",{className:"scroller","data-direction":"right","data-speed":"fast",children:w.jsxs("div",{className:"scroller__inner",children:[w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""}),w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""})]})})]})}function x1(){const r=Sf();return J.useEffect(()=>{const e=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("visible")})});document.querySelectorAll(".hidden-area").forEach(i=>{e.observe(i)})},[]),w.jsxs(w.Fragment,{children:[w.jsx(iS,{}),w.jsx(oS,{projectHighlight:r}),w.jsx(cS,{}),w.jsx(aS,{}),w.jsx(lS,{}),w.jsx(k1,{}),w.jsx(h1,{}),w.jsx(P1,{}),w.jsx(hS,{})]})}const gw=async()=>{const r=li(Vr,"projects");return(await ia(r)).docs.map(i=>({_id:i.id,...i.data()})).filter(i=>i.showInOverview===!0)},N1=Object.freeze(Object.defineProperty({__proto__:null,default:x1,getHighlightedProjects:gw},Symbol.toStringTag,{value:"Module"}));function D1(){const r=Sf(),[e,t]=J.useState(r),i=q_(),[o,l]=J.useState(!1),[h,f]=J.useState("All"),[p,y]=J.useState({});let E=[{All:-1}];r.map(N=>{var B;(B=N==null?void 0:N.tags)==null||B.map(L=>{(ee=>{const ne=E.findIndex(oe=>oe.hasOwnProperty(ee));ne!==-1?E[ne][ee]+=1:E.push({[ee]:1})})(L)})}),J.useEffect(()=>{const N=L=>{const j=L.target.getAttribute("data-tag");f(j)},B=document.querySelectorAll(".filter-element");return B.forEach(L=>{L.addEventListener("click",N)}),()=>{B.forEach(L=>{L.removeEventListener("click",N)})}},[]),J.useEffect(()=>{const N=j=>{j.innerHTML=h+" ▼",l(!1);const ee=r.filter(ne=>h==="All"?!0:ne.tags.includes(h));t(ee)},B=document.querySelector(".filter");N(B),document.querySelector(".filters").classList.add("hidden"),B.innerHTML=h+" ▼",l(!1)},[h,r]);const S=N=>{const B=document.querySelector(".filter"),L=document.querySelector(".filters");o?(L.classList.add("hidden"),B.innerHTML=h+" ▼",l(!1)):(L.classList.remove("hidden"),B.innerHTML=h+" ▶",l(!0))};J.useEffect(()=>{document.getElementById("cards").onmousemove=N=>{for(const B of document.getElementsByClassName("card")){const L=B.getBoundingClientRect(),j=N.clientX-L.left,ee=N.clientY-L.top;B.style.setProperty("--mouse-x",`${j}px`),B.style.setProperty("--mouse-y",`${ee}px`)}}},[]);const I=N=>{y(B=>({...B,[N]:!0}))};return w.jsx(w.Fragment,{children:w.jsxs("section",{className:"projects-section",children:[w.jsxs("div",{className:"projects-header",children:[w.jsx("h1",{className:"projects-section__title",children:"Projects Library"}),w.jsx("div",{className:"projects-section__filters",children:w.jsxs("label",{onClick:S,children:["Category: ",w.jsxs("span",{className:"filter",children:[h," ▼"]})," "]})})]}),w.jsx("div",{className:"filters-container",children:w.jsx("div",{className:"filters hidden",children:E.map((N,B)=>Object.entries(N).map(([L,j])=>w.jsxs("div",{className:"filter-element","data-tag":L,children:[L," ",j!==-1?"("+j+")":""]},B)))})}),w.jsx("h2",{className:"projects-section__subtitle",children:"Get Access To All My Public Projects"}),w.jsx("div",{id:"cards",children:e&&e.map((N,B)=>{const L=N.description;let j=L.slice(0,250);const ee=j.lastIndexOf(" ");return j=j.slice(0,ee),L.length>200&&(j+="..."),w.jsxs("div",{className:"card",onClick:ne=>{i("/projects/"+N.title.replace(/\s/g,"-"),{state:N})},children:[w.jsxs("div",{className:"projects-section__projects__project__img",style:{backgroundImage:p[N._id]?`url(${N.image})`:"none"},children:[!p[N._id]&&w.jsx(Lo,{height:"100%"}),w.jsx("img",{src:`${N.image}`,alt:N.title,style:{display:"none"},onLoad:()=>I(N._id)})]}),p[N._id]?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"projects-section__projects__project__title",children:N.title}),w.jsx("p",{className:"projects-section__projects__project__description",children:j})]}):w.jsxs("div",{children:[w.jsx("div",{className:"home-projects-section__projects__project__description",style:{display:"flex",justifyContent:"center",width:"100%"},children:w.jsx(Lo,{height:24,width:"10rem",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}})}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Lo,{count:7})})]})]},N._id)})})]})})}const yw=async()=>{const r=li(Vr,"projects");return(await ia(r)).docs.map(i=>({_id:i.id,...i.data()}))},b1=Object.freeze(Object.defineProperty({__proto__:null,default:D1,getProjects:yw},Symbol.toStringTag,{value:"Module"}));async function O1(){const r=li(Vr,"certificates"),e=await ia(r),t=e.docs.map(o=>o.data()),i=e.size;return{allCertificates:t,count:i}}function V1(){const r=Sf();return w.jsx("section",{children:w.jsxs("div",{className:"container1",children:[w.jsx("h2",{className:"heading-section",children:"Reports"}),w.jsxs("table",{className:"table-dark table-hover",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"#"}),w.jsx("th",{children:"Name"}),w.jsx("th",{children:"Date"}),w.jsx("th",{children:"Description"}),w.jsx("th",{children:"Action"})]})}),w.jsx("tbody",{children:r&&r.map((e,t)=>w.jsxs("tr",{children:[w.jsx("th",{scope:"row",children:t+1}),w.jsx("td",{children:e.name}),w.jsx("td",{children:e.date}),w.jsx("td",{children:e.description}),w.jsx("td",{children:w.jsx("a",{className:"btn-download",href:"reports/"+e.name,style:{cursor:"pointer"},children:"Download"})})]},t))})]})]})})}async function _w(){const r=li(Vr,"reports");return(await ia(r)).docs.map(i=>({_id:i.id,...i.data()}))}const L1=Object.freeze(Object.defineProperty({__proto__:null,default:V1,getReports:_w},Symbol.toStringTag,{value:"Module"})),M1=async()=>{try{const r=await fetch("https://api.ipify.org?format=json"),{ip:e}=await r.json(),t=navigator.userAgent,i=navigator.language,o=`${window.screen.width}x${window.screen.height}`,l=Intl.DateTimeFormat().resolvedOptions().timeZone,h=document.referrer||"direct",f=window.location.pathname,p=navigator.platform,y=j1(t),E=F1(t),S=li(Vr,"visitors"),I=new Date;I.setDate(I.getDate()-1);const N=rP(S,l_("ip","==",e),l_("timestamp",">",I),iP(1)),B=await ia(N);if(B.empty){const L={ip:e,userAgent:t,language:i,screenResolution:o,timezone:l,referrer:h,path:f,platform:p,browser:y,operatingSystem:E,timestamp:zd(),visitCount:1};await gf(li(Vr,"visitors"),L),console.log("New visitor tracked")}else{const L=B.docs[0],j=CE(Vr,"visitors",L.id),ee=L.data().visitCount||1;await cP(j,{timestamp:zd(),visitCount:ee+1,path:f,referrer:h}),console.log("Return visitor within 24 hours - visit updated")}await gf(li(Vr,"pageViews"),{ip:e,path:f,timestamp:zd()})}catch(r){console.error("Error tracking visitor:",r)}},j1=r=>{const e={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,edge:/edge|edg/i,opera:/opera|opr/i,ie:/msie|trident/i};for(const[t,i]of Object.entries(e))if(i.test(r))return t;return"unknown"},F1=r=>{const e={windows:/windows nt/i,mac:/macintosh|mac os x/i,linux:/linux/i,android:/android/i,ios:/iphone|ipad|ipod/i};for(const[t,i]of Object.entries(e))if(i.test(r))return t;return"unknown"},jn=w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('preloader.png')",backgroundSize:"auto 50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"preloader"}),U1=_t.lazy(()=>Yn(()=>import("./Root-CqVwr4Fn.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),B1=_t.lazy(()=>Yn(()=>Promise.resolve().then(()=>N1),void 0,import.meta.url)),z1=_t.lazy(()=>Yn(()=>Promise.resolve().then(()=>b1),void 0,import.meta.url)),$1=_t.lazy(()=>Yn(()=>import("./Project-Bdk5RCaT.js"),__vite__mapDeps([5,6,1,2,7]),import.meta.url)),H1=_t.lazy(()=>Yn(()=>import("./Certificates-CPdHbtUH.js"),__vite__mapDeps([8,9]),import.meta.url)),q1=_t.lazy(()=>Yn(()=>import("./Resume-BZyUhY3X.js"),__vite__mapDeps([10,11]),import.meta.url)),W1=_t.lazy(()=>Yn(()=>import("./MusicPicks-JwEQ8p7A.js"),__vite__mapDeps([12,13]),import.meta.url)),G1=_t.lazy(()=>Yn(()=>Promise.resolve().then(()=>L1),void 0,import.meta.url)),K1=_t.lazy(()=>Yn(()=>import("./Articles-CnlhjW8J.js"),__vite__mapDeps([14,15]),import.meta.url)),Q1=_t.lazy(()=>Yn(()=>import("./Team-BtQZfDDD.js"),__vite__mapDeps([16,2,17]),import.meta.url)),X1=_t.lazy(()=>Yn(()=>import("./BackOffice-BnNEjR_F.js"),__vite__mapDeps([18,1,2,3,6,19]),import.meta.url)),Y1=_t.lazy(()=>Yn(()=>import("./NotFound-DwikP0EY.js"),[],import.meta.url)),J1=ZI(sc(w.jsxs(Mn,{path:"/",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(U1,{})}),children:[w.jsx(Mn,{index:!0,element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(B1,{})}),loader:gw}),w.jsx(Mn,{path:"projects",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(z1,{})}),loader:yw}),w.jsx(Mn,{path:"projects/:title",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx($1,{})})}),w.jsx(Mn,{path:"certificates",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(H1,{})}),loader:O1}),w.jsx(Mn,{path:"resume",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(q1,{})})}),w.jsx(Mn,{path:"my-team",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(Q1,{})})}),w.jsx(Mn,{path:"music",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(W1,{})})}),w.jsx(Mn,{path:"reports",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(G1,{})}),loader:_w}),w.jsx(Mn,{path:"articles",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(K1,{})})}),w.jsx(Mn,{path:"fillDB",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(X1,{})})}),w.jsx(Mn,{path:"*",element:w.jsx(J.Suspense,{fallback:jn,children:w.jsx(Y1,{})})})]})));function Z1(){return J.useEffect(()=>{M1()},[]),w.jsx(WI,{router:J1,fallbackElement:jn})}const ex=DT.createRoot(document.getElementById("root"));ex.render(w.jsx(OT,{baseColor:"#202020",highlightColor:"#444",children:w.jsx(Z1,{})}));export{qi as G,rx as N,nx as O,_t as R,Lo as S,Sf as a,Ef as b,kT as c,P_ as d,CE as e,Vr as f,tx as g,l1 as h,ux as i,w as j,lx as k,li as l,ia as m,cP as n,sx as o,iP as p,rP as q,J as r,ox as s,ax as t,pl as u};
