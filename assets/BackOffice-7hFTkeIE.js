import{r as y,j as r,i as ke,f as Z,t as Lt,v as Pe,G as ze,x as It,y as De,e as le,g as ce,z as Ve,A as Je,B as _t,q as Ut,C as Bt,D as $t,o as qt}from"./index-oTqBNcYk.js";import{F as A,f as Ht}from"./index-2Z05lM-f.js";import{i as ne,j as Mt,k as at,l as ct,m as zt,n as Vt,o as Jt,p as Gt,c as Wt,q as Kt,r as Xt,s as Qt,t as Zt,u as Yt}from"./index-B9RSM9E-.js";import{c as es,g as ts}from"./index-CU3Dq7ic.js";var ss=document.getElementsByClassName("closeTab"),ns=document.getElementsByClassName("tab"),rs=document.querySelectorAll("button.btn");Array.prototype.forEach.call(ss,function(e){e.addEventListener("click",is)});Array.prototype.forEach.call(ns,function(e){e.style.width=e.offsetWidth+"px"});Array.prototype.forEach.call(rs,function(e){e.addEventListener("click",function(t){return t.preventDefault(),!1})});function os(e){var t=e.getBoundingClientRect(),s=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+s}}function is(e){var t=e.currentTarget.parentElement,s=os(t),n=s.left,o=s.top+10,i=document.createElement("canvas"),a=i.getContext("2d"),l=window.devicePixelRatio,f=[];t.classList.add("tabClosed"),window.setTimeout(function(){document.body.appendChild(i),i.style.position="absolute",i.style.left=n-40+"px",i.style.top=o-150+"px",i.style.pointerEvents="none",i.style.width="80px",i.style.height="300px",i.width=80*l,i.height=300*l;function u(){a.clearRect(0,0,i.width,i.height),f.forEach(function(c,m){c.opacity-=.01,c.speed*=c.friction,c.radius*=c.friction,c.yVel+=c.gravity,c.y+=c.yVel,!(c.opacity<0)&&(c.radius<0||(a.beginPath(),a.globalAlpha=c.opacity,a.fillStyle=c.color,a.arc(c.x,c.y,c.radius,0,2*Math.PI,!1),a.fill()))})}(function c(){requestAnimationFrame(c),u()})(),setTimeout(function(){document.body.removeChild(i)},3e3)},150)}function as({carouselSamples:e,setCarouselSamples:t,setPopupWindow:s}){const[n,o]=y.useState(""),[i,a]=y.useState(null),[l,f]=y.useState(null),[u,c]=y.useState(""),m=p=>{const j=p.target.files[0];if(j){if(!j.type.match("image.*")){c("Please select an image file");return}if(j.size>5*1024*1024){c("Image must be less than 5MB");return}a(j);const S=new FileReader;S.onload=v=>{f(v.target.result)},S.readAsDataURL(j),c("")}},h=p=>{p.preventDefault(),p.currentTarget.classList.add("drag-over")},x=p=>{p.currentTarget.classList.remove("drag-over")},b=p=>{if(p.preventDefault(),p.currentTarget.classList.remove("drag-over"),p.dataTransfer.files&&p.dataTransfer.files[0]){const j=p.dataTransfer.files[0];if(!j.type.match("image.*")){c("Please select an image file");return}if(j.size>5*1024*1024){c("Image must be less than 5MB");return}a(j);const S=new FileReader;S.onload=v=>{f(v.target.result)},S.readAsDataURL(j),c("")}},g=()=>{if(!n){c("Please enter a title for the carousel image");return}if(!i){c("Please select an image");return}let p=[...e];p.push({title:n,img:[i]}),t(p),s(null)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"carousel-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(A,{icon:ne})}),r.jsx("h2",{className:"form-title",children:"Add Carousel Image"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"carouselTitle",children:"Image Title"}),r.jsx("input",{type:"text",id:"carouselTitle",className:"carousel-input",value:n,onChange:p=>o(p.target.value),placeholder:"Enter a descriptive title for this image"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Image Upload"}),r.jsxs("div",{className:`carousel-upload-area ${l?"has-preview":""}`,onDragOver:h,onDragLeave:x,onDrop:b,children:[r.jsx("input",{type:"file",className:"file-input",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:m,id:"carouselImage"}),l?r.jsxs("div",{className:"carousel-preview",children:[r.jsx("img",{src:l,alt:"Preview",className:"preview-image"}),r.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>{a(null),f(null)},children:r.jsx(A,{icon:ne})})]}):r.jsxs("div",{className:"upload-placeholder",children:[r.jsx(A,{icon:Mt,className:"upload-icon"}),r.jsxs("div",{className:"upload-text",children:[r.jsx("p",{children:"Drag & drop image here"}),r.jsx("span",{children:"or"}),r.jsxs("label",{htmlFor:"carouselImage",className:"browse-btn",children:[r.jsx(A,{icon:at})," Browse files"]})]})]})]}),r.jsxs("div",{className:"image-requirements",children:[r.jsx(A,{icon:ct,className:"info-icon"}),r.jsx("span",{children:"Recommended: JPG, PNG or WebP • Max 5MB • 16:9 aspect ratio"})]})]}),u&&r.jsx("div",{className:"form-error",children:u}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:g,children:"Add to Carousel"})]})]})})}function cs({codeSamples:e,setCodeSamples:t,setPopupWindow:s}){const[n,o]=y.useState(""),[i,a]=y.useState(""),[l,f]=y.useState(""),[u,c]=y.useState([]),[m,h]=y.useState(""),[x,b]=y.useState(!0);y.useEffect(()=>{(async()=>{try{b(!0);const S=(await es(ts)).scopes();c(S),S.length>0&&f(S.find(v=>v.includes("javascript"))||S[0])}catch(j){console.error("Error loading syntax highlighting:",j)}finally{b(!1)}})()},[]);const g=()=>{if(!n.trim()){h("Please enter a title for the code sample");return}if(!i.trim()){h("Please enter some code");return}if(!l){h("Please select a language");return}const p=[...e];p.push({title:n.trim(),code:i.trim(),language:l}),t(p),s(null)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"code-sample-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(A,{icon:ne})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(A,{icon:zt,className:"title-icon"}),"Add Code Sample"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"codeSampleTitle",children:"Sample Title"}),r.jsx("input",{type:"text",id:"codeSampleTitle",className:"form-control",value:n,onChange:p=>o(p.target.value),placeholder:"e.g., 'Authentication Function', 'API Request Handler'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"language",children:"Programming Language"}),r.jsx("div",{className:"select-wrapper",children:r.jsx("select",{id:"language",className:"form-control",value:l,onChange:p=>f(p.target.value),disabled:x,children:x?r.jsx("option",{value:"",children:"Loading languages..."}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"",children:"Select a language"}),u.map((p,j)=>r.jsx("option",{value:p,children:p.replace(/^source\./,"").replace(/\b\w/g,S=>S.toUpperCase())},j))]})})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"code",children:"Code"}),r.jsx("textarea",{id:"code",className:"code-editor",value:i,onChange:p=>a(p.target.value),placeholder:"Paste your code snippet here...",rows:10,spellCheck:"false"}),r.jsxs("div",{className:"code-helper",children:[r.jsx(A,{icon:ct,className:"info-icon"}),r.jsx("span",{children:"Use proper indentation for better readability"})]})]}),m&&r.jsx("div",{className:"form-error",children:m}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:g,children:"Add Code Sample"})]})]})})}function ls({techs:e,setTechs:t,setPopupWindow:s}){const[n,o]=y.useState(""),[i,a]=y.useState(""),[l,f]=y.useState(""),u=()=>{if(!n.trim()){f("Please enter a technology name");return}if(!i.trim()){f("Please enter a technology description");return}const h=[...e];h.push({title:n.trim(),description:i.trim()}),t(h),s(null)},c=[{name:"React",desc:"A JavaScript library for building user interfaces"},{name:"Node.js",desc:"JavaScript runtime built on Chrome's V8 JavaScript engine"},{name:"Python",desc:"Interpreted high-level general-purpose programming language"},{name:"Docker",desc:"Platform for developing, shipping, and running applications in containers"},{name:"MongoDB",desc:"NoSQL document database with scalability and flexibility"},{name:"Firebase",desc:"Google's platform for app development, hosting and more"}],m=h=>{o(h.name),a(h.desc)};return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"tech-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(A,{icon:ne})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(A,{icon:Vt,className:"title-icon"}),"Add Technology"]}),r.jsxs("div",{className:"quick-select",children:[r.jsx("label",{children:"Quick Select:"}),r.jsx("div",{className:"quick-select-buttons",children:c.map((h,x)=>r.jsx("button",{type:"button",onClick:()=>m(h),className:"quick-select-btn",children:h.name},x))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"techTitle",children:"Technology Name"}),r.jsx("input",{type:"text",id:"techTitle",className:"form-control",value:n,onChange:h=>o(h.target.value),placeholder:"e.g., 'React', 'TensorFlow', 'AWS'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"techDescription",children:"Description"}),r.jsx("textarea",{id:"techDescription",className:"form-control",value:i,onChange:h=>a(h.target.value),placeholder:"Describe how this technology was used in your project",rows:4})]}),l&&r.jsx("div",{className:"form-error",children:l}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:u,children:"Add Technology"})]})]})})}function us({resources:e,setResources:t,setPopupWindow:s}){const[n,o]=y.useState(""),[i,a]=y.useState(""),[l,f]=y.useState(""),u=()=>{if(!n.trim()){f("Please enter a resource title");return}if(!i.trim()){f("Please enter a resource description");return}const m=[...e];m.push({title:n.trim(),description:i.trim()}),t(m),s(null)},c=[{type:"Book",prefix:"Book: "},{type:"Article",prefix:"Article: "},{type:"Video",prefix:"Video Tutorial: "},{type:"Documentation",prefix:"Documentation: "},{type:"Framework",prefix:"Framework: "},{type:"Library",prefix:"Library: "}];return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"resource-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(A,{icon:ne})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(A,{icon:Jt,className:"title-icon"}),"Add Resource"]}),r.jsxs("div",{className:"resource-types",children:[r.jsx("label",{children:"Resource Type:"}),r.jsx("div",{className:"resource-type-buttons",children:c.map((m,h)=>r.jsx("button",{type:"button",className:"resource-type-btn",onClick:()=>o(m.prefix),children:m.type},h))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"resourceTitle",children:"Resource Title"}),r.jsx("input",{type:"text",id:"resourceTitle",className:"form-control",value:n,onChange:m=>o(m.target.value),placeholder:"e.g., 'Clean Code by Robert Martin', 'React Documentation'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"resourceDescription",children:"Description"}),r.jsx("textarea",{id:"resourceDescription",className:"form-control",value:i,onChange:m=>a(m.target.value),placeholder:"Describe how this resource was helpful for your project",rows:4})]}),l&&r.jsx("div",{className:"form-error",children:l}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsxs("button",{type:"button",className:"submit-btn",onClick:u,children:[r.jsx(A,{icon:at})," Add Resource"]})]})]})})}function ds({dataSources:e,setDataSources:t,setPopupWindow:s}){const[n,o]=y.useState(""),[i,a]=y.useState(""),[l,f]=y.useState(""),[u,c]=y.useState(""),[m,h]=y.useState(""),x=()=>{if(!n){h("Please select a data source type");return}if(!i.trim()){h("Please enter a name for the data source");return}const g=[...e];g.push({type:n,name:i.trim(),size:l.trim(),link:u.trim()}),t(g),s(null)},b=["excel","csv","json","sql-server","mysql","mongodb","python","xml"];return r.jsx("div",{className:"popup-container",children:r.jsxs("div",{className:"datasource-form popup",children:[r.jsx("button",{type:"button",className:"close-button",onClick:()=>s(null),children:r.jsx(A,{icon:ne})}),r.jsxs("h2",{className:"form-title",children:[r.jsx(A,{icon:Gt,className:"title-icon"}),"Add Data Source"]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"dataSourceType",children:"Data Source Type"}),r.jsx("div",{className:"datasource-types",children:b.map((g,p)=>r.jsxs("div",{className:`datasource-type ${n===g?"selected":""}`,onClick:()=>o(g),children:[r.jsx("div",{className:"datasource-icon",children:r.jsx("img",{src:`/images/datasources/${g}.svg`,alt:g,onError:j=>{j.target.onError=null,j.target.src="/images/datasources/default.svg"}})}),r.jsx("span",{children:g})]},p))})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceName",children:[r.jsx(A,{icon:Wt,className:"field-icon"}),"Data Source Name"]}),r.jsx("input",{type:"text",id:"dataSourceName",className:"form-control",value:i,onChange:g=>a(g.target.value),placeholder:"e.g., 'Customer Records', 'Transaction Data'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceSize",children:[r.jsx(A,{icon:Kt,className:"field-icon"}),"Size/Records (optional)"]}),r.jsx("input",{type:"text",id:"dataSourceSize",className:"form-control",value:l,onChange:g=>f(g.target.value),placeholder:"e.g., '2.5 GB', '10,000 records'"})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dataSourceLink",children:[r.jsx(A,{icon:Xt,className:"field-icon"}),"Source Link (optional)"]}),r.jsx("input",{type:"text",id:"dataSourceLink",className:"form-control",value:u,onChange:g=>c(g.target.value),placeholder:"URL to the data source if publicly available"})]}),m&&r.jsx("div",{className:"form-error",children:m}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>s(null),children:"Cancel"}),r.jsx("button",{type:"button",className:"submit-btn",onClick:x,disabled:!n||!i,children:"Add Data Source"})]})]})})}const ms=({tags:e,setTags:t,label:s})=>{const[n,o]=y.useState(""),[i,a]=y.useState(!1),l=y.useRef(null),f=x=>{o(x.target.value)},u=x=>{x.key==="Enter"||x.key===","?(x.preventDefault(),c()):x.key==="Backspace"&&n===""&&e.length>0&&m(e.length-1)},c=()=>{const x=n.trim();x&&!e.includes(x)&&(t([...e,x]),o(""))},m=x=>{t(e.filter((b,g)=>g!==x))},h=()=>{l.current.focus()};return r.jsxs("div",{className:`tag-input-container ${i?"focused":""}`,onClick:h,children:[r.jsx("div",{className:"tag-input-icon",children:r.jsx(A,{icon:Qt})}),r.jsx("div",{className:"tag-input-wrapper",children:r.jsxs("div",{className:"tag-input-field",children:[e.map((x,b)=>r.jsxs("div",{className:"tag",children:[r.jsx("span",{className:"tag-text",children:x}),r.jsx("span",{className:"tag-close",onClick:g=>{g.stopPropagation(),m(b)},children:r.jsx(A,{icon:Zt})})]},b)),r.jsx("input",{ref:l,type:"text",value:n,onChange:f,onKeyDown:u,onFocus:()=>a(!0),onBlur:()=>{a(!1),n&&c()},className:"tag-input",placeholder:e.length>0?"":"Type and press Enter to add tags"})]})}),r.jsx("div",{className:"tag-input-helper",children:"Press Enter or comma to add"})]})},I=[];for(let e=0;e<256;++e)I.push((e+256).toString(16).slice(1));function fs(e,t=0){return(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase()}let Ce;const ps=new Uint8Array(16);function hs(){if(!Ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ce=crypto.getRandomValues.bind(crypto)}return Ce(ps)}const gs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ge={randomUUID:gs};function lt(e,t,s){var o;if(Ge.randomUUID&&!e)return Ge.randomUUID();e=e||{};const n=e.random??((o=e.rng)==null?void 0:o.call(e))??hs();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,fs(n)}const fe=({type:e="text",name:t,className:s="form__input",placeholder:n="",required:o=!0,value:i,onChange:a,label:l})=>r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:e,name:t,className:s,placeholder:n,required:o,value:i,onChange:a,id:t}),r.jsx("label",{className:"form__label",htmlFor:t,children:l})]}),bs=({name:e})=>r.jsx("input",{type:"file",name:e}),xs=({name:e})=>r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"checkbox",name:e}),r.jsx("label",{className:"form__label",children:"Highlighted"})]}),ie=({items:e,setItems:t,title:s,setPopupWindow:n,formComponent:o})=>{const i=(a,l)=>{a.preventDefault();let f=[...e];f.splice(l,1),t(f)};return r.jsxs("div",{className:"group-container",children:[r.jsxs("div",{className:"input-container",children:[r.jsx("h2",{className:"title",children:s}),r.jsx("input",{type:"button",className:"add-code-sample",value:`Add ${s}`,onClick:()=>{n(o)}})]}),e.length>0&&r.jsx("div",{className:"code-samples h-list",children:e.map((a,l)=>r.jsxs("li",{className:"tab tabSelected",children:[r.jsx("button",{className:"btn title",children:a.title}),r.jsx("button",{className:"btn closeTab",onClick:f=>i(f,l),children:"✕"})]},l))})]})};function ys(){const[e,t]=y.useState(null),[s,n]=y.useState([]),[o,i]=y.useState([]),[a,l]=y.useState([]),[f,u]=y.useState([]),[c,m]=y.useState([]),[h,x]=y.useState([]),[b,g]=y.useState("Submit"),[p,j]=y.useState(!1),[S,v]=y.useState(""),[_,O]=y.useState(!1),R={owner:"bellaabdelouahab",repo:"portfolio",branch:"master",baseImagePath:"public/images/projects/",token:localStorage.getItem("githubToken")||""},z=C=>new Promise((N,P)=>{const E=new FileReader;E.readAsDataURL(C),E.onload=()=>{const F=E.result.split(",")[1];N(F)},E.onerror=F=>P(F)}),K=async(C,N,P)=>{if(!C||!R.token)throw new Error("Missing file or GitHub token");try{const E=await z(C);let F=null;try{const $=await fetch(`https://api.github.com/repos/${R.owner}/${R.repo}/contents/${N}?ref=${R.branch}`,{headers:{Authorization:`token ${R.token}`,Accept:"application/vnd.github.v3+json"}});$.status===200&&(F=(await $.json()).sha)}catch{console.log(`File does not exist yet: ${N}`)}const H={message:P,content:E,branch:R.branch};F&&(H.sha=F);const J=await fetch(`https://api.github.com/repos/${R.owner}/${R.repo}/contents/${N}`,{method:"PUT",headers:{Authorization:`token ${R.token}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify(H)}),X=await J.json();if(J.status===200||J.status===201)return X;throw new Error(`GitHub API Error: ${X.message}`)}catch(E){throw console.error("Error committing to GitHub:",E),E}},T=async(C,N,P,E,F)=>{O(!0),v("Starting to commit images to GitHub...");try{const H=R.baseImagePath+F,J=`${H}/carousel`,X=[];if(C){const $=Date.now(),Q=`${H}/${N}`;v(`Committing main image: ${N}`);const Y=K(C,Q,`Add project main image: ${N}`);X.push(Y)}for(let $=0;$<P.length;$++){const Q=P[$];if(Q.img&&Q.img[0]){const Y=E[$],L=`${J}/${Y}`;v(`Committing carousel image ${$+1}/${P.length}: ${Y}`);const G=K(Q.img[0],L,`Add project carousel image: ${Y}`);X.push(G)}}return await Promise.all(X),v("All images successfully committed to GitHub!"),setTimeout(()=>{v(""),O(!1)},3e3),!0}catch(H){return console.error("Error committing images to GitHub:",H),v(`Error committing images: ${H.message}`),O(!1),!1}},k=async C=>{if(C.preventDefault(),!p){j(!0),g("Submitting...");try{const N=new FormData(C.target),P=N.get("image");if(P&&P.type!=="image/webp"){alert("Only .webp images are accepted for the main image."),g("Submit"),j(!1);return}if(!R.token){const L=prompt("Please enter your GitHub token to commit images:");if(!L){alert("GitHub token is required to commit images."),g("Submit"),j(!1);return}localStorage.setItem("githubToken",L),R.token=L}const E=lt().replace(/-/g,"").substring(0,24),H=`${`public/images/projects/${E}`}/carousel`,J={_id:E,title:N.get("title"),description:N.get("description"),githubLink:N.get("githubLink"),startDate:N.get("startDate")?new Date(N.get("startDate")).toISOString():null,endDate:N.get("endDate")?new Date(N.get("endDate")).toISOString():null,durration:N.get("endDate")?"completed":"ongoing",highlighted:N.get("highlighted")==="on"?"star":"basic",tags:h,showInOverview:!1,codeSamples:s,dataSources:c,tools:{techs:a.map((L,G)=>({_id:`${E}${G}t`,title:L.title,description:L.description})),resources:f.map((L,G)=>({_id:`${E}${G}r`,title:L.title,description:L.description}))},carouselImages:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),__v:0},X=Date.now();let $=null;P&&($=`${X}.webp`,J.image=`/images/projects/${E}/${$}`);let Q=[];for(let L=0;L<o.length;L++){const G=o[L];if(G.img&&G.img[0]){if(G.img[0].type!=="image/webp"){alert(`Only .webp images are accepted for carousel image ${L+1}.`),g("Submit"),j(!1);return}const Me=`${X}-${L}.webp`;Q.push(Me),J.carouselImages.push({_id:`${E}${L}c`,img:`/images/projects/${E}/carousel/${Me}`,title:G.title})}}g("Saving to Firebase...");const Y=ke(Z,"projects",E);await Lt(Y,J),g("Committing images..."),await T(P,$,o,Q,E),g("Successfully Submitted!"),setTimeout(()=>{C.target.reset(),n([]),i([]),l([]),u([]),m([]),x([]),g("Submit"),j(!1)},3e3)}catch(N){console.error("Error submitting project:",N),g("Error: Please try again"),j(!1)}}};y.useEffect(()=>{const C=()=>{g("Submit")},N=document.querySelectorAll("input, textarea");return N.forEach(P=>{P.addEventListener("input",C)}),()=>{N.forEach(P=>{P.removeEventListener("input",C)})}},[]);const U=[r.jsx(cs,{codeSamples:s,setCodeSamples:n,setPopupWindow:t}),r.jsx(as,{carouselSamples:o,setCarouselSamples:i,setPopupWindow:t}),r.jsx(ls,{techs:a,setTechs:l,setPopupWindow:t}),r.jsx(us,{resources:f,setResources:u,setPopupWindow:t}),r.jsx(ds,{dataSources:c,setDataSources:m,setPopupWindow:t})];return r.jsxs("form",{onSubmit:k,className:"filldb-form project-form",children:[r.jsx("h1",{className:"project-form__title",children:"Create New Project"}),r.jsx("br",{}),r.jsxs("div",{className:"input-container",children:[r.jsx(fe,{name:"title",label:"Title"}),r.jsx(fe,{name:"githubLink",label:"Github Link"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx(fe,{type:"date",name:"startDate",label:"Start Date"}),r.jsx(fe,{type:"date",name:"endDate",required:!1,label:"End Date"})]}),r.jsx("textarea",{className:"description",type:"text",name:"description",required:!0,placeholder:"Write a Brief Description of the Project"}),r.jsx(bs,{name:"image"}),r.jsx("br",{}),r.jsx(ie,{items:s,setItems:n,title:"Code Samples",formComponent:U[0],setPopupWindow:t}),r.jsx(ie,{items:o,setItems:i,title:"Carousels",formComponent:U[1],setPopupWindow:t}),r.jsx(ie,{items:a,setItems:l,title:"Technologies",formComponent:U[2],setPopupWindow:t}),r.jsx(ie,{items:f,setItems:u,title:"Resources",formComponent:U[3],setPopupWindow:t}),r.jsx(ie,{items:c,setItems:m,title:"Data Sources",formComponent:U[4],setPopupWindow:t}),e,r.jsx("br",{}),r.jsx("br",{}),r.jsx(xs,{name:"highlighted"}),r.jsx(ms,{tags:h,setTags:x}),r.jsx("input",{type:"submit",value:b,disabled:p||_,className:p||_?"submitting":""}),(_||S)&&r.jsxs("div",{className:`commit-status ${S.includes("Error")?"error":S.includes("success")?"success":"info"}`,children:[S,_&&r.jsx("div",{className:"spinner"})]})]})}function ut(e,t){return function(){return e.apply(t,arguments)}}const{toString:js}=Object.prototype,{getPrototypeOf:Be}=Object,je=(e=>t=>{const s=js.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),V=e=>(e=e.toLowerCase(),t=>je(t)===e),Se=e=>t=>typeof t===e,{isArray:re}=Array,ue=Se("undefined");function Ss(e){return e!==null&&!ue(e)&&e.constructor!==null&&!ue(e.constructor)&&M(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dt=V("ArrayBuffer");function ws(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dt(e.buffer),t}const Ns=Se("string"),M=Se("function"),mt=Se("number"),we=e=>e!==null&&typeof e=="object",vs=e=>e===!0||e===!1,he=e=>{if(je(e)!=="object")return!1;const t=Be(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Es=V("Date"),Cs=V("File"),Rs=V("Blob"),Ts=V("FileList"),As=e=>we(e)&&M(e.pipe),ks=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||M(e.append)&&((t=je(e))==="formdata"||t==="object"&&M(e.toString)&&e.toString()==="[object FormData]"))},Ps=V("URLSearchParams"),[Ds,Os,Fs,Ls]=["ReadableStream","Request","Response","Headers"].map(V),Is=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function de(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),re(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function ft(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pt=e=>!ue(e)&&e!==ee;function Oe(){const{caseless:e}=pt(this)&&this||{},t={},s=(n,o)=>{const i=e&&ft(t,o)||o;he(t[i])&&he(n)?t[i]=Oe(t[i],n):he(n)?t[i]=Oe({},n):re(n)?t[i]=n.slice():t[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&de(arguments[n],s);return t}const _s=(e,t,s,{allOwnKeys:n}={})=>(de(t,(o,i)=>{s&&M(o)?e[i]=ut(o,s):e[i]=o},{allOwnKeys:n}),e),Us=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bs=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},$s=(e,t,s,n)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=s!==!1&&Be(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},qs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Hs=e=>{if(!e)return null;if(re(e))return e;let t=e.length;if(!mt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Ms=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Be(Uint8Array)),zs=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Vs=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Js=V("HTMLFormElement"),Gs=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),We=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Ws=V("RegExp"),ht=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};de(s,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},Ks=e=>{ht(e,(t,s)=>{if(M(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(M(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Xs=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return re(e)?n(e):n(String(e).split(t)),s},Qs=()=>{},Zs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ys(e){return!!(e&&M(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const en=e=>{const t=new Array(10),s=(n,o)=>{if(we(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[o]=n;const i=re(n)?[]:{};return de(n,(a,l)=>{const f=s(a,o+1);!ue(f)&&(i[l]=f)}),t[o]=void 0,i}}return n};return s(e,0)},tn=V("AsyncFunction"),sn=e=>e&&(we(e)||M(e))&&M(e.then)&&M(e.catch),gt=((e,t)=>e?setImmediate:t?((s,n)=>(ee.addEventListener("message",({source:o,data:i})=>{o===ee&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),ee.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",M(ee.postMessage)),nn=typeof queueMicrotask<"u"?queueMicrotask.bind(ee):typeof process<"u"&&process.nextTick||gt,d={isArray:re,isArrayBuffer:dt,isBuffer:Ss,isFormData:ks,isArrayBufferView:ws,isString:Ns,isNumber:mt,isBoolean:vs,isObject:we,isPlainObject:he,isReadableStream:Ds,isRequest:Os,isResponse:Fs,isHeaders:Ls,isUndefined:ue,isDate:Es,isFile:Cs,isBlob:Rs,isRegExp:Ws,isFunction:M,isStream:As,isURLSearchParams:Ps,isTypedArray:Ms,isFileList:Ts,forEach:de,merge:Oe,extend:_s,trim:Is,stripBOM:Us,inherits:Bs,toFlatObject:$s,kindOf:je,kindOfTest:V,endsWith:qs,toArray:Hs,forEachEntry:zs,matchAll:Vs,isHTMLForm:Js,hasOwnProperty:We,hasOwnProp:We,reduceDescriptors:ht,freezeMethods:Ks,toObjectSet:Xs,toCamelCase:Gs,noop:Qs,toFiniteNumber:Zs,findKey:ft,global:ee,isContextDefined:pt,isSpecCompliantForm:Ys,toJSONObject:en,isAsyncFn:tn,isThenable:sn,setImmediate:gt,asap:nn};function w(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}d.inherits(w,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const bt=w.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}});Object.defineProperties(w,xt);Object.defineProperty(bt,"isAxiosError",{value:!0});w.from=(e,t,s,n,o,i)=>{const a=Object.create(bt);return d.toFlatObject(e,a,function(f){return f!==Error.prototype},l=>l!=="isAxiosError"),w.call(a,e.message,t,s,n,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const rn=null;function Fe(e){return d.isPlainObject(e)||d.isArray(e)}function yt(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function Ke(e,t,s){return e?e.concat(t).map(function(o,i){return o=yt(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function on(e){return d.isArray(e)&&!e.some(Fe)}const an=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function Ne(e,t,s){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=d.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!d.isUndefined(p[g])});const n=s.metaTokens,o=s.visitor||c,i=s.dots,a=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(o))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(d.isDate(b))return b.toISOString();if(!f&&d.isBlob(b))throw new w("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(b)||d.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function c(b,g,p){let j=b;if(b&&!p&&typeof b=="object"){if(d.endsWith(g,"{}"))g=n?g:g.slice(0,-2),b=JSON.stringify(b);else if(d.isArray(b)&&on(b)||(d.isFileList(b)||d.endsWith(g,"[]"))&&(j=d.toArray(b)))return g=yt(g),j.forEach(function(v,_){!(d.isUndefined(v)||v===null)&&t.append(a===!0?Ke([g],_,i):a===null?g:g+"[]",u(v))}),!1}return Fe(b)?!0:(t.append(Ke(p,g,i),u(b)),!1)}const m=[],h=Object.assign(an,{defaultVisitor:c,convertValue:u,isVisitable:Fe});function x(b,g){if(!d.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+g.join("."));m.push(b),d.forEach(b,function(j,S){(!(d.isUndefined(j)||j===null)&&o.call(t,j,d.isString(S)?S.trim():S,g,h))===!0&&x(j,g?g.concat(S):[S])}),m.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Xe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function $e(e,t){this._pairs=[],e&&Ne(e,this,t)}const jt=$e.prototype;jt.append=function(t,s){this._pairs.push([t,s])};jt.toString=function(t){const s=t?function(n){return t.call(this,n,Xe)}:Xe;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function cn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function St(e,t,s){if(!t)return e;const n=s&&s.encode||cn;d.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=d.isURLSearchParams(t)?t.toString():new $e(t,s).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qe{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln=typeof URLSearchParams<"u"?URLSearchParams:$e,un=typeof FormData<"u"?FormData:null,dn=typeof Blob<"u"?Blob:null,mn={isBrowser:!0,classes:{URLSearchParams:ln,FormData:un,Blob:dn},protocols:["http","https","file","blob","url","data"]},qe=typeof window<"u"&&typeof document<"u",Le=typeof navigator=="object"&&navigator||void 0,fn=qe&&(!Le||["ReactNative","NativeScript","NS"].indexOf(Le.product)<0),pn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hn=qe&&window.location.href||"http://localhost",gn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qe,hasStandardBrowserEnv:fn,hasStandardBrowserWebWorkerEnv:pn,navigator:Le,origin:hn},Symbol.toStringTag,{value:"Module"})),B={...gn,...mn};function bn(e,t){return Ne(e,new B.classes.URLSearchParams,Object.assign({visitor:function(s,n,o,i){return B.isNode&&d.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function xn(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yn(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function Nt(e){function t(s,n,o,i){let a=s[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),f=i>=s.length;return a=!a&&d.isArray(o)?o.length:a,f?(d.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!l):((!o[a]||!d.isObject(o[a]))&&(o[a]=[]),t(s,n,o[a],i)&&d.isArray(o[a])&&(o[a]=yn(o[a])),!l)}if(d.isFormData(e)&&d.isFunction(e.entries)){const s={};return d.forEachEntry(e,(n,o)=>{t(xn(n),o,s,0)}),s}return null}function jn(e,t,s){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const me={transitional:wt,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=d.isObject(t);if(i&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return o?JSON.stringify(Nt(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bn(t,this.formSerializer).toString();if((l=d.isFileList(t))||n.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ne(l?{"files[]":t}:t,f&&new f,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),jn(t)):t}],transformResponse:[function(t){const s=this.transitional||me.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(n&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?w.from(l,w.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:B.classes.FormData,Blob:B.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{me.headers[e]={}});const Sn=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wn=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!s||t[s]&&Sn[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Ze=Symbol("internals");function ae(e){return e&&String(e).trim().toLowerCase()}function ge(e){return e===!1||e==null?e:d.isArray(e)?e.map(ge):String(e)}function Nn(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const vn=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Re(e,t,s,n,o){if(d.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!d.isString(t)){if(d.isString(n))return t.indexOf(n)!==-1;if(d.isRegExp(n))return n.test(t)}}function En(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Cn(e,t){const s=d.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}let q=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(l,f,u){const c=ae(f);if(!c)throw new Error("header name must be a non-empty string");const m=d.findKey(o,c);(!m||o[m]===void 0||u===!0||u===void 0&&o[m]!==!1)&&(o[m||f]=ge(l))}const a=(l,f)=>d.forEach(l,(u,c)=>i(u,c,f));if(d.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(d.isString(t)&&(t=t.trim())&&!vn(t))a(wn(t),s);else if(d.isHeaders(t))for(const[l,f]of t.entries())i(f,l,n);else t!=null&&i(s,t,n);return this}get(t,s){if(t=ae(t),t){const n=d.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return Nn(o);if(d.isFunction(s))return s.call(this,o,n);if(d.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ae(t),t){const n=d.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Re(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(a){if(a=ae(a),a){const l=d.findKey(n,a);l&&(!s||Re(n,n[l],l,s))&&(delete n[l],o=!0)}}return d.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||Re(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return d.forEach(this,(o,i)=>{const a=d.findKey(n,i);if(a){s[a]=ge(o),delete s[i];return}const l=t?En(i):String(i).trim();l!==i&&delete s[i],s[l]=ge(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return d.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&d.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Ze]=this[Ze]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=ae(a);n[l]||(Cn(o,a),n[l]=!0)}return d.isArray(t)?t.forEach(i):i(t),this}};q.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(q.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});d.freezeMethods(q);function Te(e,t){const s=this||me,n=t||s,o=q.from(n.headers);let i=n.data;return d.forEach(e,function(l){i=l.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function vt(e){return!!(e&&e.__CANCEL__)}function oe(e,t,s){w.call(this,e??"canceled",w.ERR_CANCELED,t,s),this.name="CanceledError"}d.inherits(oe,w,{__CANCEL__:!0});function Et(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new w("Request failed with status code "+s.status,[w.ERR_BAD_REQUEST,w.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tn(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(f){const u=Date.now(),c=n[i];a||(a=u),s[o]=f,n[o]=u;let m=i,h=0;for(;m!==o;)h+=s[m++],m=m%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),u-a<t)return;const x=c&&u-c;return x?Math.round(h*1e3/x):void 0}}function An(e,t){let s=0,n=1e3/t,o,i;const a=(u,c=Date.now())=>{s=c,o=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),m=c-s;m>=n?a(u,c):(o=u,i||(i=setTimeout(()=>{i=null,a(o)},n-m)))},()=>o&&a(o)]}const xe=(e,t,s=3)=>{let n=0;const o=Tn(50,250);return An(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,f=a-n,u=o(f),c=a<=l;n=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:f,rate:u||void 0,estimated:u&&l&&c?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Ye=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},et=e=>(...t)=>d.asap(()=>e(...t)),kn=B.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,B.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(B.origin),B.navigator&&/(msie|trident)/i.test(B.navigator.userAgent)):()=>!0,Pn=B.hasStandardBrowserEnv?{write(e,t,s,n,o,i){const a=[e+"="+encodeURIComponent(t)];d.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),d.isString(n)&&a.push("path="+n),d.isString(o)&&a.push("domain="+o),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function On(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ct(e,t,s){let n=!Dn(t);return e&&n||s==!1?On(e,t):t}const tt=e=>e instanceof q?{...e}:e;function se(e,t){t=t||{};const s={};function n(u,c,m,h){return d.isPlainObject(u)&&d.isPlainObject(c)?d.merge.call({caseless:h},u,c):d.isPlainObject(c)?d.merge({},c):d.isArray(c)?c.slice():c}function o(u,c,m,h){if(d.isUndefined(c)){if(!d.isUndefined(u))return n(void 0,u,m,h)}else return n(u,c,m,h)}function i(u,c){if(!d.isUndefined(c))return n(void 0,c)}function a(u,c){if(d.isUndefined(c)){if(!d.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function l(u,c,m){if(m in t)return n(u,c);if(m in e)return n(void 0,u)}const f={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,c,m)=>o(tt(u),tt(c),m,!0)};return d.forEach(Object.keys(Object.assign({},e,t)),function(c){const m=f[c]||o,h=m(e[c],t[c],c);d.isUndefined(h)&&m!==l||(s[c]=h)}),s}const Rt=e=>{const t=se({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=q.from(a),t.url=St(Ct(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let f;if(d.isFormData(s)){if(B.hasStandardBrowserEnv||B.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[u,...c]=f?f.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(B.hasStandardBrowserEnv&&(n&&d.isFunction(n)&&(n=n(t)),n||n!==!1&&kn(t.url))){const u=o&&i&&Pn.read(i);u&&a.set(o,u)}return t},Fn=typeof XMLHttpRequest<"u",Ln=Fn&&function(e){return new Promise(function(s,n){const o=Rt(e);let i=o.data;const a=q.from(o.headers).normalize();let{responseType:l,onUploadProgress:f,onDownloadProgress:u}=o,c,m,h,x,b;function g(){x&&x(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(c),o.signal&&o.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(o.method.toUpperCase(),o.url,!0),p.timeout=o.timeout;function j(){if(!p)return;const v=q.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:e,request:p};Et(function(z){s(z),g()},function(z){n(z),g()},O),p=null}"onloadend"in p?p.onloadend=j:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(j)},p.onabort=function(){p&&(n(new w("Request aborted",w.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new w("Network Error",w.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let _=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const O=o.transitional||wt;o.timeoutErrorMessage&&(_=o.timeoutErrorMessage),n(new w(_,O.clarifyTimeoutError?w.ETIMEDOUT:w.ECONNABORTED,e,p)),p=null},i===void 0&&a.setContentType(null),"setRequestHeader"in p&&d.forEach(a.toJSON(),function(_,O){p.setRequestHeader(O,_)}),d.isUndefined(o.withCredentials)||(p.withCredentials=!!o.withCredentials),l&&l!=="json"&&(p.responseType=o.responseType),u&&([h,b]=xe(u,!0),p.addEventListener("progress",h)),f&&p.upload&&([m,x]=xe(f),p.upload.addEventListener("progress",m),p.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(c=v=>{p&&(n(!v||v.type?new oe(null,e,p):v),p.abort(),p=null)},o.cancelToken&&o.cancelToken.subscribe(c),o.signal&&(o.signal.aborted?c():o.signal.addEventListener("abort",c)));const S=Rn(o.url);if(S&&B.protocols.indexOf(S)===-1){n(new w("Unsupported protocol "+S+":",w.ERR_BAD_REQUEST,e));return}p.send(i||null)})},In=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(u){if(!o){o=!0,l();const c=u instanceof Error?u:this.reason;n.abort(c instanceof w?c:new oe(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,i(new w(`timeout ${t} of ms exceeded`,w.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:f}=n;return f.unsubscribe=()=>d.asap(l),f}},_n=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},Un=async function*(e,t){for await(const s of Bn(e))yield*_n(s,t)},Bn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},st=(e,t,s,n)=>{const o=Un(e,t);let i=0,a,l=f=>{a||(a=!0,n&&n(f))};return new ReadableStream({async pull(f){try{const{done:u,value:c}=await o.next();if(u){l(),f.close();return}let m=c.byteLength;if(s){let h=i+=m;s(h)}f.enqueue(new Uint8Array(c))}catch(u){throw l(u),u}},cancel(f){return l(f),o.return()}},{highWaterMark:2})},ve=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tt=ve&&typeof ReadableStream=="function",$n=ve&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),At=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qn=Tt&&At(()=>{let e=!1;const t=new Request(B.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nt=64*1024,Ie=Tt&&At(()=>d.isReadableStream(new Response("").body)),ye={stream:Ie&&(e=>e.body)};ve&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ye[t]&&(ye[t]=d.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new w(`Response type '${t}' is not supported`,w.ERR_NOT_SUPPORT,n)})})})(new Response);const Hn=async e=>{if(e==null)return 0;if(d.isBlob(e))return e.size;if(d.isSpecCompliantForm(e))return(await new Request(B.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(d.isArrayBufferView(e)||d.isArrayBuffer(e))return e.byteLength;if(d.isURLSearchParams(e)&&(e=e+""),d.isString(e))return(await $n(e)).byteLength},Mn=async(e,t)=>{const s=d.toFiniteNumber(e.getContentLength());return s??Hn(t)},zn=ve&&(async e=>{let{url:t,method:s,data:n,signal:o,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:f,responseType:u,headers:c,withCredentials:m="same-origin",fetchOptions:h}=Rt(e);u=u?(u+"").toLowerCase():"text";let x=In([o,i&&i.toAbortSignal()],a),b;const g=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let p;try{if(f&&qn&&s!=="get"&&s!=="head"&&(p=await Mn(c,n))!==0){let O=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(d.isFormData(n)&&(R=O.headers.get("content-type"))&&c.setContentType(R),O.body){const[z,K]=Ye(p,xe(et(f)));n=st(O.body,nt,z,K)}}d.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;b=new Request(t,{...h,signal:x,method:s.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:j?m:void 0});let S=await fetch(b);const v=Ie&&(u==="stream"||u==="response");if(Ie&&(l||v&&g)){const O={};["status","statusText","headers"].forEach(T=>{O[T]=S[T]});const R=d.toFiniteNumber(S.headers.get("content-length")),[z,K]=l&&Ye(R,xe(et(l),!0))||[];S=new Response(st(S.body,nt,z,()=>{K&&K(),g&&g()}),O)}u=u||"text";let _=await ye[d.findKey(ye,u)||"text"](S,e);return!v&&g&&g(),await new Promise((O,R)=>{Et(O,R,{data:_,headers:q.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:b})})}catch(j){throw g&&g(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new w("Network Error",w.ERR_NETWORK,e,b),{cause:j.cause||j}):w.from(j,j&&j.code,e,b)}}),_e={http:rn,xhr:Ln,fetch:zn};d.forEach(_e,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rt=e=>`- ${e}`,Vn=e=>d.isFunction(e)||e===null||e===!1,kt={getAdapter:e=>{e=d.isArray(e)?e:[e];const{length:t}=e;let s,n;const o={};for(let i=0;i<t;i++){s=e[i];let a;if(n=s,!Vn(s)&&(n=_e[(a=String(s)).toLowerCase()],n===void 0))throw new w(`Unknown adapter '${a}'`);if(n)break;o[a||"#"+i]=n}if(!n){const i=Object.entries(o).map(([l,f])=>`adapter ${l} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(rt).join(`
`):" "+rt(i[0]):"as no adapter specified";throw new w("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:_e};function Ae(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oe(null,e)}function ot(e){return Ae(e),e.headers=q.from(e.headers),e.data=Te.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kt.getAdapter(e.adapter||me.adapter)(e).then(function(n){return Ae(e),n.data=Te.call(e,e.transformResponse,n),n.headers=q.from(n.headers),n},function(n){return vt(n)||(Ae(e),n&&n.response&&(n.response.data=Te.call(e,e.transformResponse,n.response),n.response.headers=q.from(n.response.headers))),Promise.reject(n)})}const Pt="1.8.2",Ee={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ee[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const it={};Ee.transitional=function(t,s,n){function o(i,a){return"[Axios v"+Pt+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new w(o(a," has been removed"+(s?" in "+s:"")),w.ERR_DEPRECATED);return s&&!it[a]&&(it[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,a,l):!0}};Ee.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Jn(e,t,s){if(typeof e!="object")throw new w("options must be an object",w.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const l=e[i],f=l===void 0||a(l,i,e);if(f!==!0)throw new w("option "+i+" must be "+f,w.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new w("Unknown option "+i,w.ERR_BAD_OPTION)}}const be={assertOptions:Jn,validators:Ee},W=be.validators;let te=class{constructor(t){this.defaults=t,this.interceptors={request:new Qe,response:new Qe}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=se(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&be.assertOptions(n,{silentJSONParsing:W.transitional(W.boolean),forcedJSONParsing:W.transitional(W.boolean),clarifyTimeoutError:W.transitional(W.boolean)},!1),o!=null&&(d.isFunction(o)?s.paramsSerializer={serialize:o}:be.assertOptions(o,{encode:W.function,serialize:W.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),be.assertOptions(s,{baseUrl:W.spelling("baseURL"),withXsrfToken:W.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=i&&d.merge(i.common,i[s.method]);i&&d.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),s.headers=q.concat(a,i);const l=[];let f=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(f=f&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,m=0,h;if(!f){const b=[ot.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),h=b.length,c=Promise.resolve(s);m<h;)c=c.then(b[m++],b[m++]);return c}h=l.length;let x=s;for(m=0;m<h;){const b=l[m++],g=l[m++];try{x=b(x)}catch(p){g.call(this,p);break}}try{c=ot.call(this,x)}catch(b){return Promise.reject(b)}for(m=0,h=u.length;m<h;)c=c.then(u[m++],u[m++]);return c}getUri(t){t=se(this.defaults,t);const s=Ct(t.baseURL,t.url,t.allowAbsoluteUrls);return St(s,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){te.prototype[t]=function(s,n){return this.request(se(n||{},{method:t,url:s,data:(n||{}).data}))}});d.forEach(["post","put","patch"],function(t){function s(n){return function(i,a,l){return this.request(se(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}te.prototype[t]=s(),te.prototype[t+"Form"]=s(!0)});let Gn=class Dt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new oe(i,a,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Dt(function(o){t=o}),cancel:t}}};function Wn(e){return function(s){return e.apply(null,s)}}function Kn(e){return d.isObject(e)&&e.isAxiosError===!0}const Ue={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ue).forEach(([e,t])=>{Ue[t]=e});function Ot(e){const t=new te(e),s=ut(te.prototype.request,t);return d.extend(s,te.prototype,t,{allOwnKeys:!0}),d.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return Ot(se(e,o))},s}const D=Ot(me);D.Axios=te;D.CanceledError=oe;D.CancelToken=Gn;D.isCancel=vt;D.VERSION=Pt;D.toFormData=Ne;D.AxiosError=w;D.Cancel=D.CanceledError;D.all=function(t){return Promise.all(t)};D.spread=Wn;D.isAxiosError=Kn;D.mergeConfig=se;D.AxiosHeaders=q;D.formToJSON=e=>Nt(d.isHTMLForm(e)?new FormData(e):e);D.getAdapter=kt.getAdapter;D.HttpStatusCode=Ue;D.default=D;const{Axios:lr,AxiosError:ur,CanceledError:dr,isCancel:mr,CancelToken:fr,VERSION:pr,all:hr,Cancel:gr,isAxiosError:br,spread:xr,toFormData:yr,AxiosHeaders:jr,HttpStatusCode:Sr,formToJSON:wr,getAdapter:Nr,mergeConfig:vr}=D;var Xn={};const Ft=Xn.BACKEND_API;console.log("API",Ft);const He=D.create({baseURL:Ft,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("jwt")}`}});He.interceptors.response.use(e=>e.data,e=>Promise.reject(e.response&&e.response.data||"Something went wrong"));function Qn(){return r.jsxs("form",{className:"report-form filldb-form",onSubmit:e=>{e.preventDefault();var t={};t.title=e.target.title.value,t.description=e.target.description.value;const n=e.target.reportFile.files[0],o=new FileReader;o.addEventListener("load",()=>{t.reportFile=o.result,console.log(t),He.post("/reports",t).then(i=>{console.log(i)}).catch(i=>{console.log(i)})}),o.readAsDataURL(n)},children:[r.jsx("h1",{className:"project-form__title",children:"Add Report"}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"title",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"title_report",children:"Title of Report"})]}),r.jsx("br",{}),r.jsxs("div",{className:"input-flow",children:[r.jsx("input",{type:"text",name:"description",className:"form__input label_",placeholder:" "}),r.jsx("label",{className:"form__label",htmlFor:"Description_report",children:"Description"})]}),r.jsx("br",{}),r.jsx("input",{type:"file",name:"reportFile",placeholder:"image"}),r.jsx("input",{type:"submit",value:"Submit"})]})}function Zn({setAuthenticated:e}){const[t,s]=y.useState(!1),[n,o]=y.useState(null),[i,a]=y.useState(!1),l="abdobella977@gmail.com";y.useEffect(()=>{o(null),a(!1)},[]),y.useEffect(()=>{if(n&&!i){const u=setTimeout(()=>{o(null)},5e3);return()=>clearTimeout(u)}},[n,i]);const f=async()=>{s(!0),o(null),a(!1);const u=Pe(),c=new ze;try{const m=await It(u,c),h=m.user,b=ze.credentialFromResult(m).accessToken;if(console.log("User email:",h.email),console.log("Authorized email:",l),h.email!==l){console.log("Unauthorized access attempt"),await De(u),a(!0),o("You are not my owner! Get the hell out of here!"),localStorage.removeItem("firebaseAuthUser"),e(!1);return}localStorage.setItem("firebaseAuthUser",JSON.stringify({uid:h.uid,displayName:h.displayName,email:h.email,photoURL:h.photoURL})),e(!0)}catch(m){m.code;const h=m.message;console.error("Login error:",m),o(`Login failed: ${h}`)}finally{s(!1)}};return r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-form",children:[r.jsx("h1",{className:"login-title",children:"Admin Access"}),r.jsx("p",{className:"login-subtitle",children:"Sign in with your GitHub account to access the admin panel"}),r.jsxs("button",{className:"github-login-btn",onClick:f,disabled:t,children:[r.jsx(A,{icon:Ht,className:"github-icon"}),t?"Connecting...":"Sign in with GitHub"]}),n&&r.jsxs("div",{className:`login-error ${i?"unauthorized":""}`,children:[i&&r.jsx(A,{icon:Yt,className:"error-icon"}),n]})]})})}function Yn(){const[e,t]=y.useState([]),[s,n]=y.useState([]);y.useEffect(()=>{(async()=>{try{const l=le(Z,"projects"),u=(await ce(l)).docs.map(c=>({id:c.id,...c.data()}));t(u),console.log(u)}catch(l){console.error("Error fetching projects:",l)}})()},[]);const o=Math.ceil(e.length/3),i=async()=>{try{const a=le(Z,"projects"),f=(await ce(a)).docs.map(async m=>{const h=ke(Z,"projects",m.id);await Ve(h,{showInOverview:!1})});await Promise.all(f);const c=s.map(m=>m.id).map(async m=>{const h=ke(Z,"projects",m);await Ve(h,{showInOverview:!0})});await Promise.all(c),alert("Featured projects updated successfully!")}catch(a){console.error("Error updating featured projects:",a),alert("Failed to update featured projects. See console for details.")}};return r.jsxs("div",{className:"arrange-projects-form filldb-form",children:[r.jsx("div",{className:"highlighted-projects",children:s.length>0&&s.filter((a,l)=>l<3).map(a=>r.jsx("div",{className:"highlighted-project",onClick:()=>{n(s.filter(l=>l!==a))},children:r.jsx("h3",{children:a.title})},a.id||a.title))}),r.jsx("div",{className:"scrollable-grid",children:r.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:e.length>0&&e.map(a=>r.jsx("div",{style:{flex:`1 0 ${100/o}%`},className:"project",onClick:()=>{if(s.includes(a))n(s.filter(l=>l!==a));else{if(s.length===3)return;n([...s,a])}},children:r.jsx("h3",{children:a.title})},a.id||a.title))})}),r.jsx("button",{className:"validate-btn",onClick:()=>i(),children:"Validate"})]})}function er(){const[e,t]=y.useState({certificateTitle:"",issuer:"",link:"",downloadPath:""}),[s,n]=y.useState(null),[o,i]=y.useState(null),[a,l]=y.useState(!1),[f,u]=y.useState({type:"",text:""}),[c,m]=y.useState({}),h=y.useRef(null),[x,b]=y.useState(""),[g,p]=y.useState(!1),j={owner:"bellaabdelouahab",repo:"portfolio",branch:"master",baseImagePath:"public/images/certificates/",token:localStorage.getItem("githubToken")||""},S=T=>{const{name:k,value:U}=T.target;t({...e,[k]:U}),c[k]&&m({...c,[k]:""})},v=T=>{const k=T.target.files[0];if(k){n(k);const U=new FileReader;U.onload=()=>{i(U.result)},U.readAsDataURL(k),c.image&&m({...c,image:""})}},_=()=>{const T={};return e.certificateTitle.trim()||(T.certificateTitle="Title is required"),e.issuer.trim()||(T.issuer="Issuer is required"),e.link.trim()||(T.link="Link is required"),e.downloadPath.trim()||(T.downloadPath="Download path is required"),s||(T.image="Certificate image is required"),m(T),Object.keys(T).length===0},O=T=>new Promise((k,U)=>{const C=new FileReader;C.readAsDataURL(T),C.onload=()=>{const N=C.result.split(",")[1];k(N)},C.onerror=N=>U(N)}),R=async(T,k,U)=>{if(!T||!j.token)throw new Error("Missing file or GitHub token");try{const C=await O(T);let N=null;try{const H=await fetch(`https://api.github.com/repos/${j.owner}/${j.repo}/contents/${k}?ref=${j.branch}`,{headers:{Authorization:`token ${j.token}`,Accept:"application/vnd.github.v3+json"}});H.status===200&&(N=(await H.json()).sha)}catch{console.log(`File does not exist yet: ${k}`)}const P={message:U,content:C,branch:j.branch};N&&(P.sha=N);const E=await fetch(`https://api.github.com/repos/${j.owner}/${j.repo}/contents/${k}`,{method:"PUT",headers:{Authorization:`token ${j.token}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify(P)}),F=await E.json();if(E.status===200||E.status===201)return F;throw new Error(`GitHub API Error: ${F.message}`)}catch(C){throw console.error("Error committing to GitHub:",C),C}},z=async T=>{if(T.preventDefault(),!!_())try{if(l(!0),!j.token){const F=prompt("Please enter your GitHub token to commit images:");if(!F){u({type:"error",text:"GitHub token is required to commit images."}),l(!1);return}localStorage.setItem("githubToken",F),j.token=F}const k=lt().replace(/-/g,"").substring(0,24),U=Date.now(),C=s.name.split(".").pop(),N=`${k}.${C}`,P=`${j.baseImagePath}${N}`;p(!0),b("Committing certificate image to GitHub...");try{await R(s,P,`Add certificate image: ${e.certificateTitle}`),b("Image successfully committed to GitHub!")}catch(F){throw b(`Error committing image: ${F.message}`),F}const E={_id:k,certificateTitle:e.certificateTitle,issuer:e.issuer,link:e.link,downloadPath:e.downloadPath,image:`/images/certificates/${N}`,createdAt:Je(),updatedAt:Je(),__v:0};await _t(le(Z,"certificates"),E),t({certificateTitle:"",issuer:"",link:"",downloadPath:""}),n(null),i(null),h.current&&(h.current.value=""),u({type:"success",text:"Certificate added successfully!"}),setTimeout(()=>{b(""),p(!1)},3e3),setTimeout(()=>{u({type:"",text:""})},5e3)}catch(k){console.error("Error adding certificate:",k),u({type:"error",text:`Error adding certificate: ${k.message}`}),p(!1)}finally{l(!1)}},K=()=>{h.current.click()};return r.jsxs("div",{className:"certificates-form-container",children:[r.jsxs("div",{className:"certificate-form-header",children:[r.jsx("h1",{className:"certificate-form-title",children:"Add New Certificate"}),r.jsx("p",{className:"certificate-form-subtitle",children:"Add your professional certificates and achievements to showcase your expertise"})]}),f.text&&r.jsx("div",{className:`certificate-message ${f.type}`,children:f.text}),r.jsxs("form",{onSubmit:z,className:"certificate-form",children:[r.jsxs("div",{className:"certificate-form-grid",children:[r.jsxs("div",{className:"certificate-form-fields",children:[r.jsxs("div",{className:"certificate-form-group",children:[r.jsx("label",{htmlFor:"title",children:"Certificate Title*"}),r.jsx("input",{type:"text",id:"title",name:"certificateTitle",value:e.certificateTitle,onChange:S,className:c.certificateTitle?"error":"",placeholder:"e.g., AWS Certified Solutions Architect"}),c.certificateTitle&&r.jsx("div",{className:"error-text",children:c.certificateTitle})]}),r.jsxs("div",{className:"certificate-form-group",children:[r.jsx("label",{htmlFor:"issuer",children:"Issuing Organization*"}),r.jsx("input",{type:"text",id:"issuer",name:"issuer",value:e.issuer,onChange:S,className:c.issuer?"error":"",placeholder:"e.g., Amazon Web Services"}),c.issuer&&r.jsx("div",{className:"error-text",children:c.issuer})]}),r.jsxs("div",{className:"certificate-form-group",children:[r.jsx("label",{htmlFor:"link",children:"Certificate Link*"}),r.jsx("input",{type:"text",id:"link",name:"link",value:e.link,onChange:S,className:c.link?"error":"",placeholder:"https://verify.example.com/cert/123"}),c.link&&r.jsx("div",{className:"error-text",children:c.link})]}),r.jsxs("div",{className:"certificate-form-group",children:[r.jsx("label",{htmlFor:"downloadPath",children:"Download Link*"}),r.jsx("input",{type:"text",id:"downloadPath",name:"downloadPath",value:e.downloadPath,onChange:S,className:c.downloadPath?"error":"",placeholder:"https://example.com/download/certificate.pdf"}),c.downloadPath&&r.jsx("div",{className:"error-text",children:c.downloadPath})]})]}),r.jsxs("div",{className:"certificate-image-upload",children:[r.jsxs("div",{className:`certificate-image-preview ${c.image?"error-border":""} ${o?"has-image":""}`,onClick:K,children:[o?r.jsx("img",{src:o,alt:"Certificate preview"}):r.jsxs("div",{className:"upload-placeholder",children:[r.jsx("div",{className:"upload-icon",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.jsx("polyline",{points:"17 8 12 3 7 8"}),r.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),r.jsx("p",{children:"Click to upload certificate image"}),r.jsx("span",{children:"PNG, JPG or WEBP (Max 5MB)"})]}),r.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:v,style:{display:"none"}})]}),c.image&&r.jsx("div",{className:"error-text",children:c.image})]})]}),r.jsx("div",{className:"certificate-form-actions",children:r.jsx("button",{type:"submit",className:"certificate-submit-button",disabled:a||g,children:a||g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"spinner"}),r.jsx("span",{children:g?"Committing...":"Uploading..."})]}):"Add Certificate"})}),(g||x)&&r.jsxs("div",{className:`commit-status ${x.includes("Error")?"error":x.includes("success")?"success":"info"}`,children:[x,g&&!x.includes("success")&&r.jsx("div",{className:"spinner"})]})]})]})}function tr(){const[e,t]=y.useState(""),[s,n]=y.useState(""),[o,i]=y.useState(""),[a,l]=y.useState(""),f=async u=>{u.preventDefault();try{const c={name:e,description:s,profession:o,company:a},h=u.target.image.files[0],x=new FileReader;x.onloadend=()=>{c.image=x.result;const b=He.post("clients",c,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}});console.log("Client added successfully:",b.data)},h&&x.readAsDataURL(h)}catch(c){console.error("Error adding client:",c)}};return r.jsxs("form",{onSubmit:f,className:"add-client-form",children:[r.jsxs("div",{className:"client-profession",children:[r.jsx("input",{type:"text",placeholder:"Client Name",value:e,onChange:u=>t(u.target.value)}),r.jsx("textarea",{placeholder:"Client Description",value:s,onChange:u=>n(u.target.value)}),r.jsx("input",{type:"text",placeholder:"Client Profession",value:o,onChange:u=>i(u.target.value)}),r.jsx("input",{type:"text",placeholder:"Company",value:a,onChange:u=>l(u.target.value)}),r.jsx("input",{type:"file",accept:"image/*",className:"client-picture-input",name:"image"})]}),r.jsx("button",{type:"submit",children:"Add Client"})]})}function sr(){const[e,t]=y.useState({totalVisitors:0,recentVisitors:[],topPages:[],loading:!0,error:null});return y.useEffect(()=>{(async()=>{try{const n=le(Z,"visitors"),o=await ce(n),i=Ut(n,Bt("timestamp","desc"),$t(10)),l=(await ce(i)).docs.map(h=>{var x,b;return{id:h.id,...h.data(),timestamp:((b=(x=h.data().timestamp)==null?void 0:x.toDate)==null?void 0:b.call(x))||new Date}}),f=le(Z,"pageViews"),u=await ce(f),c={};u.docs.forEach(h=>{const x=h.data().path;x&&(c[x]=(c[x]||0)+1)});const m=Object.entries(c).map(([h,x])=>({path:h,count:x})).sort((h,x)=>x.count-h.count).slice(0,5);t({totalVisitors:o.size,recentVisitors:l,topPages:m,loading:!1,error:null})}catch(n){console.error("Error fetching visitor stats:",n),t(o=>({...o,loading:!1,error:"Failed to load visitor statistics"}))}})()},[]),e.loading?r.jsx("div",{className:"loading",children:"Loading visitor statistics..."}):e.error?r.jsx("div",{className:"error",children:e.error}):r.jsxs("div",{className:"visitor-stats",children:[r.jsx("h2",{children:"Visitor Statistics"}),r.jsxs("div",{className:"stats-card",children:[r.jsx("h3",{children:"Total Unique Visitors"}),r.jsx("div",{className:"stat-number",children:e.totalVisitors})]}),r.jsxs("div",{className:"stats-section",children:[r.jsx("h3",{children:"Top Pages"}),r.jsx("ul",{className:"top-pages",children:e.topPages.map((s,n)=>r.jsxs("li",{children:[r.jsx("span",{className:"page-path",children:s.path||"/"}),r.jsxs("span",{className:"page-count",children:[s.count," views"]})]},n))})]}),r.jsxs("div",{className:"stats-section",children:[r.jsx("h3",{children:"Recent Visitors"}),r.jsxs("table",{className:"visitors-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"IP Address"}),r.jsx("th",{children:"Browser"}),r.jsx("th",{children:"OS"}),r.jsx("th",{children:"Time"})]})}),r.jsx("tbody",{children:e.recentVisitors.map((s,n)=>r.jsxs("tr",{children:[r.jsx("td",{children:s.ip}),r.jsx("td",{children:s.browser}),r.jsx("td",{children:s.operatingSystem}),r.jsx("td",{children:s.timestamp.toLocaleString()})]},n))})]})]})]})}const pe=[{id:0,label:"Project",component:r.jsx(ys,{})},{id:1,label:"Arrange Projects",component:r.jsx(Yn,{})},{id:2,label:"Certificate",component:r.jsx(er,{})},{id:4,label:"Report",component:r.jsx(Qn,{})},{id:5,label:"Clients",component:r.jsx(tr,{})},{id:6,label:"Visitor Stats",component:r.jsx(sr,{})}];function Er(){const[e,t]=y.useState(!1),[s,n]=y.useState(pe[0].id),[o,i]=y.useState(null),[a,l]=y.useState(!1);y.useEffect(()=>{const u=Pe(),c=qt(u,m=>{if(m)m.email==="abdobella977@gmail.com"?(i(m),t(!0),localStorage.setItem("firebaseAuthUser",JSON.stringify({uid:m.uid,displayName:m.displayName,email:m.email,photoURL:m.photoURL}))):De(u).then(()=>{i(null),t(!1),localStorage.removeItem("firebaseAuthUser")});else{i(null);const h=localStorage.getItem("firebaseAuthUser");if(h){const x=JSON.parse(h);x.email==="abdobella977@gmail.com"?(t(!0),i(x)):(localStorage.removeItem("firebaseAuthUser"),t(!1))}else t(!1)}l(!0)});return()=>c()},[]),y.useEffect(()=>{var u;e&&console.log(`Tab changed to: ${(u=pe[s])==null?void 0:u.label}`)},[s,e]);const f=async()=>{const u=Pe();try{await De(u),localStorage.removeItem("firebaseAuthUser"),localStorage.removeItem("githubToken"),t(!1),i(null)}catch(c){console.error("Error signing out: ",c)}};return a?r.jsx(r.Fragment,{children:e?r.jsxs("div",{className:"filldb-container",children:[r.jsxs("div",{className:"buttons",children:[o&&r.jsxs("div",{className:"user-profile",children:[r.jsx("img",{src:o.photoURL,alt:o.displayName,className:"user-avatar",onError:u=>{u.target.onerror=null,u.target.src="https://via.placeholder.com/30"}}),r.jsx("span",{className:"user-name",children:o.displayName})]}),pe.map(u=>r.jsx("button",{className:`filldb-nav__btn ${s===u.id?"active":""}`,onClick:()=>n(u.id),children:u.label},u.id)),r.jsx("button",{className:"filldb-nav__btn logout-btn",onClick:f,children:"Logout"})]}),r.jsx("div",{className:"tab-content",children:pe.map(u=>s===u.id&&u.component)})]}):r.jsx(Zn,{setAuthenticated:t})}):r.jsx("div",{className:"loading-auth",children:"Checking authentication..."})}export{Er as default};
