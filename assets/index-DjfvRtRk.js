const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-2Mp0Zn2E.js","./index-Bnvi9k0-.js","./index-Chjiymov.js","./Root-BglOkDj4.css","./Project-CR0KoGjg.js","./index-CuUotlS2.js","./Project-CfNRlwkj.css","./Certificates-BhqXERLc.js","./Certificates-DlM67GuP.css","./Resume-DDwO4KXo.js","./Resume-DtU7L1PO.css","./MusicPicks-DpOs7YL7.js","./MusicPicks-DUXKN7Ks.css","./Skills-su9Y7Aye.js","./Skills-Dv-9_cRg.css","./Articles-BAcn64MR.js","./Articles-DJ5AvvuJ.css","./Team-Co_gWf7S.js","./Team-DD6ZGrwr.css","./BackOffice-BSpKkJ_Z.js","./BackOffice-CwruCUyI.css"])))=>i.map(i=>d[i]);
function Hv(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();function Vg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function A1(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var a=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return i[s]}})}),n}var Sh={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function qv(){if(Zp)return Fe;Zp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=R&&x[R]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,F={};function U(x,K,he){this.props=x,this.context=K,this.refs=F,this.updater=he||N}U.prototype.isReactComponent={},U.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function te(){}te.prototype=U.prototype;function re(x,K,he){this.props=x,this.context=K,this.refs=F,this.updater=he||N}var oe=re.prototype=new te;oe.constructor=re,$(oe,U.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray,Oe=Object.prototype.hasOwnProperty,Ne={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(x,K,he){var ve,Ve={},He=null,ze=null;if(K!=null)for(ve in K.ref!==void 0&&(ze=K.ref),K.key!==void 0&&(He=""+K.key),K)Oe.call(K,ve)&&!V.hasOwnProperty(ve)&&(Ve[ve]=K[ve]);var qe=arguments.length-2;if(qe===1)Ve.children=he;else if(1<qe){for(var be=Array(qe),It=0;It<qe;It++)be[It]=arguments[It+2];Ve.children=be}if(x&&x.defaultProps)for(ve in qe=x.defaultProps,qe)Ve[ve]===void 0&&(Ve[ve]=qe[ve]);return{$$typeof:i,type:x,key:He,ref:ze,props:Ve,_owner:Ne.current}}function P(x,K){return{$$typeof:i,type:x.type,key:K,ref:x.ref,props:x.props,_owner:x._owner}}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function L(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(he){return K[he]})}var M=/\/+/g;function C(x,K){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):K.toString(36)}function ht(x,K,he,ve,Ve){var He=typeof x;(He==="undefined"||He==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(He){case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case i:case e:ze=!0}}if(ze)return ze=x,Ve=Ve(ze),x=ve===""?"."+C(ze,0):ve,ae(Ve)?(he="",x!=null&&(he=x.replace(M,"$&/")+"/"),ht(Ve,K,he,"",function(It){return It})):Ve!=null&&(D(Ve)&&(Ve=P(Ve,he+(!Ve.key||ze&&ze.key===Ve.key?"":(""+Ve.key).replace(M,"$&/")+"/")+x)),K.push(Ve)),1;if(ze=0,ve=ve===""?".":ve+":",ae(x))for(var qe=0;qe<x.length;qe++){He=x[qe];var be=ve+C(He,qe);ze+=ht(He,K,he,be,Ve)}else if(be=S(x),typeof be=="function")for(x=be.call(x),qe=0;!(He=x.next()).done;)He=He.value,be=ve+C(He,qe++),ze+=ht(He,K,he,be,Ve);else if(He==="object")throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ze}function jt(x,K,he){if(x==null)return x;var ve=[],Ve=0;return ht(x,ve,"","",function(He){return K.call(he,He,Ve++)}),ve}function Lt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(he){(x._status===0||x._status===-1)&&(x._status=1,x._result=he)},function(he){(x._status===0||x._status===-1)&&(x._status=2,x._result=he)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var xe={current:null},ie={transition:null},ye={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Ne};return Fe.Children={map:jt,forEach:function(x,K,he){jt(x,function(){K.apply(this,arguments)},he)},count:function(x){var K=0;return jt(x,function(){K++}),K},toArray:function(x){return jt(x,function(K){return K})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Fe.Component=U,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=re,Fe.StrictMode=s,Fe.Suspense=g,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Fe.cloneElement=function(x,K,he){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ve=$({},x.props),Ve=x.key,He=x.ref,ze=x._owner;if(K!=null){if(K.ref!==void 0&&(He=K.ref,ze=Ne.current),K.key!==void 0&&(Ve=""+K.key),x.type&&x.type.defaultProps)var qe=x.type.defaultProps;for(be in K)Oe.call(K,be)&&!V.hasOwnProperty(be)&&(ve[be]=K[be]===void 0&&qe!==void 0?qe[be]:K[be])}var be=arguments.length-2;if(be===1)ve.children=he;else if(1<be){qe=Array(be);for(var It=0;It<be;It++)qe[It]=arguments[It+2];ve.children=qe}return{$$typeof:i,type:x.type,key:Ve,ref:He,props:ve,_owner:ze}},Fe.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:u,_context:x},x.Consumer=x},Fe.createElement=A,Fe.createFactory=function(x){var K=A.bind(null,x);return K.type=x,K},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(x){return{$$typeof:f,render:x}},Fe.isValidElement=D,Fe.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Lt}},Fe.memo=function(x,K){return{$$typeof:_,type:x,compare:K===void 0?null:K}},Fe.startTransition=function(x){var K=ie.transition;ie.transition={};try{x()}finally{ie.transition=K}},Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Fe.useCallback=function(x,K){return xe.current.useCallback(x,K)},Fe.useContext=function(x){return xe.current.useContext(x)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(x){return xe.current.useDeferredValue(x)},Fe.useEffect=function(x,K){return xe.current.useEffect(x,K)},Fe.useId=function(){return xe.current.useId()},Fe.useImperativeHandle=function(x,K,he){return xe.current.useImperativeHandle(x,K,he)},Fe.useInsertionEffect=function(x,K){return xe.current.useInsertionEffect(x,K)},Fe.useLayoutEffect=function(x,K){return xe.current.useLayoutEffect(x,K)},Fe.useMemo=function(x,K){return xe.current.useMemo(x,K)},Fe.useReducer=function(x,K,he){return xe.current.useReducer(x,K,he)},Fe.useRef=function(x){return xe.current.useRef(x)},Fe.useState=function(x){return xe.current.useState(x)},Fe.useSyncExternalStore=function(x,K,he){return xe.current.useSyncExternalStore(x,K,he)},Fe.useTransition=function(){return xe.current.useTransition()},Fe.version="18.2.0",Fe}var em;function ud(){return em||(em=1,Sh.exports=qv()),Sh.exports}var Y=ud();const mt=Vg(Y),Fh=Hv({__proto__:null,default:mt},[Y]);var Ih={exports:{}},ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Wv(){if(tm)return ca;tm=1;var i=ud(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,_){var w,R={},S=null,N=null;_!==void 0&&(S=""+_),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(N=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(R[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:f,key:S,ref:N,props:R,_owner:a.current}}return ca.Fragment=n,ca.jsx=h,ca.jsxs=h,ca}var nm;function Kv(){return nm||(nm=1,Ih.exports=Wv()),Ih.exports}var E=Kv(),tu={},Ah={exports:{}},En={},Rh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Gv(){return rm||(rm=1,function(i){function e(ie,ye){var x=ie.length;ie.push(ye);e:for(;0<x;){var K=x-1>>>1,he=ie[K];if(0<a(he,ye))ie[K]=ye,ie[x]=he,x=K;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ye=ie[0],x=ie.pop();if(x!==ye){ie[0]=x;e:for(var K=0,he=ie.length,ve=he>>>1;K<ve;){var Ve=2*(K+1)-1,He=ie[Ve],ze=Ve+1,qe=ie[ze];if(0>a(He,x))ze<he&&0>a(qe,He)?(ie[K]=qe,ie[ze]=x,K=ze):(ie[K]=He,ie[Ve]=x,K=Ve);else if(ze<he&&0>a(qe,x))ie[K]=qe,ie[ze]=x,K=ze;else break e}}return ye}function a(ie,ye){var x=ie.sortIndex-ye.sortIndex;return x!==0?x:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var g=[],_=[],w=1,R=null,S=3,N=!1,$=!1,F=!1,U=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ie){for(var ye=n(_);ye!==null;){if(ye.callback===null)s(_);else if(ye.startTime<=ie)s(_),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=n(_)}}function ae(ie){if(F=!1,oe(ie),!$)if(n(g)!==null)$=!0,Lt(Oe);else{var ye=n(_);ye!==null&&xe(ae,ye.startTime-ie)}}function Oe(ie,ye){$=!1,F&&(F=!1,te(A),A=-1),N=!0;var x=S;try{for(oe(ye),R=n(g);R!==null&&(!(R.expirationTime>ye)||ie&&!L());){var K=R.callback;if(typeof K=="function"){R.callback=null,S=R.priorityLevel;var he=K(R.expirationTime<=ye);ye=i.unstable_now(),typeof he=="function"?R.callback=he:R===n(g)&&s(g),oe(ye)}else s(g);R=n(g)}if(R!==null)var ve=!0;else{var Ve=n(_);Ve!==null&&xe(ae,Ve.startTime-ye),ve=!1}return ve}finally{R=null,S=x,N=!1}}var Ne=!1,V=null,A=-1,P=5,D=-1;function L(){return!(i.unstable_now()-D<P)}function M(){if(V!==null){var ie=i.unstable_now();D=ie;var ye=!0;try{ye=V(!0,ie)}finally{ye?C():(Ne=!1,V=null)}}else Ne=!1}var C;if(typeof re=="function")C=function(){re(M)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,jt=ht.port2;ht.port1.onmessage=M,C=function(){jt.postMessage(null)}}else C=function(){U(M,0)};function Lt(ie){V=ie,Ne||(Ne=!0,C())}function xe(ie,ye){A=U(function(){ie(i.unstable_now())},ye)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){$||N||($=!0,Lt(Oe))},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ye=3;break;default:ye=S}var x=S;S=ye;try{return ie()}finally{S=x}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var x=S;S=ie;try{return ye()}finally{S=x}},i.unstable_scheduleCallback=function(ie,ye,x){var K=i.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?K+x:K):x=K,ie){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=x+he,ie={id:w++,callback:ye,priorityLevel:ie,startTime:x,expirationTime:he,sortIndex:-1},x>K?(ie.sortIndex=x,e(_,ie),n(g)===null&&ie===n(_)&&(F?(te(A),A=-1):F=!0,xe(ae,x-K))):(ie.sortIndex=he,e(g,ie),$||N||($=!0,Lt(Oe))),ie},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(ie){var ye=S;return function(){var x=S;S=ye;try{return ie.apply(this,arguments)}finally{S=x}}}}(Ch)),Ch}var im;function Qv(){return im||(im=1,Rh.exports=Gv()),Rh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Xv(){if(sm)return En;sm=1;var i=ud(),e=Qv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function S(t){return g.call(R,t)?!0:g.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function N(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $(t,r,o,c){if(r===null||typeof r>"u"||N(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function F(t,r,o,c,d,m,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=v}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new F(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function re(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(te,re);U[r]=new F(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(te,re);U[r]=new F(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(te,re);U[r]=new F(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function oe(t,r,o,c){var d=U.hasOwnProperty(r)?U[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($(r,o,d,c)&&(o=null),c||d===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ae=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oe=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var x=Object.assign,K;function he(t){if(K===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);K=r&&r[1]||""}return`
`+K+t}var ve=!1;function Ve(t,r){if(!t||ve)return"";ve=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var c=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){c=z}t.call(r.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,I=m.length-1;1<=v&&0<=I&&d[v]!==m[I];)I--;for(;1<=v&&0<=I;v--,I--)if(d[v]!==m[I]){if(v!==1||I!==1)do if(v--,I--,0>I||d[v]!==m[I]){var k=`
`+d[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=v&&0<=I);break}}}finally{ve=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?he(t):""}function He(t){switch(t.tag){case 5:return he(t.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return t=Ve(t.type,!1),t;case 11:return t=Ve(t.type.render,!1),t;case 1:return t=Ve(t.type,!0),t;default:return""}}function ze(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ne:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case ht:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jt:return r=t.displayName||null,r!==null?r:ze(t.type)||"Memo";case Lt:r=t._payload,t=t._init;try{return ze(t(r))}catch{}}return null}function qe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function It(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dr(t){var r=It(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function In(t){t._valueTracker||(t._valueTracker=dr(t))}function fr(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=It(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function An(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pr(t,r){var o=r.checked;return x({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ti(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=be(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ni(t,r){r=r.checked,r!=null&&oe(t,"checked",r,!1)}function Ui(t,r){ni(t,r);var o=be(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Kn(t,r.type,o):r.hasOwnProperty("defaultValue")&&Kn(t,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function mr(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Kn(t,r,o){(r!=="number"||An(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Ln=Array.isArray;function Rn(t,r,o,c){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+be(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Bi(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return x({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ri(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Ln(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:be(o)}}function Nr(t,r){var o=be(r.value),c=be(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function W(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function q(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?q(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fe,le=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(fe=fe||document.createElement("div"),fe.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=fe.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Te(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Le=["Webkit","ms","Moz","O"];Object.keys(Ee).forEach(function(t){Le.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ee[r]=Ee[t]})});function Se(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ee.hasOwnProperty(t)&&Ee[t]?(""+r).trim():r+"px"}function st(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=Se(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var je=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(t,r){if(r){if(je[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Bt(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gn=null,zt=null,$t=null;function gr(t){if(t=Qo(t)){if(typeof Gn!="function")throw Error(n(280));var r=t.stateNode;r&&(r=gl(r),Gn(t.stateNode,t.type,r))}}function tt(t){zt?$t?$t.push(t):$t=[t]:zt=t}function Rt(){if(zt){var t=zt,r=$t;if($t=zt=null,gr(t),r)for(t=0;t<r.length;t++)gr(r[t])}}function an(t,r){return t(r)}function Qn(){}var ln=!1;function zi(t,r,o){if(ln)return t(r,o);ln=!0;try{return an(t,r,o)}finally{ln=!1,(zt!==null||$t!==null)&&(Qn(),Rt())}}function dt(t,r){var o=t.stateNode;if(o===null)return null;var c=gl(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Jt=!1;if(f)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Jt=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Jt=!1}function yr(t,r,o,c,d,m,v,I,k){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(J){this.onError(J)}}var Vr=!1,ws=null,Xn=!1,xo=null,Yu={onError:function(t){Vr=!0,ws=t}};function Ts(t,r,o,c,d,m,v,I,k){Vr=!1,ws=null,yr.apply(Yu,arguments)}function Ba(t,r,o,c,d,m,v,I,k){if(Ts.apply(this,arguments),Vr){if(Vr){var z=ws;Vr=!1,ws=null}else throw Error(n(198));Xn||(Xn=!0,xo=z)}}function Yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function $i(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Jn(t){if(Yn(t)!==t)throw Error(n(188))}function za(t){var r=t.alternate;if(!r){if(r=Yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return Jn(d),t;if(m===c)return Jn(d),r;m=m.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=m;else{for(var v=!1,I=d.child;I;){if(I===o){v=!0,o=d,c=m;break}if(I===c){v=!0,c=d,o=m;break}I=I.sibling}if(!v){for(I=m.child;I;){if(I===o){v=!0,o=m,c=d;break}if(I===c){v=!0,c=m,o=d;break}I=I.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ko(t){return t=za(t),t!==null?Ss(t):null}function Ss(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ss(t);if(r!==null)return r;t=t.sibling}return null}var Is=e.unstable_scheduleCallback,Do=e.unstable_cancelCallback,$a=e.unstable_shouldYield,Ju=e.unstable_requestPaint,rt=e.unstable_now,Ha=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,No=e.unstable_LowPriority,qa=e.unstable_IdlePriority,qi=null,Cn=null;function Wa(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(qi,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Ga,Vo=Math.log,Ka=Math.LN2;function Ga(t){return t>>>=0,t===0?32:31-(Vo(t)/Ka|0)|0}var As=64,Rs=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,m=t.pingedLanes,v=o&268435455;if(v!==0){var I=v&~d;I!==0?c=si(I):(m&=v,m!==0&&(c=si(m)))}else v=o&~d,v!==0?c=si(v):m!==0&&(c=si(m));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,m=r&-r,d>=m||d===16&&(m&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-un(r),d=1<<o,c|=t[o],r&=~d;return c}function Zu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var v=31-un(m),I=1<<v,k=d[v];k===-1?((I&o)===0||(I&c)!==0)&&(d[v]=Zu(I,r)):k<=r&&(t.expiredLanes|=I),m&=~I}}function Pn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ki(){var t=As;return As<<=1,(As&4194240)===0&&(As=64),t}function oi(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function ai(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-un(r),t[r]=o}function nt(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-un(o),m=1<<d;r[d]=0,c[d]=-1,t[d]=-1,o&=~m}}function li(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-un(o),d=1<<c;d&r|t[c]&r&&(t[c]|=r),o&=~d}}var $e=0;function ui(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Qa,Cs,Xa,Ya,Ja,jo=!1,_r=[],Ht=null,Zn=null,er=null,ci=new Map,bn=new Map,vr=[],ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(t,r){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ci.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(r.pointerId)}}function fn(t,r,o,c,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},r!==null&&(r=Qo(r),r!==null&&Cs(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function tc(t,r,o,c,d){switch(r){case"focusin":return Ht=fn(Ht,t,r,o,c,d),!0;case"dragenter":return Zn=fn(Zn,t,r,o,c,d),!0;case"mouseover":return er=fn(er,t,r,o,c,d),!0;case"pointerover":var m=d.pointerId;return ci.set(m,fn(ci.get(m)||null,t,r,o,c,d)),!0;case"gotpointercapture":return m=d.pointerId,bn.set(m,fn(bn.get(m)||null,t,r,o,c,d)),!0}return!1}function el(t){var r=Ji(t.target);if(r!==null){var o=Yn(r);if(o!==null){if(r=o.tag,r===13){if(r=$i(o),r!==null){t.blockedOn=r,Ja(t.priority,function(){Xa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ps(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);At=c,o.target.dispatchEvent(c),At=null}else return r=Qo(o),r!==null&&Cs(r),t.blockedOn=o,!1;r.shift()}return!0}function Gi(t,r,o){Lr(t)&&o.delete(r)}function tl(){jo=!1,Ht!==null&&Lr(Ht)&&(Ht=null),Zn!==null&&Lr(Zn)&&(Zn=null),er!==null&&Lr(er)&&(er=null),ci.forEach(Gi),bn.forEach(Gi)}function tr(t,r){t.blockedOn===r&&(t.blockedOn=null,jo||(jo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tl)))}function nr(t){function r(d){return tr(d,t)}if(0<_r.length){tr(_r[0],t);for(var o=1;o<_r.length;o++){var c=_r[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Ht!==null&&tr(Ht,t),Zn!==null&&tr(Zn,t),er!==null&&tr(er,t),ci.forEach(r),bn.forEach(r),o=0;o<vr.length;o++)c=vr[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<vr.length&&(o=vr[0],o.blockedOn===null);)el(o),o.blockedOn===null&&vr.shift()}var Mr=ae.ReactCurrentBatchConfig,hi=!0;function lt(t,r,o,c){var d=$e,m=Mr.transition;Mr.transition=null;try{$e=1,Lo(t,r,o,c)}finally{$e=d,Mr.transition=m}}function nc(t,r,o,c){var d=$e,m=Mr.transition;Mr.transition=null;try{$e=4,Lo(t,r,o,c)}finally{$e=d,Mr.transition=m}}function Lo(t,r,o,c){if(hi){var d=Ps(t,r,o,c);if(d===null)fc(t,r,c,Qi,o),Za(t,c);else if(tc(d,t,r,o,c))c.stopPropagation();else if(Za(t,c),r&4&&-1<ec.indexOf(t)){for(;d!==null;){var m=Qo(d);if(m!==null&&Qa(m),m=Ps(t,r,o,c),m===null&&fc(t,r,c,Qi,o),m===d)break;d=m}d!==null&&c.stopPropagation()}else fc(t,r,c,null,o)}}var Qi=null;function Ps(t,r,o,c){if(Qi=null,t=Mn(c),t=Ji(t),t!==null)if(r=Yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=$i(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Qi=t,null}function Mo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ha()){case Hi:return 1;case ii:return 4;case On:case No:return 16;case qa:return 536870912;default:return 16}default:return 16}}var xn=null,xs=null,pn=null;function Oo(){if(pn)return pn;var t,r=xs,o=r.length,c,d="value"in xn?xn.value:xn.textContent,m=d.length;for(t=0;t<o&&r[t]===d[t];t++);var v=o-t;for(c=1;c<=v&&r[o-c]===d[m-c];c++);return pn=d.slice(t,1<c?1-c:void 0)}function ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function bo(){return!1}function qt(t){function r(o,c,d,m,v){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Er:bo,this.isPropagationStopped=bo,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),r}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=qt(rr),wr=x({},rr,{view:0,detail:0}),rc=qt(wr),Ns,Or,di,Xi=x({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Ns=t.screenX-di.screenX,Or=t.screenY-di.screenY):Or=Ns=0,di=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),Vs=qt(Xi),Fo=x({},Xi,{dataTransfer:0}),nl=qt(Fo),js=x({},wr,{relatedTarget:0}),Ls=qt(js),rl=x({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),br=qt(rl),il=x({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sl=qt(il),ol=x({},rr,{data:0}),Uo=qt(ol),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=al[t])?!!r[t]:!1}function Tr(){return ll}var l=x({},wr,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=qt(l),y=x({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=qt(y),O=x({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),H=qt(O),se=x({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ze=qt(se),Pt=x({},Xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),We=qt(Pt),Mt=[9,13,27,32],Et=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var kn=f&&"TextEvent"in window&&!Fn,Yi=f&&(!Et||Fn&&8<Fn&&11>=Fn),Os=" ",qd=!1;function Wd(t,r){switch(t){case"keyup":return Mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function B_(t,r){switch(t){case"compositionend":return Kd(r);case"keypress":return r.which!==32?null:(qd=!0,Os);case"textInput":return t=r.data,t===Os&&qd?null:t;default:return null}}function z_(t,r){if(bs)return t==="compositionend"||!Et&&Wd(t,r)?(t=Oo(),pn=xs=xn=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var $_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$_[t.type]:r==="textarea"}function Qd(t,r,o,c){tt(c),r=fl(r,"onChange"),0<r.length&&(o=new Ds("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Bo=null,zo=null;function H_(t){pf(t,0)}function ul(t){var r=$s(t);if(fr(r))return t}function q_(t,r){if(t==="change")return r}var Xd=!1;if(f){var ic;if(f){var sc="oninput"in document;if(!sc){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),sc=typeof Yd.oninput=="function"}ic=sc}else ic=!1;Xd=ic&&(!document.documentMode||9<document.documentMode)}function Jd(){Bo&&(Bo.detachEvent("onpropertychange",Zd),zo=Bo=null)}function Zd(t){if(t.propertyName==="value"&&ul(zo)){var r=[];Qd(r,zo,t,Mn(t)),zi(H_,r)}}function W_(t,r,o){t==="focusin"?(Jd(),Bo=r,zo=o,Bo.attachEvent("onpropertychange",Zd)):t==="focusout"&&Jd()}function K_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ul(zo)}function G_(t,r){if(t==="click")return ul(r)}function Q_(t,r){if(t==="input"||t==="change")return ul(r)}function X_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ir=typeof Object.is=="function"?Object.is:X_;function $o(t,r){if(ir(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!g.call(r,d)||!ir(t[d],r[d]))return!1}return!0}function ef(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tf(t,r){var o=ef(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ef(o)}}function nf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?nf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function rf(){for(var t=window,r=An();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=An(t.document)}return r}function oc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Y_(t){var r=rf(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&nf(o.ownerDocument.documentElement,o)){if(c!==null&&oc(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!t.extend&&m>c&&(d=c,c=m,m=d),d=tf(o,m);var v=tf(o,c);d&&v&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),m>c?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var J_=f&&"documentMode"in document&&11>=document.documentMode,Fs=null,ac=null,Ho=null,lc=!1;function sf(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;lc||Fs==null||Fs!==An(c)||(c=Fs,"selectionStart"in c&&oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ho&&$o(Ho,c)||(Ho=c,c=fl(ac,"onSelect"),0<c.length&&(r=new Ds("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=Fs)))}function cl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Us={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},uc={},of={};f&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function hl(t){if(uc[t])return uc[t];if(!Us[t])return t;var r=Us[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in of)return uc[t]=r[o];return t}var af=hl("animationend"),lf=hl("animationiteration"),uf=hl("animationstart"),cf=hl("transitionend"),hf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,r){hf.set(t,r),u(r,[t])}for(var cc=0;cc<df.length;cc++){var hc=df[cc],Z_=hc.toLowerCase(),ev=hc[0].toUpperCase()+hc.slice(1);fi(Z_,"on"+ev)}fi(af,"onAnimationEnd"),fi(lf,"onAnimationIteration"),fi(uf,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(cf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function ff(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ba(c,r,void 0,t),t.currentTarget=null}function pf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var v=c.length-1;0<=v;v--){var I=c[v],k=I.instance,z=I.currentTarget;if(I=I.listener,k!==m&&d.isPropagationStopped())break e;ff(d,I,z),m=k}else for(v=0;v<c.length;v++){if(I=c[v],k=I.instance,z=I.currentTarget,I=I.listener,k!==m&&d.isPropagationStopped())break e;ff(d,I,z),m=k}}}if(Xn)throw t=xo,Xn=!1,xo=null,t}function ot(t,r){var o=r[vc];o===void 0&&(o=r[vc]=new Set);var c=t+"__bubble";o.has(c)||(mf(r,t,2,!1),o.add(c))}function dc(t,r,o){var c=0;r&&(c|=4),mf(o,t,c,r)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[dl]){t[dl]=!0,s.forEach(function(o){o!=="selectionchange"&&(tv.has(o)||dc(o,!1,t),dc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[dl]||(r[dl]=!0,dc("selectionchange",!1,r))}}function mf(t,r,o,c){switch(Mo(r)){case 1:var d=lt;break;case 4:d=nc;break;default:d=Lo}o=d.bind(null,r,o,t),d=void 0,!Jt||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function fc(t,r,o,c,d){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;v=v.return}for(;I!==null;){if(v=Ji(I),v===null)return;if(k=v.tag,k===5||k===6){c=m=v;continue e}I=I.parentNode}}c=c.return}zi(function(){var z=m,J=Mn(o),ee=[];e:{var X=hf.get(t);if(X!==void 0){var ue=Ds,pe=t;switch(t){case"keypress":if(ks(o)===0)break e;case"keydown":case"keyup":ue=p;break;case"focusin":pe="focus",ue=Ls;break;case"focusout":pe="blur",ue=Ls;break;case"beforeblur":case"afterblur":ue=Ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case af:case lf:case uf:ue=br;break;case cf:ue=Ze;break;case"scroll":ue=rc;break;case"wheel":ue=We;break;case"copy":case"cut":case"paste":ue=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=T}var me=(r&4)!==0,_t=!me&&t==="scroll",b=me?X!==null?X+"Capture":null:X;me=[];for(var j=z,B;j!==null;){B=j;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,b!==null&&(ne=dt(j,b),ne!=null&&me.push(Ko(j,ne,B)))),_t)break;j=j.return}0<me.length&&(X=new ue(X,pe,null,o,J),ee.push({event:X,listeners:me}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",X&&o!==At&&(pe=o.relatedTarget||o.fromElement)&&(Ji(pe)||pe[Fr]))break e;if((ue||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(pe=o.relatedTarget||o.toElement,ue=z,pe=pe?Ji(pe):null,pe!==null&&(_t=Yn(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=z),ue!==pe)){if(me=Vs,ne="onMouseLeave",b="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(me=T,ne="onPointerLeave",b="onPointerEnter",j="pointer"),_t=ue==null?X:$s(ue),B=pe==null?X:$s(pe),X=new me(ne,j+"leave",ue,o,J),X.target=_t,X.relatedTarget=B,ne=null,Ji(J)===z&&(me=new me(b,j+"enter",pe,o,J),me.target=B,me.relatedTarget=_t,ne=me),_t=ne,ue&&pe)t:{for(me=ue,b=pe,j=0,B=me;B;B=Bs(B))j++;for(B=0,ne=b;ne;ne=Bs(ne))B++;for(;0<j-B;)me=Bs(me),j--;for(;0<B-j;)b=Bs(b),B--;for(;j--;){if(me===b||b!==null&&me===b.alternate)break t;me=Bs(me),b=Bs(b)}me=null}else me=null;ue!==null&&gf(ee,X,ue,me,!1),pe!==null&&_t!==null&&gf(ee,_t,pe,me,!0)}}e:{if(X=z?$s(z):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var ge=q_;else if(Gd(X))if(Xd)ge=Q_;else{ge=K_;var Ie=W_}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ge=G_);if(ge&&(ge=ge(t,z))){Qd(ee,ge,o,J);break e}Ie&&Ie(t,X,z),t==="focusout"&&(Ie=X._wrapperState)&&Ie.controlled&&X.type==="number"&&Kn(X,"number",X.value)}switch(Ie=z?$s(z):window,t){case"focusin":(Gd(Ie)||Ie.contentEditable==="true")&&(Fs=Ie,ac=z,Ho=null);break;case"focusout":Ho=ac=Fs=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,sf(ee,o,J);break;case"selectionchange":if(J_)break;case"keydown":case"keyup":sf(ee,o,J)}var Ae;if(Et)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else bs?Wd(t,o)&&(Pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(Yi&&o.locale!=="ko"&&(bs||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&bs&&(Ae=Oo()):(xn=J,xs="value"in xn?xn.value:xn.textContent,bs=!0)),Ie=fl(z,Pe),0<Ie.length&&(Pe=new Uo(Pe,t,null,o,J),ee.push({event:Pe,listeners:Ie}),Ae?Pe.data=Ae:(Ae=Kd(o),Ae!==null&&(Pe.data=Ae)))),(Ae=kn?B_(t,o):z_(t,o))&&(z=fl(z,"onBeforeInput"),0<z.length&&(J=new Uo("onBeforeInput","beforeinput",null,o,J),ee.push({event:J,listeners:z}),J.data=Ae))}pf(ee,r)})}function Ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function fl(t,r){for(var o=r+"Capture",c=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=dt(t,o),m!=null&&c.unshift(Ko(t,m,d)),m=dt(t,r),m!=null&&c.push(Ko(t,m,d))),t=t.return}return c}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gf(t,r,o,c,d){for(var m=r._reactName,v=[];o!==null&&o!==c;){var I=o,k=I.alternate,z=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&z!==null&&(I=z,d?(k=dt(o,m),k!=null&&v.unshift(Ko(o,k,I))):d||(k=dt(o,m),k!=null&&v.push(Ko(o,k,I)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var nv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function yf(t){return(typeof t=="string"?t:""+t).replace(nv,`
`).replace(rv,"")}function pl(t,r,o){if(r=yf(r),yf(t)!==r&&o)throw Error(n(425))}function ml(){}var pc=null,mc=null;function gc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(t){return _f.resolve(null).then(t).catch(ov)}:yc;function ov(t){setTimeout(function(){throw t})}function _c(t,r){var o=r,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),nr(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);nr(r)}function pi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function vf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Sr="__reactFiber$"+zs,Go="__reactProps$"+zs,Fr="__reactContainer$"+zs,vc="__reactEvents$"+zs,av="__reactListeners$"+zs,lv="__reactHandles$"+zs;function Ji(t){var r=t[Sr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Fr]||o[Sr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=vf(t);t!==null;){if(o=t[Sr])return o;t=vf(t)}return r}t=o,o=t.parentNode}return null}function Qo(t){return t=t[Sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function gl(t){return t[Go]||null}var Ec=[],Hs=-1;function mi(t){return{current:t}}function at(t){0>Hs||(t.current=Ec[Hs],Ec[Hs]=null,Hs--)}function it(t,r){Hs++,Ec[Hs]=t.current,t.current=r}var gi={},Zt=mi(gi),mn=mi(!1),Zi=gi;function qs(t,r){var o=t.type.contextTypes;if(!o)return gi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in o)d[m]=r[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function gn(t){return t=t.childContextTypes,t!=null}function yl(){at(mn),at(Zt)}function Ef(t,r,o){if(Zt.current!==gi)throw Error(n(168));it(Zt,r),it(mn,o)}function wf(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,qe(t)||"Unknown",d));return x({},o,c)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,Zi=Zt.current,it(Zt,t),it(mn,mn.current),!0}function Tf(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=wf(t,r,Zi),c.__reactInternalMemoizedMergedChildContext=t,at(mn),at(Zt),it(Zt,t)):at(mn),it(mn,o)}var Ur=null,vl=!1,wc=!1;function Sf(t){Ur===null?Ur=[t]:Ur.push(t)}function uv(t){vl=!0,Sf(t)}function yi(){if(!wc&&Ur!==null){wc=!0;var t=0,r=$e;try{var o=Ur;for($e=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}Ur=null,vl=!1}catch(d){throw Ur!==null&&(Ur=Ur.slice(t+1)),Is(Hi,yi),d}finally{$e=r,wc=!1}}return null}var Ws=[],Ks=0,El=null,wl=0,Un=[],Bn=0,es=null,Br=1,zr="";function ts(t,r){Ws[Ks++]=wl,Ws[Ks++]=El,El=t,wl=r}function If(t,r,o){Un[Bn++]=Br,Un[Bn++]=zr,Un[Bn++]=es,es=t;var c=Br;t=zr;var d=32-un(c)-1;c&=~(1<<d),o+=1;var m=32-un(r)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Br=1<<32-un(r)+d|o<<d|c,zr=m+t}else Br=1<<m|o<<d|c,zr=t}function Tc(t){t.return!==null&&(ts(t,1),If(t,1,0))}function Sc(t){for(;t===El;)El=Ws[--Ks],Ws[Ks]=null,wl=Ws[--Ks],Ws[Ks]=null;for(;t===es;)es=Un[--Bn],Un[Bn]=null,zr=Un[--Bn],Un[Bn]=null,Br=Un[--Bn],Un[Bn]=null}var Dn=null,Nn=null,ut=!1,sr=null;function Af(t,r){var o=qn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Rf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Dn=t,Nn=pi(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Dn=t,Nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=es!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=qn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Dn=t,Nn=null,!0):!1;default:return!1}}function Ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ac(t){if(ut){var r=Nn;if(r){var o=r;if(!Rf(t,r)){if(Ic(t))throw Error(n(418));r=pi(o.nextSibling);var c=Dn;r&&Rf(t,r)?Af(c,o):(t.flags=t.flags&-4097|2,ut=!1,Dn=t)}}else{if(Ic(t))throw Error(n(418));t.flags=t.flags&-4097|2,ut=!1,Dn=t}}}function Cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function Tl(t){if(t!==Dn)return!1;if(!ut)return Cf(t),ut=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!gc(t.type,t.memoizedProps)),r&&(r=Nn)){if(Ic(t))throw Pf(),Error(n(418));for(;r;)Af(t,r),r=pi(r.nextSibling)}if(Cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Nn=pi(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Nn=null}}else Nn=Dn?pi(t.stateNode.nextSibling):null;return!0}function Pf(){for(var t=Nn;t;)t=pi(t.nextSibling)}function Gs(){Nn=Dn=null,ut=!1}function Rc(t){sr===null?sr=[t]:sr.push(t)}var cv=ae.ReactCurrentBatchConfig;function or(t,r){if(t&&t.defaultProps){r=x({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Sl=mi(null),Il=null,Qs=null,Cc=null;function Pc(){Cc=Qs=Il=null}function xc(t){var r=Sl.current;at(Sl),t._currentValue=r}function kc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Xs(t,r){Il=t,Cc=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(yn=!0),t.firstContext=null)}function zn(t){var r=t._currentValue;if(Cc!==t)if(t={context:t,memoizedValue:r,next:null},Qs===null){if(Il===null)throw Error(n(308));Qs=t,Il.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return r}var ns=null;function Dc(t){ns===null?ns=[t]:ns.push(t)}function xf(t,r,o,c){var d=r.interleaved;return d===null?(o.next=o,Dc(r)):(o.next=d.next,d.next=o),r.interleaved=o,$r(t,c)}function $r(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var _i=!1;function Nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function vi(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,$r(t,o)}return d=c.interleaved,d===null?(r.next=r,Dc(c)):(r.next=d.next,d.next=r),c.interleaved=r,$r(t,o)}function Al(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,li(t,o)}}function Df(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?d=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?d=m=r:m=m.next=r}else d=m=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Rl(t,r,o,c){var d=t.updateQueue;_i=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var k=I,z=k.next;k.next=null,v===null?m=z:v.next=z,v=k;var J=t.alternate;J!==null&&(J=J.updateQueue,I=J.lastBaseUpdate,I!==v&&(I===null?J.firstBaseUpdate=z:I.next=z,J.lastBaseUpdate=k))}if(m!==null){var ee=d.baseState;v=0,J=z=k=null,I=m;do{var X=I.lane,ue=I.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:ue,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=t,me=I;switch(X=r,ue=o,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ee=pe.call(ue,ee,X);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,X=typeof pe=="function"?pe.call(ue,ee,X):pe,X==null)break e;ee=x({},ee,X);break e;case 2:_i=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,X=d.effects,X===null?d.effects=[I]:X.push(I))}else ue={eventTime:ue,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},J===null?(z=J=ue,k=ee):J=J.next=ue,v|=X;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;X=I,I=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(k=ee),d.baseState=k,d.firstBaseUpdate=z,d.lastBaseUpdate=J,r=d.shared.interleaved,r!==null){d=r;do v|=d.lane,d=d.next;while(d!==r)}else m===null&&(d.shared.lanes=0);ss|=v,t.lanes=v,t.memoizedState=ee}}function Nf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var Vf=new i.Component().refs;function Vc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:x({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Cl={isMounted:function(t){return(t=t._reactInternals)?Yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=dn(),d=Si(t),m=Hr(c,d);m.payload=r,o!=null&&(m.callback=o),r=vi(t,m,d),r!==null&&(ur(r,t,d,c),Al(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=dn(),d=Si(t),m=Hr(c,d);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=vi(t,m,d),r!==null&&(ur(r,t,d,c),Al(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=dn(),c=Si(t),d=Hr(o,c);d.tag=2,r!=null&&(d.callback=r),r=vi(t,d,c),r!==null&&(ur(r,t,c,o),Al(r,t,c))}};function jf(t,r,o,c,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,v):r.prototype&&r.prototype.isPureReactComponent?!$o(o,c)||!$o(d,m):!0}function Lf(t,r,o){var c=!1,d=gi,m=r.contextType;return typeof m=="object"&&m!==null?m=zn(m):(d=gn(r)?Zi:Zt.current,c=r.contextTypes,m=(c=c!=null)?qs(t,d):gi),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Cl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),r}function Mf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&Cl.enqueueReplaceState(r,r.state,null)}function jc(t,r,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs=Vf,Nc(t);var m=r.contextType;typeof m=="object"&&m!==null?d.context=zn(m):(m=gn(r)?Zi:Zt.current,d.context=qs(t,m)),d.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Vc(t,r,m,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Cl.enqueueReplaceState(d,d.state,null),Rl(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(v){var I=d.refs;I===Vf&&(I=d.refs={}),v===null?delete I[m]:I[m]=v},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Of(t){var r=t._init;return r(t._payload)}function bf(t){function r(b,j){if(t){var B=b.deletions;B===null?(b.deletions=[j],b.flags|=16):B.push(j)}}function o(b,j){if(!t)return null;for(;j!==null;)r(b,j),j=j.sibling;return null}function c(b,j){for(b=new Map;j!==null;)j.key!==null?b.set(j.key,j):b.set(j.index,j),j=j.sibling;return b}function d(b,j){return b=Ai(b,j),b.index=0,b.sibling=null,b}function m(b,j,B){return b.index=B,t?(B=b.alternate,B!==null?(B=B.index,B<j?(b.flags|=2,j):B):(b.flags|=2,j)):(b.flags|=1048576,j)}function v(b){return t&&b.alternate===null&&(b.flags|=2),b}function I(b,j,B,ne){return j===null||j.tag!==6?(j=yh(B,b.mode,ne),j.return=b,j):(j=d(j,B),j.return=b,j)}function k(b,j,B,ne){var ge=B.type;return ge===V?J(b,j,B.props.children,ne,B.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Lt&&Of(ge)===j.type)?(ne=d(j,B.props),ne.ref=Xo(b,j,B),ne.return=b,ne):(ne=Kl(B.type,B.key,B.props,null,b.mode,ne),ne.ref=Xo(b,j,B),ne.return=b,ne)}function z(b,j,B,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=_h(B,b.mode,ne),j.return=b,j):(j=d(j,B.children||[]),j.return=b,j)}function J(b,j,B,ne,ge){return j===null||j.tag!==7?(j=us(B,b.mode,ne,ge),j.return=b,j):(j=d(j,B),j.return=b,j)}function ee(b,j,B){if(typeof j=="string"&&j!==""||typeof j=="number")return j=yh(""+j,b.mode,B),j.return=b,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Oe:return B=Kl(j.type,j.key,j.props,null,b.mode,B),B.ref=Xo(b,null,j),B.return=b,B;case Ne:return j=_h(j,b.mode,B),j.return=b,j;case Lt:var ne=j._init;return ee(b,ne(j._payload),B)}if(Ln(j)||ye(j))return j=us(j,b.mode,B,null),j.return=b,j;Pl(b,j)}return null}function X(b,j,B,ne){var ge=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ge!==null?null:I(b,j,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Oe:return B.key===ge?k(b,j,B,ne):null;case Ne:return B.key===ge?z(b,j,B,ne):null;case Lt:return ge=B._init,X(b,j,ge(B._payload),ne)}if(Ln(B)||ye(B))return ge!==null?null:J(b,j,B,ne,null);Pl(b,B)}return null}function ue(b,j,B,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return b=b.get(B)||null,I(j,b,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Oe:return b=b.get(ne.key===null?B:ne.key)||null,k(j,b,ne,ge);case Ne:return b=b.get(ne.key===null?B:ne.key)||null,z(j,b,ne,ge);case Lt:var Ie=ne._init;return ue(b,j,B,Ie(ne._payload),ge)}if(Ln(ne)||ye(ne))return b=b.get(B)||null,J(j,b,ne,ge,null);Pl(j,ne)}return null}function pe(b,j,B,ne){for(var ge=null,Ie=null,Ae=j,Pe=j=0,Ft=null;Ae!==null&&Pe<B.length;Pe++){Ae.index>Pe?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Xe=X(b,Ae,B[Pe],ne);if(Xe===null){Ae===null&&(Ae=Ft);break}t&&Ae&&Xe.alternate===null&&r(b,Ae),j=m(Xe,j,Pe),Ie===null?ge=Xe:Ie.sibling=Xe,Ie=Xe,Ae=Ft}if(Pe===B.length)return o(b,Ae),ut&&ts(b,Pe),ge;if(Ae===null){for(;Pe<B.length;Pe++)Ae=ee(b,B[Pe],ne),Ae!==null&&(j=m(Ae,j,Pe),Ie===null?ge=Ae:Ie.sibling=Ae,Ie=Ae);return ut&&ts(b,Pe),ge}for(Ae=c(b,Ae);Pe<B.length;Pe++)Ft=ue(Ae,b,Pe,B[Pe],ne),Ft!==null&&(t&&Ft.alternate!==null&&Ae.delete(Ft.key===null?Pe:Ft.key),j=m(Ft,j,Pe),Ie===null?ge=Ft:Ie.sibling=Ft,Ie=Ft);return t&&Ae.forEach(function(Ri){return r(b,Ri)}),ut&&ts(b,Pe),ge}function me(b,j,B,ne){var ge=ye(B);if(typeof ge!="function")throw Error(n(150));if(B=ge.call(B),B==null)throw Error(n(151));for(var Ie=ge=null,Ae=j,Pe=j=0,Ft=null,Xe=B.next();Ae!==null&&!Xe.done;Pe++,Xe=B.next()){Ae.index>Pe?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Ri=X(b,Ae,Xe.value,ne);if(Ri===null){Ae===null&&(Ae=Ft);break}t&&Ae&&Ri.alternate===null&&r(b,Ae),j=m(Ri,j,Pe),Ie===null?ge=Ri:Ie.sibling=Ri,Ie=Ri,Ae=Ft}if(Xe.done)return o(b,Ae),ut&&ts(b,Pe),ge;if(Ae===null){for(;!Xe.done;Pe++,Xe=B.next())Xe=ee(b,Xe.value,ne),Xe!==null&&(j=m(Xe,j,Pe),Ie===null?ge=Xe:Ie.sibling=Xe,Ie=Xe);return ut&&ts(b,Pe),ge}for(Ae=c(b,Ae);!Xe.done;Pe++,Xe=B.next())Xe=ue(Ae,b,Pe,Xe.value,ne),Xe!==null&&(t&&Xe.alternate!==null&&Ae.delete(Xe.key===null?Pe:Xe.key),j=m(Xe,j,Pe),Ie===null?ge=Xe:Ie.sibling=Xe,Ie=Xe);return t&&Ae.forEach(function($v){return r(b,$v)}),ut&&ts(b,Pe),ge}function _t(b,j,B,ne){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Oe:e:{for(var ge=B.key,Ie=j;Ie!==null;){if(Ie.key===ge){if(ge=B.type,ge===V){if(Ie.tag===7){o(b,Ie.sibling),j=d(Ie,B.props.children),j.return=b,b=j;break e}}else if(Ie.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Lt&&Of(ge)===Ie.type){o(b,Ie.sibling),j=d(Ie,B.props),j.ref=Xo(b,Ie,B),j.return=b,b=j;break e}o(b,Ie);break}else r(b,Ie);Ie=Ie.sibling}B.type===V?(j=us(B.props.children,b.mode,ne,B.key),j.return=b,b=j):(ne=Kl(B.type,B.key,B.props,null,b.mode,ne),ne.ref=Xo(b,j,B),ne.return=b,b=ne)}return v(b);case Ne:e:{for(Ie=B.key;j!==null;){if(j.key===Ie)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){o(b,j.sibling),j=d(j,B.children||[]),j.return=b,b=j;break e}else{o(b,j);break}else r(b,j);j=j.sibling}j=_h(B,b.mode,ne),j.return=b,b=j}return v(b);case Lt:return Ie=B._init,_t(b,j,Ie(B._payload),ne)}if(Ln(B))return pe(b,j,B,ne);if(ye(B))return me(b,j,B,ne);Pl(b,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,j!==null&&j.tag===6?(o(b,j.sibling),j=d(j,B),j.return=b,b=j):(o(b,j),j=yh(B,b.mode,ne),j.return=b,b=j),v(b)):o(b,j)}return _t}var Ys=bf(!0),Ff=bf(!1),Yo={},Ir=mi(Yo),Jo=mi(Yo),Zo=mi(Yo);function rs(t){if(t===Yo)throw Error(n(174));return t}function Lc(t,r){switch(it(Zo,r),it(Jo,t),it(Ir,Yo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:G(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=G(r,t)}at(Ir),it(Ir,r)}function Js(){at(Ir),at(Jo),at(Zo)}function Uf(t){rs(Zo.current);var r=rs(Ir.current),o=G(r,t.type);r!==o&&(it(Jo,t),it(Ir,o))}function Mc(t){Jo.current===t&&(at(Ir),at(Jo))}var ft=mi(0);function xl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oc=[];function bc(){for(var t=0;t<Oc.length;t++)Oc[t]._workInProgressVersionPrimary=null;Oc.length=0}var kl=ae.ReactCurrentDispatcher,Fc=ae.ReactCurrentBatchConfig,is=0,pt=null,xt=null,Ot=null,Dl=!1,ea=!1,ta=0,hv=0;function en(){throw Error(n(321))}function Uc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!ir(t[o],r[o]))return!1;return!0}function Bc(t,r,o,c,d,m){if(is=m,pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,kl.current=t===null||t.memoizedState===null?mv:gv,t=o(c,d),ea){m=0;do{if(ea=!1,ta=0,25<=m)throw Error(n(301));m+=1,Ot=xt=null,r.updateQueue=null,kl.current=yv,t=o(c,d)}while(ea)}if(kl.current=jl,r=xt!==null&&xt.next!==null,is=0,Ot=xt=pt=null,Dl=!1,r)throw Error(n(300));return t}function zc(){var t=ta!==0;return ta=0,t}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?pt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function $n(){if(xt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var r=Ot===null?pt.memoizedState:Ot.next;if(r!==null)Ot=r,xt=t;else{if(t===null)throw Error(n(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ot===null?pt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function na(t,r){return typeof r=="function"?r(t):r}function $c(t){var r=$n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=xt,d=c.baseQueue,m=o.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,o.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=v=null,k=null,z=m;do{var J=z.lane;if((is&J)===J)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var ee={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(I=k=ee,v=c):k=k.next=ee,pt.lanes|=J,ss|=J}z=z.next}while(z!==null&&z!==m);k===null?v=c:k.next=I,ir(c,r.memoizedState)||(yn=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=k,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do m=d.lane,pt.lanes|=m,ss|=m,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Hc(t){var r=$n(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,m=r.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);ir(m,r.memoizedState)||(yn=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,c]}function Bf(){}function zf(t,r){var o=pt,c=$n(),d=r(),m=!ir(c.memoizedState,d);if(m&&(c.memoizedState=d,yn=!0),c=c.queue,qc(qf.bind(null,o,c,t),[t]),c.getSnapshot!==r||m||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,ra(9,Hf.bind(null,o,c,d,r),void 0,null),bt===null)throw Error(n(349));(is&30)!==0||$f(o,r,d)}return d}function $f(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=pt.updateQueue,r===null?(r={lastEffect:null,stores:null},pt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Hf(t,r,o,c){r.value=o,r.getSnapshot=c,Wf(r)&&Kf(t)}function qf(t,r,o){return o(function(){Wf(r)&&Kf(t)})}function Wf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!ir(t,o)}catch{return!0}}function Kf(t){var r=$r(t,1);r!==null&&ur(r,t,1,-1)}function Gf(t){var r=Ar();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},r.queue=t,t=t.dispatch=pv.bind(null,pt,t),[r.memoizedState,t]}function ra(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=pt.updateQueue,r===null?(r={lastEffect:null,stores:null},pt.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Qf(){return $n().memoizedState}function Nl(t,r,o,c){var d=Ar();pt.flags|=t,d.memoizedState=ra(1|r,o,void 0,c===void 0?null:c)}function Vl(t,r,o,c){var d=$n();c=c===void 0?null:c;var m=void 0;if(xt!==null){var v=xt.memoizedState;if(m=v.destroy,c!==null&&Uc(c,v.deps)){d.memoizedState=ra(r,o,m,c);return}}pt.flags|=t,d.memoizedState=ra(1|r,o,m,c)}function Xf(t,r){return Nl(8390656,8,t,r)}function qc(t,r){return Vl(2048,8,t,r)}function Yf(t,r){return Vl(4,2,t,r)}function Jf(t,r){return Vl(4,4,t,r)}function Zf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ep(t,r,o){return o=o!=null?o.concat([t]):null,Vl(4,4,Zf.bind(null,r,t),o)}function Wc(){}function tp(t,r){var o=$n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Uc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function np(t,r){var o=$n();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Uc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function rp(t,r,o){return(is&21)===0?(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=o):(ir(o,r)||(o=Ki(),pt.lanes|=o,ss|=o,t.baseState=!0),r)}function dv(t,r){var o=$e;$e=o!==0&&4>o?o:4,t(!0);var c=Fc.transition;Fc.transition={};try{t(!1),r()}finally{$e=o,Fc.transition=c}}function ip(){return $n().memoizedState}function fv(t,r,o){var c=Si(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},sp(t))op(r,o);else if(o=xf(t,r,o,c),o!==null){var d=dn();ur(o,t,c,d),ap(o,r,c)}}function pv(t,r,o){var c=Si(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(sp(t))op(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,I=m(v,o);if(d.hasEagerState=!0,d.eagerState=I,ir(I,v)){var k=r.interleaved;k===null?(d.next=d,Dc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}finally{}o=xf(t,r,d,c),o!==null&&(d=dn(),ur(o,t,c,d),ap(o,r,c))}}function sp(t){var r=t.alternate;return t===pt||r!==null&&r===pt}function op(t,r){ea=Dl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ap(t,r,o){if((o&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,li(t,o)}}var jl={readContext:zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},mv={readContext:zn,useCallback:function(t,r){return Ar().memoizedState=[t,r===void 0?null:r],t},useContext:zn,useEffect:Xf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Nl(4194308,4,Zf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Nl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Nl(4,2,t,r)},useMemo:function(t,r){var o=Ar();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Ar();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=fv.bind(null,pt,t),[c.memoizedState,t]},useRef:function(t){var r=Ar();return t={current:t},r.memoizedState=t},useState:Gf,useDebugValue:Wc,useDeferredValue:function(t){return Ar().memoizedState=t},useTransition:function(){var t=Gf(!1),r=t[0];return t=dv.bind(null,t[1]),Ar().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=pt,d=Ar();if(ut){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),bt===null)throw Error(n(349));(is&30)!==0||$f(c,r,o)}d.memoizedState=o;var m={value:o,getSnapshot:r};return d.queue=m,Xf(qf.bind(null,c,m,t),[t]),c.flags|=2048,ra(9,Hf.bind(null,c,m,o,r),void 0,null),o},useId:function(){var t=Ar(),r=bt.identifierPrefix;if(ut){var o=zr,c=Br;o=(c&~(1<<32-un(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=ta++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=hv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},gv={readContext:zn,useCallback:tp,useContext:zn,useEffect:qc,useImperativeHandle:ep,useInsertionEffect:Yf,useLayoutEffect:Jf,useMemo:np,useReducer:$c,useRef:Qf,useState:function(){return $c(na)},useDebugValue:Wc,useDeferredValue:function(t){var r=$n();return rp(r,xt.memoizedState,t)},useTransition:function(){var t=$c(na)[0],r=$n().memoizedState;return[t,r]},useMutableSource:Bf,useSyncExternalStore:zf,useId:ip,unstable_isNewReconciler:!1},yv={readContext:zn,useCallback:tp,useContext:zn,useEffect:qc,useImperativeHandle:ep,useInsertionEffect:Yf,useLayoutEffect:Jf,useMemo:np,useReducer:Hc,useRef:Qf,useState:function(){return Hc(na)},useDebugValue:Wc,useDeferredValue:function(t){var r=$n();return xt===null?r.memoizedState=t:rp(r,xt.memoizedState,t)},useTransition:function(){var t=Hc(na)[0],r=$n().memoizedState;return[t,r]},useMutableSource:Bf,useSyncExternalStore:zf,useId:ip,unstable_isNewReconciler:!1};function Zs(t,r){try{var o="",c=r;do o+=He(c),c=c.return;while(c);var d=o}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:d,digest:null}}function Kc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Gc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var _v=typeof WeakMap=="function"?WeakMap:Map;function lp(t,r,o){o=Hr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Bl||(Bl=!0,uh=c),Gc(t,r)},o}function up(t,r,o){o=Hr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Gc(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Gc(t,r),typeof c!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function cp(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new _v;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),t=Nv.bind(null,t,r,o),r.then(t,t))}function hp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function dp(t,r,o,c,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Hr(-1,1),r.tag=2,vi(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var vv=ae.ReactCurrentOwner,yn=!1;function hn(t,r,o,c){r.child=t===null?Ff(r,null,o,c):Ys(r,t.child,o,c)}function fp(t,r,o,c,d){o=o.render;var m=r.ref;return Xs(r,d),c=Bc(t,r,o,c,m,d),o=zc(),t!==null&&!yn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,qr(t,r,d)):(ut&&o&&Tc(r),r.flags|=1,hn(t,r,c,d),r.child)}function pp(t,r,o,c,d){if(t===null){var m=o.type;return typeof m=="function"&&!gh(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,mp(t,r,m,c,d)):(t=Kl(o.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&d)===0){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:$o,o(v,c)&&t.ref===r.ref)return qr(t,r,d)}return r.flags|=1,t=Ai(m,c),t.ref=r.ref,t.return=r,r.child=t}function mp(t,r,o,c,d){if(t!==null){var m=t.memoizedProps;if($o(m,c)&&t.ref===r.ref)if(yn=!1,r.pendingProps=c=m,(t.lanes&d)!==0)(t.flags&131072)!==0&&(yn=!0);else return r.lanes=t.lanes,qr(t,r,d)}return Qc(t,r,o,c,d)}function gp(t,r,o){var c=r.pendingProps,d=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(to,Vn),Vn|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,it(to,Vn),Vn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,it(to,Vn),Vn|=c}else m!==null?(c=m.baseLanes|o,r.memoizedState=null):c=o,it(to,Vn),Vn|=c;return hn(t,r,d,o),r.child}function yp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Qc(t,r,o,c,d){var m=gn(o)?Zi:Zt.current;return m=qs(r,m),Xs(r,d),o=Bc(t,r,o,c,m,d),c=zc(),t!==null&&!yn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,qr(t,r,d)):(ut&&c&&Tc(r),r.flags|=1,hn(t,r,o,d),r.child)}function _p(t,r,o,c,d){if(gn(o)){var m=!0;_l(r)}else m=!1;if(Xs(r,d),r.stateNode===null)Ml(t,r),Lf(r,o,c),jc(r,o,c,d),c=!0;else if(t===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var k=v.context,z=o.contextType;typeof z=="object"&&z!==null?z=zn(z):(z=gn(o)?Zi:Zt.current,z=qs(r,z));var J=o.getDerivedStateFromProps,ee=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||k!==z)&&Mf(r,v,c,z),_i=!1;var X=r.memoizedState;v.state=X,Rl(r,c,v,d),k=r.memoizedState,I!==c||X!==k||mn.current||_i?(typeof J=="function"&&(Vc(r,o,J,c),k=r.memoizedState),(I=_i||jf(r,o,I,c,X,k,z))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),v.props=c,v.state=k,v.context=z,c=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,kf(t,r),I=r.memoizedProps,z=r.type===r.elementType?I:or(r.type,I),v.props=z,ee=r.pendingProps,X=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=zn(k):(k=gn(o)?Zi:Zt.current,k=qs(r,k));var ue=o.getDerivedStateFromProps;(J=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==ee||X!==k)&&Mf(r,v,c,k),_i=!1,X=r.memoizedState,v.state=X,Rl(r,c,v,d);var pe=r.memoizedState;I!==ee||X!==pe||mn.current||_i?(typeof ue=="function"&&(Vc(r,o,ue,c),pe=r.memoizedState),(z=_i||jf(r,o,z,c,X,pe,k)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,pe,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,pe,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=pe),v.props=c,v.state=pe,v.context=k,c=z):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),c=!1)}return Xc(t,r,o,c,m,d)}function Xc(t,r,o,c,d,m){yp(t,r);var v=(r.flags&128)!==0;if(!c&&!v)return d&&Tf(r,o,!1),qr(t,r,m);c=r.stateNode,vv.current=r;var I=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&v?(r.child=Ys(r,t.child,null,m),r.child=Ys(r,null,I,m)):hn(t,r,I,m),r.memoizedState=c.state,d&&Tf(r,o,!0),r.child}function vp(t){var r=t.stateNode;r.pendingContext?Ef(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Ef(t,r.context,!1),Lc(t,r.containerInfo)}function Ep(t,r,o,c,d){return Gs(),Rc(d),r.flags|=256,hn(t,r,o,c),r.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wp(t,r,o){var c=r.pendingProps,d=ft.current,m=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=t!==null&&t.memoizedState===null?!1:(d&2)!==0),I?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),it(ft,d&1),t===null)return Ac(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=c.children,t=c.fallback,m?(c=r.mode,m=r.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Gl(v,c,0,null),t=us(t,c,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Jc(o),r.memoizedState=Yc,t):Zc(r,v));if(d=t.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return Ev(t,r,v,c,I,d,o);if(m){m=c.fallback,v=r.mode,d=t.child,I=d.sibling;var k={mode:"hidden",children:c.children};return(v&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=Ai(d,k),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=Ai(I,m):(m=us(m,v,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,v=t.child.memoizedState,v=v===null?Jc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=t.childLanes&~o,r.memoizedState=Yc,c}return m=t.child,t=m.sibling,c=Ai(m,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function Zc(t,r){return r=Gl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ll(t,r,o,c){return c!==null&&Rc(c),Ys(r,t.child,null,o),t=Zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ev(t,r,o,c,d,m,v){if(o)return r.flags&256?(r.flags&=-257,c=Kc(Error(n(422))),Ll(t,r,v,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=c.fallback,d=r.mode,c=Gl({mode:"visible",children:c.children},d,0,null),m=us(m,d,v,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,(r.mode&1)!==0&&Ys(r,t.child,null,v),r.child.memoizedState=Jc(v),r.memoizedState=Yc,m);if((r.mode&1)===0)return Ll(t,r,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(n(419)),c=Kc(m,c,void 0),Ll(t,r,v,c)}if(I=(v&t.childLanes)!==0,yn||I){if(c=bt,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,$r(t,d),ur(c,t,d,-1))}return mh(),c=Kc(Error(n(421))),Ll(t,r,v,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Vv.bind(null,t),d._reactRetry=r,null):(t=m.treeContext,Nn=pi(d.nextSibling),Dn=r,ut=!0,sr=null,t!==null&&(Un[Bn++]=Br,Un[Bn++]=zr,Un[Bn++]=es,Br=t.id,zr=t.overflow,es=r),r=Zc(r,c.children),r.flags|=4096,r)}function Tp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),kc(t.return,r,o)}function eh(t,r,o,c,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=d)}function Sp(t,r,o){var c=r.pendingProps,d=c.revealOrder,m=c.tail;if(hn(t,r,c.children,o),c=ft.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,o,r);else if(t.tag===19)Tp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(it(ft,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&xl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),eh(r,!1,d,o,m);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&xl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}eh(r,!0,o,null,m);break;case"together":eh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ml(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function qr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ss|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ai(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ai(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function wv(t,r,o){switch(r.tag){case 3:vp(r),Gs();break;case 5:Uf(r);break;case 1:gn(r.type)&&_l(r);break;case 4:Lc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;it(Sl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(it(ft,ft.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?wp(t,r,o):(it(ft,ft.current&1),t=qr(t,r,o),t!==null?t.sibling:null);it(ft,ft.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(t.flags&128)!==0){if(c)return Sp(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),it(ft,ft.current),c)break;return null;case 22:case 23:return r.lanes=0,gp(t,r,o)}return qr(t,r,o)}var Ip,th,Ap,Rp;Ip=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},th=function(){},Ap=function(t,r,o,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,rs(Ir.current);var m=null;switch(o){case"input":d=pr(t,d),c=pr(t,c),m=[];break;case"select":d=x({},d,{value:void 0}),c=x({},c,{value:void 0}),m=[];break;case"textarea":d=Bi(t,d),c=Bi(t,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=ml)}Ye(o,c);var v;o=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var I=d[z];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var k=c[z];if(I=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&k!==I&&(k!=null||I!=null))if(z==="style")if(I){for(v in I)!I.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&I[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(m||(m=[]),m.push(z,o)),o=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(m=m||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&ot("scroll",t),m||I===k||(m=[])):(m=m||[]).push(z,k))}o&&(m=m||[]).push("style",o);var z=m;(r.updateQueue=z)&&(r.flags|=4)}},Rp=function(t,r,o,c){o!==c&&(r.flags|=4)};function ia(t,r){if(!ut)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function tn(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Tv(t,r,o){var c=r.pendingProps;switch(Sc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(r),null;case 1:return gn(r.type)&&yl(),tn(r),null;case 3:return c=r.stateNode,Js(),at(mn),at(Zt),bc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Tl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sr!==null&&(dh(sr),sr=null))),th(t,r),tn(r),null;case 5:Mc(r);var d=rs(Zo.current);if(o=r.type,t!==null&&r.stateNode!=null)Ap(t,r,o,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return tn(r),null}if(t=rs(Ir.current),Tl(r)){c=r.stateNode,o=r.type;var m=r.memoizedProps;switch(c[Sr]=r,c[Go]=m,t=(r.mode&1)!==0,o){case"dialog":ot("cancel",c),ot("close",c);break;case"iframe":case"object":case"embed":ot("load",c);break;case"video":case"audio":for(d=0;d<qo.length;d++)ot(qo[d],c);break;case"source":ot("error",c);break;case"img":case"image":case"link":ot("error",c),ot("load",c);break;case"details":ot("toggle",c);break;case"input":ti(c,m),ot("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},ot("invalid",c);break;case"textarea":ri(c,m),ot("invalid",c)}Ye(o,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var I=m[v];v==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,I,t),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&pl(c.textContent,I,t),d=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&ot("scroll",c)}switch(o){case"input":In(c),mr(c,m,!0);break;case"textarea":In(c),W(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=ml)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=q(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(o,{is:c.is}):(t=v.createElement(o),o==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,o),t[Sr]=r,t[Go]=c,Ip(t,r,!1,!1),r.stateNode=t;e:{switch(v=Bt(o,c),o){case"dialog":ot("cancel",t),ot("close",t),d=c;break;case"iframe":case"object":case"embed":ot("load",t),d=c;break;case"video":case"audio":for(d=0;d<qo.length;d++)ot(qo[d],t);d=c;break;case"source":ot("error",t),d=c;break;case"img":case"image":case"link":ot("error",t),ot("load",t),d=c;break;case"details":ot("toggle",t),d=c;break;case"input":ti(t,c),d=pr(t,c),ot("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=x({},c,{value:void 0}),ot("invalid",t);break;case"textarea":ri(t,c),d=Bi(t,c),ot("invalid",t);break;default:d=c}Ye(o,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var k=I[m];m==="style"?st(t,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&le(t,k)):m==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Te(t,k):typeof k=="number"&&Te(t,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?k!=null&&m==="onScroll"&&ot("scroll",t):k!=null&&oe(t,m,k,v))}switch(o){case"input":In(t),mr(t,c,!1);break;case"textarea":In(t),W(t);break;case"option":c.value!=null&&t.setAttribute("value",""+be(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Rn(t,!!c.multiple,m,!1):c.defaultValue!=null&&Rn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=ml)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return tn(r),null;case 6:if(t&&r.stateNode!=null)Rp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=rs(Zo.current),rs(Ir.current),Tl(r)){if(c=r.stateNode,o=r.memoizedProps,c[Sr]=r,(m=c.nodeValue!==o)&&(t=Dn,t!==null))switch(t.tag){case 3:pl(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(c.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Sr]=r,r.stateNode=c}return tn(r),null;case 13:if(at(ft),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Nn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Pf(),Gs(),r.flags|=98560,m=!1;else if(m=Tl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Sr]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),m=!1}else sr!==null&&(dh(sr),sr=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(ft.current&1)!==0?kt===0&&(kt=3):mh())),r.updateQueue!==null&&(r.flags|=4),tn(r),null);case 4:return Js(),th(t,r),t===null&&Wo(r.stateNode.containerInfo),tn(r),null;case 10:return xc(r.type._context),tn(r),null;case 17:return gn(r.type)&&yl(),tn(r),null;case 19:if(at(ft),m=r.memoizedState,m===null)return tn(r),null;if(c=(r.flags&128)!==0,v=m.rendering,v===null)if(c)ia(m,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=xl(t),v!==null){for(r.flags|=128,ia(m,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)m=o,t=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,t=v.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return it(ft,ft.current&1|2),r.child}t=t.sibling}m.tail!==null&&rt()>no&&(r.flags|=128,c=!0,ia(m,!1),r.lanes=4194304)}else{if(!c)if(t=xl(v),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ia(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!ut)return tn(r),null}else 2*rt()-m.renderingStartTime>no&&o!==1073741824&&(r.flags|=128,c=!0,ia(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(o=m.last,o!==null?o.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=rt(),r.sibling=null,o=ft.current,it(ft,c?o&1|2:o&1),r):(tn(r),null);case 22:case 23:return ph(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Vn&1073741824)!==0&&(tn(r),r.subtreeFlags&6&&(r.flags|=8192)):tn(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Sv(t,r){switch(Sc(r),r.tag){case 1:return gn(r.type)&&yl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Js(),at(mn),at(Zt),bc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Mc(r),null;case 13:if(at(ft),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Gs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return at(ft),null;case 4:return Js(),null;case 10:return xc(r.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var Ol=!1,nn=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,de=null;function eo(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){yt(t,r,c)}else o.current=null}function nh(t,r,o){try{o()}catch(c){yt(t,r,c)}}var Cp=!1;function Av(t,r){if(pc=hi,t=rf(),oc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,I=-1,k=-1,z=0,J=0,ee=t,X=null;t:for(;;){for(var ue;ee!==o||d!==0&&ee.nodeType!==3||(I=v+d),ee!==m||c!==0&&ee.nodeType!==3||(k=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)X=ee,ee=ue;for(;;){if(ee===t)break t;if(X===o&&++z===d&&(I=v),X===m&&++J===c&&(k=v),(ue=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ue}o=I===-1||k===-1?null:{start:I,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(mc={focusedElem:t,selectionRange:o},hi=!1,de=r;de!==null;)if(r=de,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,de=t;else for(;de!==null;){r=de;try{var pe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,_t=pe.memoizedState,b=r.stateNode,j=b.getSnapshotBeforeUpdate(r.elementType===r.type?me:or(r.type,me),_t);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){yt(r,r.return,ne)}if(t=r.sibling,t!==null){t.return=r.return,de=t;break}de=r.return}return pe=Cp,Cp=!1,pe}function sa(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&nh(r,o,m)}d=d.next}while(d!==c)}}function bl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function rh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Pp(t){var r=t.alternate;r!==null&&(t.alternate=null,Pp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Sr],delete r[Go],delete r[vc],delete r[av],delete r[lv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ih(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ml));else if(c!==4&&(t=t.child,t!==null))for(ih(t,r,o),t=t.sibling;t!==null;)ih(t,r,o),t=t.sibling}function sh(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(sh(t,r,o),t=t.sibling;t!==null;)sh(t,r,o),t=t.sibling}var Wt=null,ar=!1;function Ei(t,r,o){for(o=o.child;o!==null;)Dp(t,r,o),o=o.sibling}function Dp(t,r,o){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(qi,o)}catch{}switch(o.tag){case 5:nn||eo(o,r);case 6:var c=Wt,d=ar;Wt=null,Ei(t,r,o),Wt=c,ar=d,Wt!==null&&(ar?(t=Wt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Wt.removeChild(o.stateNode));break;case 18:Wt!==null&&(ar?(t=Wt,o=o.stateNode,t.nodeType===8?_c(t.parentNode,o):t.nodeType===1&&_c(t,o),nr(t)):_c(Wt,o.stateNode));break;case 4:c=Wt,d=ar,Wt=o.stateNode.containerInfo,ar=!0,Ei(t,r,o),Wt=c,ar=d;break;case 0:case 11:case 14:case 15:if(!nn&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&nh(o,r,v),d=d.next}while(d!==c)}Ei(t,r,o);break;case 1:if(!nn&&(eo(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){yt(o,r,I)}Ei(t,r,o);break;case 21:Ei(t,r,o);break;case 22:o.mode&1?(nn=(c=nn)||o.memoizedState!==null,Ei(t,r,o),nn=c):Ei(t,r,o);break;default:Ei(t,r,o)}}function Np(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Iv),r.forEach(function(c){var d=jv.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function lr(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var m=t,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:Wt=I.stateNode,ar=!1;break e;case 3:Wt=I.stateNode.containerInfo,ar=!0;break e;case 4:Wt=I.stateNode.containerInfo,ar=!0;break e}I=I.return}if(Wt===null)throw Error(n(160));Dp(m,v,d),Wt=null,ar=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(z){yt(d,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Vp(r,t),r=r.sibling}function Vp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(r,t),Rr(t),c&4){try{sa(3,t,t.return),bl(3,t)}catch(me){yt(t,t.return,me)}try{sa(5,t,t.return)}catch(me){yt(t,t.return,me)}}break;case 1:lr(r,t),Rr(t),c&512&&o!==null&&eo(o,o.return);break;case 5:if(lr(r,t),Rr(t),c&512&&o!==null&&eo(o,o.return),t.flags&32){var d=t.stateNode;try{Te(d,"")}catch(me){yt(t,t.return,me)}}if(c&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,v=o!==null?o.memoizedProps:m,I=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&ni(d,m),Bt(I,v);var z=Bt(I,m);for(v=0;v<k.length;v+=2){var J=k[v],ee=k[v+1];J==="style"?st(d,ee):J==="dangerouslySetInnerHTML"?le(d,ee):J==="children"?Te(d,ee):oe(d,J,ee,z)}switch(I){case"input":Ui(d,m);break;case"textarea":Nr(d,m);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ue=m.value;ue!=null?Rn(d,!!m.multiple,ue,!1):X!==!!m.multiple&&(m.defaultValue!=null?Rn(d,!!m.multiple,m.defaultValue,!0):Rn(d,!!m.multiple,m.multiple?[]:"",!1))}d[Go]=m}catch(me){yt(t,t.return,me)}}break;case 6:if(lr(r,t),Rr(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(me){yt(t,t.return,me)}}break;case 3:if(lr(r,t),Rr(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{nr(r.containerInfo)}catch(me){yt(t,t.return,me)}break;case 4:lr(r,t),Rr(t);break;case 13:lr(r,t),Rr(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(lh=rt())),c&4&&Np(t);break;case 22:if(J=o!==null&&o.memoizedState!==null,t.mode&1?(nn=(z=nn)||J,lr(r,t),nn=z):lr(r,t),Rr(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!J&&(t.mode&1)!==0)for(de=t,J=t.child;J!==null;){for(ee=de=J;de!==null;){switch(X=de,ue=X.child,X.tag){case 0:case 11:case 14:case 15:sa(4,X,X.return);break;case 1:eo(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){c=X,o=X.return;try{r=c,pe.props=r.memoizedProps,pe.state=r.memoizedState,pe.componentWillUnmount()}catch(me){yt(c,o,me)}}break;case 5:eo(X,X.return);break;case 22:if(X.memoizedState!==null){Mp(ee);continue}}ue!==null?(ue.return=X,de=ue):Mp(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{d=ee.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=ee.stateNode,k=ee.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Se("display",v))}catch(me){yt(t,t.return,me)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(me){yt(t,t.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:lr(r,t),Rr(t),c&4&&Np(t);break;case 21:break;default:lr(r,t),Rr(t)}}function Rr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(xp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Te(d,""),c.flags&=-33);var m=kp(t);sh(t,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,I=kp(t);ih(t,I,v);break;default:throw Error(n(161))}}catch(k){yt(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Rv(t,r,o){de=t,jp(t)}function jp(t,r,o){for(var c=(t.mode&1)!==0;de!==null;){var d=de,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Ol;if(!v){var I=d.alternate,k=I!==null&&I.memoizedState!==null||nn;I=Ol;var z=nn;if(Ol=v,(nn=k)&&!z)for(de=d;de!==null;)v=de,k=v.child,v.tag===22&&v.memoizedState!==null?Op(d):k!==null?(k.return=v,de=k):Op(d);for(;m!==null;)de=m,jp(m),m=m.sibling;de=d,Ol=I,nn=z}Lp(t)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,de=m):Lp(t)}}function Lp(t){for(;de!==null;){var r=de;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:nn||bl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!nn)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:or(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Nf(r,m,c);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Nf(r,v,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&nr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||r.flags&512&&rh(r)}catch(X){yt(r,r.return,X)}}if(r===t){de=null;break}if(o=r.sibling,o!==null){o.return=r.return,de=o;break}de=r.return}}function Mp(t){for(;de!==null;){var r=de;if(r===t){de=null;break}var o=r.sibling;if(o!==null){o.return=r.return,de=o;break}de=r.return}}function Op(t){for(;de!==null;){var r=de;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{bl(4,r)}catch(k){yt(r,o,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){yt(r,d,k)}}var m=r.return;try{rh(r)}catch(k){yt(r,m,k)}break;case 5:var v=r.return;try{rh(r)}catch(k){yt(r,v,k)}}}catch(k){yt(r,r.return,k)}if(r===t){de=null;break}var I=r.sibling;if(I!==null){I.return=r.return,de=I;break}de=r.return}}var Cv=Math.ceil,Fl=ae.ReactCurrentDispatcher,oh=ae.ReactCurrentOwner,Hn=ae.ReactCurrentBatchConfig,Qe=0,bt=null,wt=null,Kt=0,Vn=0,to=mi(0),kt=0,oa=null,ss=0,Ul=0,ah=0,aa=null,_n=null,lh=0,no=1/0,Wr=null,Bl=!1,uh=null,wi=null,zl=!1,Ti=null,$l=0,la=0,ch=null,Hl=-1,ql=0;function dn(){return(Qe&6)!==0?rt():Hl!==-1?Hl:Hl=rt()}function Si(t){return(t.mode&1)===0?1:(Qe&2)!==0&&Kt!==0?Kt&-Kt:cv.transition!==null?(ql===0&&(ql=Ki()),ql):(t=$e,t!==0||(t=window.event,t=t===void 0?16:Mo(t.type)),t)}function ur(t,r,o,c){if(50<la)throw la=0,ch=null,Error(n(185));ai(t,o,c),((Qe&2)===0||t!==bt)&&(t===bt&&((Qe&2)===0&&(Ul|=o),kt===4&&Ii(t,Kt)),vn(t,c),o===1&&Qe===0&&(r.mode&1)===0&&(no=rt()+500,vl&&yi()))}function vn(t,r){var o=t.callbackNode;jr(t,r);var c=Wi(t,t===bt?Kt:0);if(c===0)o!==null&&Do(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&Do(o),r===1)t.tag===0?uv(Fp.bind(null,t)):Sf(Fp.bind(null,t)),sv(function(){(Qe&6)===0&&yi()}),o=null;else{switch(ui(c)){case 1:o=Hi;break;case 4:o=ii;break;case 16:o=On;break;case 536870912:o=qa;break;default:o=On}o=Kp(o,bp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function bp(t,r){if(Hl=-1,ql=0,(Qe&6)!==0)throw Error(n(327));var o=t.callbackNode;if(ro()&&t.callbackNode!==o)return null;var c=Wi(t,t===bt?Kt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Wl(t,c);else{r=c;var d=Qe;Qe|=2;var m=Bp();(bt!==t||Kt!==r)&&(Wr=null,no=rt()+500,as(t,r));do try{kv();break}catch(I){Up(t,I)}while(!0);Pc(),Fl.current=m,Qe=d,wt!==null?r=0:(bt=null,Kt=0,r=kt)}if(r!==0){if(r===2&&(d=Pn(t),d!==0&&(c=d,r=hh(t,d))),r===1)throw o=oa,as(t,0),Ii(t,c),vn(t,rt()),o;if(r===6)Ii(t,c);else{if(d=t.current.alternate,(c&30)===0&&!Pv(d)&&(r=Wl(t,c),r===2&&(m=Pn(t),m!==0&&(c=m,r=hh(t,m))),r===1))throw o=oa,as(t,0),Ii(t,c),vn(t,rt()),o;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:ls(t,_n,Wr);break;case 3:if(Ii(t,c),(c&130023424)===c&&(r=lh+500-rt(),10<r)){if(Wi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){dn(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=yc(ls.bind(null,t,_n,Wr),r);break}ls(t,_n,Wr);break;case 4:if(Ii(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var v=31-un(c);m=1<<v,v=r[v],v>d&&(d=v),c&=~m}if(c=d,c=rt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Cv(c/1960))-c,10<c){t.timeoutHandle=yc(ls.bind(null,t,_n,Wr),c);break}ls(t,_n,Wr);break;case 5:ls(t,_n,Wr);break;default:throw Error(n(329))}}}return vn(t,rt()),t.callbackNode===o?bp.bind(null,t):null}function hh(t,r){var o=aa;return t.current.memoizedState.isDehydrated&&(as(t,r).flags|=256),t=Wl(t,r),t!==2&&(r=_n,_n=o,r!==null&&dh(r)),t}function dh(t){_n===null?_n=t:_n.push.apply(_n,t)}function Pv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],m=d.getSnapshot;d=d.value;try{if(!ir(m(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r){for(r&=~ah,r&=~Ul,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-un(r),c=1<<o;t[o]=-1,r&=~c}}function Fp(t){if((Qe&6)!==0)throw Error(n(327));ro();var r=Wi(t,0);if((r&1)===0)return vn(t,rt()),null;var o=Wl(t,r);if(t.tag!==0&&o===2){var c=Pn(t);c!==0&&(r=c,o=hh(t,c))}if(o===1)throw o=oa,as(t,0),Ii(t,r),vn(t,rt()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ls(t,_n,Wr),vn(t,rt()),null}function fh(t,r){var o=Qe;Qe|=1;try{return t(r)}finally{Qe=o,Qe===0&&(no=rt()+500,vl&&yi())}}function os(t){Ti!==null&&Ti.tag===0&&(Qe&6)===0&&ro();var r=Qe;Qe|=1;var o=Hn.transition,c=$e;try{if(Hn.transition=null,$e=1,t)return t()}finally{$e=c,Hn.transition=o,Qe=r,(Qe&6)===0&&yi()}}function ph(){Vn=to.current,at(to)}function as(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,iv(o)),wt!==null)for(o=wt.return;o!==null;){var c=o;switch(Sc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yl();break;case 3:Js(),at(mn),at(Zt),bc();break;case 5:Mc(c);break;case 4:Js();break;case 13:at(ft);break;case 19:at(ft);break;case 10:xc(c.type._context);break;case 22:case 23:ph()}o=o.return}if(bt=t,wt=t=Ai(t.current,null),Kt=Vn=r,kt=0,oa=null,ah=Ul=ss=0,_n=aa=null,ns!==null){for(r=0;r<ns.length;r++)if(o=ns[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,m=o.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}o.pending=c}ns=null}return t}function Up(t,r){do{var o=wt;try{if(Pc(),kl.current=jl,Dl){for(var c=pt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Dl=!1}if(is=0,Ot=xt=pt=null,ea=!1,ta=0,oh.current=null,o===null||o.return===null){kt=1,oa=r,wt=null;break}e:{var m=t,v=o.return,I=o,k=r;if(r=Kt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,J=I,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var ue=hp(v);if(ue!==null){ue.flags&=-257,dp(ue,v,I,m,r),ue.mode&1&&cp(m,z,r),r=ue,k=z;var pe=r.updateQueue;if(pe===null){var me=new Set;me.add(k),r.updateQueue=me}else pe.add(k);break e}else{if((r&1)===0){cp(m,z,r),mh();break e}k=Error(n(426))}}else if(ut&&I.mode&1){var _t=hp(v);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),dp(_t,v,I,m,r),Rc(Zs(k,I));break e}}m=k=Zs(k,I),kt!==4&&(kt=2),aa===null?aa=[m]:aa.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var b=lp(m,k,r);Df(m,b);break e;case 1:I=k;var j=m.type,B=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(wi===null||!wi.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var ne=up(m,I,r);Df(m,ne);break e}}m=m.return}while(m!==null)}$p(o)}catch(ge){r=ge,wt===o&&o!==null&&(wt=o=o.return);continue}break}while(!0)}function Bp(){var t=Fl.current;return Fl.current=jl,t===null?jl:t}function mh(){(kt===0||kt===3||kt===2)&&(kt=4),bt===null||(ss&268435455)===0&&(Ul&268435455)===0||Ii(bt,Kt)}function Wl(t,r){var o=Qe;Qe|=2;var c=Bp();(bt!==t||Kt!==r)&&(Wr=null,as(t,r));do try{xv();break}catch(d){Up(t,d)}while(!0);if(Pc(),Qe=o,Fl.current=c,wt!==null)throw Error(n(261));return bt=null,Kt=0,kt}function xv(){for(;wt!==null;)zp(wt)}function kv(){for(;wt!==null&&!$a();)zp(wt)}function zp(t){var r=Wp(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,r===null?$p(t):wt=r,oh.current=null}function $p(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Tv(o,r,Vn),o!==null){wt=o;return}}else{if(o=Sv(o,r),o!==null){o.flags&=32767,wt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,wt=null;return}}if(r=r.sibling,r!==null){wt=r;return}wt=r=t}while(r!==null);kt===0&&(kt=5)}function ls(t,r,o){var c=$e,d=Hn.transition;try{Hn.transition=null,$e=1,Dv(t,r,o,c)}finally{Hn.transition=d,$e=c}return null}function Dv(t,r,o,c){do ro();while(Ti!==null);if((Qe&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(nt(t,m),t===bt&&(wt=bt=null,Kt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||zl||(zl=!0,Kp(On,function(){return ro(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Hn.transition,Hn.transition=null;var v=$e;$e=1;var I=Qe;Qe|=4,oh.current=null,Av(t,o),Vp(o,t),Y_(mc),hi=!!pc,mc=pc=null,t.current=o,Rv(o),Ju(),Qe=I,$e=v,Hn.transition=m}else t.current=o;if(zl&&(zl=!1,Ti=t,$l=d),m=t.pendingLanes,m===0&&(wi=null),Wa(o.stateNode),vn(t,rt()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Bl)throw Bl=!1,t=uh,uh=null,t;return($l&1)!==0&&t.tag!==0&&ro(),m=t.pendingLanes,(m&1)!==0?t===ch?la++:(la=0,ch=t):la=0,yi(),null}function ro(){if(Ti!==null){var t=ui($l),r=Hn.transition,o=$e;try{if(Hn.transition=null,$e=16>t?16:t,Ti===null)var c=!1;else{if(t=Ti,Ti=null,$l=0,(Qe&6)!==0)throw Error(n(331));var d=Qe;for(Qe|=4,de=t.current;de!==null;){var m=de,v=m.child;if((de.flags&16)!==0){var I=m.deletions;if(I!==null){for(var k=0;k<I.length;k++){var z=I[k];for(de=z;de!==null;){var J=de;switch(J.tag){case 0:case 11:case 15:sa(8,J,m)}var ee=J.child;if(ee!==null)ee.return=J,de=ee;else for(;de!==null;){J=de;var X=J.sibling,ue=J.return;if(Pp(J),J===z){de=null;break}if(X!==null){X.return=ue,de=X;break}de=ue}}}var pe=m.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var _t=me.sibling;me.sibling=null,me=_t}while(me!==null)}}de=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,de=v;else e:for(;de!==null;){if(m=de,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:sa(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,de=b;break e}de=m.return}}var j=t.current;for(de=j;de!==null;){v=de;var B=v.child;if((v.subtreeFlags&2064)!==0&&B!==null)B.return=v,de=B;else e:for(v=j;de!==null;){if(I=de,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:bl(9,I)}}catch(ge){yt(I,I.return,ge)}if(I===v){de=null;break e}var ne=I.sibling;if(ne!==null){ne.return=I.return,de=ne;break e}de=I.return}}if(Qe=d,yi(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(qi,t)}catch{}c=!0}return c}finally{$e=o,Hn.transition=r}}return!1}function Hp(t,r,o){r=Zs(o,r),r=lp(t,r,1),t=vi(t,r,1),r=dn(),t!==null&&(ai(t,1,r),vn(t,r))}function yt(t,r,o){if(t.tag===3)Hp(t,t,o);else for(;r!==null;){if(r.tag===3){Hp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){t=Zs(o,t),t=up(r,t,1),r=vi(r,t,1),t=dn(),r!==null&&(ai(r,1,t),vn(r,t));break}}r=r.return}}function Nv(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=dn(),t.pingedLanes|=t.suspendedLanes&o,bt===t&&(Kt&o)===o&&(kt===4||kt===3&&(Kt&130023424)===Kt&&500>rt()-lh?as(t,0):ah|=o),vn(t,r)}function qp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Rs,Rs<<=1,(Rs&130023424)===0&&(Rs=4194304)));var o=dn();t=$r(t,r),t!==null&&(ai(t,r,o),vn(t,o))}function Vv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),qp(t,o)}function jv(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),qp(t,o)}var Wp;Wp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||mn.current)yn=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return yn=!1,wv(t,r,o);yn=(t.flags&131072)!==0}else yn=!1,ut&&(r.flags&1048576)!==0&&If(r,wl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Ml(t,r),t=r.pendingProps;var d=qs(r,Zt.current);Xs(r,o),d=Bc(null,r,c,t,d,o);var m=zc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,gn(c)?(m=!0,_l(r)):m=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Nc(r),d.updater=Cl,r.stateNode=d,d._reactInternals=r,jc(r,c,t,o),r=Xc(null,r,c,!0,m,o)):(r.tag=0,ut&&m&&Tc(r),hn(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(Ml(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=Mv(c),t=or(c,t),d){case 0:r=Qc(null,r,c,t,o);break e;case 1:r=_p(null,r,c,t,o);break e;case 11:r=fp(null,r,c,t,o);break e;case 14:r=pp(null,r,c,or(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:or(c,d),Qc(t,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:or(c,d),_p(t,r,c,d,o);case 3:e:{if(vp(r),t===null)throw Error(n(387));c=r.pendingProps,m=r.memoizedState,d=m.element,kf(t,r),Rl(r,c,null,o);var v=r.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){d=Zs(Error(n(423)),r),r=Ep(t,r,c,o,d);break e}else if(c!==d){d=Zs(Error(n(424)),r),r=Ep(t,r,c,o,d);break e}else for(Nn=pi(r.stateNode.containerInfo.firstChild),Dn=r,ut=!0,sr=null,o=Ff(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Gs(),c===d){r=qr(t,r,o);break e}hn(t,r,c,o)}r=r.child}return r;case 5:return Uf(r),t===null&&Ac(r),c=r.type,d=r.pendingProps,m=t!==null?t.memoizedProps:null,v=d.children,gc(c,d)?v=null:m!==null&&gc(c,m)&&(r.flags|=32),yp(t,r),hn(t,r,v,o),r.child;case 6:return t===null&&Ac(r),null;case 13:return wp(t,r,o);case 4:return Lc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Ys(r,null,c,o):hn(t,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:or(c,d),fp(t,r,c,d,o);case 7:return hn(t,r,r.pendingProps,o),r.child;case 8:return hn(t,r,r.pendingProps.children,o),r.child;case 12:return hn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,m=r.memoizedProps,v=d.value,it(Sl,c._currentValue),c._currentValue=v,m!==null)if(ir(m.value,v)){if(m.children===d.children&&!mn.current){r=qr(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var I=m.dependencies;if(I!==null){v=m.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(m.tag===1){k=Hr(-1,o&-o),k.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?k.next=k:(k.next=J.next,J.next=k),z.pending=k}}m.lanes|=o,k=m.alternate,k!==null&&(k.lanes|=o),kc(m.return,o,r),I.lanes|=o;break}k=k.next}}else if(m.tag===10)v=m.type===r.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),kc(v,o,r),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===r){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}hn(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Xs(r,o),d=zn(d),c=c(d),r.flags|=1,hn(t,r,c,o),r.child;case 14:return c=r.type,d=or(c,r.pendingProps),d=or(c.type,d),pp(t,r,c,d,o);case 15:return mp(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:or(c,d),Ml(t,r),r.tag=1,gn(c)?(t=!0,_l(r)):t=!1,Xs(r,o),Lf(r,c,d),jc(r,c,d,o),Xc(null,r,c,!0,t,o);case 19:return Sp(t,r,o);case 22:return gp(t,r,o)}throw Error(n(156,r.tag))};function Kp(t,r){return Is(t,r)}function Lv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,r,o,c){return new Lv(t,r,o,c)}function gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mv(t){if(typeof t=="function")return gh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===jt)return 14}return 2}function Ai(t,r){var o=t.alternate;return o===null?(o=qn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Kl(t,r,o,c,d,m){var v=2;if(c=t,typeof t=="function")gh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case V:return us(o.children,d,m,r);case A:v=8,d|=8;break;case P:return t=qn(12,o,r,d|2),t.elementType=P,t.lanes=m,t;case C:return t=qn(13,o,r,d),t.elementType=C,t.lanes=m,t;case ht:return t=qn(19,o,r,d),t.elementType=ht,t.lanes=m,t;case xe:return Gl(o,d,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:v=10;break e;case L:v=9;break e;case M:v=11;break e;case jt:v=14;break e;case Lt:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=qn(v,o,r,d),r.elementType=t,r.type=c,r.lanes=m,r}function us(t,r,o,c){return t=qn(7,t,c,r),t.lanes=o,t}function Gl(t,r,o,c){return t=qn(22,t,c,r),t.elementType=xe,t.lanes=o,t.stateNode={isHidden:!1},t}function yh(t,r,o){return t=qn(6,t,null,r),t.lanes=o,t}function _h(t,r,o){return r=qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ov(t,r,o,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function vh(t,r,o,c,d,m,v,I,k){return t=new Ov(t,r,o,I,k),r===1?(r=1,m===!0&&(r|=8)):r=0,m=qn(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(m),t}function bv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Gp(t){if(!t)return gi;t=t._reactInternals;e:{if(Yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(gn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(gn(o))return wf(t,o,r)}return r}function Qp(t,r,o,c,d,m,v,I,k){return t=vh(o,c,!0,t,d,m,v,I,k),t.context=Gp(null),o=t.current,c=dn(),d=Si(o),m=Hr(c,d),m.callback=r??null,vi(o,m,d),t.current.lanes=d,ai(t,d,c),vn(t,c),t}function Ql(t,r,o,c){var d=r.current,m=dn(),v=Si(d);return o=Gp(o),r.context===null?r.context=o:r.pendingContext=o,r=Hr(m,v),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=vi(d,r,v),t!==null&&(ur(t,d,v,m),Al(t,d,v)),v}function Xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Eh(t,r){Xp(t,r),(t=t.alternate)&&Xp(t,r)}function Fv(){return null}var Yp=typeof reportError=="function"?reportError:function(t){console.error(t)};function wh(t){this._internalRoot=t}Yl.prototype.render=wh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ql(t,r,null,null)},Yl.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;os(function(){Ql(null,t,null,null)}),r[Fr]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ya();t={blockedOn:null,target:t,priority:r};for(var o=0;o<vr.length&&r!==0&&r<vr[o].priority;o++);vr.splice(o,0,t),o===0&&el(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function Uv(t,r,o,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=Xl(v);m.call(z)}}var v=Qp(r,c,t,0,null,!1,!1,"",Jp);return t._reactRootContainer=v,t[Fr]=v.current,Wo(t.nodeType===8?t.parentNode:t),os(),v}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var z=Xl(k);I.call(z)}}var k=vh(t,0,!1,null,null,!1,!1,"",Jp);return t._reactRootContainer=k,t[Fr]=k.current,Wo(t.nodeType===8?t.parentNode:t),os(function(){Ql(r,k,o,c)}),k}function Zl(t,r,o,c,d){var m=o._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var I=d;d=function(){var k=Xl(v);I.call(k)}}Ql(r,v,t,d)}else v=Uv(o,r,t,d,c);return Xl(v)}Qa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=si(r.pendingLanes);o!==0&&(li(r,o|1),vn(r,rt()),(Qe&6)===0&&(no=rt()+500,yi()))}break;case 13:os(function(){var c=$r(t,1);if(c!==null){var d=dn();ur(c,t,1,d)}}),Eh(t,1)}},Cs=function(t){if(t.tag===13){var r=$r(t,134217728);if(r!==null){var o=dn();ur(r,t,134217728,o)}Eh(t,134217728)}},Xa=function(t){if(t.tag===13){var r=Si(t),o=$r(t,r);if(o!==null){var c=dn();ur(o,t,r,c)}Eh(t,r)}},Ya=function(){return $e},Ja=function(t,r){var o=$e;try{return $e=t,r()}finally{$e=o}},Gn=function(t,r,o){switch(r){case"input":if(Ui(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var d=gl(c);if(!d)throw Error(n(90));fr(c),Ui(c,d)}}}break;case"textarea":Nr(t,o);break;case"select":r=o.value,r!=null&&Rn(t,!!o.multiple,r,!1)}},an=fh,Qn=os;var Bv={usingClientEntryPoint:!1,Events:[Qo,$s,gl,tt,Rt,fh]},ua={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zv={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ko(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{qi=eu.inject(zv),Cn=eu}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv,En.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(r))throw Error(n(200));return bv(t,r,null,o)},En.createRoot=function(t,r){if(!Th(t))throw Error(n(299));var o=!1,c="",d=Yp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=vh(t,1,!1,null,null,o,!1,c,d),t[Fr]=r.current,Wo(t.nodeType===8?t.parentNode:t),new wh(r)},En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ko(r),t=t===null?null:t.stateNode,t},En.flushSync=function(t){return os(t)},En.hydrate=function(t,r,o){if(!Jl(r))throw Error(n(200));return Zl(null,t,r,!0,o)},En.hydrateRoot=function(t,r,o){if(!Th(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,m="",v=Yp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Qp(r,null,t,1,o??null,d,!1,m,v),t[Fr]=r.current,Wo(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Yl(r)},En.render=function(t,r,o){if(!Jl(r))throw Error(n(200));return Zl(null,t,r,!1,o)},En.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(n(40));return t._reactRootContainer?(os(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1},En.unstable_batchedUpdates=fh,En.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Jl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Zl(t,r,o,!1,c)},En.version="18.2.0-next-9e3b772b8-20220608",En}var om;function Yv(){if(om)return Ah.exports;om=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ah.exports=Xv(),Ah.exports}var am;function Jv(){if(am)return tu;am=1;var i=Yv();return tu.createRoot=i.createRoot,tu.hydrateRoot=i.hydrateRoot,tu}var Zv=Jv();const eE=Vg(Zv),jg=mt.createContext({}),Lg=!0;function tE({baseColor:i,highlightColor:e,width:n,height:s,borderRadius:a,circle:u,direction:h,duration:f,enableAnimation:g=Lg}){const _={};return h==="rtl"&&(_["--animation-direction"]="reverse"),typeof f=="number"&&(_["--animation-duration"]=`${f}s`),g||(_["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(_.width=n),(typeof s=="string"||typeof s=="number")&&(_.height=s),(typeof a=="string"||typeof a=="number")&&(_.borderRadius=a),u&&(_.borderRadius="50%"),typeof i<"u"&&(_["--base-color"]=i),typeof e<"u"&&(_["--highlight-color"]=e),_}function uo({count:i=1,wrapper:e,className:n,containerClassName:s,containerTestId:a,circle:u=!1,style:h,...f}){var g,_,w;const R=mt.useContext(jg),S={...f};for(const[oe,ae]of Object.entries(f))typeof ae>"u"&&delete S[oe];const N={...R,...S,circle:u},$={...h,...tE(N)};let F="react-loading-skeleton";n&&(F+=` ${n}`);const U=(g=N.inline)!==null&&g!==void 0?g:!1,te=[],re=Math.ceil(i);for(let oe=0;oe<re;oe++){let ae=$;if(re>i&&oe===re-1){const Ne=(_=ae.width)!==null&&_!==void 0?_:"100%",V=i%1,A=typeof Ne=="number"?Ne*V:`calc(${Ne} * ${V})`;ae={...ae,width:A}}const Oe=mt.createElement("span",{className:F,style:ae,key:oe},"‌");U?te.push(Oe):te.push(mt.createElement(mt.Fragment,{key:oe},Oe,mt.createElement("br",null)))}return mt.createElement("span",{className:s,"data-testid":a,"aria-live":"polite","aria-busy":(w=N.enableAnimation)!==null&&w!==void 0?w:Lg},e?te.map((oe,ae)=>mt.createElement(e,{key:ae},oe)):te)}function nE({children:i,...e}){return mt.createElement(jg.Provider,{value:e},i)}const rE="modulepreload",iE=function(i,e){return new URL(i,e).href},lm={},jn=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(n.map(_=>{if(_=iE(_,s),_ in lm)return;lm[_]=!0;const w=_.endsWith(".css"),R=w?'[rel="stylesheet"]':"";if(!!s)for(let $=h.length-1;$>=0;$--){const F=h[$];if(F.href===_&&(!w||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${R}`))return;const N=document.createElement("link");if(N.rel=w?"stylesheet":rE,w||(N.as="script"),N.crossOrigin="",N.href=_,g&&N.setAttribute("nonce",g),document.head.appendChild(N),w)return new Promise(($,F)=>{N.addEventListener("load",$),N.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return a.then(h=>{for(const f of h||[])f.status==="rejected"&&u(f.reason);return e().catch(u)})};/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function et(){return et=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},et.apply(this,arguments)}var St;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(St||(St={}));const um="popstate";function sE(i){i===void 0&&(i={});function e(s,a){let{pathname:u,search:h,hash:f}=s.location;return Ta("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xr(a)}return lE(e,n,null,i)}function Me(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oE(i,e){{typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aE(){return Math.random().toString(36).substr(2,8)}function cm(i,e){return{usr:i.state,key:i.key,idx:e}}function Ta(i,e,n,s){return n===void 0&&(n=null),et({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ei(e):e,{state:n,key:e&&e.key||s||aE()})}function Xr(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ei(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function lE(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,f=St.Pop,g=null,_=w();_==null&&(_=0,h.replaceState(et({},h.state,{idx:_}),""));function w(){return(h.state||{idx:null}).idx}function R(){let U=St.Pop,te=w();if(te!=null){let re=te-_;f=U,_=te,g&&g({action:f,location:F.location,delta:re})}else oE(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function S(U,te){f=St.Push;let re=Ta(F.location,U,te);_=w()+1;let oe=cm(re,_),ae=F.createHref(re);try{h.pushState(oe,"",ae)}catch{a.location.assign(ae)}u&&g&&g({action:f,location:F.location,delta:1})}function N(U,te){f=St.Replace;let re=Ta(F.location,U,te);_=w();let oe=cm(re,_),ae=F.createHref(re);h.replaceState(oe,"",ae),u&&g&&g({action:f,location:F.location,delta:0})}function $(U){let te=a.location.origin!=="null"?a.location.origin:a.location.href,re=typeof U=="string"?U:Xr(U);return Me(te,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,te)}let F={get action(){return f},get location(){return i(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(um,R),g=U,()=>{a.removeEventListener(um,R),g=null}},createHref(U){return e(a,U)},createURL:$,encodeLocation(U){let te=$(U);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:N,go(U){return h.go(U)}};return F}var Gt;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Gt||(Gt={}));function uE(i){return i.index===!0}function Mg(i,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),i.map((s,a)=>{let u=[...e,a],h=typeof s.id=="string"?s.id:u.join("-");return Me(s.index!==!0||!s.children,"Cannot specify children on an index route"),Me(!n.has(h),'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),n.add(h),uE(s)?et({},s,{id:h}):et({},s,{id:h,children:s.children?Mg(s.children,u,n):void 0})})}function fa(i,e,n){n===void 0&&(n="/");let s=typeof e=="string"?ei(e):e,a=Fg(s.pathname||"/",n);if(a==null)return null;let u=Og(i);cE(u);let h=null;for(let f=0;h==null&&f<u.length;++f)h=vE(u[f],TE(a));return h}function Og(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(u,h,f)=>{let g={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Me(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let _=Gr([s,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(Me(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Og(u.children,e,w,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:yE(_,u.index),routesMeta:w})};return i.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,h);else for(let g of bg(u.path))a(u,h,g)}),e}function bg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=bg(s.join("/")),f=[];return f.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&f.push(...h),f.map(g=>i.startsWith("/")&&g===""?"/":g)}function cE(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:_E(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const hE=/^:\w+$/,dE=3,fE=2,pE=1,mE=10,gE=-2,hm=i=>i==="*";function yE(i,e){let n=i.split("/"),s=n.length;return n.some(hm)&&(s+=gE),e&&(s+=fE),n.filter(a=>!hm(a)).reduce((a,u)=>a+(hE.test(u)?dE:u===""?pE:mE),s)}function _E(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function vE(i,e){let{routesMeta:n}=i,s={},a="/",u=[];for(let h=0;h<n.length;++h){let f=n[h],g=h===n.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=EE({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_);if(!w)return null;Object.assign(s,w.params);let R=f.route;u.push({params:s,pathname:Gr([a,w.pathname]),pathnameBase:RE(Gr([a,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(a=Gr([a,w.pathnameBase]))}return u}function EE(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=wE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((_,w,R)=>{if(w==="*"){let S=f[R]||"";h=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}return _[w]=SE(f[R]||"",w),_},{}),pathname:u,pathnameBase:h,pattern:i}}function wE(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nu(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,f)=>(s.push(f),"/([^\\/]+)"));return i.endsWith("*")?(s.push("*"),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function TE(i){try{return decodeURI(i)}catch(e){return Nu(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function SE(i,e){try{return decodeURIComponent(i)}catch(n){return Nu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),i}}function Fg(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Nu(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IE(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?ei(i):i;return{pathname:n?n.startsWith("/")?n:AE(n,e):e,search:CE(s),hash:PE(a)}}function AE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ph(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vu(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cd(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=ei(i):(a=et({},i),Me(!a.pathname||!a.pathname.includes("?"),Ph("?","pathname","search",a)),Me(!a.pathname||!a.pathname.includes("#"),Ph("#","pathname","hash",a)),Me(!a.search||!a.search.includes("#"),Ph("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,f;if(s||h==null)f=n;else{let R=e.length-1;if(h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),R-=1;a.pathname=S.join("/")}f=R>=0?e[R]:"/"}let g=IE(a,f),_=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}const Gr=i=>i.join("/").replace(/\/\/+/g,"/"),RE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),CE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;class dm extends Error{}class xE{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Me(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let s;this.abortPromise=new Promise((u,h)=>s=h),this.controller=new AbortController;let a=()=>s(new dm("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(e).reduce((u,h)=>{let[f,g]=h;return Object.assign(u,{[f]:this.trackPromise(f,g)})},{}),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let s=Promise.race([n,this.abortPromise]).then(a=>this.onSettle(s,e,null,a),a=>this.onSettle(s,e,a));return s.catch(()=>{}),Object.defineProperty(s,"_tracked",{get:()=>!0}),s}onSettle(e,n,s,a){return this.controller.signal.aborted&&s instanceof dm?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>s}),Promise.reject(s)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),s?(Object.defineProperty(e,"_error",{get:()=>s}),this.emit(!1,n),Promise.reject(s)):(Object.defineProperty(e,"_data",{get:()=>a}),this.emit(!1,n),a))}emit(e,n){this.subscribers.forEach(s=>s(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let s=()=>this.cancel();e.addEventListener("abort",s),n=await new Promise(a=>{this.subscribe(u=>{e.removeEventListener("abort",s),(u||this.done)&&a(u)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Me(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[s,a]=n;return Object.assign(e,{[s]:DE(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function kE(i){return i instanceof Promise&&i._tracked===!0}function DE(i){if(!kE(i))return i;if(i._error)throw i._error;return i._data}class ju{constructor(e,n,s,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Ug(i){return i instanceof ju}const Bg=["post","put","patch","delete"],NE=new Set(Bg),VE=["get",...Bg],jE=new Set(VE),LE=new Set([301,302,303,307,308]),ME=new Set([307,308]),xh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},OE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bE=!zg;function FE(i){Me(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=Mg(i.routes),n=null,s=new Set,a=null,u=null,h=null,f=i.hydrationData!=null,g=fa(e,i.history.location,i.basename),_=null;if(g==null){let W=Kr(404,{pathname:i.history.location.pathname}),{matches:q,route:G}=vm(e);g=q,_={[G.id]:W}}let w=!g.some(W=>W.route.loader)||i.hydrationData!=null,R,S={historyAction:i.history.action,location:i.history.location,matches:g,initialized:w,navigation:xh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||_,fetchers:new Map,blockers:new Map},N=St.Pop,$=!1,F,U=!1,te=!1,re=[],oe=[],ae=new Map,Oe=0,Ne=-1,V=new Map,A=new Set,P=new Map,D=new Map,L=null,M=new Map,C=!1;function ht(){return n=i.history.listen(W=>{let{action:q,location:G,delta:fe}=W;if(C){C=!1;return}let le=Ln({currentLocation:S.location,nextLocation:G,historyAction:q});if(le){C=!0,i.history.go(fe*-1),Kn(le,{state:"blocked",location:G,proceed(){Kn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),i.history.go(fe)},reset(){mr(le),xe({blockers:new Map(R.state.blockers)})}});return}return K(q,G)}),S.initialized||K(St.Pop,S.location),R}function jt(){n&&n(),s.clear(),F&&F.abort(),S.fetchers.forEach((W,q)=>fr(q)),S.blockers.forEach((W,q)=>mr(q))}function Lt(W){return s.add(W),()=>s.delete(W)}function xe(W){S=et({},S,W),s.forEach(q=>q(S))}function ie(W,q){var G,fe;let le=S.actionData!=null&&S.navigation.formMethod!=null&&Ci(S.navigation.formMethod)&&S.navigation.state==="loading"&&((G=W.state)==null?void 0:G._isRedirect)!==!0,Te;q.actionData?Object.keys(q.actionData).length>0?Te=q.actionData:Te=null:le?Te=S.actionData:Te=null;let Ee=q.loaderData?_m(S.loaderData,q.loaderData,q.matches||[],q.errors):S.loaderData;for(let[Se]of M)mr(Se);let Le=$===!0||S.navigation.formMethod!=null&&Ci(S.navigation.formMethod)&&((fe=W.state)==null?void 0:fe._isRedirect)!==!0;xe(et({},q,{actionData:Te,loaderData:Ee,historyAction:N,location:W,initialized:!0,navigation:xh,revalidation:"idle",restoreScrollPosition:Nr(W,q.matches||S.matches),preventScrollReset:Le,blockers:new Map(S.blockers)})),U||N===St.Pop||(N===St.Push?i.history.push(W,W.state):N===St.Replace&&i.history.replace(W,W.state)),N=St.Pop,$=!1,U=!1,te=!1,re=[],oe=[]}async function ye(W,q){if(typeof W=="number"){i.history.go(W);return}let{path:G,submission:fe,error:le}=pm(W,q),Te=S.location,Ee=Ta(S.location,G,q&&q.state);Ee=et({},Ee,i.history.encodeLocation(Ee));let Le=q&&q.replace!=null?q.replace:void 0,Se=St.Push;Le===!0?Se=St.Replace:Le===!1||fe!=null&&Ci(fe.formMethod)&&fe.formAction===S.location.pathname+S.location.search&&(Se=St.Replace);let st=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,je=Ln({currentLocation:Te,nextLocation:Ee,historyAction:Se});if(je){Kn(je,{state:"blocked",location:Ee,proceed(){Kn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),ye(W,q)},reset(){mr(je),xe({blockers:new Map(S.blockers)})}});return}return await K(Se,Ee,{submission:fe,pendingError:le,preventScrollReset:st,replace:q&&q.replace})}function x(){if(dr(),xe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){K(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}K(N||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function K(W,q,G){F&&F.abort(),F=null,N=W,U=(G&&G.startUninterruptedRevalidation)===!0,ri(S.location,S.matches),$=(G&&G.preventScrollReset)===!0;let fe=G&&G.overrideNavigation,le=fa(e,q,i.basename);if(!le){let Ye=Kr(404,{pathname:q.pathname}),{matches:Bt,route:At}=vm(e);Rn(),ie(q,{matches:Bt,loaderData:{},errors:{[At.id]:Ye}});return}if(HE(S.location,q)){ie(q,{matches:le});return}F=new AbortController;let Te=da(i.history,q,F.signal,G&&G.submission),Ee,Le;if(G&&G.pendingError)Le={[lo(le).route.id]:G.pendingError};else if(G&&G.submission&&Ci(G.submission.formMethod)){let Ye=await he(Te,q,G.submission,le,{replace:G.replace});if(Ye.shortCircuited)return;Ee=Ye.pendingActionData,Le=Ye.pendingActionError,fe=et({state:"loading",location:q},G.submission),Te=new Request(Te.url,{signal:Te.signal})}let{shortCircuited:Se,loaderData:st,errors:je}=await ve(Te,q,le,fe,G&&G.submission,G&&G.replace,Ee,Le);Se||(F=null,ie(q,et({matches:le},Ee?{actionData:Ee}:{},{loaderData:st,errors:je})))}async function he(W,q,G,fe,le){dr();let Te=et({state:"submitting",location:q},G);xe({navigation:Te});let Ee,Le=Sm(fe,q);if(!Le.route.action)Ee={type:Gt.error,error:Kr(405,{method:W.method,pathname:q.pathname,routeId:Le.route.id})};else if(Ee=await ha("action",W,Le,fe,R.basename),W.signal.aborted)return{shortCircuited:!0};if(co(Ee)){let Se;return le&&le.replace!=null?Se=le.replace:Se=Ee.location===S.location.pathname+S.location.search,await be(S,Ee,{submission:G,replace:Se}),{shortCircuited:!0}}if(ya(Ee)){let Se=lo(fe,Le.route.id);return(le&&le.replace)!==!0&&(N=St.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:Ee.error}}}if(ds(Ee))throw Kr(400,{type:"defer-action"});return{pendingActionData:{[Le.route.id]:Ee.data}}}async function ve(W,q,G,fe,le,Te,Ee,Le){let Se=fe;Se||(Se=et({state:"loading",location:q,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let st=le||(Se.formMethod&&Se.formAction&&Se.formData&&Se.formEncType?{formMethod:Se.formMethod,formAction:Se.formAction,formData:Se.formData,formEncType:Se.formEncType}:void 0),[je,Ye]=mm(i.history,S,G,st,q,te,re,oe,Ee,Le,P);if(Rn(tt=>!(G&&G.some(Rt=>Rt.route.id===tt))||je&&je.some(Rt=>Rt.route.id===tt)),je.length===0&&Ye.length===0)return ie(q,et({matches:G,loaderData:{},errors:Le||null},Ee?{actionData:Ee}:{})),{shortCircuited:!0};if(!U){Ye.forEach(Rt=>{let[an]=Rt,Qn=S.fetchers.get(an),ln={state:"loading",data:Qn&&Qn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(an,ln)});let tt=Ee||S.actionData;xe(et({navigation:Se},tt?Object.keys(tt).length===0?{actionData:null}:{actionData:tt}:{},Ye.length>0?{fetchers:new Map(S.fetchers)}:{}))}Ne=++Oe,Ye.forEach(tt=>{let[Rt]=tt;return ae.set(Rt,F)});let{results:Bt,loaderResults:At,fetcherResults:Mn}=await It(S.matches,G,je,Ye,W);if(W.signal.aborted)return{shortCircuited:!0};Ye.forEach(tt=>{let[Rt]=tt;return ae.delete(Rt)});let Gn=Em(Bt);if(Gn)return await be(S,Gn,{replace:Te}),{shortCircuited:!0};let{loaderData:zt,errors:$t}=ym(S,G,je,At,Le,Ye,Mn,D);D.forEach((tt,Rt)=>{tt.subscribe(an=>{(an||tt.done)&&D.delete(Rt)})}),ti();let gr=ni(Ne);return et({loaderData:zt,errors:$t},gr||Ye.length>0?{fetchers:new Map(S.fetchers)}:{})}function Ve(W){return S.fetchers.get(W)||OE}function He(W,q,G,fe){if(bE)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ae.has(W)&&An(W);let le=fa(e,G,i.basename);if(!le){In(W,q,Kr(404,{pathname:G}));return}let{path:Te,submission:Ee}=pm(G,fe,!0),Le=Sm(le,Te);if(Ee&&Ci(Ee.formMethod)){ze(W,q,Te,Le,le,Ee);return}P.set(W,[Te,Le,le]),qe(W,q,Te,Le,le,Ee)}async function ze(W,q,G,fe,le,Te){if(dr(),P.delete(W),!fe.route.action){let Jt=Kr(405,{method:Te.formMethod,pathname:G,routeId:q});In(W,q,Jt);return}let Ee=S.fetchers.get(W),Le=et({state:"submitting"},Te,{data:Ee&&Ee.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(W,Le),xe({fetchers:new Map(S.fetchers)});let Se=new AbortController,st=da(i.history,G,Se.signal,Te);ae.set(W,Se);let je=await ha("action",st,fe,le,R.basename);if(st.signal.aborted){ae.get(W)===Se&&ae.delete(W);return}if(co(je)){ae.delete(W),A.add(W);let Jt=et({state:"loading"},Te,{data:void 0," _hasFetcherDoneAnything ":!0});return S.fetchers.set(W,Jt),xe({fetchers:new Map(S.fetchers)}),be(S,je,{isFetchActionRedirect:!0})}if(ya(je)){In(W,q,je.error);return}if(ds(je))throw Kr(400,{type:"defer-action"});let Ye=S.navigation.location||S.location,Bt=da(i.history,Ye,Se.signal),At=S.navigation.state!=="idle"?fa(e,S.navigation.location,i.basename):S.matches;Me(At,"Didn't find any matches after fetcher action");let Mn=++Oe;V.set(W,Mn);let Gn=et({state:"loading",data:je.data},Te,{" _hasFetcherDoneAnything ":!0});S.fetchers.set(W,Gn);let[zt,$t]=mm(i.history,S,At,Te,Ye,te,re,oe,{[fe.route.id]:je.data},void 0,P);$t.filter(Jt=>{let[Ct]=Jt;return Ct!==W}).forEach(Jt=>{let[Ct]=Jt,yr=S.fetchers.get(Ct),Vr={state:"loading",data:yr&&yr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(Ct,Vr),ae.set(Ct,Se)}),xe({fetchers:new Map(S.fetchers)});let{results:gr,loaderResults:tt,fetcherResults:Rt}=await It(S.matches,At,zt,$t,Bt);if(Se.signal.aborted)return;V.delete(W),ae.delete(W),$t.forEach(Jt=>{let[Ct]=Jt;return ae.delete(Ct)});let an=Em(gr);if(an)return be(S,an);let{loaderData:Qn,errors:ln}=ym(S,S.matches,zt,tt,void 0,$t,Rt,D),zi={state:"idle",data:je.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(W,zi);let dt=ni(Mn);S.navigation.state==="loading"&&Mn>Ne?(Me(N,"Expected pending action"),F&&F.abort(),ie(S.navigation.location,{matches:At,loaderData:Qn,errors:ln,fetchers:new Map(S.fetchers)})):(xe(et({errors:ln,loaderData:_m(S.loaderData,Qn,At,ln)},dt?{fetchers:new Map(S.fetchers)}:{})),te=!1)}async function qe(W,q,G,fe,le,Te){let Ee=S.fetchers.get(W),Le=et({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Te,{data:Ee&&Ee.data," _hasFetcherDoneAnything ":!0});S.fetchers.set(W,Le),xe({fetchers:new Map(S.fetchers)});let Se=new AbortController,st=da(i.history,G,Se.signal);ae.set(W,Se);let je=await ha("loader",st,fe,le,R.basename);if(ds(je)&&(je=await Wg(je,st.signal,!0)||je),ae.get(W)===Se&&ae.delete(W),st.signal.aborted)return;if(co(je)){await be(S,je);return}if(ya(je)){let Bt=lo(S.matches,q);S.fetchers.delete(W),xe({fetchers:new Map(S.fetchers),errors:{[Bt.route.id]:je.error}});return}Me(!ds(je),"Unhandled fetcher deferred data");let Ye={state:"idle",data:je.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(W,Ye),xe({fetchers:new Map(S.fetchers)})}async function be(W,q,G){var fe;let{submission:le,replace:Te,isFetchActionRedirect:Ee}=G===void 0?{}:G;q.revalidate&&(te=!0);let Le=Ta(W.location,q.location,et({_isRedirect:!0},Ee?{_isFetchActionRedirect:!0}:{}));if(Me(Le,"Expected a location on the redirect navigation"),zg&&typeof((fe=window)==null?void 0:fe.location)<"u"){let At=i.history.createURL(q.location).origin;if(window.location.origin!==At){Te?window.location.replace(q.location):window.location.assign(q.location);return}}F=null;let Se=Te===!0?St.Replace:St.Push,{formMethod:st,formAction:je,formEncType:Ye,formData:Bt}=W.navigation;!le&&st&&je&&Bt&&Ye&&(le={formMethod:st,formAction:je,formEncType:Ye,formData:Bt}),ME.has(q.status)&&le&&Ci(le.formMethod)?await K(Se,Le,{submission:et({},le,{formAction:q.location}),preventScrollReset:$}):await K(Se,Le,{overrideNavigation:{state:"loading",location:Le,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:$})}async function It(W,q,G,fe,le){let Te=await Promise.all([...G.map(Se=>ha("loader",le,Se,q,R.basename)),...fe.map(Se=>{let[,st,je,Ye]=Se;return ha("loader",da(i.history,st,le.signal),je,Ye,R.basename)})]),Ee=Te.slice(0,G.length),Le=Te.slice(G.length);return await Promise.all([wm(W,G,Ee,le.signal,!1,S.loaderData),wm(W,fe.map(Se=>{let[,,st]=Se;return st}),Le,le.signal,!0)]),{results:Te,loaderResults:Ee,fetcherResults:Le}}function dr(){te=!0,re.push(...Rn()),P.forEach((W,q)=>{ae.has(q)&&(oe.push(q),An(q))})}function In(W,q,G){let fe=lo(S.matches,q);fr(W),xe({errors:{[fe.route.id]:G},fetchers:new Map(S.fetchers)})}function fr(W){ae.has(W)&&An(W),P.delete(W),V.delete(W),A.delete(W),S.fetchers.delete(W)}function An(W){let q=ae.get(W);Me(q,"Expected fetch controller: "+W),q.abort(),ae.delete(W)}function pr(W){for(let q of W){let fe={state:"idle",data:Ve(q).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};S.fetchers.set(q,fe)}}function ti(){let W=[];for(let q of A){let G=S.fetchers.get(q);Me(G,"Expected fetcher: "+q),G.state==="loading"&&(A.delete(q),W.push(q))}pr(W)}function ni(W){let q=[];for(let[G,fe]of V)if(fe<W){let le=S.fetchers.get(G);Me(le,"Expected fetcher: "+G),le.state==="loading"&&(An(G),V.delete(G),q.push(G))}return pr(q),q.length>0}function Ui(W,q){let G=S.blockers.get(W)||fm;return M.get(W)!==q&&(M.set(W,q),L==null?L=W:W!==L&&Nu(!1,"A router only supports one blocker at a time")),G}function mr(W){S.blockers.delete(W),M.delete(W),L===W&&(L=null)}function Kn(W,q){let G=S.blockers.get(W)||fm;Me(G.state==="unblocked"&&q.state==="blocked"||G.state==="blocked"&&q.state==="blocked"||G.state==="blocked"&&q.state==="proceeding"||G.state==="blocked"&&q.state==="unblocked"||G.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+q.state),S.blockers.set(W,q),xe({blockers:new Map(S.blockers)})}function Ln(W){let{currentLocation:q,nextLocation:G,historyAction:fe}=W;if(L==null)return;let le=M.get(L);Me(le,"Could not find a function for the active blocker");let Te=S.blockers.get(L);if(!(Te&&Te.state==="proceeding")&&le({currentLocation:q,nextLocation:G,historyAction:fe}))return L}function Rn(W){let q=[];return D.forEach((G,fe)=>{(!W||W(fe))&&(G.cancel(),q.push(fe),D.delete(fe))}),q}function Bi(W,q,G){if(a=W,h=q,u=G||(fe=>fe.key),!f&&S.navigation===xh){f=!0;let fe=Nr(S.location,S.matches);fe!=null&&xe({restoreScrollPosition:fe})}return()=>{a=null,h=null,u=null}}function ri(W,q){if(a&&u&&h){let G=q.map(le=>Tm(le,S.loaderData)),fe=u(W,G)||W.key;a[fe]=h()}}function Nr(W,q){if(a&&u&&h){let G=q.map(Te=>Tm(Te,S.loaderData)),fe=u(W,G)||W.key,le=a[fe];if(typeof le=="number")return le}return null}return R={get basename(){return i.basename},get state(){return S},get routes(){return e},initialize:ht,subscribe:Lt,enableScrollRestoration:Bi,navigate:ye,fetch:He,revalidate:x,createHref:W=>i.history.createHref(W),encodeLocation:W=>i.history.encodeLocation(W),getFetcher:Ve,deleteFetcher:fr,dispose:jt,getBlocker:Ui,deleteBlocker:mr,_internalFetchControllers:ae,_internalActiveDeferreds:D},R}function UE(i){return i!=null&&"formData"in i}function pm(i,e,n){n===void 0&&(n=!1);let s=typeof i=="string"?i:Xr(i);if(!e||!UE(e))return{path:s};if(e.formMethod&&!WE(e.formMethod))return{path:s,error:Kr(405,{method:e.formMethod})};let a;if(e.formData&&(a={formMethod:e.formMethod||"get",formAction:qg(s),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Ci(a.formMethod)))return{path:s,submission:a};let u=ei(s);try{let h=Hg(e.formData);n&&u.search&&Kg(u.search)&&h.append("index",""),u.search="?"+h}catch{return{path:s,error:Kr(400)}}return{path:Xr(u),submission:a}}function BE(i,e){let n=i;if(e){let s=i.findIndex(a=>a.route.id===e);s>=0&&(n=i.slice(0,s))}return n}function mm(i,e,n,s,a,u,h,f,g,_,w){let R=_?Object.values(_)[0]:g?Object.values(g)[0]:void 0,S=_?Object.keys(_)[0]:void 0,$=BE(n,S).filter((U,te)=>U.route.loader!=null&&(zE(e.loaderData,e.matches[te],U)||h.some(re=>re===U.route.id)||gm(i,e.location,e.matches[te],s,a,U,u,R))),F=[];return w&&w.forEach((U,te)=>{let[re,oe,ae]=U;f.includes(te)?F.push([te,re,oe,ae]):u&&gm(i,re,oe,s,re,oe,u,R)&&F.push([te,re,oe,ae])}),[$,F]}function zE(i,e,n){let s=!e||n.route.id!==e.route.id,a=i[n.route.id]===void 0;return s||a}function $g(i,e){let n=i.route.path;return i.pathname!==e.pathname||n&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function gm(i,e,n,s,a,u,h,f){let g=i.createURL(e),_=n.params,w=i.createURL(a),R=u.params,S=$g(n,u)||g.toString()===w.toString()||g.search!==w.search||h;if(u.route.shouldRevalidate){let N=u.route.shouldRevalidate(et({currentUrl:g,currentParams:_,nextUrl:w,nextParams:R},s,{actionResult:f,defaultShouldRevalidate:S}));if(typeof N=="boolean")return N}return S}async function ha(i,e,n,s,a,u,h,f){a===void 0&&(a="/"),u===void 0&&(u=!1),h===void 0&&(h=!1);let g,_,w,R=new Promise((N,$)=>w=$),S=()=>w();e.signal.addEventListener("abort",S);try{let N=n.route[i];Me(N,"Could not find the "+i+' to run on the "'+n.route.id+'" route'),_=await Promise.race([N({request:e,params:n.params,context:f}),R]),Me(_!==void 0,"You defined "+(i==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+i+"` ")+"function. Please return a value or `null`.")}catch(N){g=Gt.error,_=N}finally{e.signal.removeEventListener("abort",S)}if(qE(_)){let N=_.status;if(LE.has(N)){let U=_.headers.get("Location");if(Me(U,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(U)){if(!u){let re=new URL(e.url),oe=U.startsWith("//")?new URL(re.protocol+U):new URL(U);oe.origin===re.origin&&(U=oe.pathname+oe.search+oe.hash)}}else{let re=s.slice(0,s.indexOf(n)+1),oe=Vu(re).map(Oe=>Oe.pathnameBase),ae=cd(U,oe,new URL(e.url).pathname);if(Me(Xr(ae),"Unable to resolve redirect location: "+U),a){let Oe=ae.pathname;ae.pathname=Oe==="/"?a:Gr([a,Oe])}U=Xr(ae)}if(u)throw _.headers.set("Location",U),_;return{type:Gt.redirect,status:N,location:U,revalidate:_.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:g||Gt.data,response:_};let $,F=_.headers.get("Content-Type");return F&&/\bapplication\/json\b/.test(F)?$=await _.json():$=await _.text(),g===Gt.error?{type:g,error:new ju(N,_.statusText,$),headers:_.headers}:{type:Gt.data,data:$,statusCode:_.status,headers:_.headers}}return g===Gt.error?{type:g,error:_}:_ instanceof xE?{type:Gt.deferred,deferredData:_}:{type:Gt.data,data:_}}function da(i,e,n,s){let a=i.createURL(qg(e)).toString(),u={signal:n};if(s&&Ci(s.formMethod)){let{formMethod:h,formEncType:f,formData:g}=s;u.method=h.toUpperCase(),u.body=f==="application/x-www-form-urlencoded"?Hg(g):g}return new Request(a,u)}function Hg(i){let e=new URLSearchParams;for(let[n,s]of i.entries())Me(typeof s=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(n,s);return e}function $E(i,e,n,s,a){let u={},h=null,f,g=!1,_={};return n.forEach((w,R)=>{let S=e[R].route.id;if(Me(!co(w),"Cannot handle redirect results in processLoaderData"),ya(w)){let N=lo(i,S),$=w.error;s&&($=Object.values(s)[0],s=void 0),h=h||{},h[N.route.id]==null&&(h[N.route.id]=$),u[S]=void 0,g||(g=!0,f=Ug(w.error)?w.error.status:500),w.headers&&(_[S]=w.headers)}else ds(w)?(a.set(S,w.deferredData),u[S]=w.deferredData.data):u[S]=w.data,w.statusCode!=null&&w.statusCode!==200&&!g&&(f=w.statusCode),w.headers&&(_[S]=w.headers)}),s&&(h=s,u[Object.keys(s)[0]]=void 0),{loaderData:u,errors:h,statusCode:f||200,loaderHeaders:_}}function ym(i,e,n,s,a,u,h,f){let{loaderData:g,errors:_}=$E(e,n,s,a,f);for(let w=0;w<u.length;w++){let[R,,S]=u[w];Me(h!==void 0&&h[w]!==void 0,"Did not find corresponding fetcher result");let N=h[w];if(ya(N)){let $=lo(i.matches,S.route.id);_&&_[$.route.id]||(_=et({},_,{[$.route.id]:N.error})),i.fetchers.delete(R)}else if(co(N))Me(!1,"Unhandled fetcher revalidation redirect");else if(ds(N))Me(!1,"Unhandled fetcher deferred data");else{let $={state:"idle",data:N.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};i.fetchers.set(R,$)}}return{loaderData:g,errors:_}}function _m(i,e,n,s){let a=et({},e);for(let u of n){let h=u.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(a[h]=e[h]):i[h]!==void 0&&(a[h]=i[h]),s&&s.hasOwnProperty(h))break}return a}function lo(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function vm(i){let e=i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kr(i,e){let{pathname:n,routeId:s,method:a,type:u}=e===void 0?{}:e,h="Unknown Server Error",f="Unknown @remix-run/router error";return i===400?(h="Bad Request",a&&n&&s?f="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":u==="defer-action"?f="defer() is not supported in actions":f="Cannot submit binary form data using GET"):i===403?(h="Forbidden",f='Route "'+s+'" does not match URL "'+n+'"'):i===404?(h="Not Found",f='No route matches URL "'+n+'"'):i===405&&(h="Method Not Allowed",a&&n&&s?f="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":a&&(f='Invalid request method "'+a.toUpperCase()+'"')),new ju(i||500,h,new Error(f),!0)}function Em(i){for(let e=i.length-1;e>=0;e--){let n=i[e];if(co(n))return n}}function qg(i){let e=typeof i=="string"?ei(i):i;return Xr(et({},e,{hash:""}))}function HE(i,e){return i.pathname===e.pathname&&i.search===e.search&&i.hash!==e.hash}function ds(i){return i.type===Gt.deferred}function ya(i){return i.type===Gt.error}function co(i){return(i&&i.type)===Gt.redirect}function qE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function WE(i){return jE.has(i)}function Ci(i){return NE.has(i)}async function wm(i,e,n,s,a,u){for(let h=0;h<n.length;h++){let f=n[h],g=e[h],_=i.find(R=>R.route.id===g.route.id),w=_!=null&&!$g(_,g)&&(u&&u[g.route.id])!==void 0;ds(f)&&(a||w)&&await Wg(f,s,a).then(R=>{R&&(n[h]=R||n[h])})}}async function Wg(i,e,n){if(n===void 0&&(n=!1),!await i.deferredData.resolveData(e)){if(n)try{return{type:Gt.data,data:i.deferredData.unwrappedData}}catch(a){return{type:Gt.error,error:a}}return{type:Gt.data,data:i.deferredData.data}}}function Kg(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Tm(i,e){let{route:n,pathname:s,params:a}=i;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function Sm(i,e){let n=typeof e=="string"?ei(e).search:e.search;if(i[i.length-1].route.index&&Kg(n||""))return i[i.length-1];let s=Vu(i);return s[s.length-1]}/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},pu.apply(this,arguments)}function KE(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}const GE=typeof Object.is=="function"?Object.is:KE,{useState:QE,useEffect:XE,useLayoutEffect:YE,useDebugValue:JE}=Fh;function ZE(i,e,n){const s=e(),[{inst:a},u]=QE({inst:{value:s,getSnapshot:e}});return YE(()=>{a.value=s,a.getSnapshot=e,kh(a)&&u({inst:a})},[i,s,e]),XE(()=>(kh(a)&&u({inst:a}),i(()=>{kh(a)&&u({inst:a})})),[i]),JE(s),s}function kh(i){const e=i.getSnapshot,n=i.value;try{const s=e();return!GE(n,s)}catch{return!0}}function ew(i,e,n){return e()}const tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nw=!tw,rw=nw?ew:ZE,iw="useSyncExternalStore"in Fh?(i=>i.useSyncExternalStore)(Fh):rw,hd=Y.createContext(null),Lu=Y.createContext(null),Va=Y.createContext(null),Mu=Y.createContext(null),gs=Y.createContext({outlet:null,matches:[]}),Gg=Y.createContext(null);function sw(i,e){let{relative:n}=e===void 0?{}:e;ja()||Me(!1);let{basename:s,navigator:a}=Y.useContext(Va),{hash:u,pathname:h,search:f}=dd(i,{relative:n}),g=h;return s!=="/"&&(g=h==="/"?s:Gr([s,h])),a.createHref({pathname:g,search:f,hash:u})}function ja(){return Y.useContext(Mu)!=null}function La(){return ja()||Me(!1),Y.useContext(Mu).location}function Qg(){ja()||Me(!1);let{basename:i,navigator:e}=Y.useContext(Va),{matches:n}=Y.useContext(gs),{pathname:s}=La(),a=JSON.stringify(Vu(n).map(f=>f.pathnameBase)),u=Y.useRef(!1);return Y.useEffect(()=>{u.current=!0}),Y.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){e.go(f);return}let _=cd(f,JSON.parse(a),s,g.relative==="path");i!=="/"&&(_.pathname=_.pathname==="/"?i:Gr([i,_.pathname])),(g.replace?e.replace:e.push)(_,g.state,g)},[i,e,a,s])}const ow=Y.createContext(null);function aw(i){let e=Y.useContext(gs).outlet;return e&&Y.createElement(ow.Provider,{value:i},e)}function dd(i,e){let{relative:n}=e===void 0?{}:e,{matches:s}=Y.useContext(gs),{pathname:a}=La(),u=JSON.stringify(Vu(s).map(h=>h.pathnameBase));return Y.useMemo(()=>cd(i,JSON.parse(u),a,n==="path"),[i,u,a,n])}function lw(i,e){ja()||Me(!1);let{navigator:n}=Y.useContext(Va),s=Y.useContext(Lu),{matches:a}=Y.useContext(gs),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let g=La(),_;if(e){var w;let F=typeof e=="string"?ei(e):e;f==="/"||(w=F.pathname)!=null&&w.startsWith(f)||Me(!1),_=F}else _=g;let R=_.pathname||"/",S=f==="/"?R:R.slice(f.length)||"/",N=fa(i,{pathname:S}),$=dw(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Gr([f,n.encodeLocation?n.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?f:Gr([f,n.encodeLocation?n.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,s||void 0);return e&&$?Y.createElement(Mu.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:St.Pop}},$):$}function uw(){let i=pw(),e=Ug(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unhandled Thrown Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:a},n):null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"errorElement")," props on ",Y.createElement("code",{style:u},"<Route>")))}class cw extends Y.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Y.createElement(gs.Provider,{value:this.props.routeContext},Y.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hw(i){let{routeContext:e,match:n,children:s}=i,a=Y.useContext(hd);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(gs.Provider,{value:e},s)}function dw(i,e,n){if(e===void 0&&(e=[]),i==null)if(n!=null&&n.errors)i=n.matches;else return null;let s=i,a=n==null?void 0:n.errors;if(a!=null){let u=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||Me(!1),s=s.slice(0,Math.min(s.length,u+1))}return s.reduceRight((u,h,f)=>{let g=h.route.id?a==null?void 0:a[h.route.id]:null,_=n?h.route.errorElement||Y.createElement(uw,null):null,w=e.concat(s.slice(0,f+1)),R=()=>Y.createElement(hw,{match:h,routeContext:{outlet:u,matches:w}},g?_:h.route.element!==void 0?h.route.element:u);return n&&(h.route.errorElement||f===0)?Y.createElement(cw,{location:n.location,component:_,error:g,children:R(),routeContext:{outlet:null,matches:w}}):R()},null)}var Im;(function(i){i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator"})(Im||(Im={}));var po;(function(i){i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator"})(po||(po={}));function Xg(i){let e=Y.useContext(Lu);return e||Me(!1),e}function fw(i){let e=Y.useContext(gs);return e||Me(!1),e}function Yg(i){let e=fw(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function fd(){let i=Xg(po.UseLoaderData),e=Yg(po.UseLoaderData);if(i.errors&&i.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return i.loaderData[e]}function pw(){var i;let e=Y.useContext(Gg),n=Xg(po.UseRouteError),s=Yg(po.UseRouteError);return e||((i=n.errors)==null?void 0:i[s])}function mw(i){let{fallbackElement:e,router:n}=i,s=iw(n.subscribe,()=>n.state,()=>n.state),a=Y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:h=>n.navigate(h),push:(h,f,g)=>n.navigate(h,{state:f,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(h,f,g)=>n.navigate(h,{replace:!0,state:f,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[n]),u=n.basename||"/";return Y.createElement(Y.Fragment,null,Y.createElement(hd.Provider,{value:{router:n,navigator:a,static:!1,basename:u}},Y.createElement(Lu.Provider,{value:s},Y.createElement(gw,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:a},n.state.initialized?Y.createElement(yw,null):e))),null)}function R1(i){return aw(i.context)}function wn(i){Me(!1)}function gw(i){let{basename:e="/",children:n=null,location:s,navigationType:a=St.Pop,navigator:u,static:h=!1}=i;ja()&&Me(!1);let f=e.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:f,navigator:u,static:h}),[f,u,h]);typeof s=="string"&&(s=ei(s));let{pathname:_="/",search:w="",hash:R="",state:S=null,key:N="default"}=s,$=Y.useMemo(()=>{let F=Fg(_,f);return F==null?null:{pathname:F,search:w,hash:R,state:S,key:N}},[f,_,w,R,S,N]);return $==null?null:Y.createElement(Va.Provider,{value:g},Y.createElement(Mu.Provider,{children:n,value:{location:$,navigationType:a}}))}function yw(i){let{children:e,location:n}=i,s=Y.useContext(hd),a=s&&!e?s.router.routes:mu(e);return lw(a,n)}var Am;(function(i){i[i.pending=0]="pending",i[i.success=1]="success",i[i.error=2]="error"})(Am||(Am={}));new Promise(()=>{});function mu(i,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(i,(s,a)=>{if(!Y.isValidElement(s))return;if(s.type===Y.Fragment){n.push.apply(n,mu(s.props.children,e));return}s.type!==wn&&Me(!1),!s.props.index||!s.props.children||Me(!1);let u=[...e,a],h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,hasErrorBoundary:s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle};s.props.children&&(h.children=mu(s.props.children,u)),n.push(h)}),n}function Jg(i){return i.map(e=>{let n=pu({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=Jg(n.children)),n})}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Sa.apply(this,arguments)}function Zg(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,u;for(u=0;u<s.length;u++)a=s[u],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function _w(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vw(i,e){return i.button===0&&(!e||e==="_self")&&!_w(i)}const Ew=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ww=["aria-current","caseSensitive","className","end","style","to","children"];function Tw(i,e){return FE({basename:void 0,history:sE({window:void 0}),hydrationData:Sw(),routes:Jg(i)}).initialize()}function Sw(){var i;let e=(i=window)==null?void 0:i.__staticRouterHydrationData;return e&&e.errors&&(e=Sa({},e,{errors:Iw(e.errors)})),e}function Iw(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new ju(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let u=new Error(a.message);u.stack="",n[s]=u}else n[s]=a;return n}const Aw=Y.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:u,replace:h,state:f,target:g,to:_,preventScrollReset:w}=e,R=Zg(e,Ew),S=sw(_,{relative:a}),N=Rw(_,{replace:h,state:f,target:g,preventScrollReset:w,relative:a});function $(F){s&&s(F),F.defaultPrevented||N(F)}return Y.createElement("a",Sa({},R,{href:S,onClick:u?s:$,ref:n,target:g}))}),C1=Y.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:u="",end:h=!1,style:f,to:g,children:_}=e,w=Zg(e,ww),R=dd(g,{relative:w.relative}),S=La(),N=Y.useContext(Lu),{navigator:$}=Y.useContext(Va),F=$.encodeLocation?$.encodeLocation(R).pathname:R.pathname,U=S.pathname,te=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(U=U.toLowerCase(),te=te?te.toLowerCase():null,F=F.toLowerCase());let re=U===F||!h&&U.startsWith(F)&&U.charAt(F.length)==="/",oe=te!=null&&(te===F||!h&&te.startsWith(F)&&te.charAt(F.length)==="/"),ae=re?s:void 0,Oe;typeof u=="function"?Oe=u({isActive:re,isPending:oe}):Oe=[u,re?"active":null,oe?"pending":null].filter(Boolean).join(" ");let Ne=typeof f=="function"?f({isActive:re,isPending:oe}):f;return Y.createElement(Aw,Sa({},w,{"aria-current":ae,className:Oe,ref:n,style:Ne,to:g}),typeof _=="function"?_({isActive:re,isPending:oe}):_)});var Rm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmitImpl="useSubmitImpl",i.UseFetcher="useFetcher"})(Rm||(Rm={}));var Cm;(function(i){i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Cm||(Cm={}));function Rw(i,e){let{target:n,replace:s,state:a,preventScrollReset:u,relative:h}=e===void 0?{}:e,f=Qg(),g=La(),_=dd(i,{relative:h});return Y.useCallback(w=>{if(vw(w,n)){w.preventDefault();let R=s!==void 0?s:Xr(g)===Xr(_);f(i,{replace:R,state:a,preventScrollReset:u,relative:h})}},[g,f,_,s,a,n,i,u,h])}function Cw(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=null;return Y.useEffect(()=>{const n=a=>{let u=0;clearInterval(e),e=setInterval(()=>{a.target.innerText=a.target.innerText.split("").map((h,f)=>f<u?a.target.dataset.value[f]:a.target.dataset.value[f]===" "?" ":i[Math.floor(Math.random()*26)]).join(""),u>=a.target.dataset.value.length&&clearInterval(e),u+=.3333333333333333},25)},s=document.querySelector(".animated-intro-text");return s.addEventListener("mouseover",n),n({target:s}),()=>{clearInterval(e),s.removeEventListener("mouseover",n)}},[e,i]),E.jsxs("section",{className:"home-introduction-section",children:[E.jsx("div",{className:"home-introduction-section__title",children:E.jsx("h1",{className:"animated-intro-text","data-value":"Hi, I'm Abdelouahab",children:"Hi, I'm Abdelouahab"})}),E.jsxs("h2",{className:"home-introduction-section__subtitle",children:[" ","⟫⟫ a Data Scientist & Software Engineer"]}),E.jsxs("a",{className:"home-introduction-section__button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/bellaabdelouahab",children:["Buy Me A Coffee ",E.jsx("span",{children:">"})," "]}),E.jsx("div",{className:"home-introduction-section__img",style:{backgroundImage:"url(./code.png)"}})]})}function Pw({project:i}){const{title:e,description:n,image:s,githubLink:a,highlighted:u}=i,[h,f]=Y.useState(!1);let g=n.slice(0,250);const _=g.lastIndexOf(" ");return g=g.slice(0,_),Y.useEffect(()=>{const w=new Image;w.src=`${s}`,w.onload=()=>f(!0)},[s]),E.jsxs("div",{className:"home-projects-section__projects__project",style:{border:u==="star"?"4px solid #c39a3b":"none"},children:[E.jsx("div",{className:"home-projects-section__projects__project__img",style:{backgroundImage:h?`url(${s})`:"none",backgroundSize:"100.5% 100%"},children:!h&&E.jsx(uo,{height:"100%"})}),h?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"home-projects-section__projects__project__title",children:e}),E.jsxs("p",{className:"home-projects-section__projects__project__description",children:[g,"..."]})]}):E.jsxs("div",{children:[E.jsx(uo,{height:24,width:"60%",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}}),E.jsx("div",{className:"home-projects-section__projects__project__description",children:E.jsx(uo,{count:7})})]}),E.jsxs("div",{className:"home-projects-section__projects__project__buttons",children:[E.jsx("a",{className:"home-projects-section__projects__project__buttons__view",target:"_blank",rel:"noopener noreferrer",href:a,children:"View Project"}),u==="star"&&E.jsx("a",{className:"home-projects-section__projects__project__buttons__sponsor",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/bellaabdelouahab/",children:"1$/Sponsor"})]})]})}function xw({projectHighlight:i}){return E.jsxs("section",{className:"home-projects-section hidden-area",children:[E.jsx("h2",{className:"home-projects-section__title",children:"❤️ Projects Highlights"}),E.jsx("hr",{className:"home-projects-section__hr"}),E.jsx("div",{className:"home-projects-section__projects",children:i&&i.map(e=>E.jsx(Pw,{project:e},e._id))})]})}function kw(){return E.jsxs("section",{className:"github-progress-section hidden-area",children:[E.jsxs("h2",{className:"home-sections-title",children:[E.jsx("span",{children:"03. "}),"Github Progress"]}),E.jsx("hr",{className:"github-progress-section__hr"}),E.jsx("div",{className:"github-progress-section__img"})]})}function Dw(){const[i,e]=Y.useState([{title:"S-maint Website [Smart Maintenance]",description:"Smart Maintenance is a Moroccan company that offersa wide range of services in the field of maintenance. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service. The website various features such as a blog, services, staff management, and digital resources management.",link:"https://s-maint.com",image:"./internshipes/smart-maint.jpg",technologies:["Angular","Spring Boot","Mongodb","Docker","Nginx","Plausible","SendGrid"]},{title:"NidInnovation Website",description:"Nid Innovation is a Moroccan company that offers a wide range of services in the field of innovation. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service.",link:"https://nidinnovation.com",image:"./internshipes/nidinnovation.png",technologies:["React","PHP","Node.js","Express","MongoDB","Docker","SendGrid"]},{title:"E-khsab: A Connected Cow Monitoring System [Agri4.0]",description:"Development of e-services to monitor in real-time the health status and well-being of cows, plan artificial inseminations, enhance herd reproduction, and implement a heat detection system within a core group of breeders, which will be extended to a larger number of breeders on a national scale.",link:"https://poledigital.ma/projets/projets-elevage-4-0/e-khsab",image:"./internshipes/agri4.0.png",technologies:["Spring Boot","JHipster","React","PostgreSQL","RabbitMQ","WebSockets","Arduino"]},{title:"CRJEA Website : Reference Center for Young Entrepreneurs [UM6P & CRJEA]",description:"The CRJEA is a reference center that offers tailored support to young project holders or newly created companies and cooperatives. in the field of agriculture. The website is a platform that provides a full tracking system for the projects and the project holders.",link:"http://crjea-rsk.com",image:"./internshipes/crjea.jpg",technologies:["Django","React","Bootstrap","MongoDB","Docker","Nginx"]},{title:"Desktop application for managing package sending for special clients",description:"During this internship, I created a desktop application using JavaFX as a UI library and Oracle as a database. The application is used to manage the sending of packages for special clients (Lawyers, Journalists, Writers). This application was created to make it easy for them to send packages instead of waiting in lines. The application is used by the post office employees.",image:"./internshipes/1200px-GBAM_LOGO.png",technologies:["JavaFX","Oracle - Cloud","XML","CSS","Python","SMTP"]},{title:"A Web Site For Envelope Database Management",description:"During this internship, I worked on a website for the management of the envelopes database. The workflow of the application is as follows: a customer brings a package or an envelope to the post office, the post office employee will register the envelope and scan its code, and the system will automatically generate a tracking number for the envelope which the customer will receive a receipt with.",image:"./internshipes/PosteMaroc.jpg",technologies:["HTML","CSS","JavaScript","Flask"]}]),n=Y.useRef(null),[s,a]=Y.useState(3),u=()=>{a(i.length)};return Y.useEffect(()=>{const h=new IntersectionObserver(_=>{_.forEach(w=>{w.isIntersecting&&w.target.classList.add("is-visible")})},{root:null,rootMargin:"0px",threshold:.1}),f=n.current.querySelectorAll(".animatable");return f.forEach(_=>h.observe(_)),document.querySelectorAll(".internship-project").forEach((_,w)=>{const R=_.clientHeight;document.querySelectorAll(`.gradientLine-${w*2}, .gradientLine-${w*2+1}`).forEach(N=>N.style.height=`${R/2}px`)}),()=>f.forEach(_=>h.unobserve(_))},[s,i]),E.jsxs("section",{className:"internship-projects-section",ref:n,children:[E.jsx("div",{className:"experience",children:E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"04. "}),"Professional Experience"]})}),E.jsxs("div",{className:"internship-projects-section__projects",children:[i.slice(0,s).map((h,f)=>E.jsx(Nw,{project:h},f)),E.jsx("div",{className:"lineAnimation",children:i.slice(0,s).map((h,f)=>E.jsxs("div",{className:"animatable",children:[E.jsx("div",{className:`gradientLine-start gradientLine-${f*2}`}),E.jsx("div",{className:"iconContainer",children:E.jsx("img",{src:"./icons/calendar.png",alt:"Calendar",width:"30"})}),E.jsx("div",{className:`gradientLine-end gradientLine-${f*2+1}`})]},f))}),s<i.length?E.jsx("div",{className:"show-more-button",children:E.jsxs("button",{onClick:u,children:["Show More (",i.length-s,")"]})}):E.jsx("div",{className:"show-more-button"})]})]})}function Nw({project:i}){return E.jsxs("div",{className:"internship-project ",children:[E.jsx("div",{className:"internship-project__img",children:E.jsx("img",{src:i.image,alt:i.title})}),E.jsxs("div",{className:"internship-project__content",children:[E.jsx("h1",{children:i.title}),E.jsx("p",{children:i.description}),i.link&&E.jsxs("a",{href:i.link,target:"_blank",className:"internship-project__content__link",children:[E.jsx("img",{src:"./icons/site.png",alt:"Link icon",width:"20"}),"Link to website for more details"]}),E.jsx("ul",{className:"internship-project__content__list",children:i.technologies.map((e,n)=>E.jsx("li",{children:e},n))})]})]})}function Vw(){return E.jsx("section",{className:"home-about-section",children:E.jsxs("div",{className:"hidden-area",children:[E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"02. "}),"About Me"]}),E.jsxs("div",{className:"about-content",children:[E.jsxs("div",{className:"about-content-text",children:[E.jsxs("p",{children:["I am Bella Abdelouahab, an accomplished data scientist with ten months of extensive experience. My educational foundation encompasses robust training in decision-making, data science, computer systems engineering, and software development. Proficient in both web development and machine learning, I am deeply passionate about my profession. I actively pursue new challenges to enhance my skills and expand my expertise.",E.jsx("br",{}),"In addition to my technical proficiency, I excel as a communicator and thrive in collaborative team environments, dedicated to achieving shared objectives."]}),E.jsx("span",{className:"about-content-skills_title",children:"Skills:"}),E.jsx("div",{className:"about-skills-list",children:E.jsxs("ul",{children:[E.jsx("li",{children:"Python(advanced), Java(advanced), C, C++"}),E.jsx("li",{children:"Machine learning/deep learning"}),E.jsx("li",{children:"Oracle SQL/PLSQL"}),E.jsx("li",{children:"MongoDB"}),E.jsx("li",{children:"Back-end (Django-Node-SpringBoot)"}),E.jsx("li",{children:"Front-end (ReactJS, NextJs, ViewJs)"}),E.jsx("li",{children:"JavaFX & Swing"}),E.jsx("li",{children:"Tkinter & Pyglet"}),E.jsx("li",{children:"Microsoft Power BI"}),E.jsx("li",{children:"Data warehousing"})]})})]}),E.jsx("div",{className:"about-content-image",children:E.jsx("div",{id:"about-content-img_flow",style:{backgroundImage:"url('./Personal Picture.jpg')"}})})]})]})})}function jw(){return E.jsxs("div",{className:"get-in-touch hidden-area",style:{backgroundColor:"#1e1e1e"},children:[E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"08. "}),"Get in Touch"]}),E.jsx("p",{className:"get-in-touch-content",children:"I am actively seeking new career opportunities and my inbox is open for potential job offers. Feel free to reach out with any relevant job opportunities or to connect for potential future collaborations. I look forward to hearing from you!"}),E.jsx("div",{className:"get-in-touch-btn",children:E.jsx("a",{href:"mailto:",children:E.jsx("button",{style:{marginBottom:"5rem"},children:"Get in Touch"})})})]})}const Lw=({isOpen:i,onClose:e,title:n,children:s})=>(Y.useEffect(()=>{const a=u=>{u.key==="Escape"&&i&&e()};return document.addEventListener("keydown",a),i?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.removeEventListener("keydown",a),document.body.style.overflow="auto"}},[i,e]),i?E.jsx("div",{className:"modal-overlay",onClick:e,children:E.jsxs("div",{className:"modal-container",onClick:a=>a.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h2",{children:n}),E.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"})]}),E.jsx("div",{className:"modal-content",children:s})]})}):null);var Pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Mw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],f=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,f=h?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=u>>2,R=(u&3)<<4|f>>4;let S=(f&15)<<2|_>>6,N=_&63;g||(N=64,h||(S=64)),s.push(n[w],n[R],n[S],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ey(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],f=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||f==null||_==null||R==null)throw new Ow;const S=u<<2|f>>4;if(s.push(S),_!==64){const N=f<<4&240|_>>2;if(s.push(N),R!==64){const $=_<<6&192|R;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ow extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(i){const e=ey(i);return ty.encodeByteArray(e,!0)},gu=function(i){return bw(i).replace(/\./g,"")},Fw=function(i){try{return ty.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=()=>Uw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof Pm>"u")return;const i=Pm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$w=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Fw(i[1]);return e&&JSON.parse(e)},pd=()=>{try{return Bw()||zw()||$w()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Hw=i=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},qw=i=>{const e=Hw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ny=()=>{var i;return(i=pd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gu(JSON.stringify(n)),gu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qw(){var i;const e=(i=pd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return!Qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="FirebaseError";class To extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Zw,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ry.prototype.create)}}class ry{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?eT(u,s):"Error",f=`${this.serviceName}: ${h} (${a}).`;return new To(a,f,s)}}function eT(i,e){return i.replace(tT,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const tT=/\{\$([^}]+)}/g;function Uh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(xm(u)&&xm(h)){if(!Uh(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function xm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(i){return i&&i._delegate?i._delegate:i}class Aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ww;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iT(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rT(i){return i===hs?void 0:i}function iT(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const oT={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},aT=Ge.INFO,lT={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},uT=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=lT[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=aT,this._logHandler=uT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const cT=(i,e)=>e.some(n=>i instanceof n);let km,Dm;function hT(){return km||(km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dT(){return Dm||(Dm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sy=new WeakMap,Bh=new WeakMap,oy=new WeakMap,Dh=new WeakMap,md=new WeakMap;function fT(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(xi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&sy.set(n,i)}).catch(()=>{}),md.set(e,i),e}function pT(i){if(Bh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Bh.set(i,e)}let zh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oy.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mT(i){zh=i(zh)}function gT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Nh(this),e,...n);return oy.set(s,e.sort?e.sort():[e]),xi(s)}:dT().includes(i)?function(...e){return i.apply(Nh(this),e),xi(sy.get(this))}:function(...e){return xi(i.apply(Nh(this),e))}}function yT(i){return typeof i=="function"?gT(i):(i instanceof IDBTransaction&&pT(i),cT(i,hT())?new Proxy(i,zh):i)}function xi(i){if(i instanceof IDBRequest)return fT(i);if(Dh.has(i))return Dh.get(i);const e=yT(i);return e!==i&&(Dh.set(i,e),md.set(e,i)),e}const Nh=i=>md.get(i);function _T(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),f=xi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(xi(h.result),g.oldVersion,g.newVersion,xi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const vT=["get","getKey","getAll","getAllKeys","count"],ET=["put","add","delete","clear"],Vh=new Map;function Nm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ET.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||vT.includes(n)))return;const u=async function(h,...f){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(f.shift())),(await Promise.all([_[n](...f),a&&g.done]))[0]};return Vh.set(e,u),u}mT(i=>({...i,get:(e,n,s)=>Nm(e,n)||i.get(e,n,s),has:(e,n)=>!!Nm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TT(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $h="@firebase/app",Vm="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new iy("@firebase/app"),ST="@firebase/app-compat",IT="@firebase/analytics-compat",AT="@firebase/analytics",RT="@firebase/app-check-compat",CT="@firebase/app-check",PT="@firebase/auth",xT="@firebase/auth-compat",kT="@firebase/database",DT="@firebase/data-connect",NT="@firebase/database-compat",VT="@firebase/functions",jT="@firebase/functions-compat",LT="@firebase/installations",MT="@firebase/installations-compat",OT="@firebase/messaging",bT="@firebase/messaging-compat",FT="@firebase/performance",UT="@firebase/performance-compat",BT="@firebase/remote-config",zT="@firebase/remote-config-compat",$T="@firebase/storage",HT="@firebase/storage-compat",qT="@firebase/firestore",WT="@firebase/vertexai",KT="@firebase/firestore-compat",GT="firebase",QT="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",XT={[$h]:"fire-core",[ST]:"fire-core-compat",[AT]:"fire-analytics",[IT]:"fire-analytics-compat",[CT]:"fire-app-check",[RT]:"fire-app-check-compat",[PT]:"fire-auth",[xT]:"fire-auth-compat",[kT]:"fire-rtdb",[DT]:"fire-data-connect",[NT]:"fire-rtdb-compat",[VT]:"fire-fn",[jT]:"fire-fn-compat",[LT]:"fire-iid",[MT]:"fire-iid-compat",[OT]:"fire-fcm",[bT]:"fire-fcm-compat",[FT]:"fire-perf",[UT]:"fire-perf-compat",[BT]:"fire-rc",[zT]:"fire-rc-compat",[$T]:"fire-gcs",[HT]:"fire-gcs-compat",[qT]:"fire-fst",[KT]:"fire-fst-compat",[WT]:"fire-vertex","fire-js":"fire-js",[GT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,YT=new Map,qh=new Map;function jm(i,e){try{i.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _u(i){const e=i.name;if(qh.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,i);for(const n of yu.values())jm(n,i);for(const n of YT.values())jm(n,i);return!0}function JT(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ZT(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new ry("app","Firebase",e0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=QT;function ay(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ki.create("bad-app-name",{appName:String(a)});if(n||(n=ny()),!n)throw ki.create("no-options");const u=yu.get(a);if(u){if(Uh(n,u.options)&&Uh(s,u.config))return u;throw ki.create("duplicate-app",{appName:a})}const h=new sT(a);for(const g of qh.values())h.addComponent(g);const f=new t0(n,s,h);return yu.set(a,f),f}function r0(i=Hh){const e=yu.get(i);if(!e&&i===Hh&&ny())return ay();if(!e)throw ki.create("no-app",{appName:i});return e}function ho(i,e,n){var s;let a=(s=XT[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${a}" with version "${e}":`];u&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(f.join(" "));return}_u(new Aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firebase-heartbeat-database",s0=1,Ra="firebase-heartbeat-store";let jh=null;function ly(){return jh||(jh=_T(i0,s0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(i=>{throw ki.create("idb-open",{originalErrorMessage:i.message})})),jh}async function o0(i){try{const n=(await ly()).transaction(Ra),s=await n.objectStore(Ra).get(uy(i));return await n.done,s}catch(e){if(e instanceof To)Yr.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function Lm(i,e){try{const s=(await ly()).transaction(Ra,"readwrite");await s.objectStore(Ra).put(e,uy(i)),await s.done}catch(n){if(n instanceof To)Yr.warn(n.message);else{const s=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(s.message)}}}function uy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=1024,l0=30;class u0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>l0){const h=d0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mm(),{heartbeatsToSend:s,unsentEntries:a}=c0(this._heartbeatsCache.heartbeats),u=gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yr.warn(n),""}}}function Mm(){return new Date().toISOString().substring(0,10)}function c0(i,e=a0){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Om(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Om(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class h0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Lm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Om(i){return gu(JSON.stringify({version:2,heartbeats:i})).length}function d0(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){_u(new Aa("platform-logger",e=>new wT(e),"PRIVATE")),_u(new Aa("heartbeat",e=>new u0(e),"PRIVATE")),ho($h,Vm,i),ho($h,Vm,"esm2017"),ho("fire-js","")}f0("");var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,cy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function P(){}P.prototype=A.prototype,V.D=A.prototype,V.prototype=new P,V.prototype.constructor=V,V.C=function(D,L,M){for(var C=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)C[ht-2]=arguments[ht];return A.prototype[L].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)D[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)D[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=V.g[0],P=V.g[1],L=V.g[2];var M=V.g[3],C=A+(M^P&(L^M))+D[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=M+(L^A&(P^L))+D[1]+3905402710&4294967295,M=A+(C<<12&4294967295|C>>>20),C=L+(P^M&(A^P))+D[2]+606105819&4294967295,L=M+(C<<17&4294967295|C>>>15),C=P+(A^L&(M^A))+D[3]+3250441966&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(M^P&(L^M))+D[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(L^A&(P^L))+D[5]+1200080426&4294967295,M=A+(C<<12&4294967295|C>>>20),C=L+(P^M&(A^P))+D[6]+2821735955&4294967295,L=M+(C<<17&4294967295|C>>>15),C=P+(A^L&(M^A))+D[7]+4249261313&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(M^P&(L^M))+D[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(L^A&(P^L))+D[9]+2336552879&4294967295,M=A+(C<<12&4294967295|C>>>20),C=L+(P^M&(A^P))+D[10]+4294925233&4294967295,L=M+(C<<17&4294967295|C>>>15),C=P+(A^L&(M^A))+D[11]+2304563134&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(M^P&(L^M))+D[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=M+(L^A&(P^L))+D[13]+4254626195&4294967295,M=A+(C<<12&4294967295|C>>>20),C=L+(P^M&(A^P))+D[14]+2792965006&4294967295,L=M+(C<<17&4294967295|C>>>15),C=P+(A^L&(M^A))+D[15]+1236535329&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(L^M&(P^L))+D[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^L&(A^P))+D[6]+3225465664&4294967295,M=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(M^A))+D[11]+643717713&4294967295,L=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(L^M))+D[0]+3921069994&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^M&(P^L))+D[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^L&(A^P))+D[10]+38016083&4294967295,M=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(M^A))+D[15]+3634488961&4294967295,L=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(L^M))+D[4]+3889429448&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^M&(P^L))+D[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^L&(A^P))+D[14]+3275163606&4294967295,M=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(M^A))+D[3]+4107603335&4294967295,L=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(L^M))+D[8]+1163531501&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^M&(P^L))+D[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=M+(P^L&(A^P))+D[2]+4243563512&4294967295,M=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(M^A))+D[7]+1735328473&4294967295,L=M+(C<<14&4294967295|C>>>18),C=P+(M^A&(L^M))+D[12]+2368359562&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(P^L^M)+D[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^L)+D[8]+2272392833&4294967295,M=A+(C<<11&4294967295|C>>>21),C=L+(M^A^P)+D[11]+1839030562&4294967295,L=M+(C<<16&4294967295|C>>>16),C=P+(L^M^A)+D[14]+4259657740&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^M)+D[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^L)+D[4]+1272893353&4294967295,M=A+(C<<11&4294967295|C>>>21),C=L+(M^A^P)+D[7]+4139469664&4294967295,L=M+(C<<16&4294967295|C>>>16),C=P+(L^M^A)+D[10]+3200236656&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^M)+D[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^L)+D[0]+3936430074&4294967295,M=A+(C<<11&4294967295|C>>>21),C=L+(M^A^P)+D[3]+3572445317&4294967295,L=M+(C<<16&4294967295|C>>>16),C=P+(L^M^A)+D[6]+76029189&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^M)+D[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=M+(A^P^L)+D[12]+3873151461&4294967295,M=A+(C<<11&4294967295|C>>>21),C=L+(M^A^P)+D[15]+530742520&4294967295,L=M+(C<<16&4294967295|C>>>16),C=P+(L^M^A)+D[2]+3299628645&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(L^(P|~M))+D[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~L))+D[7]+1126891415&4294967295,M=A+(C<<10&4294967295|C>>>22),C=L+(A^(M|~P))+D[14]+2878612391&4294967295,L=M+(C<<15&4294967295|C>>>17),C=P+(M^(L|~A))+D[5]+4237533241&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~M))+D[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~L))+D[3]+2399980690&4294967295,M=A+(C<<10&4294967295|C>>>22),C=L+(A^(M|~P))+D[10]+4293915773&4294967295,L=M+(C<<15&4294967295|C>>>17),C=P+(M^(L|~A))+D[1]+2240044497&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~M))+D[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~L))+D[15]+4264355552&4294967295,M=A+(C<<10&4294967295|C>>>22),C=L+(A^(M|~P))+D[6]+2734768916&4294967295,L=M+(C<<15&4294967295|C>>>17),C=P+(M^(L|~A))+D[13]+1309151649&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~M))+D[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=M+(P^(A|~L))+D[11]+3174756917&4294967295,M=A+(C<<10&4294967295|C>>>22),C=L+(A^(M|~P))+D[2]+718787259&4294967295,L=M+(C<<15&4294967295|C>>>17),C=P+(M^(L|~A))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+M&4294967295}s.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var P=A-this.blockSize,D=this.B,L=this.h,M=0;M<A;){if(L==0)for(;M<=P;)a(this,V,M),M+=this.blockSize;if(typeof V=="string"){for(;M<A;)if(D[L++]=V.charCodeAt(M++),L==this.blockSize){a(this,D),L=0;break}}else for(;M<A;)if(D[L++]=V[M++],L==this.blockSize){a(this,D),L=0;break}}this.h=L,this.o+=A},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var P=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=P&255,P/=256;for(this.u(V),V=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)V[P++]=this.g[A]>>>D&255;return V};function u(V,A){var P=f;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=A(V)}function h(V,A){this.h=A;for(var P=[],D=!0,L=V.length-1;0<=L;L--){var M=V[L]|0;D&&M==A||(P[L]=M,D=!1)}this.g=P}var f={};function g(V){return-128<=V&&128>V?u(V,function(A){return new h([A|0],0>A?-1:0)}):new h([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return U(_(-V));for(var A=[],P=1,D=0;V>=P;D++)A[D]=V/P|0,P*=4294967296;return new h(A,0)}function w(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return U(w(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=_(Math.pow(A,8)),D=R,L=0;L<V.length;L+=8){var M=Math.min(8,V.length-L),C=parseInt(V.substring(L,L+M),A);8>M?(M=_(Math.pow(A,M)),D=D.j(M).add(_(C))):(D=D.j(P),D=D.add(_(C)))}return D}var R=g(0),S=g(1),N=g(16777216);i=h.prototype,i.m=function(){if(F(this))return-U(this).m();for(var V=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);V+=(0<=D?D:4294967296+D)*A,A*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(F(this))return"-"+U(this).toString(V);for(var A=_(Math.pow(V,6)),P=this,D="";;){var L=ae(P,A).g;P=te(P,L.j(A));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(V);if(P=L,$(P))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function F(V){return V.h==-1}i.l=function(V){return V=te(this,V),F(V)?-1:$(V)?0:1};function U(V){for(var A=V.g.length,P=[],D=0;D<A;D++)P[D]=~V.g[D];return new h(P,~V.h).add(S)}i.abs=function(){return F(this)?U(this):this},i.add=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0,L=0;L<=A;L++){var M=D+(this.i(L)&65535)+(V.i(L)&65535),C=(M>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);D=C>>>16,M&=65535,C&=65535,P[L]=C<<16|M}return new h(P,P[P.length-1]&-2147483648?-1:0)};function te(V,A){return V.add(U(A))}i.j=function(V){if($(this)||$(V))return R;if(F(this))return F(V)?U(this).j(U(V)):U(U(this).j(V));if(F(V))return U(this.j(U(V)));if(0>this.l(N)&&0>V.l(N))return _(this.m()*V.m());for(var A=this.g.length+V.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<V.g.length;L++){var M=this.i(D)>>>16,C=this.i(D)&65535,ht=V.i(L)>>>16,jt=V.i(L)&65535;P[2*D+2*L]+=C*jt,re(P,2*D+2*L),P[2*D+2*L+1]+=M*jt,re(P,2*D+2*L+1),P[2*D+2*L+1]+=C*ht,re(P,2*D+2*L+1),P[2*D+2*L+2]+=M*ht,re(P,2*D+2*L+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new h(P,0)};function re(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function oe(V,A){this.g=V,this.h=A}function ae(V,A){if($(A))throw Error("division by zero");if($(V))return new oe(R,R);if(F(V))return A=ae(U(V),A),new oe(U(A.g),U(A.h));if(F(A))return A=ae(V,U(A)),new oe(U(A.g),A.h);if(30<V.g.length){if(F(V)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var P=S,D=A;0>=D.l(V);)P=Oe(P),D=Oe(D);var L=Ne(P,1),M=Ne(D,1);for(D=Ne(D,2),P=Ne(P,2);!$(D);){var C=M.add(D);0>=C.l(V)&&(L=L.add(P),M=C),D=Ne(D,1),P=Ne(P,1)}return A=te(V,L.j(A)),new oe(L,A)}for(L=R;0<=V.l(A);){for(P=Math.max(1,Math.floor(V.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=_(P),C=M.j(A);F(C)||0<C.l(V);)P-=D,M=_(P),C=M.j(A);$(M)&&(M=S),L=L.add(M),V=te(V,C)}return new oe(L,V)}i.A=function(V){return ae(this,V).h},i.and=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&V.i(D);return new h(P,this.h&V.h)},i.or=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|V.i(D);return new h(P,this.h|V.h)},i.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^V.i(D);return new h(P,this.h^V.h)};function Oe(V){for(var A=V.g.length+1,P=[],D=0;D<A;D++)P[D]=V.i(D)<<1|V.i(D-1)>>>31;return new h(P,V.h)}function Ne(V,A){var P=A>>5;A%=32;for(var D=V.g.length-P,L=[],M=0;M<D;M++)L[M]=0<A?V.i(M+P)>>>A|V.i(M+P+1)<<32-A:V.i(M+P);return new h(L,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,Di=h}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hy,pa,dy,lu,Wh,fy,py,my;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var T=0;T<l.length-1;T++){var O=l[T];if(!(O in y))break e;y=y[O]}l=l[l.length-1],T=y[l],p=p(T),p!=T&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,T=!1,O={next:function(){if(!T&&y<l.length){var H=y++;return{value:p(H,l[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function _(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function R(l,p,y){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,T),l.apply(p,O)}}return function(){return l.apply(p,arguments)}}function S(l,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,S.apply(null,arguments)}function N(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function $(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(T,O,H){for(var se=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)se[Ze-2]=arguments[Ze];return p.prototype[O].apply(T,se)}}function F(l){const p=l.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=l[T];return y}return[]}function U(l,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const O=l.length||0,H=T.length||0;l.length=O+H;for(let se=0;se<H;se++)l[O+se]=T[se]}else l.push(T)}}class te{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function re(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function ae(l){return ae[" "](l),l}ae[" "]=function(){};var Oe=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Ne(l,p,y){for(const T in l)p.call(y,l[T],T,l)}function V(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function A(l){const p={};for(const y in l)p[y]=l[y];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,p){let y,T;for(let O=1;O<arguments.length;O++){T=arguments[O];for(y in T)l[y]=T[y];for(let H=0;H<P.length;H++)y=P[H],Object.prototype.hasOwnProperty.call(T,y)&&(l[y]=T[y])}}function L(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function M(l){f.setTimeout(()=>{throw l},0)}function C(){var l=ye;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ht{constructor(){this.h=this.g=null}add(p,y){const T=jt.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var jt=new te(()=>new Lt,l=>l.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ie=!1,ye=new ht,x=()=>{const l=f.Promise.resolve(void 0);xe=()=>{l.then(K)}};var K=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){M(y)}var p=jt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function He(l,p){if(ve.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Oe){e:{try{ae(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ze[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&He.aa.h.call(this)}}$(He,ve);var ze={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),be=0;function It(l,p,y,T,O){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=O,this.key=++be,this.da=this.fa=!1}function dr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function In(l){this.src=l,this.g={},this.h=0}In.prototype.add=function(l,p,y,T,O){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var se=An(l,p,T,O);return-1<se?(p=l[se],y||(p.fa=!1)):(p=new It(p,this.src,H,!!T,O),p.fa=y,l.push(p)),p};function fr(l,p){var y=p.type;if(y in l.g){var T=l.g[y],O=Array.prototype.indexOf.call(T,p,void 0),H;(H=0<=O)&&Array.prototype.splice.call(T,O,1),H&&(dr(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function An(l,p,y,T){for(var O=0;O<l.length;++O){var H=l[O];if(!H.da&&H.listener==p&&H.capture==!!y&&H.ha==T)return O}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),ti={};function ni(l,p,y,T,O){if(Array.isArray(p)){for(var H=0;H<p.length;H++)ni(l,p[H],y,T,O);return null}return y=W(y),l&&l[qe]?l.K(p,y,_(T)?!!T.capture:!1,O):Ui(l,p,y,!1,T,O)}function Ui(l,p,y,T,O,H){if(!p)throw Error("Invalid event type");var se=_(O)?!!O.capture:!!O,Ze=ri(l);if(Ze||(l[pr]=Ze=new In(l)),y=Ze.add(p,y,T,se,H),y.proxy)return y;if(T=mr(),y.proxy=T,T.src=l,T.listener=y,l.addEventListener)Ve||(O=se),O===void 0&&(O=!1),l.addEventListener(p.toString(),T,O);else if(l.attachEvent)l.attachEvent(Rn(p.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function mr(){function l(y){return p.call(l.src,l.listener,y)}const p=Bi;return l}function Kn(l,p,y,T,O){if(Array.isArray(p))for(var H=0;H<p.length;H++)Kn(l,p[H],y,T,O);else T=_(T)?!!T.capture:!!T,y=W(y),l&&l[qe]?(l=l.i,p=String(p).toString(),p in l.g&&(H=l.g[p],y=An(H,y,T,O),-1<y&&(dr(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete l.g[p],l.h--)))):l&&(l=ri(l))&&(p=l.g[p.toString()],l=-1,p&&(l=An(p,y,T,O)),(y=-1<l?p[l]:null)&&Ln(y))}function Ln(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[qe])fr(p.i,l);else{var y=l.type,T=l.proxy;p.removeEventListener?p.removeEventListener(y,T,l.capture):p.detachEvent?p.detachEvent(Rn(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=ri(p))?(fr(y,l),y.h==0&&(y.src=null,p[pr]=null)):dr(l)}}}function Rn(l){return l in ti?ti[l]:ti[l]="on"+l}function Bi(l,p){if(l.da)l=!0;else{p=new He(p,this);var y=l.listener,T=l.ha||l.src;l.fa&&Ln(l),l=y.call(T,p)}return l}function ri(l){return l=l[pr],l instanceof In?l:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function W(l){return typeof l=="function"?l:(l[Nr]||(l[Nr]=function(p){return l.handleEvent(p)}),l[Nr])}function q(){he.call(this),this.i=new In(this),this.M=this,this.F=null}$(q,he),q.prototype[qe]=!0,q.prototype.removeEventListener=function(l,p,y,T){Kn(this,l,p,y,T)};function G(l,p){var y,T=l.F;if(T)for(y=[];T;T=T.F)y.push(T);if(l=l.M,T=p.type||p,typeof p=="string")p=new ve(p,l);else if(p instanceof ve)p.target=p.target||l;else{var O=p;p=new ve(T,l),D(p,O)}if(O=!0,y)for(var H=y.length-1;0<=H;H--){var se=p.g=y[H];O=fe(se,T,!0,p)&&O}if(se=p.g=l,O=fe(se,T,!0,p)&&O,O=fe(se,T,!1,p)&&O,y)for(H=0;H<y.length;H++)se=p.g=y[H],O=fe(se,T,!1,p)&&O}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],T=0;T<y.length;T++)dr(y[T]);delete l.g[p],l.h--}}this.F=null},q.prototype.K=function(l,p,y,T){return this.i.add(String(l),p,!1,y,T)},q.prototype.L=function(l,p,y,T){return this.i.add(String(l),p,!0,y,T)};function fe(l,p,y,T){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,H=0;H<p.length;++H){var se=p[H];if(se&&!se.da&&se.capture==y){var Ze=se.listener,Pt=se.ha||se.src;se.fa&&fr(l.i,se),O=Ze.call(Pt,T)!==!1&&O}}return O&&!T.defaultPrevented}function le(l,p,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function Te(l){l.g=le(()=>{l.g=null,l.i&&(l.i=!1,Te(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Ee extends he{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(l){he.call(this),this.h=l,this.g={}}$(Le,he);var Se=[];function st(l){Ne(l.g,function(p,y){this.g.hasOwnProperty(y)&&Ln(p)},l),l.g={}}Le.prototype.N=function(){Le.aa.N.call(this),st(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=f.JSON.stringify,Ye=f.JSON.parse,Bt=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function At(){}At.prototype.h=null;function Mn(l){return l.h||(l.h=l.i())}function Gn(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){ve.call(this,"d")}$($t,ve);function gr(){ve.call(this,"c")}$(gr,ve);var tt={},Rt=null;function an(){return Rt=Rt||new q}tt.La="serverreachability";function Qn(l){ve.call(this,tt.La,l)}$(Qn,ve);function ln(l){const p=an();G(p,new Qn(p))}tt.STAT_EVENT="statevent";function zi(l,p){ve.call(this,tt.STAT_EVENT,l),this.stat=p}$(zi,ve);function dt(l){const p=an();G(p,new zi(p,l))}tt.Ma="timingevent";function Jt(l,p){ve.call(this,tt.Ma,l),this.size=p}$(Jt,ve);function Ct(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function Vr(l,p,y,T,O,H){l.info(function(){if(l.g)if(H)for(var se="",Ze=H.split("&"),Pt=0;Pt<Ze.length;Pt++){var We=Ze[Pt].split("=");if(1<We.length){var Mt=We[0];We=We[1];var Et=Mt.split("_");se=2<=Et.length&&Et[1]=="type"?se+(Mt+"="+We+"&"):se+(Mt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+O+"]: "+p+`
`+y+`
`+se})}function ws(l,p,y,T,O,H,se){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+O+"]: "+p+`
`+y+`
`+H+" "+se})}function Xn(l,p,y,T){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yu(l,y)+(T?" "+T:"")})}function xo(l,p){l.info(function(){return"TIMEOUT: "+p})}yr.prototype.info=function(){};function Yu(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var T=y[l];if(!(2>T.length)){var O=T[1];if(Array.isArray(O)&&!(1>O.length)){var H=O[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<O.length;se++)O[se]=""}}}}return je(y)}catch{return p}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function $i(){}$($i,At),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},Yn=new $i;function Jn(l,p,y,T){this.j=l,this.i=p,this.l=y,this.R=T||1,this.U=new Le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new za}function za(){this.i=null,this.g="",this.h=!1}var ko={},Ss={};function Is(l,p,y){l.L=1,l.v=li(Pn(p)),l.m=y,l.P=!0,Do(l,null)}function Do(l,p){l.F=Date.now(),rt(l),l.A=Pn(l.v);var y=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),ci(y.i,"t",T),l.C=0,y=l.j.J,l.h=new za,l.g=ol(l.j,y?p:null,!l.m),0<l.O&&(l.M=new Ee(S(l.Y,l,l.g),l.O)),p=l.U,y=l.g,T=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Se[0]=O.toString()),O=Se);for(var H=0;H<O.length;H++){var se=ni(y,O[H],T||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=l.H?A(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ln(),Vr(l.i,l.u,l.A,l.l,l.R,l.m)}Jn.prototype.ca=function(l){l=l.target;const p=this.M;p&&pn(l)==3?p.j():this.Y(l)},Jn.prototype.Y=function(l){try{if(l==this.g)e:{const Et=pn(this.g);var p=this.g.Ba();const Fn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Oo(this.g)))){this.J||Et!=4||p==7||(p==8||0>=Fn?ln(3):ln(2)),Hi(this);var y=this.g.Z();this.X=y;t:if($a(this)){var T=Oo(this.g);l="";var O=T.length,H=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),ii(this);var se="";break t}this.h.i=new f.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,l+=this.h.i.decode(T[p],{stream:!(H&&p==O-1)});T.length=0,this.h.g+=l,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,ws(this.i,this.u,this.A,this.l,this.R,Et,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Pt=this.g;if((Ze=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ze)){var We=Ze;break t}}We=null}if(y=We)Xn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,y);else{this.o=!1,this.s=3,dt(12),On(this),ii(this);break e}}if(this.P){y=!0;let kn;for(;!this.J&&this.C<se.length;)if(kn=Ju(this,se),kn==Ss){Et==4&&(this.s=4,dt(14),y=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ko){this.s=4,dt(15),Xn(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else Xn(this.i,this.l,kn,null),No(this,kn);if($a(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||se.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)Xn(this.i,this.l,se,"[Invalid Chunked Response]"),On(this),ii(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Fo(Mt),Mt.M=!0,dt(11))}}else Xn(this.i,this.l,se,null),No(this,se);Et==4&&On(this),this.o&&!this.J&&(Et==4?Ls(this.j,this):(this.o=!1,rt(this)))}else ks(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),On(this),ii(this)}}}catch{}finally{}};function $a(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ju(l,p){var y=l.C,T=p.indexOf(`
`,y);return T==-1?Ss:(y=Number(p.substring(y,T)),isNaN(y)?ko:(T+=1,T+y>p.length?Ss:(p=p.slice(T,T+y),l.C=T+y,p)))}Jn.prototype.cancel=function(){this.J=!0,On(this)};function rt(l){l.S=Date.now()+l.I,Ha(l,l.I)}function Ha(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ct(S(l.ba,l),p)}function Hi(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Jn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xo(this.i,this.A),this.L!=2&&(ln(),dt(17)),On(this),this.s=2,ii(this)):Ha(this,this.S-l)};function ii(l){l.j.G==0||l.J||Ls(l.j,l)}function On(l){Hi(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,st(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function No(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||un(y.h,l))){if(!l.K&&un(y.h,l)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var O=T;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)js(y),rr(y);else break e;Vs(y),dt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ct(S(y.Za,y),6e3));if(1>=Wa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else br(y,11)}else if((l.K||y.g==l)&&js(y),!re(p))for(O=y.Da.g.parse(p),p=0;p<O.length;p++){let We=O[p];if(y.T=We[0],We=We[1],y.G==2)if(We[0]=="c"){y.K=We[1],y.ia=We[2];const Mt=We[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const Et=We[4];Et!=null&&(y.Aa=Et,y.j.info("SVER="+y.Aa));const Fn=We[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(T=1.5*Fn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const kn=l.g;if(kn){const Yi=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var H=T.h;H.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Vo(H,H.h),H.h=null))}if(T.D){const Os=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Os&&(T.ya=Os,nt(T.I,T.D,Os))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var se=l;if(T.qa=sl(T,T.J?T.ia:null,T.W),se.K){Ka(T.h,se);var Ze=se,Pt=T.L;Pt&&(Ze.I=Pt),Ze.B&&(Hi(Ze),rt(Ze)),T.g=se}else Xi(T);0<y.i.length&&wr(y)}else We[0]!="stop"&&We[0]!="close"||br(y,7);else y.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?br(y,7):qt(y):We[0]!="noop"&&y.l&&y.l.ta(We),y.v=0)}}ln(4)}catch{}}var qa=class{constructor(l,p){this.g=l,this.map=p}};function qi(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wa(l){return l.h?1:l.g?l.g.size:0}function un(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Vo(l,p){l.g?l.g.add(p):l.h=p}function Ka(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}qi.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return F(l.i)}function As(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,T=0;T<y;T++)p.push(l[T]);return p}p=[],y=0;for(T in l)p[y++]=l[T];return p}function Rs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const T in l)p[y++]=T;return p}}}function si(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=Rs(l),T=As(l),O=T.length,H=0;H<O;H++)p.call(void 0,T[H],y&&y[H],l)}var Wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var T=l[y].indexOf("="),O=null;if(0<=T){var H=l[y].substring(0,T);O=l[y].substring(T+1)}else H=l[y];p(H,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function jr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof jr){this.h=l.h,Ki(this,l.j),this.o=l.o,this.g=l.g,oi(this,l.s),this.l=l.l;var p=l.i,y=new _r;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),ai(this,y),this.m=l.m}else l&&(p=String(l).match(Wi))?(this.h=!1,Ki(this,p[1]||"",!0),this.o=$e(p[2]||""),this.g=$e(p[3]||"",!0),oi(this,p[4]),this.l=$e(p[5]||"",!0),ai(this,p[6]||"",!0),this.m=$e(p[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}jr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(ui(p,Cs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(ui(p,Cs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(ui(y,y.charAt(0)=="/"?Ya:Xa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",ui(y,jo)),l.join("")};function Pn(l){return new jr(l)}function Ki(l,p,y){l.j=y?$e(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function oi(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function ai(l,p,y){p instanceof _r?(l.i=p,vr(l.i,l.h)):(y||(p=ui(p,Ja)),l.i=new _r(p,l.h))}function nt(l,p,y){l.i.set(p,y)}function li(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function $e(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ui(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Qa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cs=/[#\/\?@]/g,Xa=/[#\?:]/g,Ya=/[#\?]/g,Ja=/[#\?@]/g,jo=/#/g;function _r(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Ht(l){l.g||(l.g=new Map,l.h=0,l.i&&Zu(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=_r.prototype,i.add=function(l,p){Ht(this),this.i=null,l=bn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Zn(l,p){Ht(l),p=bn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function er(l,p){return Ht(l),p=bn(l,p),l.g.has(p)}i.forEach=function(l,p){Ht(this),this.g.forEach(function(y,T){y.forEach(function(O){l.call(p,O,T,this)},this)},this)},i.na=function(){Ht(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const O=l[T];for(let H=0;H<O.length;H++)y.push(p[T])}return y},i.V=function(l){Ht(this);let p=[];if(typeof l=="string")er(this,l)&&(p=p.concat(this.g.get(bn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Ht(this),this.i=null,l=bn(this,l),er(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function ci(l,p,y){Zn(l,p),0<y.length&&(l.i=null,l.g.set(bn(l,p),F(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const H=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var O=H;se[T]!==""&&(O+="="+encodeURIComponent(String(se[T]))),l.push(O)}}return this.i=l.join("&")};function bn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function vr(l,p){p&&!l.j&&(Ht(l),l.i=null,l.g.forEach(function(y,T){var O=T.toLowerCase();T!=O&&(Zn(this,T),ci(this,O,y))},l)),l.j=p}function ec(l,p){const y=new yr;if(f.Image){const T=new Image;T.onload=N(fn,y,"TestLoadImage: loaded",!0,p,T),T.onerror=N(fn,y,"TestLoadImage: error",!1,p,T),T.onabort=N(fn,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=N(fn,y,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else p(!1)}function Za(l,p){const y=new yr,T=new AbortController,O=setTimeout(()=>{T.abort(),fn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:T.signal}).then(H=>{clearTimeout(O),H.ok?fn(y,"TestPingServer: ok",!0,p):fn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),fn(y,"TestPingServer: error",!1,p)})}function fn(l,p,y,T,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),T(y)}catch{}}function tc(){this.g=new Bt}function el(l,p,y){const T=y||"";try{si(l,function(O,H){let se=O;_(O)&&(se=je(O)),p.push(T+H+"="+encodeURIComponent(se))})}catch(O){throw p.push(T+"type="+encodeURIComponent("_badmap")),O}}function Lr(l){this.l=l.Ub||null,this.j=l.eb||!1}$(Lr,At),Lr.prototype.g=function(){return new Gi(this.l,this.j)},Lr.prototype.i=function(l){return function(){return l}}({});function Gi(l,p){q.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Gi,q),i=Gi.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,nr(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?tr(this):nr(this),this.readyState==3&&tl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,tr(this))},i.Qa=function(l){this.g&&(this.response=l,tr(this))},i.ga=function(){this.g&&tr(this)};function tr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,nr(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function nr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Mr(l){let p="";return Ne(l,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function hi(l,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Mr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):nt(l,p,y))}function lt(l){q.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(lt,q);var nc=/^https?$/i,Lo=["POST","PUT"];i=lt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?Mn(this.o):Mn(Yn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(H){Qi(this,H);return}if(l=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var O in T)y.set(O,T[O]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),O=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Lo,p,void 0))||T||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of y)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Qi(this,H)}};function Qi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Ps(l),xn(l)}function Ps(l){l.A||(l.A=!0,G(l,"complete"),G(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,G(this,"complete"),G(this,"abort"),xn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),lt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Mo(this):this.bb())},i.bb=function(){Mo(this)};function Mo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||pn(l)!=4||l.Z()!=2)){if(l.u&&pn(l)==4)le(l.Ea,0,l);else if(G(l,"readystatechange"),pn(l)==4){l.h=!1;try{const se=l.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=se===0){var O=String(l.D).match(Wi)[1]||null;!O&&f.self&&f.self.location&&(O=f.self.location.protocol.slice(0,-1)),T=!nc.test(O?O.toLowerCase():"")}y=T}if(y)G(l,"complete"),G(l,"success");else{l.m=6;try{var H=2<pn(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",Ps(l)}}finally{xn(l)}}}}function xn(l,p){if(l.g){xs(l);const y=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||G(l,"ready");try{y.onreadystatechange=T}catch{}}}function xs(l){l.I&&(f.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function pn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Ye(p)}};function Oo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(l){const p={};l=(l.g&&2<=pn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(re(l[T]))continue;var y=L(l[T]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=p[O]||[];p[O]=H,H.push(y)}V(p,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function bo(l){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,l),this.cb=Er("retryDelaySeedMs",1e4,l),this.Wa=Er("forwardChannelMaxRetries",2,l),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(l&&l.concurrentRequestLimit),this.Da=new tc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bo.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,T){dt(0),this.W=l,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=sl(this,null,this.W),wr(this)};function qt(l){if(Ds(l),l.G==3){var p=l.U++,y=Pn(l.I);if(nt(y,"SID",l.K),nt(y,"RID",p),nt(y,"TYPE","terminate"),Or(l,y),p=new Jn(l,l.j,p),p.L=2,p.v=li(Pn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=ol(p.j,null),p.g.ea(p.v)),p.F=Date.now(),rt(p)}il(l)}function rr(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function Ds(l){rr(l),l.u&&(f.clearTimeout(l.u),l.u=null),js(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function wr(l){if(!Cn(l.h)&&!l.s){l.s=!0;var p=l.Ga;xe||x(),ie||(xe(),ie=!0),ye.add(p,l),l.B=0}}function rc(l,p){return Wa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ct(S(l.Ga,l,p),rl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Jn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(O.H=H,H=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=di(this,O,p),y=Pn(this.I),nt(y,"RID",l),nt(y,"CVER",22),this.D&&nt(y,"X-HTTP-Session-Id",this.D),Or(this,y),H&&(this.O?p="headers="+encodeURIComponent(String(Mr(H)))+"&"+p:this.m&&hi(y,this.m,H)),Vo(this.h,O),this.Ua&&nt(y,"TYPE","init"),this.P?(nt(y,"$req",p),nt(y,"SID","null"),O.T=!0,Is(O,y,null)):Is(O,y,p),this.G=2}}else this.G==3&&(l?Ns(this,l):this.i.length==0||Cn(this.h)||Ns(this))};function Ns(l,p){var y;p?y=p.l:y=l.U++;const T=Pn(l.I);nt(T,"SID",l.K),nt(T,"RID",y),nt(T,"AID",l.T),Or(l,T),l.m&&l.o&&hi(T,l.m,l.o),y=new Jn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=di(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vo(l.h,y),Is(y,T,p)}function Or(l,p){l.H&&Ne(l.H,function(y,T){nt(p,T,y)}),l.l&&si({},function(y,T){nt(p,T,y)})}function di(l,p,y){y=Math.min(l.i.length,y);var T=l.l?S(l.l.Na,l.l,l):null;e:{var O=l.i;let H=-1;for(;;){const se=["count="+y];H==-1?0<y?(H=O[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let Ze=!0;for(let Pt=0;Pt<y;Pt++){let We=O[Pt].g;const Mt=O[Pt].map;if(We-=H,0>We)H=Math.max(0,O[Pt].g-100),Ze=!1;else try{el(Mt,se,"req"+We+"_")}catch{T&&T(Mt)}}if(Ze){T=se.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,T}function Xi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;xe||x(),ie||(xe(),ie=!0),ye.add(p,l),l.v=0}}function Vs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ct(S(l.Fa,l),rl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,nl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ct(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),rr(this),nl(this))};function Fo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function nl(l){l.g=new Jn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=Pn(l.qa);nt(p,"RID","rpc"),nt(p,"SID",l.K),nt(p,"AID",l.T),nt(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(p,"TO",l.ja),nt(p,"TYPE","xmlhttp"),Or(l,p),l.m&&l.o&&hi(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=li(Pn(p)),y.m=null,y.P=!0,Do(y,l)}i.Za=function(){this.C!=null&&(this.C=null,rr(this),Vs(this),dt(19))};function js(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Ls(l,p){var y=null;if(l.g==p){js(l),Fo(l),l.g=null;var T=2}else if(un(l.h,p))y=p.D,Ka(l.h,p),T=1;else return;if(l.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var O=l.B;T=an(),G(T,new Jt(T,y)),wr(l)}else Xi(l);else if(O=p.s,O==3||O==0&&0<p.X||!(T==1&&rc(l,p)||T==2&&Vs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),O){case 1:br(l,5);break;case 4:br(l,10);break;case 3:br(l,6);break;default:br(l,2)}}}function rl(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function br(l,p){if(l.j.info("Error code "+p),p==2){var y=S(l.fb,l),T=l.Xa;const O=!T;T=new jr(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ki(T,"https"),li(T),O?ec(T.toString(),y):Za(T.toString(),y)}else dt(2);l.G=0,l.l&&l.l.sa(p),il(l),Ds(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function il(l){if(l.G=0,l.ka=[],l.l){const p=Ga(l.h);(p.length!=0||l.i.length!=0)&&(U(l.ka,p),U(l.ka,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.ra()}}function sl(l,p,y){var T=y instanceof jr?Pn(y):new jr(y);if(T.g!="")p&&(T.g=p+"."+T.g),oi(T,T.s);else{var O=f.location;T=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var H=new jr(null);T&&Ki(H,T),p&&(H.g=p),O&&oi(H,O),y&&(H.l=y),T=H}return y=l.D,p=l.ya,y&&p&&nt(T,y,p),nt(T,"VER",l.la),Or(l,T),T}function ol(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new lt(new Lr({eb:y})):new lt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}i=Uo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ms(){}Ms.prototype.g=function(l,p){return new cn(l,p)};function cn(l,p){q.call(this),this.g=new bo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!re(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!re(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Tr(this)}$(cn,q),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){qt(this.g)},cn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=je(l),l=y);p.i.push(new qa(p.Ya++,l)),p.G==3&&wr(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,cn.aa.N.call(this)};function al(l){$t.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}$(al,$t);function ll(){gr.call(this),this.status=1}$(ll,gr);function Tr(l){this.g=l}$(Tr,Uo),Tr.prototype.ua=function(){G(this.g,"a")},Tr.prototype.ta=function(l){G(this.g,new al(l))},Tr.prototype.sa=function(l){G(this.g,new ll)},Tr.prototype.ra=function(){G(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,my=function(){return new Ms},py=function(){return an()},fy=tt,Wh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,lu=Ts,Ba.COMPLETE="complete",dy=Ba,Gn.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",q.prototype.listen=q.prototype.K,pa=Gn,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,hy=lt}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});const Fm="@firebase/firestore",Um="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new iy("@firebase/firestore");function io(){return ps.logLevel}function ce(i,...e){if(ps.logLevel<=Ge.DEBUG){const n=e.map(gd);ps.debug(`Firestore (${So}): ${i}`,...n)}}function Jr(i,...e){if(ps.logLevel<=Ge.ERROR){const n=e.map(gd);ps.error(`Firestore (${So}): ${i}`,...n)}}function mo(i,...e){if(ps.logLevel<=Ge.WARN){const n=e.map(gd);ps.warn(`Firestore (${So}): ${i}`,...n)}}function gd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+i;throw Jr(e),new Error(e)}function Je(i,e){i||Ce()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends To{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class m0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g0{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},f=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ni)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string"),new gy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new sn(e)}}class y0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new y0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v0{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ZT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Bm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new Bm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=E0(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Gh(i,e){const n=Kh().encode(i),s=Kh().encode(e);for(let a=0;a<Math.min(n.length,s.length);a++){const u=Ue(n[a],s[a]);if(u!==0)return u}return Ue(n.length,s.length)}function go(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-62135596800,$m=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$m);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zm)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$m}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Nt(0,0))}static max(){return new ke(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="__name__";class Cr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=Cr.compareSegments(e.get(a),n.get(a));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Cr.isNumericId(e),a=Cr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Gh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class ct extends Cr{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const w0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Cr{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return w0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hm}static keyField(){return new Xt([Hm])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new _e(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new _e(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else f==="`"?(h=!h,a++):f!=="."||h?(s+=f,a++):(u(),a++)}if(u(),h)throw new _e(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ct.fromString(e))}static fromName(e){return new Re(ct.fromString(e).popFirst(5))}static empty(){return new Re(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=-1;function T0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new ji(a,Re.empty(),e)}function S0(i){return new ji(i.readTime,i.key,Ca)}class ji{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ji(ke.min(),Re.empty(),Ca)}static max(){return new ji(ke.max(),Re.empty(),Ca)}}function I0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==A0)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,s)=>{n(e)})}static reject(e){return new Q((n,s)=>{s(e)})}static waitFor(e){return new Q((n,s)=>{let a=0,u=0,h=!1;e.forEach(f=>{++a,f.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next(a=>a?Q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new Q((s,a)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const _=g;n(e[_]).next(w=>{h[_]=w,++f,f===u&&s(h)},w=>a(w))}})}static doWhile(e,n){return new Q((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function C0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ou.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function bu(i){return i==null}function vu(i){return i===0&&1/i==-1/0}function P0(i){return typeof i=="number"&&Number.isInteger(i)&&!vu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="";function x0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=qm(e)),e=k0(i.get(n),e);return qm(e)}function k0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case _y:n+="";break;default:n+=u}}return n}function qm(i){return i+_y+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ys(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vy(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=a??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new Qt(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Qt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,s,a,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Km(this.data.getIterator())}getIteratorFrom(e){return new Km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Km{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Vt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ey("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const D0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(i){if(Je(!!i),typeof i=="string"){let e=0;const n=D0.exec(i);if(Je(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Mi(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="server_timestamp",Ty="__type__",Sy="__previous_value__",Iy="__local_write_time__";function _d(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ty])===null||n===void 0?void 0:n.stringValue)===wy}function Fu(i){const e=i.mapValue.fields[Sy];return _d(e)?Fu(e):e}function Pa(i){const e=Li(i.mapValue.fields[Iy].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,s,a,u,h,f,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=_}}const Eu="(default)";class xa{constructor(e,n){this.projectId=e,this.database=n||Eu}static empty(){return new xa("","")}get isDefaultDatabase(){return this.database===Eu}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="__type__",V0="__max__",iu={mapValue:{}},Ry="__vector__",wu="value";function Oi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_d(i)?4:L0(i)?9007199254740991:j0(i)?10:11:Ce()}function kr(i,e){if(i===e)return!0;const n=Oi(i);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pa(i).isEqual(Pa(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Li(a.timestampValue),f=Li(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return Mi(a.bytesValue).isEqual(Mi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return vt(a.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(a.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return vt(a.integerValue)===vt(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=vt(a.doubleValue),f=vt(u.doubleValue);return h===f?vu(h)===vu(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},f=u.mapValue.fields||{};if(Wm(h)!==Wm(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!kr(h[g],f[g])))return!1;return!0}(i,e);default:return Ce()}}function ka(i,e){return(i.values||[]).find(n=>kr(n,e))!==void 0}function yo(i,e){if(i===e)return 0;const n=Oi(i),s=Oi(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(u,h){const f=vt(u.integerValue||u.doubleValue),g=vt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(i,e);case 3:return Gm(i.timestampValue,e.timestampValue);case 4:return Gm(Pa(i),Pa(e));case 5:return Gh(i.stringValue,e.stringValue);case 6:return function(u,h){const f=Mi(u),g=Mi(h);return f.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let _=0;_<f.length&&_<g.length;_++){const w=Ue(f[_],g[_]);if(w!==0)return w}return Ue(f.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const f=Ue(vt(u.latitude),vt(h.latitude));return f!==0?f:Ue(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Qm(i.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,_,w;const R=u.fields||{},S=h.fields||{},N=(f=R[wu])===null||f===void 0?void 0:f.arrayValue,$=(g=S[wu])===null||g===void 0?void 0:g.arrayValue,F=Ue(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((w=$==null?void 0:$.values)===null||w===void 0?void 0:w.length)||0);return F!==0?F:Qm(N,$)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===iu.mapValue&&h===iu.mapValue)return 0;if(u===iu.mapValue)return 1;if(h===iu.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const S=Gh(g[R],w[R]);if(S!==0)return S;const N=yo(f[g[R]],_[w[R]]);if(N!==0)return N}return Ue(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function Gm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Li(i),s=Li(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function Qm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=yo(n[a],s[a]);if(u)return u}return Ue(n.length,s.length)}function _o(i){return Qh(i)}function Qh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Li(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Mi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Re.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Qh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Qh(n.fields[h])}`;return a+"}"}(i.mapValue):Ce()}function uu(i){switch(Oi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(i);return e?16+uu(e):16;case 5:return 2*i.stringValue.length;case 6:return Mi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+uu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ys(s.fields,(u,h)=>{a+=u.length+uu(h)}),a}(i.mapValue);default:throw Ce()}}function Xh(i){return!!i&&"integerValue"in i}function vd(i){return!!i&&"arrayValue"in i}function Xm(i){return!!i&&"nullValue"in i}function Ym(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cu(i){return!!i&&"mapValue"in i}function j0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ay])===null||n===void 0?void 0:n.stringValue)===Ry}function _a(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_a(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_a(i.arrayValue.values[n]);return e}return Object.assign({},i)}function L0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===V0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(n)}setAll(e){let n=Xt.emptyPath(),s={},a=[];e.forEach((h,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=f.popLast()}h?s[f.lastSegment()]=_a(h):a.push(f.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];cu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ys(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Wn(_a(this.value))}}function Cy(i){const e=[];return ys(i.fields,(n,s)=>{const a=new Xt([n]);if(cu(s)){const u=Cy(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,s,a,u,h,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new on(e,0,ke.min(),ke.min(),ke.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new on(e,1,n,ke.min(),s,a,0)}static newNoDocument(e,n){return new on(e,2,n,ke.min(),ke.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ke.min(),ke.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.position=e,this.inclusive=n}}function Jm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(h.referenceValue),n.key):s=yo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!kr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function M0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{}class Dt extends Py{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new b0(e,n,s):n==="array-contains"?new B0(e,s):n==="in"?new z0(e,s):n==="not-in"?new $0(e,s):n==="array-contains-any"?new H0(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new F0(e,s):new U0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends Py{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Dr(e,n)}matches(e){return xy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xy(i){return i.op==="and"}function ky(i){return O0(i)&&xy(i)}function O0(i){for(const e of i.filters)if(e instanceof Dr)return!1;return!0}function Yh(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(ky(i))return i.filters.map(e=>Yh(e)).join(",");{const e=i.filters.map(n=>Yh(n)).join(",");return`${i.op}(${e})`}}function Dy(i,e){return i instanceof Dt?function(s,a){return a instanceof Dt&&s.op===a.op&&s.field.isEqual(a.field)&&kr(s.value,a.value)}(i,e):i instanceof Dr?function(s,a){return a instanceof Dr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,f)=>u&&Dy(h,a.filters[f]),!0):!1}(i,e):void Ce()}function Ny(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(i):i instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ny).join(" ,")+"}"}(i):"Filter"}class b0 extends Dt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class F0 extends Dt{constructor(e,n){super(e,"in",n),this.keys=Vy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U0 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Vy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Re.fromName(s.referenceValue))}class B0 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vd(n)&&ka(n.arrayValue,this.value)}}class z0 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ka(this.value.arrayValue,n)}}class $0 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ka(this.value.arrayValue,n)}}class H0 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ka(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n=null,s=[],a=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function eg(i,e=null,n=[],s=[],a=null,u=null,h=null){return new q0(i,e,n,s,a,u,h)}function Ed(i){const e=De(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Yh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=n}return e.le}function wd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!M0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Dy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Zm(i.startAt,e.startAt)&&Zm(i.endAt,e.endAt)}function Jh(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,s=[],a=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function W0(i,e,n,s,a,u,h,f){return new Uu(i,e,n,s,a,u,h,f)}function jy(i){return new Uu(i)}function tg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function K0(i){return i.collectionGroup!==null}function va(i){const e=De(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Vt(Xt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Su(u,s))}),n.has(Xt.keyField().canonicalString())||e.he.push(new Su(Xt.keyField(),s))}return e.he}function Pr(i){const e=De(i);return e.Pe||(e.Pe=G0(e,va(i))),e.Pe}function G0(i,e){if(i.limitType==="F")return eg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new Su(a.field,u)});const n=i.endAt?new Tu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Tu(i.startAt.position,i.startAt.inclusive):null;return eg(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Zh(i,e,n){return new Uu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bu(i,e){return wd(Pr(i),Pr(e))&&i.limitType===e.limitType}function Ly(i){return`${Ed(Pr(i))}|lt:${i.limitType}`}function so(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ny(a)).join(", ")}]`),bu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>_o(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>_o(a)).join(",")),`Target(${s})`}(Pr(i))}; limitType=${i.limitType})`}function zu(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of va(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,f,g){const _=Jm(h,f,g);return h.inclusive?_<=0:_<0}(s.startAt,va(s),a)||s.endAt&&!function(h,f,g){const _=Jm(h,f,g);return h.inclusive?_>=0:_>0}(s.endAt,va(s),a))}(i,e)}function Q0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function My(i){return(e,n)=>{let s=!1;for(const a of va(i)){const u=X0(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function X0(i,e,n){const s=i.field.isKeyField()?Re.comparator(e.key,n.key):function(u,h,f){const g=h.data.field(u),_=f.data.field(u);return g!==null&&_!==null?yo(g,_):Ce()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return vy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new gt(Re.comparator);function Zr(){return Y0}const Oy=new gt(Re.comparator);function ma(...i){let e=Oy;for(const n of i)e=e.insert(n.key,n);return e}function by(i){let e=Oy;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function fs(){return Ea()}function Fy(){return Ea()}function Ea(){return new _s(i=>i.toString(),(i,e)=>i.isEqual(e))}const J0=new gt(Re.comparator),Z0=new Vt(Re.comparator);function Be(...i){let e=Z0;for(const n of i)e=e.add(n);return e}const eS=new Vt(Ue);function tS(){return eS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function Uy(i){return{integerValue:""+i}}function nS(i,e){return P0(e)?Uy(e):Td(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function rS(i,e,n){return i instanceof Iu?function(a,u){const h={fields:{[Ty]:{stringValue:wy},[Iy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&_d(u)&&(u=Fu(u)),u&&(h.fields[Sy]=u),{mapValue:h}}(n,e):i instanceof Da?zy(i,e):i instanceof Na?$y(i,e):function(a,u){const h=By(a,u),f=ng(h)+ng(a.Ie);return Xh(h)&&Xh(a.Ie)?Uy(f):Td(a.serializer,f)}(i,e)}function iS(i,e,n){return i instanceof Da?zy(i,e):i instanceof Na?$y(i,e):n}function By(i,e){return i instanceof Au?function(s){return Xh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Iu extends $u{}class Da extends $u{constructor(e){super(),this.elements=e}}function zy(i,e){const n=Hy(e);for(const s of i.elements)n.some(a=>kr(a,s))||n.push(s);return{arrayValue:{values:n}}}class Na extends $u{constructor(e){super(),this.elements=e}}function $y(i,e){let n=Hy(e);for(const s of i.elements)n=n.filter(a=>!kr(a,s));return{arrayValue:{values:n}}}class Au extends $u{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ng(i){return vt(i.integerValue||i.doubleValue)}function Hy(i){return vd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function sS(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Da&&a instanceof Da||s instanceof Na&&a instanceof Na?go(s.elements,a.elements,kr):s instanceof Au&&a instanceof Au?kr(s.Ie,a.Ie):s instanceof Iu&&a instanceof Iu}(i.transform,e.transform)}class oS{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Hu{}function qy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ky(i.key,Qr.none()):new Ma(i.key,i.data,Qr.none());{const n=i.data,s=Wn.empty();let a=new Vt(Xt.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new vs(i.key,s,new cr(a.toArray()),Qr.none())}}function aS(i,e,n){i instanceof Ma?function(a,u,h){const f=a.value.clone(),g=ig(a.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,n):i instanceof vs?function(a,u,h){if(!hu(a.precondition,u))return void u.convertToUnknownDocument(h.version);const f=ig(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Wy(a)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function wa(i,e,n,s){return i instanceof Ma?function(u,h,f,g){if(!hu(u.precondition,h))return f;const _=u.value.clone(),w=sg(u.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof vs?function(u,h,f,g){if(!hu(u.precondition,h))return f;const _=sg(u.fieldTransforms,g,h),w=h.data;return w.setAll(Wy(u)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(u,h,f){return hu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,n)}function lS(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=By(s.transform,a||null);u!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,u))}return n||null}function rg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&go(s,a,(u,h)=>sS(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ma extends Hu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vs extends Hu{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function ig(i,e,n){const s=new Map;Je(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,f=e.data.field(u.field);s.set(u.field,iS(h,f,n[a]))}return s}function sg(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,rS(u,h,e))}return s}class Ky extends Hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uS extends Hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&aS(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fy();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=n.has(a.key)?null:f;const g=qy(h,f);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>rg(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>rg(n,s))}}class Sd{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Je(e.mutations.length===s.length);let a=function(){return J0}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new Sd(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Ke;function fS(i){switch(i){case Z.OK:return Ce();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce()}}function Gy(i){if(i===void 0)return Jr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Tt.OK:return Z.OK;case Tt.CANCELLED:return Z.CANCELLED;case Tt.UNKNOWN:return Z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Z.INTERNAL;case Tt.UNAVAILABLE:return Z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Z.NOT_FOUND;case Tt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Tt.ABORTED:return Z.ABORTED;case Tt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Tt.DATA_LOSS:return Z.DATA_LOSS;default:return Ce()}}(Ke=Tt||(Tt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Di([4294967295,4294967295],0);function og(i){const e=Kh().encode(i),n=new cy;return n.update(e),new Uint8Array(n.digest())}function ag(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,u],0)]}class Id{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(s<0)throw new ga(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Di.fromNumber(this.Ee)}Ae(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(pS)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=og(e),[s,a]=ag(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Id(u,a,n);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const n=og(e),[s,a]=ag(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,a,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qu(ke.min(),a,new gt(Ue),Zr(),Be())}}class Oa{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Oa(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,s,a){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=a}}class Qy{constructor(e,n){this.targetId=e,this.ge=n}}class Xy{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class lg{constructor(){this.pe=0,this.ye=ug(),this.we=Yt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),n=Be(),s=Be();return this.ye.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ce()}}),new Oa(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=ug()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Zr(),this.$e=su(),this.Ue=su(),this.Ke=new gt(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,s=e.ge.count,a=this.Xe(n);if(a){const u=a.target;if(Jh(u))if(s===0){const h=new Re(u.path);this.ze(n,h,on.newNoDocument(h,ke.min()))}else Je(s===1);else{const h=this.et(n);if(h!==s){const f=this.tt(e),g=f?this.nt(f,e,h):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,f;try{h=Mi(s).toUint8Array()}catch(g){if(g instanceof Ey)return mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Id(h,a,u)}catch(g){return mo(g instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Ee===0?null:f}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,u,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&Jh(f.target)){const g=new Re(f.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,on.newNoDocument(g,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Be();this.Ue.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const a=new qu(e,n,this.Ke,this.Qe,s);return this.Qe=Zr(),this.$e=su(),this.Ue=su(),this.Ke=new gt(Ue),a}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new lg,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Vt(Ue),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Vt(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new lg),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function su(){return new gt(Re.comparator)}function ug(){return new gt(Re.comparator)}const gS={asc:"ASCENDING",desc:"DESCENDING"},yS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_S={and:"AND",or:"OR"};class vS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ed(i,e){return i.useProto3Json||bu(e)?e:{value:e}}function Ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ES(i,e){return Ru(i,e.toTimestamp())}function xr(i){return Je(!!i),ke.fromTimestamp(function(n){const s=Li(n);return new Nt(s.seconds,s.nanos)}(i))}function Ad(i,e){return td(i,e).canonicalString()}function td(i,e){const n=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Jy(i){const e=ct.fromString(i);return Je(r_(e)),e}function nd(i,e){return Ad(i.databaseId,e.path)}function Lh(i,e){const n=Jy(e);if(n.get(1)!==i.databaseId.projectId)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Re(e_(n))}function Zy(i,e){return Ad(i.databaseId,e)}function wS(i){const e=Jy(i);return e.length===4?ct.emptyPath():e_(e)}function rd(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function e_(i){return Je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function cg(i,e,n){return{name:nd(i,e),fields:n.value.mapValue.fields}}function TS(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(_,w){return _.useProto3Json?(Je(w===void 0||typeof w=="string"),Yt.fromBase64String(w||"")):(Je(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Yt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(_){const w=_.code===void 0?Z.UNKNOWN:Gy(_.code);return new _e(w,_.message||"")}(h);n=new Xy(s,a,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Lh(i,s.document.name),u=xr(s.document.updateTime),h=s.document.createTime?xr(s.document.createTime):ke.min(),f=new Wn({mapValue:{fields:s.document.fields}}),g=on.newFoundDocument(a,u,h,f),_=s.targetIds||[],w=s.removedTargetIds||[];n=new du(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Lh(i,s.document),u=s.readTime?xr(s.readTime):ke.min(),h=on.newNoDocument(a,u),f=s.removedTargetIds||[];n=new du([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Lh(i,s.document),u=s.removedTargetIds||[];n=new du([],u,a,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new dS(a,u),f=s.targetId;n=new Qy(f,h)}}return n}function SS(i,e){let n;if(e instanceof Ma)n={update:cg(i,e.key,e.value)};else if(e instanceof Ky)n={delete:nd(i,e.key)};else if(e instanceof vs)n={update:cg(i,e.key,e.data),updateMask:NS(e.fieldMask)};else{if(!(e instanceof uS))return Ce();n={verify:nd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Iu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Da)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Na)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Au)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw Ce()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:ES(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function IS(i,e){return i&&i.length>0?(Je(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?xr(a.updateTime):xr(u);return h.isEqual(ke.min())&&(h=xr(u)),new oS(h,a.transformResults||[])}(n,e))):[]}function AS(i,e){return{documents:[Zy(i,e.path)]}}function RS(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zy(i,a);const u=function(_){if(_.length!==0)return n_(Dr.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(w=>function(S){return{field:oo(S.field),direction:xS(S.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=ed(i,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:a}}function CS(i){let e=wS(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(R){const S=t_(R);return S instanceof Dr&&ky(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(S=>function($){return new Su(ao($.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(S))}(n.orderBy));let f=null;n.limit&&(f=function(R){let S;return S=typeof R=="object"?R.value:R,bu(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(R){const S=!!R.before,N=R.values||[];return new Tu(N,S)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const S=!R.before,N=R.values||[];return new Tu(N,S)}(n.endAt)),W0(e,a,h,u,f,"F",g,_)}function PS(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t_(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ao(n.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(ao(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(s=>t_(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function xS(i){return gS[i]}function kS(i){return yS[i]}function DS(i){return _S[i]}function oo(i){return{fieldPath:i.canonicalString()}}function ao(i){return Xt.fromServerFormat(i.fieldPath)}function n_(i){return i instanceof Dt?function(n){if(n.op==="=="){if(Ym(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(Xm(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ym(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(Xm(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:kS(n.op),value:n.value}}}(i):i instanceof Dr?function(n){const s=n.getFilters().map(a=>n_(a));return s.length===1?s[0]:{compositeFilter:{op:DS(n.op),filters:s}}}(i):Ce()}function NS(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,s,a,u=ke.min(),h=ke.min(),f=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.Tt=e}}function jS(i){const e=CS({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.Tn=new MS}addToCollectionParentIndex(e,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ji.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class MS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Vt(ct.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Vt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i_=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(i_,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LruGarbageCollector",OS=1048576;function fg([i,e],[n,s]){const a=Ue(i,n);return a===0?Ue(e,s):a}class bS{constructor(e){this.Hn=e,this.buffer=new Vt(fg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(dg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ce(dg,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.er(3e5)})}}class US{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Ou.ae);const s=new bS(n);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(hg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hg):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,a,u,h,f,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,f=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),io()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:R})))}}function BS(i,e){return new US(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.changes=new _s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&wa(s.mutation,a,cr.empty(),Nt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const a=fs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=ma();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,f)=>{n.set(h,f)})})}computeViews(e,n,s,a){let u=Zr();const h=Ea(),f=function(){return Ea()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof vs)?u=u.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),wa(w.mutation,_,w.mutation.getFieldMask(),Nt.now())):h.set(_.key,cr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,w)=>h.set(_,w)),n.forEach((_,w)=>{var R;return f.set(_,new $S(w,(R=h.get(_))!==null&&R!==void 0?R:null))}),f))}recalculateAndSaveOverlays(e,n){const s=Ea();let a=new gt((h,f)=>h-f),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const f of h)f.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||cr.empty();w=f.applyToLocalView(_,w),s.set(g,w);const R=(a.get(f.batchId)||Be()).add(g);a=a.insert(f.batchId,R)})}).next(()=>{const h=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,w=g.value,R=Fy();w.forEach(S=>{if(!u.has(S)){const N=qy(n.get(S),s.get(S));N!==null&&R.set(S,N),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):Q.resolve(fs());let f=Ca,g=u;return h.next(_=>Q.forEach(_,(w,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),u.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{g=g.insert(w,S)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,Be())).next(w=>({batchId:f,changes:by(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let a=ma();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=ma();return this.indexManager.getCollectionParents(e,u).next(f=>Q.forEach(f,g=>{const _=function(R,S){return new Uu(S,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,S)=>{h=h.insert(R,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,on.newInvalidDocument(w)))});let f=ma();return h.forEach((g,_)=>{const w=u.get(g);w!==void 0&&wa(w.mutation,_,cr.empty(),Nt.now()),zu(n,_)&&(f=f.insert(g,_))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:xr(a.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:jS(a.bundledQuery),readTime:xr(a.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.overlays=new gt(Re.comparator),this.Rr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fs();return Q.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Et(e,n,u)}),Q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const a=fs(),u=n.length+1,h=new Re(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new gt((_,w)=>_-w);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=u.get(_.largestBatchId);w===null&&(w=fs(),u=u.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const f=fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>f.set(_,w)),!(f.size()>=a)););return Q.resolve(f)}Et(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new hS(n,s));let u=this.Rr.get(n);u===void 0&&(u=Be(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Vr=new Vt(Ut.mr),this.gr=new Vt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Re(new ct([])),s=new Ut(n,e),a=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,a],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Re(new ct([])),s=new Ut(n,e),a=new Ut(n,e+1);let u=Be();return this.gr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Re.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(Ut.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cS(u,n,s,a);this.mutationQueue.push(h);for(const f of a)this.Mr=this.Mr.add(new Ut(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Nr(s),u=a<0?0:a;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?yd:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),a=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,a],h=>{const f=this.Or(h.Cr);u.push(f)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ue);return n.forEach(a=>{const u=new Ut(a,0),h=new Ut(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new Re(u),0);let f=new Vt(Ue);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(f=f.add(g.Cr)),!0)},h),Q.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Je(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(n.mutations,a=>{const u=new Ut(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),a=this.Mr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.kr=e,this.docs=function(){return new gt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=Zr();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():on.newInvalidDocument(a))}),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=Zr();const h=n.path,f=new Re(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||I0(S0(w),s)<=0||(a.has(w.key)||zu(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,n,s,a){Ce()}qr(e,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new XS(this)}getSize(e){return Q.resolve(this.size)}}class XS extends zS{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),Q.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.persistence=e,this.Qr=new _s(n=>Ed(n),wd),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Rd,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,a)=>n(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Q.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.zn(n),Q.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),Q.waitFor(u).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ou(0),this.zr=!1,this.zr=!0,this.jr=new KS,this.referenceDelegate=e(this),this.Hr=new YS(this),this.indexManager=new LS,this.remoteDocumentCache=function(a){return new QS(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VS(n),this.Yr=new qS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new GS(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const a=new JS(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(u=>this.referenceDelegate.Xr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}ei(e,n){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class JS extends R0{constructor(e){super(),this.currentSequenceNumber=e}}class Cd{constructor(e){this.persistence=e,this.ti=new Rd,this.ni=null}static ri(e){return new Cd(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const a=Re.fromPath(s);return this.si(e,a).next(u=>{u||n.removeEntry(a,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Cu{constructor(e,n){this.persistence=e,this.oi=new _s(s=>x0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=BS(this,n)}static ri(e,n){return new Cu(e,n)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Q.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(u=>u?Q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,n).next(f=>{f||(s++,u.removeEntry(h,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uu(e.data.value)),n}ar(e,n,s){return Q.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=a}static Yi(e,n){let s=Be(),a=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Pd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Xw()?8:C0(Gw())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new ZS;return this._s(e,n,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,n,h,f.size)})}).next(()=>u.result)}us(e,n,s,a){return s.documentReadCount<this.es?(io()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(io()<=Ge.DEBUG&&ce("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(io()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):Q.resolve())}rs(e,n){if(tg(n))return Q.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Zh(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Be(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(n,f);return this.ls(n,_,h,g.readTime)?this.rs(e,Zh(n,null,"F")):this.hs(e,_,n,g)}))})))}ss(e,n,s,a){return tg(n)||a.isEqual(ke.min())?Q.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,a)?Q.resolve(null):(io()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),so(n)),this.hs(e,h,n,T0(a,Ca)).next(f=>f))})}cs(e,n){let s=new Vt(My(e));return n.forEach((a,u)=>{zu(e,u)&&(s=s.add(u))}),s}ls(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}_s(e,n,s){return io()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",so(n)),this.ns.getDocumentsMatchingQuery(e,n,ji.min(),s)}hs(e,n,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",tI=3e8;class nI{constructor(e,n,s,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new gt(Ue),this.Is=new _s(u=>Ed(u),wd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function rI(i,e,n,s){return new nI(i,e,n,s)}async function o_(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Be();for(const _ of a){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of u){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:f}))})})}function iI(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,g,_,w){const R=_.batch,S=R.keys();let N=Q.resolve();return S.forEach($=>{N=N.next(()=>w.getEntry(g,$)).next(F=>{const U=_.docVersions.get($);Je(U!==null),F.version.compareTo(U)<0&&(R.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),w.addEntry(F)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(g,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Be();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(g=g.add(f.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function a_(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function sI(i,e){const n=De(i),s=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const f=[];e.targetChanges.forEach((w,R)=>{const S=a.get(R);if(!S)return;f.push(n.Hr.removeMatchingKeys(u,w.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,w.addedDocuments,R)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?N=N.withResumeToken(Yt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,s)),a=a.insert(R,N),function(F,U,te){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=tI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(S,N,w)&&f.push(n.Hr.updateTargetData(u,N))});let g=Zr(),_=Be();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(oI(u,h,e.documentUpdates).next(w=>{g=w.Vs,_=w.fs})),!s.isEqual(ke.min())){const w=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return Q.waitFor(f).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(n.Ts=a,u))}function oI(i,e,n){let s=Be(),a=Be();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Zr();return n.forEach((f,g)=>{const _=u.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ce(xd,"Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)}),{Vs:h,fs:a}})}function aI(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yd),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lI(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Hr.getTargetData(s,e).next(u=>u?(a=u,Q.resolve(a)):n.Hr.allocateTargetId(s).next(h=>(a=new Pi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function id(i,e,n){const s=De(i),a=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ao(h))throw h;ce(xd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function pg(i,e,n){const s=De(i);let a=ke.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,w){const R=De(g),S=R.Is.get(w);return S!==void 0?Q.resolve(R.Ts.get(S)):R.Hr.getTargetData(_,w)}(s,h,Pr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?a:ke.min(),n?u:Be())).next(f=>(uI(s,Q0(e),f),{documents:f,gs:u})))}function uI(i,e,n){let s=i.Es.get(e)||ke.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class mg{constructor(){this.activeTargetIds=tS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(){this.ho=new mg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new mg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="ConnectivityMonitor";class yg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(gg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(gg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function sd(){return ou===null?ou=function(){return 268435456+Math.round(2147483648*Math.random())}():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Eu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,n,s,a,u){const h=sd(),f=this.bo(e,n.toUriEncodedString());ce(Mh,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,u),this.vo(e,f,g,s).then(_=>(ce(Mh,`Received RPC '${e}' ${h}: `,_),_),_=>{throw mo(Mh,`RPC '${e}' ${h} failed with error: `,_,"url: ",f,"request:",s),_})}Co(e,n,s,a,u,h){return this.So(e,n,s,a,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,u)=>e[u]=a),s&&s.headers.forEach((a,u)=>e[u]=a)}bo(e,n){const s=dI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class mI extends fI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,a){const u=sd();return new Promise((h,f)=>{const g=new hy;g.setWithCredentials(!0),g.listenOnce(dy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case lu.NO_ERROR:const w=g.getResponseJson();ce(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case lu.TIMEOUT:ce(rn,`RPC '${e}' ${u} timed out`),f(new _e(Z.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:const R=g.getStatus();if(ce(rn,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const $=function(U){const te=U.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN}(N.status);f(new _e($,N.message))}else f(new _e(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new _e(Z.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(rn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);ce(rn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",_,s,15)})}Wo(e,n,s){const a=sd(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=my(),f=py(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");ce(rn,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=h.createWebChannel(w,g);let S=!1,N=!1;const $=new pI({Fo:U=>{N?ce(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(S||(ce(rn,`Opening RPC '${e}' stream ${a} transport.`),R.open(),S=!0),ce(rn,`RPC '${e}' stream ${a} sending:`,U),R.send(U))},Mo:()=>R.close()}),F=(U,te,re)=>{U.listen(te,oe=>{try{re(oe)}catch(ae){setTimeout(()=>{throw ae},0)}})};return F(R,pa.EventType.OPEN,()=>{N||(ce(rn,`RPC '${e}' stream ${a} transport opened.`),$.Qo())}),F(R,pa.EventType.CLOSE,()=>{N||(N=!0,ce(rn,`RPC '${e}' stream ${a} transport closed`),$.Uo())}),F(R,pa.EventType.ERROR,U=>{N||(N=!0,mo(rn,`RPC '${e}' stream ${a} transport errored:`,U),$.Uo(new _e(Z.UNAVAILABLE,"The operation could not be completed")))}),F(R,pa.EventType.MESSAGE,U=>{var te;if(!N){const re=U.data[0];Je(!!re);const oe=re,ae=(oe==null?void 0:oe.error)||((te=oe[0])===null||te===void 0?void 0:te.error);if(ae){ce(rn,`RPC '${e}' stream ${a} received error:`,ae);const Oe=ae.status;let Ne=function(P){const D=Tt[P];if(D!==void 0)return Gy(D)}(Oe),V=ae.message;Ne===void 0&&(Ne=Z.INTERNAL,V="Unknown error status: "+Oe+" with message "+ae.message),N=!0,$.Uo(new _e(Ne,V)),R.close()}else ce(rn,`RPC '${e}' stream ${a} received:`,re),$.Ko(re)}}),F(f,fy.STAT_EVENT,U=>{U.stat===Wh.PROXY?ce(rn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Wh.NOPROXY&&ce(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(i){return new vS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,s=1e3,a=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=a,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="PersistentStream";class u_{constructor(e,n,s,a,u,h,f,g){this.Ti=e,this.n_=s,this.r_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new l_(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===n&&this.V_(s,a)},s=>{e(()=>{const a=new _e(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(_g,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(_g,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gI extends u_{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TS(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?xr(h.readTime):ke.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=rd(this.serializer),n.addTarget=function(u,h){let f;const g=h.target;if(f=Jh(g)?{documents:AS(u,g)}:{query:RS(u,g).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Yy(u,h.resumeToken);const _=ed(u,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(ke.min())>0){f.readTime=Ru(u,h.snapshotVersion.toTimestamp());const _=ed(u,h.expectedCount);_!==null&&(f.expectedCount=_)}return f}(this.serializer,e);const s=PS(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=rd(this.serializer),n.removeTarget=e,this.I_(n)}}class yI extends u_{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=IS(e.writeResults,e.commitTime),s=xr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=rd(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>SS(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class vI extends _I{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,td(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(Z.UNKNOWN,u.toString())})}Co(e,n,s,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,td(n,s),a,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(Z.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class EI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Jr(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class wI{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Es(this)&&(ce(ms,"Restarting streams for network reachability change."),await async function(g){const _=De(g);_.W_.add(4),await ba(_),_.j_.set("Unknown"),_.W_.delete(4),await Ku(_)}(this))})}),this.j_=new EI(s,a)}}async function Ku(i){if(Es(i))for(const e of i.G_)await e(!0)}async function ba(i){for(const e of i.G_)await e(!1)}function c_(i,e){const n=De(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Vd(n)?Nd(n):Ro(n).c_()&&Dd(n,e))}function kd(i,e){const n=De(i),s=Ro(n);n.K_.delete(e),s.c_()&&h_(n,e),n.K_.size===0&&(s.c_()?s.P_():Es(n)&&n.j_.set("Unknown"))}function Dd(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).y_(e)}function h_(i,e){i.H_.Ne(e),Ro(i).w_(e)}function Nd(i){i.H_=new mS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.j_.B_()}function Vd(i){return Es(i)&&!Ro(i).u_()&&i.K_.size>0}function Es(i){return De(i).W_.size===0}function d_(i){i.H_=void 0}async function TI(i){i.j_.set("Online")}async function SI(i){i.K_.forEach((e,n)=>{Dd(i,e)})}async function II(i,e){d_(i),Vd(i)?(i.j_.q_(e),Nd(i)):i.j_.set("Unknown")}async function AI(i,e,n){if(i.j_.set("Online"),e instanceof Xy&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const f of u.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,h),a.K_.delete(f),a.H_.removeTarget(f))}(i,e)}catch(s){ce(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pu(i,s)}else if(e instanceof du?i.H_.We(e):e instanceof Qy?i.H_.Ze(e):i.H_.je(e),!n.isEqual(ke.min()))try{const s=await a_(i.localStore);n.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.K_.get(_);w&&u.K_.set(_,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,_)=>{const w=u.K_.get(g);if(!w)return;u.K_.set(g,w.withResumeToken(Yt.EMPTY_BYTE_STRING,w.snapshotVersion)),h_(u,g);const R=new Pi(w.target,g,_,w.sequenceNumber);Dd(u,R)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n)}catch(s){ce(ms,"Failed to raise snapshot:",s),await Pu(i,s)}}async function Pu(i,e,n){if(!Ao(e))throw e;i.W_.add(1),await ba(i),i.j_.set("Offline"),n||(n=()=>a_(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ms,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Ku(i)})}function f_(i,e){return e().catch(n=>Pu(i,n,e))}async function Gu(i){const e=De(i),n=bi(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:yd;for(;RI(e);)try{const a=await aI(e.localStore,s);if(a===null){e.U_.length===0&&n.P_();break}s=a.batchId,CI(e,a)}catch(a){await Pu(e,a)}p_(e)&&m_(e)}function RI(i){return Es(i)&&i.U_.length<10}function CI(i,e){i.U_.push(e);const n=bi(i);n.c_()&&n.S_&&n.b_(e.mutations)}function p_(i){return Es(i)&&!bi(i).u_()&&i.U_.length>0}function m_(i){bi(i).start()}async function PI(i){bi(i).C_()}async function xI(i){const e=bi(i);for(const n of i.U_)e.b_(n.mutations)}async function kI(i,e,n){const s=i.U_.shift(),a=Sd.from(s,e,n);await f_(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Gu(i)}async function DI(i,e){e&&bi(i).S_&&await async function(s,a){if(function(h){return fS(h)&&h!==Z.ABORTED}(a.code)){const u=s.U_.shift();bi(s).h_(),await f_(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Gu(s)}}(i,e),p_(i)&&m_(i)}async function vg(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),ce(ms,"RemoteStore received new credentials");const s=Es(n);n.W_.add(3),await ba(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ku(n)}async function NI(i,e){const n=De(i);e?(n.W_.delete(2),await Ku(n)):e||(n.W_.add(2),await ba(n),n.j_.set("Unknown"))}function Ro(i){return i.J_||(i.J_=function(n,s,a){const u=De(n);return u.M_(),new gI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:TI.bind(null,i),No:SI.bind(null,i),Lo:II.bind(null,i),p_:AI.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Vd(i)?Nd(i):i.j_.set("Unknown")):(await i.J_.stop(),d_(i))})),i.J_}function bi(i){return i.Y_||(i.Y_=function(n,s,a){const u=De(n);return u.M_(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:PI.bind(null,i),Lo:DI.bind(null,i),D_:xI.bind(null,i),v_:kI.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Gu(i)):(await i.Y_.stop(),i.U_.length>0&&(ce(ms,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,f=new jd(e,n,h,a,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(i,e){if(Jr("AsyncQueue",`${e}: ${i}`),Ao(i))return new _e(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=ma(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Z_=new gt(Re.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Eo{constructor(e,n,s,a,u,h,f,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(f=>{h.push({type:0,doc:f})}),new Eo(e,n,fo.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jI{constructor(){this.queries=wg(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const a=De(n),u=a.queries;a.queries=wg(),u.forEach((h,f)=>{for(const g of f.ta)g.onError(s)})})(this,new _e(Z.ABORTED,"Firestore shutting down"))}}function wg(){return new _s(i=>Ly(i),Bu)}async function LI(i,e){const n=De(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.na()&&e.ra()&&(s=2):(u=new VI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(a,!0);break;case 1:u.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const f=Ld(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Md(n)}async function MI(i,e){const n=De(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?a=e.ra()?0:1:!u.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OI(i,e){const n=De(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const f of h.ta)f.oa(a)&&(s=!0);h.ea=a}}s&&Md(n)}function bI(i,e,n){const s=De(i),a=s.queries.get(e);if(a)for(const u of a.ta)u.onError(n);s.queries.delete(e)}function Md(i){i.ia.forEach(e=>{e.next()})}var od,Tg;(Tg=od||(od={}))._a="default",Tg.Cache="cache";class FI{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class UI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=My(e),this.wa=new fo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Eg,a=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const S=a.get(w),N=zu(this.query,R)?R:null,$=!!S&&this.mutatedKeys.has(S.key),F=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;S&&N?S.data.isEqual(N.data)?$!==F&&(s.track({type:3,doc:N}),U=!0):this.va(S,N)||(s.track({type:2,doc:N}),U=!0,(g&&this.ya(N,g)>0||_&&this.ya(N,_)<0)&&(f=!0)):!S&&N?(s.track({type:0,doc:N}),U=!0):S&&!N&&(s.track({type:1,doc:S}),U=!0,(g||_)&&(f=!0)),U&&(N?(h=h.add(N),u=F?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,R)=>function(N,$){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return F(N)-F($)}(w.type,R.type)||this.ya(w.doc,R.doc)),this.Ca(s),a=a!=null&&a;const f=n&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,_=g!==this.ga;return this.ga=g,h.length!==0||_?{snapshot:new Eo(this.query,e.wa,u,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Eg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new y_(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new g_(s))}),n}Oa(e){this.fa=e.gs,this.pa=Be();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Od="SyncEngine";class BI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zI{constructor(e){this.key=e,this.Ba=!1}}class $I{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new _s(f=>Ly(f),Bu),this.qa=new Map,this.Qa=new Set,this.$a=new gt(Re.comparator),this.Ua=new Map,this.Ka=new Rd,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HI(i,e,n=!0){const s=S_(i);let a;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Na()):a=await __(s,e,n,!0),a}async function qI(i,e){const n=S_(i);await __(n,e,!0,!1)}async function __(i,e,n,s){const a=await lI(i.localStore,Pr(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let f;return s&&(f=await WI(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&c_(i.remoteStore,a),f}async function WI(i,e,n,s,a){i.Ha=(R,S,N)=>async function(F,U,te,re){let oe=U.view.ba(te);oe.ls&&(oe=await pg(F.localStore,U.query,!1).then(({documents:V})=>U.view.ba(V,oe)));const ae=re&&re.targetChanges.get(U.targetId),Oe=re&&re.targetMismatches.get(U.targetId)!=null,Ne=U.view.applyChanges(oe,F.isPrimaryClient,ae,Oe);return Ig(F,U.targetId,Ne.Ma),Ne.snapshot}(i,R,S,N);const u=await pg(i.localStore,e,!0),h=new UI(e,u.gs),f=h.ba(u.documents),g=Oa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=h.applyChanges(f,i.isPrimaryClient,g);Ig(i,n,_.Ma);const w=new BI(e,n,h);return i.ka.set(e,w),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),_.snapshot}async function KI(i,e,n){const s=De(i),a=s.ka.get(e),u=s.qa.get(a.targetId);if(u.length>1)return s.qa.set(a.targetId,u.filter(h=>!Bu(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await id(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&kd(s.remoteStore,a.targetId),ad(s,a.targetId)}).catch(Io)):(ad(s,a.targetId),await id(s.localStore,a.targetId,!0))}async function GI(i,e){const n=De(i),s=n.ka.get(e),a=n.qa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kd(n.remoteStore,s.targetId))}async function QI(i,e,n){const s=nA(i);try{const a=await function(h,f){const g=De(h),_=Nt.now(),w=f.reduce((N,$)=>N.add($.key),Be());let R,S;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let $=Zr(),F=Be();return g.ds.getEntries(N,w).next(U=>{$=U,$.forEach((te,re)=>{re.isValidDocument()||(F=F.add(te))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,$)).next(U=>{R=U;const te=[];for(const re of f){const oe=lS(re,R.get(re.key).overlayedDocument);oe!=null&&te.push(new vs(re.key,oe,Cy(oe.value.mapValue),Qr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,_,te,f)}).next(U=>{S=U;const te=U.applyToLocalDocumentSet(R,F);return g.documentOverlayCache.saveOverlays(N,U.batchId,te)})}).then(()=>({batchId:S.batchId,changes:by(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,f,g){let _=h.Wa[h.currentUser.toKey()];_||(_=new gt(Ue)),_=_.insert(f,g),h.Wa[h.currentUser.toKey()]=_}(s,a.batchId,n),await Fa(s,a.changes),await Gu(s.remoteStore)}catch(a){const u=Ld(a,"Failed to persist write");n.reject(u)}}async function v_(i,e){const n=De(i);try{const s=await sI(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ua.get(u);h&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?Je(h.Ba):a.removedDocuments.size>0&&(Je(h.Ba),h.Ba=!1))}),await Fa(n,s,e)}catch(s){await Io(s)}}function Sg(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(h,f){const g=De(h);g.onlineState=f;let _=!1;g.queries.forEach((w,R)=>{for(const S of R.ta)S.sa(f)&&(_=!0)}),_&&Md(g)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XI(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ua.get(e),u=a&&a.key;if(u){let h=new gt(Re.comparator);h=h.insert(u,on.newNoDocument(u,ke.min()));const f=Be().add(u),g=new qu(ke.min(),new Map,new gt(Ue),h,f);await v_(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),bd(s)}else await id(s.localStore,e,!1).then(()=>ad(s,e,n)).catch(Io)}async function YI(i,e){const n=De(i),s=e.batch.batchId;try{const a=await iI(n.localStore,e);w_(n,s,null),E_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fa(n,a)}catch(a){await Io(a)}}async function JI(i,e,n){const s=De(i);try{const a=await function(h,f){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,f).next(R=>(Je(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);w_(s,e,n),E_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fa(s,a)}catch(a){await Io(a)}}function E_(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function w_(i,e,n){const s=De(i);let a=s.Wa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function ad(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||T_(i,s)})}function T_(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(kd(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),bd(i))}function Ig(i,e,n){for(const s of n)s instanceof g_?(i.Ka.addReference(s.key,e),ZI(i,s)):s instanceof y_?(ce(Od,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||T_(i,s.key)):Ce()}function ZI(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce(Od,"New document in limbo: "+n),i.Qa.add(s),bd(i))}function bd(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Re(ct.fromString(e)),s=i.za.next();i.Ua.set(s,new zI(n)),i.$a=i.$a.insert(n,s),c_(i.remoteStore,new Pi(Pr(jy(n.path)),s,"TargetPurposeLimboResolution",Ou.ae))}}async function Fa(i,e,n){const s=De(i),a=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,g)=>{h.push(s.Ha(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){a.push(_);const R=Pd.Yi(g.targetId,_);u.push(R)}}))}),await Promise.all(h),s.La.p_(a),await async function(g,_){const w=De(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Q.forEach(_,S=>Q.forEach(S.Hi,N=>w.persistence.referenceDelegate.addReference(R,S.targetId,N)).next(()=>Q.forEach(S.Ji,N=>w.persistence.referenceDelegate.removeReference(R,S.targetId,N)))))}catch(R){if(!Ao(R))throw R;ce(xd,"Failed to update sequence numbers: "+R)}for(const R of _){const S=R.targetId;if(!R.fromCache){const N=w.Ts.get(S),$=N.snapshotVersion,F=N.withLastLimboFreeSnapshotVersion($);w.Ts=w.Ts.insert(S,F)}}}(s.localStore,u))}async function eA(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){ce(Od,"User change. New user:",e.toKey());const s=await o_(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(g=>{g.reject(new _e(Z.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fa(n,s.Rs)}}function tA(i,e){const n=De(i),s=n.Ua.get(e);if(s&&s.Ba)return Be().add(s.key);{let a=Be();const u=n.qa.get(e);if(!u)return a;for(const h of u){const f=n.ka.get(h);a=a.unionWith(f.view.Sa)}return a}}function S_(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XI.bind(null,e),e.La.p_=OI.bind(null,e.eventManager),e.La.Ja=bI.bind(null,e.eventManager),e}function nA(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wu(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return rI(this.persistence,new eI,e.initialUser,this.serializer)}Xa(e){return new s_(Cd.ri,this.serializer)}Za(e){return new cI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xu.provider={build:()=>new xu};class rA extends xu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Je(this.persistence.referenceDelegate instanceof Cu);const s=this.persistence.referenceDelegate.garbageCollector;return new FS(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new s_(s=>Cu.ri(s,n),this.serializer)}}class ld{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eA.bind(null,this.syncEngine),await NI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jI}()}createDatastore(e){const n=Wu(e.databaseInfo.databaseId),s=function(u){return new mI(u)}(e.databaseInfo);return function(u,h,f,g){return new vI(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,f){return new wI(s,a,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,n=>Sg(this.syncEngine,n,0),function(){return yg.D()?new yg:new hI}())}createSyncEngine(e,n){return function(a,u,h,f,g,_,w){const R=new $I(a,u,h,f,g,_);return w&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=De(a);ce(ms,"RemoteStore shutting down."),u.W_.add(5),await ba(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ld.provider={build:()=>new ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class sA{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(Fi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(Fi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ld(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bh(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Fi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await o_(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Ag(i,e){i.asyncQueue.verifyOperationInProgress();const n=await oA(i);ce(Fi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>vg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>vg(e.remoteStore,a)),i._onlineComponents=e}async function oA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Fi,"Using user provided OfflineComponentProvider");try{await bh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await bh(i,new xu)}}else ce(Fi,"Using default OfflineComponentProvider"),await bh(i,new rA(void 0));return i._offlineComponents}async function I_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Fi,"Using user provided OnlineComponentProvider"),await Ag(i,i._uninitializedComponentsProvider._online)):(ce(Fi,"Using default OnlineComponentProvider"),await Ag(i,new ld))),i._onlineComponents}function aA(i){return I_(i).then(e=>e.syncEngine)}async function lA(i){const e=await I_(i),n=e.eventManager;return n.onListen=HI.bind(null,e.syncEngine),n.onUnlisten=KI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GI.bind(null,e.syncEngine),n}function uA(i,e,n={}){const s=new Ni;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,_){const w=new iA({next:S=>{w.su(),h.enqueueAndForget(()=>MI(u,R)),S.fromCache&&g.source==="server"?_.reject(new _e(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),R=new FI(f,w,{includeMetadataChanges:!0,Ta:!0});return LI(u,R)}(await lA(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(i,e,n){if(!n)throw new _e(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cA(i,e,n,s){if(e===!0&&s===!0)throw new _e(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Cg(i){if(!Re.isDocumentKey(i))throw new _e(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pg(i){if(Re.isDocumentKey(i))throw new _e(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function ku(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fd(i);throw new _e(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="firestore.googleapis.com",xg=!0;class kg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C_,this.ssl=xg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:xg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OS)throw new _e(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new p0;switch(s.type){case"firstParty":return new _0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Rg.get(n);s&&(ce("ComponentProvider","Removing Datastore"),Rg.delete(n),s.terminate())}(this),Promise.resolve()}}function hA(i,e,n,s={}){var a;const u=(i=ku(i,Qu))._getSettings(),h=`${e}:${n}`;if(u.host!==C_&&u.host!==h&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=sn.MOCK_USER;else{f=Kw(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new _e(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(_)}i._authCredentials=new m0(new gy(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xu(this.firestore,e,this._query)}}class hr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Vi extends Xu{constructor(e,n,s){super(e,n,jy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Re(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Co(i,e,...n){if(i=Ia(i),R_("collection","path",e),i instanceof Qu){const s=ct.fromString(e,...n);return Pg(s),new Vi(i,null,s)}{if(!(i instanceof hr||i instanceof Vi))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...n));return Pg(s),new Vi(i.firestore,null,s)}}function dA(i,e,...n){if(i=Ia(i),arguments.length===1&&(e=yy.newId()),R_("doc","path",e),i instanceof Qu){const s=ct.fromString(e,...n);return Cg(s),new hr(i,null,new Re(s))}{if(!(i instanceof hr||i instanceof Vi))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...n));return Cg(s),new hr(i.firestore,i instanceof Vi?i.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="AsyncQueue";class Ng{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new l_(this,"async_queue_retry"),this.Su=()=>{const s=Oh();s&&ce(Dg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Oh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Oh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ao(e))throw e;ce(Dg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Jr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=jd.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(a),a}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ud extends Qu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Ng,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ng(e),this._firestoreClient=void 0,await e}}}function fA(i,e){const n=typeof i=="object"?i:r0(),s=typeof i=="string"?i:Eu,a=JT(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=qw("firestore");u&&hA(a,...u)}return a}function P_(i){if(i._terminated)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pA(i),i._firestoreClient}function pA(i){var e,n,s;const a=i._freezeSettings(),u=function(f,g,_,w){return new N0(f,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,A_(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new sA(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Yt.fromBase64String(e))}catch(n){throw new _e(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=/^__.*__$/;class gA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ma(e,this.data,n,this.fieldTransforms)}}function k_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Hd{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Du(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(k_(this.Lu)&&mA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wu(e)}ju(e,n,s,a=!1){return new Hd({Lu:e,methodName:n,zu:s,path:Xt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _A(i){const e=i._freezeSettings(),n=Wu(i._databaseId);return new yA(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vA(i,e,n,s,a,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,a);j_("Data must be an object, but it was:",h,s);const f=N_(s,h);let g,_;if(u.merge)g=new cr(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const R of u.mergeFields){const S=EA(e,R,n);if(!h.contains(S))throw new _e(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TA(w,S)||w.push(S)}g=new cr(w),_=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,_=h.fieldTransforms;return new gA(new Wn(f),g,_)}function D_(i,e){if(V_(i=Ia(i)))return j_("Unsupported field value:",e,i),N_(i,e);if(i instanceof x_)return function(s,a){if(!k_(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const f of s){let g=D_(f,a.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Ia(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Ru(a.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ru(a.serializer,u)}}if(s instanceof zd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wo)return{bytesValue:Yy(a.serializer,s._byteString)};if(s instanceof hr){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ad(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof $d)return function(h,f){return{mapValue:{fields:{[Ay]:{stringValue:Ry},[wu]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw f.Wu("VectorValues must only contain numeric values.");return Td(f.serializer,_)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Fd(s)}`)}(i,e)}function N_(i,e){const n={};return vy(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,(s,a)=>{const u=D_(a,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function V_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof zd||i instanceof wo||i instanceof hr||i instanceof x_||i instanceof $d)}function j_(i,e,n){if(!V_(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Fd(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function EA(i,e,n){if((e=Ia(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return L_(i,e);throw Du("Field path arguments must be of type string or ",i,!1,void 0,n)}const wA=new RegExp("[~\\*/\\[\\]]");function L_(i,e,n){if(e.search(wA)>=0)throw Du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Bd(...e.split("."))._internalPath}catch{throw Du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Du(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new _e(Z.INVALID_ARGUMENT,f+i+g)}function TA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SA extends M_{data(){return super.data()}}function O_(i,e){return typeof e=="string"?L_(i,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AA{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[wu].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>vt(h.doubleValue));return new $d(u)}convertGeoPoint(e){return new zd(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);Je(r_(s));const a=new xa(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return a.isEqual(n)||Jr(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CA extends M_{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(O_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fu extends CA{data(e={}){return super.data(e)}}class PA{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fu(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(f=>{const g=new fu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new fu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new au(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:xA(f.type),doc:g,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class kA extends AA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function Ua(i){i=ku(i,Xu);const e=ku(i.firestore,Ud),n=P_(e),s=new kA(e);return IA(i._query),uA(n,i._query).then(a=>new PA(e,s,i,a))}function DA(i,e){const n=ku(i.firestore,Ud),s=dA(i),a=RA(i.converter,e);return NA(n,[vA(_A(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Qr.exists(!1))]).then(()=>s)}function NA(i,e){return function(s,a){const u=new Ni;return s.asyncQueue.enqueueAndForget(async()=>QI(await aA(s),a,u)),u.promise}(P_(i),e)}(function(e,n=!0){(function(a){So=a})(n0),_u(new Aa("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Ud(new g0(s.getProvider("auth-internal")),new v0(h,s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new _e(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(_.options.projectId,w)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),ho(Fm,Um,e),ho(Fm,Um,"esm2017")})();var VA="firebase",jA="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(VA,jA,"app");var cs={VITE_FIREBASE_API_KEY:"AIzaSyC_S3ogmaZ9laLIetOD6eWO8HESZ7OFXEU",VITE_FIREBASE_AUTH_DOMAIN:"portfolio-d0eff.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"portfolio-d0eff",VITE_FIREBASE_STORAGE_BUCKET:"portfolio-d0eff.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"68887099400",VITE_FIREBASE_APP_ID:"1:68887099400:web:a697b208557cd1eed2f9bd",VITE_FIREBASE_MEASUREMENT_ID:"G-D8JLXQDMXF"};const LA={apiKey:cs.VITE_FIREBASE_API_KEY,authDomain:cs.VITE_FIREBASE_AUTH_DOMAIN,projectId:cs.VITE_FIREBASE_PROJECT_ID,storageBucket:cs.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:cs.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:cs.VITE_FIREBASE_APP_ID,measurementId:cs.VITE_FIREBASE_MEASUREMENT_ID},MA=ay(LA),Po=fA(MA);function OA(){const[i,e]=Y.useState([]),[n,s]=Y.useState(!1);Y.useEffect(()=>{(async()=>{try{const f=(await Ua(Co(Po,"clients"))).docs.map(g=>g.data());e(f)}catch(h){console.error(h)}})()},[]);const a=()=>{s(!n)};return E.jsxs("div",{className:"happy-clients-section hidden-area",children:[E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"06. "}),"What My Clients Say"]}),E.jsxs("div",{className:"happy-clients-content",children:[i==null?void 0:i.map((u,h)=>E.jsxs("div",{className:"happy-clients-card",children:[E.jsx("img",{className:"client-pic",src:`${u.image}`,alt:"client"}),E.jsx("img",{className:"quotes-pic",src:"./icons/quotes.png",alt:"quotes"}),E.jsx("h3",{children:u.name}),E.jsx("p",{children:u.description}),E.jsxs("div",{className:"client-profession",children:[E.jsx("p",{children:u.profession}),E.jsx("p",{children:u.company})]})]},h)),E.jsx("div",{className:"add-testimonial-container",children:E.jsx("button",{className:"add-testimonial-btn",onClick:a,children:"Share Your Experience"})})]}),E.jsx(Lw,{isOpen:n,onClose:a,title:"Share Your Experience",children:E.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSff6tzcnt1lN26FklbTZtNm2DvUFy5iAS9Pggxz0U8dN83VsA/viewform?embedded=true",title:"Client Testimonial Form",frameBorder:"0",marginHeight:"0",marginWidth:"0",children:"Loading form..."})})]})}const bA="_servicesSection_18is4_1",FA="_servicesContainer_18is4_7",UA="_cardsWrapper_18is4_14",BA="_slideOut_18is4_18",zA="_cards_18is4_14",$A="_card_18is4_14",HA="_cardTitle_18is4_48",qA="_cardText_18is4_54",WA="_cardButton_18is4_61",KA="_formWrapper_18is4_79",GA="_slideIn_18is4_88",QA="_formContent_18is4_93",XA="_formHeader_18is4_118",YA="_backButton_18is4_126",JA="_formGroup_18is4_145",ZA="_submitButton_18is4_176",we={servicesSection:bA,servicesContainer:FA,cardsWrapper:UA,slideOut:BA,cards:zA,card:$A,cardTitle:HA,cardText:qA,cardButton:WA,formWrapper:KA,slideIn:GA,formContent:QA,formHeader:XA,backButton:YA,formGroup:JA,submitButton:ZA};function e1(){const[i,e]=Y.useState(null),[n,s]=Y.useState({name:"",email:""}),[a,u]=Y.useState(!1),h=g=>{s({...n,[g.target.name]:g.target.value})},f=async(g,_={})=>{try{u(!0);const w={...n,..._,service:g,timestamp:new Date};await DA(Co(Po,"offers"),w),alert("Thank you! Your request has been submitted. I will be in touch shortly."),e(null),s({name:"",email:""})}catch(w){console.error("Error submitting request:",w),alert("Error submitting your request. Please try again.")}finally{u(!1)}};return E.jsxs("div",{className:we.servicesSection,children:[E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"07. "}),"Services"]}),E.jsxs("div",{className:we.servicesContainer,children:[E.jsx("div",{className:`${we.cardsWrapper} ${i?we.slideOut:""}`,children:E.jsxs("div",{className:we.cards,children:[E.jsxs("div",{className:we.card,children:[E.jsx("img",{src:"icons/AI.png",alt:"",width:75}),E.jsx("h3",{className:we.cardTitle,children:"AI solutions"}),E.jsx("p",{className:we.cardText,children:"Leverage our cutting-edge AI solutions to transform your business operations and gain valuable insights. With our expertise spanning chatbots, predictive analytics, and automation, we empower you to stay ahead in today's data-centric environment. Harness the power of AI with us to unlock new opportunities and drive innovation in your organization."}),E.jsx("button",{className:we.cardButton,onClick:()=>e("ai"),children:"Learn More"})]}),E.jsxs("div",{className:we.card,children:[E.jsx("img",{src:"icons/web-dev.png",alt:"",width:75}),E.jsx("h3",{className:we.cardTitle,children:"Web Development"}),E.jsx("p",{className:we.cardText,children:"Embark on your online journey with me. My website development services blend creativity and functionality to deliver visually stunning websites. I have worked on more than 100+ websites Specializing in both front-end and back-end development,I guarantee seamless performance and an intuitive user interface. Let us lay the groundwork for your digital success."}),E.jsx("button",{className:we.cardButton,onClick:()=>e("web"),children:"Hire Me"})]}),E.jsxs("div",{className:we.card,children:[E.jsx("img",{src:"icons/online-learning.png",alt:"",width:75}),E.jsx("h3",{className:we.cardTitle,children:"Online Learning"}),E.jsx("p",{className:we.cardText,children:"I offer personalized online tutoring services to help you master programming languages and frameworks. Whether you're a beginner or an experienced coder, I provide tailored lessons to suit your learning style. With my guidance, you can enhance your skills and achieve your learning goals. Let's embark on a learning journey together."}),E.jsx("button",{className:we.cardButton,onClick:()=>e("learning"),children:"Contact Me"})]})]})}),E.jsx("div",{className:`${we.formWrapper} ${i==="ai"?we.slideIn:""}`,children:E.jsxs("div",{className:we.formContent,children:[E.jsxs("div",{className:we.formHeader,children:[E.jsx("button",{className:we.backButton,onClick:()=>e(null),children:"← Back to Services"}),E.jsx("h2",{children:"AI Solutions"})]}),E.jsxs("form",{onSubmit:g=>{g.preventDefault();const _={company:g.target.company.value,projectDescription:g.target.projectDescription.value,budget:g.target.budget.value,timeline:g.target.timeline.value};f("ai",_)},children:[E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Name"}),E.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Company/Organization"}),E.jsx("input",{type:"text",name:"company",required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Project Description"}),E.jsx("textarea",{name:"projectDescription",required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Budget Range"}),E.jsxs("select",{name:"budget",required:!0,children:[E.jsx("option",{value:"",children:"Select Budget"}),E.jsx("option",{value:"< $250",children:"Less than $250"}),E.jsx("option",{value:"$250 - $1,000",children:"$250 - $1,000"}),E.jsx("option",{value:"$1,000 - $2,500",children:"$1,000 - $2,500"}),E.jsx("option",{value:"> $2,500",children:"More than $2,500"})]})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Timeline Expectations"}),E.jsxs("select",{name:"timeline",required:!0,children:[E.jsx("option",{value:"",children:"Select Timeline"}),E.jsx("option",{value:"< 1 month",children:"Less than 1 month"}),E.jsx("option",{value:"1-3 months",children:"1-3 months"}),E.jsx("option",{value:"3-6 months",children:"3-6 months"}),E.jsx("option",{value:"> 6 months",children:"More than 6 months"})]})]}),E.jsx("button",{type:"submit",className:we.submitButton,children:a?"Submitting...":"Submit Request"})]})]})}),E.jsx("div",{className:`${we.formWrapper} ${i==="web"?we.slideIn:""}`,children:E.jsxs("div",{className:we.formContent,children:[E.jsxs("div",{className:we.formHeader,children:[E.jsx("button",{className:we.backButton,onClick:()=>e(null),children:"← Back to Services"}),E.jsx("h2",{children:"Web Development"})]}),E.jsxs("form",{onSubmit:g=>{g.preventDefault();const _={projectType:g.target.projectType.value,features:g.target.features.value,budget:g.target.budget.value,timeline:g.target.timeline.value};f("web",_)},children:[E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Name"}),E.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Project Type"}),E.jsxs("select",{name:"projectType",required:!0,children:[E.jsx("option",{value:"",children:"Select Project Type"}),E.jsx("option",{value:"E-commerce",children:"E-commerce"}),E.jsx("option",{value:"Portfolio",children:"Portfolio"}),E.jsx("option",{value:"Blog",children:"Blog"}),E.jsx("option",{value:"Corporate",children:"Corporate Website"}),E.jsx("option",{value:"Other",children:"Other"})]})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Features Needed"}),E.jsx("textarea",{name:"features",placeholder:"Describe the features you need...",required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Budget Range"}),E.jsxs("select",{name:"budget",required:!0,children:[E.jsx("option",{value:"",children:"Select Budget"}),E.jsx("option",{value:"< $1,000",children:"Less than $1,000"}),E.jsx("option",{value:"$1,000 - $3,000",children:"$1,000 - $3,000"}),E.jsx("option",{value:"$3,000 - $5,000",children:"$3,000 - $5,000"}),E.jsx("option",{value:"> $5,000",children:"More than $5,000"})]})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Timeline Expectations"}),E.jsxs("select",{name:"timeline",required:!0,children:[E.jsx("option",{value:"",children:"Select Timeline"}),E.jsx("option",{value:"< 2 weeks",children:"Less than 2 weeks"}),E.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),E.jsx("option",{value:"1-2 months",children:"1-2 months"}),E.jsx("option",{value:"> 2 months",children:"More than 2 months"})]})]}),E.jsx("button",{type:"submit",className:we.submitButton,children:a?"Submitting...":"Submit Request"})]})]})}),E.jsx("div",{className:`${we.formWrapper} ${i==="learning"?we.slideIn:""}`,children:E.jsxs("div",{className:we.formContent,children:[E.jsxs("div",{className:we.formHeader,children:[E.jsx("button",{className:we.backButton,onClick:()=>e(null),children:"← Back to Services"}),E.jsx("h2",{children:"Online Learning"})]}),E.jsxs("form",{onSubmit:g=>{g.preventDefault();const _={technology:g.target.technology.value,skillLevel:g.target.skillLevel.value,learningGoals:g.target.learningGoals.value,schedule:g.target.schedule.value};f("learning",_)},children:[E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Name"}),E.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Technology Interested In"}),E.jsxs("select",{name:"technology",required:!0,children:[E.jsx("option",{value:"",children:"Select Technology"}),E.jsx("option",{value:"JavaScript",children:"JavaScript"}),E.jsx("option",{value:"Python",children:"Python"}),E.jsx("option",{value:"React",children:"React"}),E.jsx("option",{value:"Node.js",children:"Node.js"}),E.jsx("option",{value:"Other",children:"Other"})]})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Current Skill Level"}),E.jsxs("select",{name:"skillLevel",required:!0,children:[E.jsx("option",{value:"",children:"Select Skill Level"}),E.jsx("option",{value:"Beginner",children:"Beginner"}),E.jsx("option",{value:"Intermediate",children:"Intermediate"}),E.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Learning Goals"}),E.jsx("textarea",{name:"learningGoals",placeholder:"What do you want to achieve?",required:!0})]}),E.jsxs("div",{className:we.formGroup,children:[E.jsx("label",{children:"Preferred Schedule"}),E.jsx("textarea",{name:"schedule",placeholder:"What days/times work best for you?",required:!0})]}),E.jsx("button",{type:"submit",className:we.submitButton,children:a?"Submitting...":"Submit Request"})]})]})})]})]})}function t1(){return Y.useEffect(()=>{const i=document.querySelectorAll(".scroller");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e();function e(){i.forEach(n=>{n.setAttribute("data-animated",!0);const s=n.querySelector(".scroller__inner");Array.from(s.children).forEach(u=>{const h=u.cloneNode(!0);h.setAttribute("aria-hidden",!0),s.appendChild(h)})})}},[]),E.jsxs("div",{className:"collaborations hidden-area",children:[E.jsxs("div",{className:"home-sections-title",children:[E.jsx("span",{children:"05. "}),"Collaborations"]}),E.jsx("div",{className:"scroller","data-direction":"right","data-speed":"fast",children:E.jsxs("div",{className:"scroller__inner",children:[E.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),E.jsx("img",{src:"network/ensak.png",alt:""}),E.jsx("img",{src:"network/um6p_logo.png",alt:""}),E.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),E.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),E.jsx("img",{src:"network/smart-maint_logo.png",alt:""}),E.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),E.jsx("img",{src:"network/ensak.png",alt:""}),E.jsx("img",{src:"network/um6p_logo.png",alt:""}),E.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),E.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),E.jsx("img",{src:"network/smart-maint_logo.png",alt:""})]})})]})}function n1(){const i=fd();return Y.useEffect(()=>{const e=new IntersectionObserver(s=>{s.forEach(a=>{a.isIntersecting&&a.target.classList.add("visible")})});document.querySelectorAll(".hidden-area").forEach(s=>{e.observe(s)})},[]),E.jsxs(E.Fragment,{children:[E.jsx(Cw,{}),E.jsx(xw,{projectHighlight:i}),E.jsx(Vw,{}),E.jsx(kw,{}),E.jsx(Dw,{}),E.jsx(t1,{}),E.jsx(OA,{}),E.jsx(e1,{}),E.jsx(jw,{})]})}const b_=async()=>{const i=Co(Po,"projects");return(await Ua(i)).docs.map(s=>({_id:s.id,...s.data()})).filter(s=>s.showInOverview===!0)},r1=Object.freeze(Object.defineProperty({__proto__:null,default:n1,getHighlightedProjects:b_},Symbol.toStringTag,{value:"Module"}));function i1(){const i=fd(),[e,n]=Y.useState(i),s=Qg(),[a,u]=Y.useState(!1),[h,f]=Y.useState("All"),[g,_]=Y.useState({});let w=[{All:-1}];i.map(N=>{var $;($=N==null?void 0:N.tags)==null||$.map(F=>{(te=>{const re=w.findIndex(oe=>oe.hasOwnProperty(te));re!==-1?w[re][te]+=1:w.push({[te]:1})})(F)})}),Y.useEffect(()=>{const N=F=>{const U=F.target.getAttribute("data-tag");f(U)},$=document.querySelectorAll(".filter-element");return $.forEach(F=>{F.addEventListener("click",N)}),()=>{$.forEach(F=>{F.removeEventListener("click",N)})}},[]),Y.useEffect(()=>{const N=U=>{U.innerHTML=h+" ▼",u(!1);const te=i.filter(re=>h==="All"?!0:re.tags.includes(h));n(te)},$=document.querySelector(".filter");N($),document.querySelector(".filters").classList.add("hidden"),$.innerHTML=h+" ▼",u(!1)},[h,i]);const R=N=>{const $=document.querySelector(".filter"),F=document.querySelector(".filters");a?(F.classList.add("hidden"),$.innerHTML=h+" ▼",u(!1)):(F.classList.remove("hidden"),$.innerHTML=h+" ▶",u(!0))};Y.useEffect(()=>{document.getElementById("cards").onmousemove=N=>{for(const $ of document.getElementsByClassName("card")){const F=$.getBoundingClientRect(),U=N.clientX-F.left,te=N.clientY-F.top;$.style.setProperty("--mouse-x",`${U}px`),$.style.setProperty("--mouse-y",`${te}px`)}}},[]);const S=N=>{_($=>({...$,[N]:!0}))};return E.jsx(E.Fragment,{children:E.jsxs("section",{className:"projects-section",children:[E.jsxs("div",{className:"projects-header",children:[E.jsx("h1",{className:"projects-section__title",children:"Projects Library"}),E.jsx("div",{className:"projects-section__filters",children:E.jsxs("label",{onClick:R,children:["Category: ",E.jsxs("span",{className:"filter",children:[h," ▼"]})," "]})})]}),E.jsx("div",{className:"filters-container",children:E.jsx("div",{className:"filters hidden",children:w.map((N,$)=>Object.entries(N).map(([F,U])=>E.jsxs("div",{className:"filter-element","data-tag":F,children:[F," ",U!==-1?"("+U+")":""]},$)))})}),E.jsx("h2",{className:"projects-section__subtitle",children:"Get Access To All My Public Projects"}),E.jsx("div",{id:"cards",children:e&&e.map((N,$)=>{const F=N.description;let U=F.slice(0,250);const te=U.lastIndexOf(" ");return U=U.slice(0,te),F.length>200&&(U+="..."),E.jsxs("div",{className:"card",onClick:re=>{s("/projects/"+N.title.replace(/\s/g,"-"),{state:N})},children:[E.jsxs("div",{className:"projects-section__projects__project__img",style:{backgroundImage:g[N._id]?`url(${N.image})`:"none"},children:[!g[N._id]&&E.jsx(uo,{height:"100%"}),E.jsx("img",{src:`${N.image}`,alt:N.title,style:{display:"none"},onLoad:()=>S(N._id)})]}),g[N._id]?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"projects-section__projects__project__title",children:N.title}),E.jsx("p",{className:"projects-section__projects__project__description",children:U})]}):E.jsxs("div",{children:[E.jsx("div",{className:"home-projects-section__projects__project__description",style:{display:"flex",justifyContent:"center",width:"100%"},children:E.jsx(uo,{height:24,width:"10rem",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}})}),E.jsx("div",{className:"home-projects-section__projects__project__description",children:E.jsx(uo,{count:7})})]})]},N._id)})})]})})}const F_=async()=>{const i=Co(Po,"projects");return(await Ua(i)).docs.map(s=>({_id:s.id,...s.data()}))},s1=Object.freeze(Object.defineProperty({__proto__:null,default:i1,getProjects:F_},Symbol.toStringTag,{value:"Module"}));async function o1(){const i=Co(Po,"certificates"),e=await Ua(i),n=e.docs.map(a=>a.data()),s=e.size;return{allCertificates:n,count:s}}function a1(){const i=fd();return E.jsx("section",{children:E.jsxs("div",{className:"container1",children:[E.jsx("h2",{className:"heading-section",children:"Reports"}),E.jsxs("table",{className:"table-dark table-hover",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"#"}),E.jsx("th",{children:"Name"}),E.jsx("th",{children:"Date"}),E.jsx("th",{children:"Description"}),E.jsx("th",{children:"Action"})]})}),E.jsx("tbody",{children:i&&i.map((e,n)=>E.jsxs("tr",{children:[E.jsx("th",{scope:"row",children:n+1}),E.jsx("td",{children:e.name}),E.jsx("td",{children:e.date}),E.jsx("td",{children:e.description}),E.jsx("td",{children:E.jsx("a",{className:"btn-download",href:"reports/"+e.name,style:{cursor:"pointer"},children:"Download"})})]},n))})]})]})})}async function U_(){const i=Co(Po,"reports");return(await Ua(i)).docs.map(s=>({_id:s.id,...s.data()}))}const l1=Object.freeze(Object.defineProperty({__proto__:null,default:a1,getReports:U_},Symbol.toStringTag,{value:"Module"})),Tn=E.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('preloader.png')",backgroundSize:"auto 50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"preloader"}),u1=mt.lazy(()=>jn(()=>import("./Root-2Mp0Zn2E.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),c1=mt.lazy(()=>jn(()=>Promise.resolve().then(()=>r1),void 0,import.meta.url)),h1=mt.lazy(()=>jn(()=>Promise.resolve().then(()=>s1),void 0,import.meta.url)),d1=mt.lazy(()=>jn(()=>import("./Project-CR0KoGjg.js"),__vite__mapDeps([4,5,1,2,6]),import.meta.url)),f1=mt.lazy(()=>jn(()=>import("./Certificates-BhqXERLc.js"),__vite__mapDeps([7,8]),import.meta.url)),p1=mt.lazy(()=>jn(()=>import("./Resume-DDwO4KXo.js"),__vite__mapDeps([9,10]),import.meta.url)),m1=mt.lazy(()=>jn(()=>import("./MusicPicks-DpOs7YL7.js"),__vite__mapDeps([11,12]),import.meta.url)),g1=mt.lazy(()=>jn(()=>import("./Skills-su9Y7Aye.js"),__vite__mapDeps([13,14]),import.meta.url)),y1=mt.lazy(()=>jn(()=>Promise.resolve().then(()=>l1),void 0,import.meta.url)),_1=mt.lazy(()=>jn(()=>import("./Articles-BAcn64MR.js"),__vite__mapDeps([15,16]),import.meta.url)),v1=mt.lazy(()=>jn(()=>import("./Team-Co_gWf7S.js"),__vite__mapDeps([17,2,18]),import.meta.url)),E1=mt.lazy(()=>jn(()=>import("./BackOffice-BSpKkJ_Z.js"),__vite__mapDeps([19,5,20]),import.meta.url)),w1=mt.lazy(()=>jn(()=>import("./NotFound-q8PAdEjM.js"),[],import.meta.url)),T1=Tw(mu(E.jsxs(wn,{path:"/",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(u1,{})}),children:[E.jsx(wn,{index:!0,element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(c1,{})}),loader:b_}),E.jsx(wn,{path:"projects",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(h1,{})}),loader:F_}),E.jsx(wn,{path:"projects/:title",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(d1,{})})}),E.jsx(wn,{path:"certificates",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(f1,{})}),loader:o1}),E.jsx(wn,{path:"resume",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(p1,{})})}),E.jsx(wn,{path:"my-team",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(v1,{})})}),E.jsx(wn,{path:"music",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(m1,{})})}),E.jsx(wn,{path:"skills",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(g1,{})})}),E.jsx(wn,{path:"reports",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(y1,{})}),loader:U_}),E.jsx(wn,{path:"articles",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(_1,{})})}),E.jsx(wn,{path:"fillDB",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(E1,{})})}),E.jsx(wn,{path:"*",element:E.jsx(Y.Suspense,{fallback:Tn,children:E.jsx(w1,{})})})]})));function S1(){return E.jsx(mw,{router:T1,fallbackElement:Tn})}const I1=eE.createRoot(document.getElementById("root"));I1.render(E.jsx(nE,{baseColor:"#202020",highlightColor:"#444",children:E.jsx(S1,{})}));export{C1 as N,R1 as O,mt as R,uo as S,fd as a,A1 as b,ud as c,Yv as d,Vg as g,E as j,Y as r,La as u};
