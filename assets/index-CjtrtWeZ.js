const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-SKMoXL4b.js","./index-bK0GqZiz.js","./index-CXxPML84.js","./Root-D3hzenOY.css","./Project-Cvz0eLtq.js","./index-DoNhPvtS.js","./Project-DoEP67Rf.css","./Certificates-FdIi9-Br.js","./Certificates-DlM67GuP.css","./Resume-CHHsspx9.js","./Resume-DtU7L1PO.css","./MusicPicks-DeMMZsAB.js","./MusicPicks-DUXKN7Ks.css","./Articles-CxxcnBYl.js","./Articles-DJ5AvvuJ.css","./Team-BzyHMbUB.js","./Team-DD6ZGrwr.css","./BackOffice-CGyvIinP.js","./BackOffice-DFDHuiZn.css","./SiteMap-CpnLUv3o.js","./sitemapGenerator-Tf43URGZ.js","./SiteMap-BUGXxyVE.css","./SitemapXml-BB75EgAD.js"])))=>i.map(i=>d[i]);
function fI(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function aa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function RN(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Uh={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function pI(){if(ey)return Be;ey=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function j(x,Q,he){this.props=x,this.context=Q,this.refs=M,this.updater=he||k}j.prototype.isReactComponent={},j.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=j.prototype;function te(x,Q,he){this.props=x,this.context=Q,this.refs=M,this.updater=he||k}var re=te.prototype=new G;re.constructor=te,O(re,j.prototype),re.isPureReactComponent=!0;var ie=Array.isArray,Ne=Object.prototype.hasOwnProperty,Ce={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(x,Q,he){var Ee,Le={},Ge=null,qe=null;if(Q!=null)for(Ee in Q.ref!==void 0&&(qe=Q.ref),Q.key!==void 0&&(Ge=""+Q.key),Q)Ne.call(Q,Ee)&&!b.hasOwnProperty(Ee)&&(Le[Ee]=Q[Ee]);var Ke=arguments.length-2;if(Ke===1)Le.children=he;else if(1<Ke){for(var Ue=Array(Ke),kt=0;kt<Ke;kt++)Ue[kt]=arguments[kt+2];Le.children=Ue}if(x&&x.defaultProps)for(Ee in Ke=x.defaultProps,Ke)Le[Ee]===void 0&&(Le[Ee]=Ke[Ee]);return{$$typeof:r,type:x,key:Ge,ref:qe,props:Le,_owner:Ce.current}}function C(x,Q){return{$$typeof:r,type:x.type,key:Q,ref:x.ref,props:x.props,_owner:x._owner}}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function V(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(he){return Q[he]})}var F=/\/+/g;function P(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):Q.toString(36)}function gt(x,Q,he,Ee,Le){var Ge=typeof x;(Ge==="undefined"||Ge==="boolean")&&(x=null);var qe=!1;if(x===null)qe=!0;else switch(Ge){case"string":case"number":qe=!0;break;case"object":switch(x.$$typeof){case r:case e:qe=!0}}if(qe)return qe=x,Le=Le(qe),x=Ee===""?"."+P(qe,0):Ee,ie(Le)?(he="",x!=null&&(he=x.replace(F,"$&/")+"/"),gt(Le,Q,he,"",function(kt){return kt})):Le!=null&&(D(Le)&&(Le=C(Le,he+(!Le.key||qe&&qe.key===Le.key?"":(""+Le.key).replace(F,"$&/")+"/")+x)),Q.push(Le)),1;if(qe=0,Ee=Ee===""?".":Ee+":",ie(x))for(var Ke=0;Ke<x.length;Ke++){Ge=x[Ke];var Ue=Ee+P(Ge,Ke);qe+=gt(Ge,Q,he,Ue,Le)}else if(Ue=T(x),typeof Ue=="function")for(x=Ue.call(x),Ke=0;!(Ge=x.next()).done;)Ge=Ge.value,Ue=Ee+P(Ge,Ke++),qe+=gt(Ge,Q,he,Ue,Le);else if(Ge==="object")throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return qe}function jt(x,Q,he){if(x==null)return x;var Ee=[],Le=0;return gt(x,Ee,"","",function(Ge){return Q.call(he,Ge,Le++)}),Ee}function Ft(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(he){(x._status===0||x._status===-1)&&(x._status=1,x._result=he)},function(he){(x._status===0||x._status===-1)&&(x._status=2,x._result=he)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var De={current:null},oe={transition:null},_e={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Ce};return Be.Children={map:jt,forEach:function(x,Q,he){jt(x,function(){Q.apply(this,arguments)},he)},count:function(x){var Q=0;return jt(x,function(){Q++}),Q},toArray:function(x){return jt(x,function(Q){return Q})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Be.Component=j,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=te,Be.StrictMode=i,Be.Suspense=p,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Be.cloneElement=function(x,Q,he){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ee=O({},x.props),Le=x.key,Ge=x.ref,qe=x._owner;if(Q!=null){if(Q.ref!==void 0&&(Ge=Q.ref,qe=Ce.current),Q.key!==void 0&&(Le=""+Q.key),x.type&&x.type.defaultProps)var Ke=x.type.defaultProps;for(Ue in Q)Ne.call(Q,Ue)&&!b.hasOwnProperty(Ue)&&(Ee[Ue]=Q[Ue]===void 0&&Ke!==void 0?Ke[Ue]:Q[Ue])}var Ue=arguments.length-2;if(Ue===1)Ee.children=he;else if(1<Ue){Ke=Array(Ue);for(var kt=0;kt<Ue;kt++)Ke[kt]=arguments[kt+2];Ee.children=Ke}return{$$typeof:r,type:x.type,key:Le,ref:Ge,props:Ee,_owner:qe}},Be.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:l,_context:x},x.Consumer=x},Be.createElement=A,Be.createFactory=function(x){var Q=A.bind(null,x);return Q.type=x,Q},Be.createRef=function(){return{current:null}},Be.forwardRef=function(x){return{$$typeof:h,render:x}},Be.isValidElement=D,Be.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Ft}},Be.memo=function(x,Q){return{$$typeof:y,type:x,compare:Q===void 0?null:Q}},Be.startTransition=function(x){var Q=oe.transition;oe.transition={};try{x()}finally{oe.transition=Q}},Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.useCallback=function(x,Q){return De.current.useCallback(x,Q)},Be.useContext=function(x){return De.current.useContext(x)},Be.useDebugValue=function(){},Be.useDeferredValue=function(x){return De.current.useDeferredValue(x)},Be.useEffect=function(x,Q){return De.current.useEffect(x,Q)},Be.useId=function(){return De.current.useId()},Be.useImperativeHandle=function(x,Q,he){return De.current.useImperativeHandle(x,Q,he)},Be.useInsertionEffect=function(x,Q){return De.current.useInsertionEffect(x,Q)},Be.useLayoutEffect=function(x,Q){return De.current.useLayoutEffect(x,Q)},Be.useMemo=function(x,Q){return De.current.useMemo(x,Q)},Be.useReducer=function(x,Q,he){return De.current.useReducer(x,Q,he)},Be.useRef=function(x){return De.current.useRef(x)},Be.useState=function(x){return De.current.useState(x)},Be.useSyncExternalStore=function(x,Q,he){return De.current.useSyncExternalStore(x,Q,he)},Be.useTransition=function(){return De.current.useTransition()},Be.version="18.2.0",Be}var ty;function Fc(){return ty||(ty=1,Uh.exports=pI()),Uh.exports}var Z=Fc();const nt=aa(Z),pf=fI({__proto__:null,default:nt},[Z]);var Bh={exports:{}},Ja={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function mI(){if(ny)return Ja;ny=1;var r=Fc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var v,S={},T=null,k=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(S[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)S[v]===void 0&&(S[v]=p[v]);return{$$typeof:e,type:h,key:T,ref:k,props:S,_owner:o.current}}return Ja.Fragment=t,Ja.jsx=c,Ja.jsxs=c,Ja}var ry;function gI(){return ry||(ry=1,Bh.exports=mI()),Bh.exports}var w=gI(),ec={},zh={exports:{}},kn={},$h={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function yI(){return iy||(iy=1,function(r){function e(oe,_e){var x=oe.length;oe.push(_e);e:for(;0<x;){var Q=x-1>>>1,he=oe[Q];if(0<o(he,_e))oe[Q]=_e,oe[x]=he,x=Q;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var _e=oe[0],x=oe.pop();if(x!==_e){oe[0]=x;e:for(var Q=0,he=oe.length,Ee=he>>>1;Q<Ee;){var Le=2*(Q+1)-1,Ge=oe[Le],qe=Le+1,Ke=oe[qe];if(0>o(Ge,x))qe<he&&0>o(Ke,Ge)?(oe[Q]=Ke,oe[qe]=x,Q=qe):(oe[Q]=Ge,oe[Le]=x,Q=Le);else if(qe<he&&0>o(Ke,x))oe[Q]=Ke,oe[qe]=x,Q=qe;else break e}}return _e}function o(oe,_e){var x=oe.sortIndex-_e.sortIndex;return x!==0?x:oe.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],y=[],v=1,S=null,T=3,k=!1,O=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(oe){for(var _e=t(y);_e!==null;){if(_e.callback===null)i(y);else if(_e.startTime<=oe)i(y),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=t(y)}}function ie(oe){if(M=!1,re(oe),!O)if(t(p)!==null)O=!0,Ft(Ne);else{var _e=t(y);_e!==null&&De(ie,_e.startTime-oe)}}function Ne(oe,_e){O=!1,M&&(M=!1,G(A),A=-1),k=!0;var x=T;try{for(re(_e),S=t(p);S!==null&&(!(S.expirationTime>_e)||oe&&!V());){var Q=S.callback;if(typeof Q=="function"){S.callback=null,T=S.priorityLevel;var he=Q(S.expirationTime<=_e);_e=r.unstable_now(),typeof he=="function"?S.callback=he:S===t(p)&&i(p),re(_e)}else i(p);S=t(p)}if(S!==null)var Ee=!0;else{var Le=t(y);Le!==null&&De(ie,Le.startTime-_e),Ee=!1}return Ee}finally{S=null,T=x,k=!1}}var Ce=!1,b=null,A=-1,C=5,D=-1;function V(){return!(r.unstable_now()-D<C)}function F(){if(b!==null){var oe=r.unstable_now();D=oe;var _e=!0;try{_e=b(!0,oe)}finally{_e?P():(Ce=!1,b=null)}}else Ce=!1}var P;if(typeof te=="function")P=function(){te(F)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,jt=gt.port2;gt.port1.onmessage=F,P=function(){jt.postMessage(null)}}else P=function(){j(F,0)};function Ft(oe){b=oe,Ce||(Ce=!0,P())}function De(oe,_e){A=j(function(){oe(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(oe){oe.callback=null},r.unstable_continueExecution=function(){O||k||(O=!0,Ft(Ne))},r.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<oe?Math.floor(1e3/oe):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var x=T;T=_e;try{return oe()}finally{T=x}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(oe,_e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var x=T;T=oe;try{return _e()}finally{T=x}},r.unstable_scheduleCallback=function(oe,_e,x){var Q=r.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?Q+x:Q):x=Q,oe){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=x+he,oe={id:v++,callback:_e,priorityLevel:oe,startTime:x,expirationTime:he,sortIndex:-1},x>Q?(oe.sortIndex=x,e(y,oe),t(p)===null&&oe===t(y)&&(M?(G(A),A=-1):M=!0,De(ie,x-Q))):(oe.sortIndex=he,e(p,oe),O||k||(O=!0,Ft(Ne))),oe},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(oe){var _e=T;return function(){var x=T;T=_e;try{return oe.apply(this,arguments)}finally{T=x}}}}(Hh)),Hh}var sy;function _I(){return sy||(sy=1,$h.exports=yI()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function vI(){if(oy)return kn;oy=1;var r=Fc(),e=_I();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function T(n){return p.call(S,n)?!0:p.call(v,n)?!1:y.test(n)?S[n]=!0:(v[n]=!0,!1)}function k(n,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,s,a,d){if(s===null||typeof s>"u"||k(n,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(n,s,a,d,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new M(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function te(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(G,te);j[s]=new M(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(G,te);j[s]=new M(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(G,te);j[s]=new M(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,s,a,d){var f=j.hasOwnProperty(s)?j[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,d)&&(a=null),d||f===null?T(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,d=f.attributeNamespace,a===null?n.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?n.setAttributeNS(d,s,a):n.setAttribute(s,a))))}var ie=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),oe=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var x=Object.assign,Q;function he(n){if(Q===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Q=s&&s[1]||""}return`
`+Q+n}var Ee=!1;function Le(n,s){if(!n||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var d=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){d=$}n.call(s.prototype)}else{try{throw Error()}catch($){d=$}n()}}catch($){if($&&d&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),g=d.stack.split(`
`),E=f.length-1,R=g.length-1;1<=E&&0<=R&&f[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(f[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||f[E]!==g[R]){var N=`
`+f[E].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=E&&0<=R);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?he(n):""}function Ge(n){switch(n.tag){case 5:return he(n.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return n=Le(n.type,!1),n;case 11:return n=Le(n.type.render,!1),n;case 1:return n=Le(n.type,!0),n;default:return""}}function qe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case Ce:return"Portal";case C:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case gt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case jt:return s=n.displayName||null,s!==null?s:qe(n.type)||"Memo";case Ft:s=n._payload,n=n._init;try{return qe(n(s))}catch{}}return null}function Ke(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kt(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sr(n){var s=kt(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function On(n){n._valueTracker||(n._valueTracker=Sr(n))}function Ar(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return n&&(d=kt(n)?n.checked?"true":"false":n.value),n=d,n!==a?(s.setValue(n),!0):!1}function Ln(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Rr(n,s){var a=s.checked;return x({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ii(n,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),n._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Si(n,s){s=s.checked,s!=null&&re(n,"checked",s,!1)}function ys(n,s){Si(n,s);var a=Ue(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?nr(n,s.type,a):s.hasOwnProperty("defaultValue")&&nr(n,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Pr(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function nr(n,s,a){(s!=="number"||Ln(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var qn=Array.isArray;function Vn(n,s,a,d){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&d&&(n[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,d&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function _s(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return x({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ai(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(qn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ue(a)}}function Kr(n,s){var a=Ue(s.value),d=Ue(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),d!=null&&(n.defaultValue=""+d)}function W(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function q(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?q(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pe,le=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,f){MSApp.execUnsafeLocalFunction(function(){return n(s,a,d,f)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ie(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(n){je.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),we[s]=we[n]})});function Se(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||we.hasOwnProperty(n)&&we[n]?(""+s).trim():s+"px"}function lt(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=Se(a,s[a],d);a==="float"&&(a="cssFloat"),d?n.setProperty(a,f):n[a]=f}}var Ve=x({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(n,s){if(s){if(Ve[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function qt(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,Wt=null,Gt=null;function Cr(n){if(n=Ma(n)){if(typeof rr!="function")throw Error(t(280));var s=n.stateNode;s&&(s=mu(s),rr(n.stateNode,n.type,s))}}function it(n){Wt?Gt?Gt.push(n):Gt=[n]:Wt=n}function Nt(){if(Wt){var n=Wt,s=Gt;if(Gt=Wt=null,Cr(n),s)for(n=0;n<s.length;n++)Cr(s[n])}}function fn(n,s){return n(s)}function ir(){}var pn=!1;function vs(n,s,a){if(pn)return n(s,a);pn=!0;try{return fn(n,s,a)}finally{pn=!1,(Wt!==null||Gt!==null)&&(ir(),Nt())}}function yt(n,s){var a=n.stateNode;if(a===null)return null;var d=mu(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var rn=!1;if(h)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){rn=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{rn=!1}function kr(n,s,a,d,f,g,E,R,N){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(ee){this.onError(ee)}}var Qr=!1,eo=null,sr=!1,ya=null,pd={onError:function(n){Qr=!0,eo=n}};function to(n,s,a,d,f,g,E,R,N){Qr=!1,eo=null,kr.apply(pd,arguments)}function Ul(n,s,a,d,f,g,E,R,N){if(to.apply(this,arguments),Qr){if(Qr){var $=eo;Qr=!1,eo=null}else throw Error(t(198));sr||(sr=!0,ya=$)}}function or(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Es(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function ar(n){if(or(n)!==n)throw Error(t(188))}function Bl(n){var s=n.alternate;if(!s){if(s=or(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,d=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ar(f),n;if(g===d)return ar(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=g;else{for(var E=!1,R=f.child;R;){if(R===a){E=!0,a=f,d=g;break}if(R===d){E=!0,d=f,a=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===a){E=!0,a=g,d=f;break}if(R===d){E=!0,d=g,a=f;break}R=R.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function _a(n){return n=Bl(n),n!==null?no(n):null}function no(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=no(n);if(s!==null)return s;n=n.sibling}return null}var ro=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,zl=e.unstable_shouldYield,md=e.unstable_requestPaint,ot=e.unstable_now,$l=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,Ea=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,Ts=null,Mn=null;function ql(n){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Ts,n,void 0,(n.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Gl,wa=Math.log,Wl=Math.LN2;function Gl(n){return n>>>=0,n===0?32:31-(wa(n)/Wl|0)|0}var io=64,so=4194304;function Pi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Is(n,s){var a=n.pendingLanes;if(a===0)return 0;var d=0,f=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var R=E&~f;R!==0?d=Pi(R):(g&=E,g!==0&&(d=Pi(g)))}else E=a&~f,E!==0?d=Pi(E):g!==0&&(d=Pi(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)a=31-mn(s),f=1<<a,d|=n[a],s&=~f;return d}function gd(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(n,s){for(var a=n.suspendedLanes,d=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-mn(g),R=1<<E,N=f[E];N===-1?((R&a)===0||(R&d)!==0)&&(f[E]=gd(R,s)):N<=s&&(n.expiredLanes|=R),g&=~R}}function jn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ss(){var n=io;return io<<=1,(io&4194240)===0&&(io=64),n}function Ci(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ki(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-mn(s),n[s]=a}function st(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-mn(a),g=1<<f;s[f]=0,d[f]=-1,n[f]=-1,a&=~g}}function xi(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var d=31-mn(a),f=1<<d;f&s|n[d]&s&&(n[d]|=s),a&=~f}}var We=0;function Ni(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Kl,oo,Ql,Yl,Xl,Ta=!1,xr=[],Kt=null,lr=null,ur=null,Di=new Map,Kn=new Map,Nr=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(n,s){switch(n){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(s.pointerId)}}function Tn(n,s,a,d,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ma(s),s!==null&&oo(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function _d(n,s,a,d,f){switch(s){case"focusin":return Kt=Tn(Kt,n,s,a,d,f),!0;case"dragenter":return lr=Tn(lr,n,s,a,d,f),!0;case"mouseover":return ur=Tn(ur,n,s,a,d,f),!0;case"pointerover":var g=f.pointerId;return Di.set(g,Tn(Di.get(g)||null,n,s,a,d,f)),!0;case"gotpointercapture":return g=f.pointerId,Kn.set(g,Tn(Kn.get(g)||null,n,s,a,d,f)),!0}return!1}function Zl(n){var s=ks(n.target);if(s!==null){var a=or(s);if(a!==null){if(s=a.tag,s===13){if(s=Es(a),s!==null){n.blockedOn=s,Xl(n.priority,function(){Ql(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ao(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var d=new a.constructor(a.type,a);xt=d,a.target.dispatchEvent(d),xt=null}else return s=Ma(a),s!==null&&oo(s),n.blockedOn=a,!1;s.shift()}return!0}function As(n,s,a){Xr(n)&&a.delete(s)}function eu(){Ta=!1,Kt!==null&&Xr(Kt)&&(Kt=null),lr!==null&&Xr(lr)&&(lr=null),ur!==null&&Xr(ur)&&(ur=null),Di.forEach(As),Kn.forEach(As)}function cr(n,s){n.blockedOn===s&&(n.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eu)))}function dr(n){function s(f){return cr(f,n)}if(0<xr.length){cr(xr[0],n);for(var a=1;a<xr.length;a++){var d=xr[a];d.blockedOn===n&&(d.blockedOn=null)}}for(Kt!==null&&cr(Kt,n),lr!==null&&cr(lr,n),ur!==null&&cr(ur,n),Di.forEach(s),Kn.forEach(s),a=0;a<Nr.length;a++)d=Nr[a],d.blockedOn===n&&(d.blockedOn=null);for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)Zl(a),a.blockedOn===null&&Nr.shift()}var Jr=ie.ReactCurrentBatchConfig,bi=!0;function ht(n,s,a,d){var f=We,g=Jr.transition;Jr.transition=null;try{We=1,Ia(n,s,a,d)}finally{We=f,Jr.transition=g}}function vd(n,s,a,d){var f=We,g=Jr.transition;Jr.transition=null;try{We=4,Ia(n,s,a,d)}finally{We=f,Jr.transition=g}}function Ia(n,s,a,d){if(bi){var f=ao(n,s,a,d);if(f===null)xd(n,s,d,Rs,a),Jl(n,d);else if(_d(f,n,s,a,d))d.stopPropagation();else if(Jl(n,d),s&4&&-1<yd.indexOf(n)){for(;f!==null;){var g=Ma(f);if(g!==null&&Kl(g),g=ao(n,s,a,d),g===null&&xd(n,s,d,Rs,a),g===f)break;f=g}f!==null&&d.stopPropagation()}else xd(n,s,d,null,a)}}var Rs=null;function ao(n,s,a,d){if(Rs=null,n=Wn(d),n=ks(n),n!==null)if(s=or(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Es(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Rs=n,null}function Sa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case ws:return 1;case Ri:return 4;case Gn:case Ea:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var Fn=null,lo=null,In=null;function Aa(){if(In)return In;var n,s=lo,a=s.length,d,f="value"in Fn?Fn.value:Fn.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var E=a-n;for(d=1;d<=E&&s[a-d]===f[g-d];d++);return In=f.slice(n,1<d?1-d:void 0)}function uo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Dr(){return!0}function Ra(){return!1}function Qt(n){function s(a,d,f,g,E){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dr:Ra,this.isPropagationStopped=Ra,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Qt(hr),br=x({},hr,{view:0,detail:0}),Ed=Qt(br),ho,Zr,Oi,Ps=x({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oi&&(Oi&&n.type==="mousemove"?(ho=n.screenX-Oi.screenX,Zr=n.screenY-Oi.screenY):Zr=ho=0,Oi=n),ho)},movementY:function(n){return"movementY"in n?n.movementY:Zr}}),fo=Qt(Ps),Pa=x({},Ps,{dataTransfer:0}),tu=Qt(Pa),po=x({},br,{relatedTarget:0}),mo=Qt(po),nu=x({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=Qt(nu),ru=x({},hr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iu=Qt(ru),su=x({},hr,{data:0}),Ca=Qt(su),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ou[n])?!!s[n]:!1}function Or(){return au}var u=x({},br,{key:function(n){if(n.key){var s=go[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=uo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(n){return n.type==="keypress"?uo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=Qt(u),_=x({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Qt(_),U=x({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),H=Qt(U),ae=x({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=Qt(ae),bt=x({},Ps,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Qt(bt),Ut=[9,13,27,32],St=h&&"CompositionEvent"in window,Qn=null;h&&"documentMode"in document&&(Qn=document.documentMode);var Un=h&&"TextEvent"in window&&!Qn,Cs=h&&(!St||Qn&&8<Qn&&11>=Qn),yo=" ",Gp=!1;function Kp(n,s){switch(n){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _o=!1;function cT(n,s){switch(n){case"compositionend":return Qp(s);case"keypress":return s.which!==32?null:(Gp=!0,yo);case"textInput":return n=s.data,n===yo&&Gp?null:n;default:return null}}function dT(n,s){if(_o)return n==="compositionend"||!St&&Kp(n,s)?(n=Aa(),In=lo=Fn=null,_o=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cs&&s.locale!=="ko"?null:s.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!hT[n.type]:s==="textarea"}function Xp(n,s,a,d){it(d),s=hu(s,"onChange"),0<s.length&&(a=new co("onChange","change",null,a,d),n.push({event:a,listeners:s}))}var ka=null,xa=null;function fT(n){mm(n,0)}function lu(n){var s=Io(n);if(Ar(s))return n}function pT(n,s){if(n==="change")return s}var Jp=!1;if(h){var wd;if(h){var Td="oninput"in document;if(!Td){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Td=typeof Zp.oninput=="function"}wd=Td}else wd=!1;Jp=wd&&(!document.documentMode||9<document.documentMode)}function em(){ka&&(ka.detachEvent("onpropertychange",tm),xa=ka=null)}function tm(n){if(n.propertyName==="value"&&lu(xa)){var s=[];Xp(s,xa,n,Wn(n)),vs(fT,s)}}function mT(n,s,a){n==="focusin"?(em(),ka=s,xa=a,ka.attachEvent("onpropertychange",tm)):n==="focusout"&&em()}function gT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lu(xa)}function yT(n,s){if(n==="click")return lu(s)}function _T(n,s){if(n==="input"||n==="change")return lu(s)}function vT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var fr=typeof Object.is=="function"?Object.is:vT;function Na(n,s){if(fr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(s,f)||!fr(n[f],s[f]))return!1}return!0}function nm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rm(n,s){var a=nm(n);n=0;for(var d;a;){if(a.nodeType===3){if(d=n+a.textContent.length,n<=s&&d>=s)return{node:a,offset:s-n};n=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nm(a)}}function im(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?im(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function sm(){for(var n=window,s=Ln();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Ln(n.document)}return s}function Id(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function ET(n){var s=sm(),a=n.focusedElem,d=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&im(a.ownerDocument.documentElement,a)){if(d!==null&&Id(a)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!n.extend&&g>d&&(f=d,d=g,g=f),f=rm(a,g);var E=rm(a,d);f&&E&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wT=h&&"documentMode"in document&&11>=document.documentMode,vo=null,Sd=null,Da=null,Ad=!1;function om(n,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ad||vo==null||vo!==Ln(d)||(d=vo,"selectionStart"in d&&Id(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Da&&Na(Da,d)||(Da=d,d=hu(Sd,"onSelect"),0<d.length&&(s=new co("onSelect","select",null,s,a),n.push({event:s,listeners:d}),s.target=vo)))}function uu(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Eo={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},Rd={},am={};h&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function cu(n){if(Rd[n])return Rd[n];if(!Eo[n])return n;var s=Eo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in am)return Rd[n]=s[a];return n}var lm=cu("animationend"),um=cu("animationiteration"),cm=cu("animationstart"),dm=cu("transitionend"),hm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(n,s){hm.set(n,s),l(s,[n])}for(var Pd=0;Pd<fm.length;Pd++){var Cd=fm[Pd],TT=Cd.toLowerCase(),IT=Cd[0].toUpperCase()+Cd.slice(1);Li(TT,"on"+IT)}Li(lm,"onAnimationEnd"),Li(um,"onAnimationIteration"),Li(cm,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(dm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function pm(n,s,a){var d=n.type||"unknown-event";n.currentTarget=a,Ul(d,s,void 0,n),n.currentTarget=null}function mm(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var d=n[a],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var R=d[E],N=R.instance,$=R.currentTarget;if(R=R.listener,N!==g&&f.isPropagationStopped())break e;pm(f,R,$),g=N}else for(E=0;E<d.length;E++){if(R=d[E],N=R.instance,$=R.currentTarget,R=R.listener,N!==g&&f.isPropagationStopped())break e;pm(f,R,$),g=N}}}if(sr)throw n=ya,sr=!1,ya=null,n}function ut(n,s){var a=s[Vd];a===void 0&&(a=s[Vd]=new Set);var d=n+"__bubble";a.has(d)||(gm(s,n,2,!1),a.add(d))}function kd(n,s,a){var d=0;s&&(d|=4),gm(a,n,d,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Oa(n){if(!n[du]){n[du]=!0,i.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||kd(a,!1,n),kd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[du]||(s[du]=!0,kd("selectionchange",!1,s))}}function gm(n,s,a,d){switch(Sa(s)){case 1:var f=ht;break;case 4:f=vd;break;default:f=Ia}a=f.bind(null,s,a,n),f=void 0,!rn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function xd(n,s,a,d,f){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var R=d.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=d.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;R!==null;){if(E=ks(R),E===null)return;if(N=E.tag,N===5||N===6){d=g=E;continue e}R=R.parentNode}}d=d.return}vs(function(){var $=g,ee=Wn(a),ne=[];e:{var J=hm.get(n);if(J!==void 0){var ue=co,me=n;switch(n){case"keypress":if(uo(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":me="focus",ue=mo;break;case"focusout":me="blur",ue=mo;break;case"beforeblur":case"afterblur":ue=mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case lm:case um:case cm:ue=ei;break;case dm:ue=tt;break;case"scroll":ue=Ed;break;case"wheel":ue=Qe;break;case"copy":case"cut":case"paste":ue=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var ge=(s&4)!==0,Tt=!ge&&n==="scroll",B=ge?J!==null?J+"Capture":null:J;ge=[];for(var L=$,z;L!==null;){z=L;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,B!==null&&(se=yt(L,B),se!=null&&ge.push(La(L,se,z)))),Tt)break;L=L.return}0<ge.length&&(J=new ue(J,me,null,a,ee),ne.push({event:J,listeners:ge}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",J&&a!==xt&&(me=a.relatedTarget||a.fromElement)&&(ks(me)||me[ti]))break e;if((ue||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(me=a.relatedTarget||a.toElement,ue=$,me=me?ks(me):null,me!==null&&(Tt=or(me),me!==Tt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=$),ue!==me)){if(ge=fo,se="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ge=I,se="onPointerLeave",B="onPointerEnter",L="pointer"),Tt=ue==null?J:Io(ue),z=me==null?J:Io(me),J=new ge(se,L+"leave",ue,a,ee),J.target=Tt,J.relatedTarget=z,se=null,ks(ee)===$&&(ge=new ge(B,L+"enter",me,a,ee),ge.target=z,ge.relatedTarget=Tt,se=ge),Tt=se,ue&&me)t:{for(ge=ue,B=me,L=0,z=ge;z;z=wo(z))L++;for(z=0,se=B;se;se=wo(se))z++;for(;0<L-z;)ge=wo(ge),L--;for(;0<z-L;)B=wo(B),z--;for(;L--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=wo(ge),B=wo(B)}ge=null}else ge=null;ue!==null&&ym(ne,J,ue,ge,!1),me!==null&&Tt!==null&&ym(ne,Tt,me,ge,!0)}}e:{if(J=$?Io($):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ye=pT;else if(Yp(J))if(Jp)ye=_T;else{ye=gT;var Ae=mT}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ye=yT);if(ye&&(ye=ye(n,$))){Xp(ne,ye,a,ee);break e}Ae&&Ae(n,J,$),n==="focusout"&&(Ae=J._wrapperState)&&Ae.controlled&&J.type==="number"&&nr(J,"number",J.value)}switch(Ae=$?Io($):window,n){case"focusin":(Yp(Ae)||Ae.contentEditable==="true")&&(vo=Ae,Sd=$,Da=null);break;case"focusout":Da=Sd=vo=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,om(ne,a,ee);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":om(ne,a,ee)}var Re;if(St)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else _o?Kp(n,a)&&(ke="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Cs&&a.locale!=="ko"&&(_o||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&_o&&(Re=Aa()):(Fn=ee,lo="value"in Fn?Fn.value:Fn.textContent,_o=!0)),Ae=hu($,ke),0<Ae.length&&(ke=new Ca(ke,n,null,a,ee),ne.push({event:ke,listeners:Ae}),Re?ke.data=Re:(Re=Qp(a),Re!==null&&(ke.data=Re)))),(Re=Un?cT(n,a):dT(n,a))&&($=hu($,"onBeforeInput"),0<$.length&&(ee=new Ca("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:$}),ee.data=Re))}mm(ne,s)})}function La(n,s,a){return{instance:n,listener:s,currentTarget:a}}function hu(n,s){for(var a=s+"Capture",d=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(n,a),g!=null&&d.unshift(La(n,g,f)),g=yt(n,s),g!=null&&d.push(La(n,g,f))),n=n.return}return d}function wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ym(n,s,a,d,f){for(var g=s._reactName,E=[];a!==null&&a!==d;){var R=a,N=R.alternate,$=R.stateNode;if(N!==null&&N===d)break;R.tag===5&&$!==null&&(R=$,f?(N=yt(a,g),N!=null&&E.unshift(La(a,N,R))):f||(N=yt(a,g),N!=null&&E.push(La(a,N,R)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var AT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function _m(n){return(typeof n=="string"?n:""+n).replace(AT,`
`).replace(RT,"")}function fu(n,s,a){if(s=_m(s),_m(n)!==s&&a)throw Error(t(425))}function pu(){}var Nd=null,Dd=null;function bd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(n){return vm.resolve(null).then(n).catch(kT)}:Od;function kT(n){setTimeout(function(){throw n})}function Ld(n,s){var a=s,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){n.removeChild(f),dr(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);dr(s)}function Vi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Em(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var To=Math.random().toString(36).slice(2),Lr="__reactFiber$"+To,Va="__reactProps$"+To,ti="__reactContainer$"+To,Vd="__reactEvents$"+To,xT="__reactListeners$"+To,NT="__reactHandles$"+To;function ks(n){var s=n[Lr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ti]||a[Lr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Em(n);n!==null;){if(a=n[Lr])return a;n=Em(n)}return s}n=a,a=n.parentNode}return null}function Ma(n){return n=n[Lr]||n[ti],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Io(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function mu(n){return n[Va]||null}var Md=[],So=-1;function Mi(n){return{current:n}}function ct(n){0>So||(n.current=Md[So],Md[So]=null,So--)}function at(n,s){So++,Md[So]=n.current,n.current=s}var ji={},sn=Mi(ji),Sn=Mi(!1),xs=ji;function Ao(n,s){var a=n.type.contextTypes;if(!a)return ji;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function An(n){return n=n.childContextTypes,n!=null}function gu(){ct(Sn),ct(sn)}function wm(n,s,a){if(sn.current!==ji)throw Error(t(168));at(sn,s),at(Sn,a)}function Tm(n,s,a){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Ke(n)||"Unknown",f));return x({},a,d)}function yu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ji,xs=sn.current,at(sn,n),at(Sn,Sn.current),!0}function Im(n,s,a){var d=n.stateNode;if(!d)throw Error(t(169));a?(n=Tm(n,s,xs),d.__reactInternalMemoizedMergedChildContext=n,ct(Sn),ct(sn),at(sn,n)):ct(Sn),at(Sn,a)}var ni=null,_u=!1,jd=!1;function Sm(n){ni===null?ni=[n]:ni.push(n)}function DT(n){_u=!0,Sm(n)}function Fi(){if(!jd&&ni!==null){jd=!0;var n=0,s=We;try{var a=ni;for(We=1;n<a.length;n++){var d=a[n];do d=d(!0);while(d!==null)}ni=null,_u=!1}catch(f){throw ni!==null&&(ni=ni.slice(n+1)),ro(ws,Fi),f}finally{We=s,jd=!1}}return null}var Ro=[],Po=0,vu=null,Eu=0,Yn=[],Xn=0,Ns=null,ri=1,ii="";function Ds(n,s){Ro[Po++]=Eu,Ro[Po++]=vu,vu=n,Eu=s}function Am(n,s,a){Yn[Xn++]=ri,Yn[Xn++]=ii,Yn[Xn++]=Ns,Ns=n;var d=ri;n=ii;var f=32-mn(d)-1;d&=~(1<<f),a+=1;var g=32-mn(s)+f;if(30<g){var E=f-f%5;g=(d&(1<<E)-1).toString(32),d>>=E,f-=E,ri=1<<32-mn(s)+f|a<<f|d,ii=g+n}else ri=1<<g|a<<f|d,ii=n}function Fd(n){n.return!==null&&(Ds(n,1),Am(n,1,0))}function Ud(n){for(;n===vu;)vu=Ro[--Po],Ro[Po]=null,Eu=Ro[--Po],Ro[Po]=null;for(;n===Ns;)Ns=Yn[--Xn],Yn[Xn]=null,ii=Yn[--Xn],Yn[Xn]=null,ri=Yn[--Xn],Yn[Xn]=null}var Bn=null,zn=null,ft=!1,pr=null;function Rm(n,s){var a=tr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Pm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Bn=n,zn=Vi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Bn=n,zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ns!==null?{id:ri,overflow:ii}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=tr(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Bn=n,zn=null,!0):!1;default:return!1}}function Bd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function zd(n){if(ft){var s=zn;if(s){var a=s;if(!Pm(n,s)){if(Bd(n))throw Error(t(418));s=Vi(a.nextSibling);var d=Bn;s&&Pm(n,s)?Rm(d,a):(n.flags=n.flags&-4097|2,ft=!1,Bn=n)}}else{if(Bd(n))throw Error(t(418));n.flags=n.flags&-4097|2,ft=!1,Bn=n}}}function Cm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bn=n}function wu(n){if(n!==Bn)return!1;if(!ft)return Cm(n),ft=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!bd(n.type,n.memoizedProps)),s&&(s=zn)){if(Bd(n))throw km(),Error(t(418));for(;s;)Rm(n,s),s=Vi(s.nextSibling)}if(Cm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){zn=Vi(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}zn=null}}else zn=Bn?Vi(n.stateNode.nextSibling):null;return!0}function km(){for(var n=zn;n;)n=Vi(n.nextSibling)}function Co(){zn=Bn=null,ft=!1}function $d(n){pr===null?pr=[n]:pr.push(n)}var bT=ie.ReactCurrentBatchConfig;function mr(n,s){if(n&&n.defaultProps){s=x({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}var Tu=Mi(null),Iu=null,ko=null,Hd=null;function qd(){Hd=ko=Iu=null}function Wd(n){var s=Tu.current;ct(Tu),n._currentValue=s}function Gd(n,s,a){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===a)break;n=n.return}}function xo(n,s){Iu=n,Hd=ko=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Rn=!0),n.firstContext=null)}function Jn(n){var s=n._currentValue;if(Hd!==n)if(n={context:n,memoizedValue:s,next:null},ko===null){if(Iu===null)throw Error(t(308));ko=n,Iu.dependencies={lanes:0,firstContext:n}}else ko=ko.next=n;return s}var bs=null;function Kd(n){bs===null?bs=[n]:bs.push(n)}function xm(n,s,a,d){var f=s.interleaved;return f===null?(a.next=a,Kd(s)):(a.next=f.next,f.next=a),s.interleaved=a,si(n,d)}function si(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ui=!1;function Qd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function oi(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Bi(n,s,a){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Xe&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,si(n,a)}return f=d.interleaved,f===null?(s.next=s,Kd(d)):(s.next=f.next,f.next=s),d.interleaved=s,si(n,a)}function Su(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,xi(n,a)}}function Dm(n,s){var a=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Au(n,s,a,d){var f=n.updateQueue;Ui=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,$=N.next;N.next=null,E===null?g=$:E.next=$,E=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==E&&(R===null?ee.firstBaseUpdate=$:R.next=$,ee.lastBaseUpdate=N))}if(g!==null){var ne=f.baseState;E=0,ee=$=N=null,R=g;do{var J=R.lane,ue=R.eventTime;if((d&J)===J){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=n,ge=R;switch(J=s,ue=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(ue,ne,J);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,J=typeof me=="function"?me.call(ue,ne,J):me,J==null)break e;ne=x({},ne,J);break e;case 2:Ui=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,J=f.effects,J===null?f.effects=[R]:J.push(R))}else ue={eventTime:ue,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?($=ee=ue,N=ne):ee=ee.next=ue,E|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;J=R,R=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(ee===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=$,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Vs|=E,n.lanes=E,n.memoizedState=ne}}function bm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Om=new r.Component().refs;function Yd(n,s,a,d){s=n.memoizedState,a=a(d,s),a=a==null?s:x({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ru={isMounted:function(n){return(n=n._reactInternals)?or(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var d=_n(),f=qi(n),g=oi(d,f);g.payload=s,a!=null&&(g.callback=a),s=Bi(n,g,f),s!==null&&(_r(s,n,f,d),Su(s,n,f))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var d=_n(),f=qi(n),g=oi(d,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Bi(n,g,f),s!==null&&(_r(s,n,f,d),Su(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=_n(),d=qi(n),f=oi(a,d);f.tag=2,s!=null&&(f.callback=s),s=Bi(n,f,d),s!==null&&(_r(s,n,d,a),Su(s,n,d))}};function Lm(n,s,a,d,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Na(a,d)||!Na(f,g):!0}function Vm(n,s,a){var d=!1,f=ji,g=s.contextType;return typeof g=="object"&&g!==null?g=Jn(g):(f=An(s)?xs:sn.current,d=s.contextTypes,g=(d=d!=null)?Ao(n,f):ji),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ru,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),s}function Mm(n,s,a,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==n&&Ru.enqueueReplaceState(s,s.state,null)}function Xd(n,s,a,d){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs=Om,Qd(n);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Jn(g):(g=An(s)?xs:sn.current,f.context=Ao(n,g)),f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Yd(n,s,g,a),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ru.enqueueReplaceState(f,f.state,null),Au(n,a,f,d),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function ja(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,n));var f=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var R=f.refs;R===Om&&(R=f.refs={}),E===null?delete R[g]:R[g]=E},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Pu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function jm(n){var s=n._init;return s(n._payload)}function Fm(n){function s(B,L){if(n){var z=B.deletions;z===null?(B.deletions=[L],B.flags|=16):z.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function d(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Gi(B,L),B.index=0,B.sibling=null,B}function g(B,L,z){return B.index=z,n?(z=B.alternate,z!==null?(z=z.index,z<L?(B.flags|=2,L):z):(B.flags|=2,L)):(B.flags|=1048576,L)}function E(B){return n&&B.alternate===null&&(B.flags|=2),B}function R(B,L,z,se){return L===null||L.tag!==6?(L=Oh(z,B.mode,se),L.return=B,L):(L=f(L,z),L.return=B,L)}function N(B,L,z,se){var ye=z.type;return ye===b?ee(B,L,z.props.children,se,z.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ft&&jm(ye)===L.type)?(se=f(L,z.props),se.ref=ja(B,L,z),se.return=B,se):(se=Wu(z.type,z.key,z.props,null,B.mode,se),se.ref=ja(B,L,z),se.return=B,se)}function $(B,L,z,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Lh(z,B.mode,se),L.return=B,L):(L=f(L,z.children||[]),L.return=B,L)}function ee(B,L,z,se,ye){return L===null||L.tag!==7?(L=Us(z,B.mode,se,ye),L.return=B,L):(L=f(L,z),L.return=B,L)}function ne(B,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Oh(""+L,B.mode,z),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ne:return z=Wu(L.type,L.key,L.props,null,B.mode,z),z.ref=ja(B,null,L),z.return=B,z;case Ce:return L=Lh(L,B.mode,z),L.return=B,L;case Ft:var se=L._init;return ne(B,se(L._payload),z)}if(qn(L)||_e(L))return L=Us(L,B.mode,z,null),L.return=B,L;Pu(B,L)}return null}function J(B,L,z,se){var ye=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:R(B,L,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ne:return z.key===ye?N(B,L,z,se):null;case Ce:return z.key===ye?$(B,L,z,se):null;case Ft:return ye=z._init,J(B,L,ye(z._payload),se)}if(qn(z)||_e(z))return ye!==null?null:ee(B,L,z,se,null);Pu(B,z)}return null}function ue(B,L,z,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(z)||null,R(L,B,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Ne:return B=B.get(se.key===null?z:se.key)||null,N(L,B,se,ye);case Ce:return B=B.get(se.key===null?z:se.key)||null,$(L,B,se,ye);case Ft:var Ae=se._init;return ue(B,L,z,Ae(se._payload),ye)}if(qn(se)||_e(se))return B=B.get(z)||null,ee(L,B,se,ye,null);Pu(L,se)}return null}function me(B,L,z,se){for(var ye=null,Ae=null,Re=L,ke=L=0,$t=null;Re!==null&&ke<z.length;ke++){Re.index>ke?($t=Re,Re=null):$t=Re.sibling;var Je=J(B,Re,z[ke],se);if(Je===null){Re===null&&(Re=$t);break}n&&Re&&Je.alternate===null&&s(B,Re),L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je,Re=$t}if(ke===z.length)return a(B,Re),ft&&Ds(B,ke),ye;if(Re===null){for(;ke<z.length;ke++)Re=ne(B,z[ke],se),Re!==null&&(L=g(Re,L,ke),Ae===null?ye=Re:Ae.sibling=Re,Ae=Re);return ft&&Ds(B,ke),ye}for(Re=d(B,Re);ke<z.length;ke++)$t=ue(Re,B,ke,z[ke],se),$t!==null&&(n&&$t.alternate!==null&&Re.delete($t.key===null?ke:$t.key),L=g($t,L,ke),Ae===null?ye=$t:Ae.sibling=$t,Ae=$t);return n&&Re.forEach(function(Ki){return s(B,Ki)}),ft&&Ds(B,ke),ye}function ge(B,L,z,se){var ye=_e(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var Ae=ye=null,Re=L,ke=L=0,$t=null,Je=z.next();Re!==null&&!Je.done;ke++,Je=z.next()){Re.index>ke?($t=Re,Re=null):$t=Re.sibling;var Ki=J(B,Re,Je.value,se);if(Ki===null){Re===null&&(Re=$t);break}n&&Re&&Ki.alternate===null&&s(B,Re),L=g(Ki,L,ke),Ae===null?ye=Ki:Ae.sibling=Ki,Ae=Ki,Re=$t}if(Je.done)return a(B,Re),ft&&Ds(B,ke),ye;if(Re===null){for(;!Je.done;ke++,Je=z.next())Je=ne(B,Je.value,se),Je!==null&&(L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je);return ft&&Ds(B,ke),ye}for(Re=d(B,Re);!Je.done;ke++,Je=z.next())Je=ue(Re,B,ke,Je.value,se),Je!==null&&(n&&Je.alternate!==null&&Re.delete(Je.key===null?ke:Je.key),L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je);return n&&Re.forEach(function(hI){return s(B,hI)}),ft&&Ds(B,ke),ye}function Tt(B,L,z,se){if(typeof z=="object"&&z!==null&&z.type===b&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ne:e:{for(var ye=z.key,Ae=L;Ae!==null;){if(Ae.key===ye){if(ye=z.type,ye===b){if(Ae.tag===7){a(B,Ae.sibling),L=f(Ae,z.props.children),L.return=B,B=L;break e}}else if(Ae.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ft&&jm(ye)===Ae.type){a(B,Ae.sibling),L=f(Ae,z.props),L.ref=ja(B,Ae,z),L.return=B,B=L;break e}a(B,Ae);break}else s(B,Ae);Ae=Ae.sibling}z.type===b?(L=Us(z.props.children,B.mode,se,z.key),L.return=B,B=L):(se=Wu(z.type,z.key,z.props,null,B.mode,se),se.ref=ja(B,L,z),se.return=B,B=se)}return E(B);case Ce:e:{for(Ae=z.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(B,L.sibling),L=f(L,z.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else s(B,L);L=L.sibling}L=Lh(z,B.mode,se),L.return=B,B=L}return E(B);case Ft:return Ae=z._init,Tt(B,L,Ae(z._payload),se)}if(qn(z))return me(B,L,z,se);if(_e(z))return ge(B,L,z,se);Pu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(B,L.sibling),L=f(L,z),L.return=B,B=L):(a(B,L),L=Oh(z,B.mode,se),L.return=B,B=L),E(B)):a(B,L)}return Tt}var No=Fm(!0),Um=Fm(!1),Fa={},Vr=Mi(Fa),Ua=Mi(Fa),Ba=Mi(Fa);function Os(n){if(n===Fa)throw Error(t(174));return n}function Jd(n,s){switch(at(Ba,s),at(Ua,n),at(Vr,Fa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Y(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Y(s,n)}ct(Vr),at(Vr,s)}function Do(){ct(Vr),ct(Ua),ct(Ba)}function Bm(n){Os(Ba.current);var s=Os(Vr.current),a=Y(s,n.type);s!==a&&(at(Ua,n),at(Vr,a))}function Zd(n){Ua.current===n&&(ct(Vr),ct(Ua))}var _t=Mi(0);function Cu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var eh=[];function th(){for(var n=0;n<eh.length;n++)eh[n]._workInProgressVersionPrimary=null;eh.length=0}var ku=ie.ReactCurrentDispatcher,nh=ie.ReactCurrentBatchConfig,Ls=0,vt=null,Ot=null,Bt=null,xu=!1,za=!1,$a=0,OT=0;function on(){throw Error(t(321))}function rh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!fr(n[a],s[a]))return!1;return!0}function ih(n,s,a,d,f,g){if(Ls=g,vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ku.current=n===null||n.memoizedState===null?jT:FT,n=a(d,f),za){g=0;do{if(za=!1,$a=0,25<=g)throw Error(t(301));g+=1,Bt=Ot=null,s.updateQueue=null,ku.current=UT,n=a(d,f)}while(za)}if(ku.current=bu,s=Ot!==null&&Ot.next!==null,Ls=0,Bt=Ot=vt=null,xu=!1,s)throw Error(t(300));return n}function sh(){var n=$a!==0;return $a=0,n}function Mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?vt.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function Zn(){if(Ot===null){var n=vt.alternate;n=n!==null?n.memoizedState:null}else n=Ot.next;var s=Bt===null?vt.memoizedState:Bt.next;if(s!==null)Bt=s,Ot=n;else{if(n===null)throw Error(t(310));Ot=n,n={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?vt.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function Ha(n,s){return typeof s=="function"?s(n):s}function oh(n){var s=Zn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=Ot,f=d.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}d.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,d=d.baseState;var R=E=null,N=null,$=g;do{var ee=$.lane;if((Ls&ee)===ee)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),d=$.hasEagerState?$.eagerState:n(d,$.action);else{var ne={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(R=N=ne,E=d):N=N.next=ne,vt.lanes|=ee,Vs|=ee}$=$.next}while($!==null&&$!==g);N===null?E=d:N.next=R,fr(d,s.memoizedState)||(Rn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=N,a.lastRenderedState=d}if(n=a.interleaved,n!==null){f=n;do g=f.lane,vt.lanes|=g,Vs|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ah(n){var s=Zn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var d=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);fr(g,s.memoizedState)||(Rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,d]}function zm(){}function $m(n,s){var a=vt,d=Zn(),f=s(),g=!fr(d.memoizedState,f);if(g&&(d.memoizedState=f,Rn=!0),d=d.queue,lh(Wm.bind(null,a,d,n),[n]),d.getSnapshot!==s||g||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,qa(9,qm.bind(null,a,d,f,s),void 0,null),zt===null)throw Error(t(349));(Ls&30)!==0||Hm(a,s,f)}return f}function Hm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=vt.updateQueue,s===null?(s={lastEffect:null,stores:null},vt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function qm(n,s,a,d){s.value=a,s.getSnapshot=d,Gm(s)&&Km(n)}function Wm(n,s,a){return a(function(){Gm(s)&&Km(n)})}function Gm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!fr(n,a)}catch{return!0}}function Km(n){var s=si(n,1);s!==null&&_r(s,n,1,-1)}function Qm(n){var s=Mr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},s.queue=n,n=n.dispatch=MT.bind(null,vt,n),[s.memoizedState,n]}function qa(n,s,a,d){return n={tag:n,create:s,destroy:a,deps:d,next:null},s=vt.updateQueue,s===null?(s={lastEffect:null,stores:null},vt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(d=a.next,a.next=n,n.next=d,s.lastEffect=n)),n}function Ym(){return Zn().memoizedState}function Nu(n,s,a,d){var f=Mr();vt.flags|=n,f.memoizedState=qa(1|s,a,void 0,d===void 0?null:d)}function Du(n,s,a,d){var f=Zn();d=d===void 0?null:d;var g=void 0;if(Ot!==null){var E=Ot.memoizedState;if(g=E.destroy,d!==null&&rh(d,E.deps)){f.memoizedState=qa(s,a,g,d);return}}vt.flags|=n,f.memoizedState=qa(1|s,a,g,d)}function Xm(n,s){return Nu(8390656,8,n,s)}function lh(n,s){return Du(2048,8,n,s)}function Jm(n,s){return Du(4,2,n,s)}function Zm(n,s){return Du(4,4,n,s)}function eg(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function tg(n,s,a){return a=a!=null?a.concat([n]):null,Du(4,4,eg.bind(null,s,n),a)}function uh(){}function ng(n,s){var a=Zn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&rh(s,d[1])?d[0]:(a.memoizedState=[n,s],n)}function rg(n,s){var a=Zn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&rh(s,d[1])?d[0]:(n=n(),a.memoizedState=[n,s],n)}function ig(n,s,a){return(Ls&21)===0?(n.baseState&&(n.baseState=!1,Rn=!0),n.memoizedState=a):(fr(a,s)||(a=Ss(),vt.lanes|=a,Vs|=a,n.baseState=!0),s)}function LT(n,s){var a=We;We=a!==0&&4>a?a:4,n(!0);var d=nh.transition;nh.transition={};try{n(!1),s()}finally{We=a,nh.transition=d}}function sg(){return Zn().memoizedState}function VT(n,s,a){var d=qi(n);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},og(n))ag(s,a);else if(a=xm(n,s,a,d),a!==null){var f=_n();_r(a,n,d,f),lg(a,s,d)}}function MT(n,s,a){var d=qi(n),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(og(n))ag(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,a);if(f.hasEagerState=!0,f.eagerState=R,fr(R,E)){var N=s.interleaved;N===null?(f.next=f,Kd(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=xm(n,s,f,d),a!==null&&(f=_n(),_r(a,n,d,f),lg(a,s,d))}}function og(n){var s=n.alternate;return n===vt||s!==null&&s===vt}function ag(n,s){za=xu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function lg(n,s,a){if((a&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,a|=d,s.lanes=a,xi(n,a)}}var bu={readContext:Jn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},jT={readContext:Jn,useCallback:function(n,s){return Mr().memoizedState=[n,s===void 0?null:s],n},useContext:Jn,useEffect:Xm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Nu(4194308,4,eg.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Nu(4194308,4,n,s)},useInsertionEffect:function(n,s){return Nu(4,2,n,s)},useMemo:function(n,s){var a=Mr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var d=Mr();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=VT.bind(null,vt,n),[d.memoizedState,n]},useRef:function(n){var s=Mr();return n={current:n},s.memoizedState=n},useState:Qm,useDebugValue:uh,useDeferredValue:function(n){return Mr().memoizedState=n},useTransition:function(){var n=Qm(!1),s=n[0];return n=LT.bind(null,n[1]),Mr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var d=vt,f=Mr();if(ft){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),zt===null)throw Error(t(349));(Ls&30)!==0||Hm(d,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Xm(Wm.bind(null,d,g,n),[n]),d.flags|=2048,qa(9,qm.bind(null,d,g,a,s),void 0,null),a},useId:function(){var n=Mr(),s=zt.identifierPrefix;if(ft){var a=ii,d=ri;a=(d&~(1<<32-mn(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=$a++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=OT++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},FT={readContext:Jn,useCallback:ng,useContext:Jn,useEffect:lh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:oh,useRef:Ym,useState:function(){return oh(Ha)},useDebugValue:uh,useDeferredValue:function(n){var s=Zn();return ig(s,Ot.memoizedState,n)},useTransition:function(){var n=oh(Ha)[0],s=Zn().memoizedState;return[n,s]},useMutableSource:zm,useSyncExternalStore:$m,useId:sg,unstable_isNewReconciler:!1},UT={readContext:Jn,useCallback:ng,useContext:Jn,useEffect:lh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:ah,useRef:Ym,useState:function(){return ah(Ha)},useDebugValue:uh,useDeferredValue:function(n){var s=Zn();return Ot===null?s.memoizedState=n:ig(s,Ot.memoizedState,n)},useTransition:function(){var n=ah(Ha)[0],s=Zn().memoizedState;return[n,s]},useMutableSource:zm,useSyncExternalStore:$m,useId:sg,unstable_isNewReconciler:!1};function bo(n,s){try{var a="",d=s;do a+=Ge(d),d=d.return;while(d);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:f,digest:null}}function ch(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function dh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function ug(n,s,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){Uu||(Uu=!0,Rh=d),dh(n,s)},a}function cg(n,s,a){a=oi(-1,a),a.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;a.payload=function(){return d(f)},a.callback=function(){dh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){dh(n,s),typeof d!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function dg(n,s,a){var d=n.pingCache;if(d===null){d=n.pingCache=new BT;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(a)||(f.add(a),n=tI.bind(null,n,s,a),s.then(n,n))}function hg(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function fg(n,s,a,d,f){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=oi(-1,1),s.tag=2,Bi(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var zT=ie.ReactCurrentOwner,Rn=!1;function yn(n,s,a,d){s.child=n===null?Um(s,null,a,d):No(s,n.child,a,d)}function pg(n,s,a,d,f){a=a.render;var g=s.ref;return xo(s,f),d=ih(n,s,a,d,g,f),a=sh(),n!==null&&!Rn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,ai(n,s,f)):(ft&&a&&Fd(s),s.flags|=1,yn(n,s,d,f),s.child)}function mg(n,s,a,d,f){if(n===null){var g=a.type;return typeof g=="function"&&!bh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,gg(n,s,g,d,f)):(n=Wu(a.type,null,d,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(E,d)&&n.ref===s.ref)return ai(n,s,f)}return s.flags|=1,n=Gi(g,d),n.ref=s.ref,n.return=s,s.child=n}function gg(n,s,a,d,f){if(n!==null){var g=n.memoizedProps;if(Na(g,d)&&n.ref===s.ref)if(Rn=!1,s.pendingProps=d=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Rn=!0);else return s.lanes=n.lanes,ai(n,s,f)}return hh(n,s,a,d,f)}function yg(n,s,a){var d=s.pendingProps,f=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Lo,$n),$n|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,at(Lo,$n),$n|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,at(Lo,$n),$n|=d}else g!==null?(d=g.baseLanes|a,s.memoizedState=null):d=a,at(Lo,$n),$n|=d;return yn(n,s,f,a),s.child}function _g(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function hh(n,s,a,d,f){var g=An(a)?xs:sn.current;return g=Ao(s,g),xo(s,f),a=ih(n,s,a,d,g,f),d=sh(),n!==null&&!Rn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,ai(n,s,f)):(ft&&d&&Fd(s),s.flags|=1,yn(n,s,a,f),s.child)}function vg(n,s,a,d,f){if(An(a)){var g=!0;yu(s)}else g=!1;if(xo(s,f),s.stateNode===null)Lu(n,s),Vm(s,a,d),Xd(s,a,d,f),d=!0;else if(n===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var N=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=Jn($):($=An(a)?xs:sn.current,$=Ao(s,$));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==d||N!==$)&&Mm(s,E,d,$),Ui=!1;var J=s.memoizedState;E.state=J,Au(s,d,E,f),N=s.memoizedState,R!==d||J!==N||Sn.current||Ui?(typeof ee=="function"&&(Yd(s,a,ee,d),N=s.memoizedState),(R=Ui||Lm(s,a,R,d,J,N,$))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=N),E.props=d,E.state=N,E.context=$,d=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Nm(n,s),R=s.memoizedProps,$=s.type===s.elementType?R:mr(s.type,R),E.props=$,ne=s.pendingProps,J=E.context,N=a.contextType,typeof N=="object"&&N!==null?N=Jn(N):(N=An(a)?xs:sn.current,N=Ao(s,N));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ne||J!==N)&&Mm(s,E,d,N),Ui=!1,J=s.memoizedState,E.state=J,Au(s,d,E,f);var me=s.memoizedState;R!==ne||J!==me||Sn.current||Ui?(typeof ue=="function"&&(Yd(s,a,ue,d),me=s.memoizedState),($=Ui||Lm(s,a,$,d,J,me,N)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,me,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,me,N)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),E.props=d,E.state=me,E.context=N,d=$):(typeof E.componentDidUpdate!="function"||R===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),d=!1)}return fh(n,s,a,d,g,f)}function fh(n,s,a,d,f,g){_g(n,s);var E=(s.flags&128)!==0;if(!d&&!E)return f&&Im(s,a,!1),ai(n,s,g);d=s.stateNode,zT.current=s;var R=E&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&E?(s.child=No(s,n.child,null,g),s.child=No(s,null,R,g)):yn(n,s,R,g),s.memoizedState=d.state,f&&Im(s,a,!0),s.child}function Eg(n){var s=n.stateNode;s.pendingContext?wm(n,s.pendingContext,s.pendingContext!==s.context):s.context&&wm(n,s.context,!1),Jd(n,s.containerInfo)}function wg(n,s,a,d,f){return Co(),$d(f),s.flags|=256,yn(n,s,a,d),s.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Tg(n,s,a){var d=s.pendingProps,f=_t.current,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=n!==null&&n.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),at(_t,f&1),n===null)return zd(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,n=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Gu(E,d,0,null),n=Us(n,d,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=mh(a),s.memoizedState=ph,n):gh(s,E));if(f=n.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return $T(n,s,E,d,R,f,a);if(g){g=d.fallback,E=s.mode,f=n.child,R=f.sibling;var N={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=N,s.deletions=null):(d=Gi(f,N),d.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Gi(R,g):(g=Us(g,E,a,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=n.child.memoizedState,E=E===null?mh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,s.memoizedState=ph,d}return g=n.child,n=g.sibling,d=Gi(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=a),d.return=s,d.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=d,s.memoizedState=null,d}function gh(n,s){return s=Gu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Ou(n,s,a,d){return d!==null&&$d(d),No(s,n.child,null,a),n=gh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $T(n,s,a,d,f,g,E){if(a)return s.flags&256?(s.flags&=-257,d=ch(Error(t(422))),Ou(n,s,E,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Gu({mode:"visible",children:d.children},f,0,null),g=Us(g,f,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&No(s,n.child,null,E),s.child.memoizedState=mh(E),s.memoizedState=ph,g);if((s.mode&1)===0)return Ou(n,s,E,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(t(419)),d=ch(g,d,void 0),Ou(n,s,E,d)}if(R=(E&n.childLanes)!==0,Rn||R){if(d=zt,d!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,si(n,f),_r(d,n,f,-1))}return Dh(),d=ch(Error(t(421))),Ou(n,s,E,d)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=nI.bind(null,n),f._reactRetry=s,null):(n=g.treeContext,zn=Vi(f.nextSibling),Bn=s,ft=!0,pr=null,n!==null&&(Yn[Xn++]=ri,Yn[Xn++]=ii,Yn[Xn++]=Ns,ri=n.id,ii=n.overflow,Ns=s),s=gh(s,d.children),s.flags|=4096,s)}function Ig(n,s,a){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),Gd(n.return,s,a)}function yh(n,s,a,d,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=f)}function Sg(n,s,a){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(yn(n,s,d.children,a),d=_t.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ig(n,a,s);else if(n.tag===19)Ig(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(at(_t,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Cu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),yh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Cu(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}yh(s,!0,a,null,g);break;case"together":yh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ai(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Vs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Gi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Gi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function HT(n,s,a){switch(s.tag){case 3:Eg(s),Co();break;case 5:Bm(s);break;case 1:An(s.type)&&yu(s);break;case 4:Jd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;at(Tu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(_t,_t.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Tg(n,s,a):(at(_t,_t.current&1),n=ai(n,s,a),n!==null?n.sibling:null);at(_t,_t.current&1);break;case 19:if(d=(a&s.childLanes)!==0,(n.flags&128)!==0){if(d)return Sg(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(_t,_t.current),d)break;return null;case 22:case 23:return s.lanes=0,yg(n,s,a)}return ai(n,s,a)}var Ag,_h,Rg,Pg;Ag=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},_h=function(){},Rg=function(n,s,a,d){var f=n.memoizedProps;if(f!==d){n=s.stateNode,Os(Vr.current);var g=null;switch(a){case"input":f=Rr(n,f),d=Rr(n,d),g=[];break;case"select":f=x({},f,{value:void 0}),d=x({},d,{value:void 0}),g=[];break;case"textarea":f=_s(n,f),d=_s(n,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=pu)}Ze(a,d);var E;a=null;for($ in f)if(!d.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var R=f[$];for(E in R)R.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in d){var N=d[$];if(R=f!=null?f[$]:void 0,d.hasOwnProperty($)&&N!==R&&(N!=null||R!=null))if($==="style")if(R){for(E in R)!R.hasOwnProperty(E)||N&&N.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in N)N.hasOwnProperty(E)&&R[E]!==N[E]&&(a||(a={}),a[E]=N[E])}else a||(g||(g=[]),g.push($,a)),a=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&ut("scroll",n),g||R===N||(g=[])):(g=g||[]).push($,N))}a&&(g=g||[]).push("style",a);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},Pg=function(n,s,a,d){a!==d&&(s.flags|=4)};function Wa(n,s){if(!ft)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function an(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,d=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=d,n.childLanes=a,s}function qT(n,s,a){var d=s.pendingProps;switch(Ud(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return An(s.type)&&gu(),an(s),null;case 3:return d=s.stateNode,Do(),ct(Sn),ct(sn),th(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(wu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pr!==null&&(kh(pr),pr=null))),_h(n,s),an(s),null;case 5:Zd(s);var f=Os(Ba.current);if(a=s.type,n!==null&&s.stateNode!=null)Rg(n,s,a,d,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(n=Os(Vr.current),wu(s)){d=s.stateNode,a=s.type;var g=s.memoizedProps;switch(d[Lr]=s,d[Va]=g,n=(s.mode&1)!==0,a){case"dialog":ut("cancel",d),ut("close",d);break;case"iframe":case"object":case"embed":ut("load",d);break;case"video":case"audio":for(f=0;f<ba.length;f++)ut(ba[f],d);break;case"source":ut("error",d);break;case"img":case"image":case"link":ut("error",d),ut("load",d);break;case"details":ut("toggle",d);break;case"input":Ii(d,g),ut("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ut("invalid",d);break;case"textarea":Ai(d,g),ut("invalid",d)}Ze(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&fu(d.textContent,R,n),f=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&fu(d.textContent,R,n),f=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&ut("scroll",d)}switch(a){case"input":On(d),Pr(d,g,!0);break;case"textarea":On(d),W(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=pu)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=q(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=E.createElement(a,{is:d.is}):(n=E.createElement(a),a==="select"&&(E=n,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):n=E.createElementNS(n,a),n[Lr]=s,n[Va]=d,Ag(n,s,!1,!1),s.stateNode=n;e:{switch(E=qt(a,d),a){case"dialog":ut("cancel",n),ut("close",n),f=d;break;case"iframe":case"object":case"embed":ut("load",n),f=d;break;case"video":case"audio":for(f=0;f<ba.length;f++)ut(ba[f],n);f=d;break;case"source":ut("error",n),f=d;break;case"img":case"image":case"link":ut("error",n),ut("load",n),f=d;break;case"details":ut("toggle",n),f=d;break;case"input":Ii(n,d),f=Rr(n,d),ut("invalid",n);break;case"option":f=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},f=x({},d,{value:void 0}),ut("invalid",n);break;case"textarea":Ai(n,d),f=_s(n,d),ut("invalid",n);break;default:f=d}Ze(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?lt(n,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&le(n,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Ie(n,N):typeof N=="number"&&Ie(n,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&ut("scroll",n):N!=null&&re(n,g,N,E))}switch(a){case"input":On(n),Pr(n,d,!1);break;case"textarea":On(n),W(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Ue(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?Vn(n,!!d.multiple,g,!1):d.defaultValue!=null&&Vn(n,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=pu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(n&&s.stateNode!=null)Pg(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=Os(Ba.current),Os(Vr.current),wu(s)){if(d=s.stateNode,a=s.memoizedProps,d[Lr]=s,(g=d.nodeValue!==a)&&(n=Bn,n!==null))switch(n.tag){case 3:fu(d.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fu(d.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Lr]=s,s.stateNode=d}return an(s),null;case 13:if(ct(_t),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ft&&zn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)km(),Co(),s.flags|=98560,g=!1;else if(g=wu(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Lr]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),g=!1}else pr!==null&&(kh(pr),pr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(_t.current&1)!==0?Lt===0&&(Lt=3):Dh())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return Do(),_h(n,s),n===null&&Oa(s.stateNode.containerInfo),an(s),null;case 10:return Wd(s.type._context),an(s),null;case 17:return An(s.type)&&gu(),an(s),null;case 19:if(ct(_t),g=s.memoizedState,g===null)return an(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)Wa(g,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(E=Cu(n),E!==null){for(s.flags|=128,Wa(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)g=a,n=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return at(_t,_t.current&1|2),s.child}n=n.sibling}g.tail!==null&&ot()>Vo&&(s.flags|=128,d=!0,Wa(g,!1),s.lanes=4194304)}else{if(!d)if(n=Cu(E),n!==null){if(s.flags|=128,d=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ft)return an(s),null}else 2*ot()-g.renderingStartTime>Vo&&a!==1073741824&&(s.flags|=128,d=!0,Wa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=_t.current,at(_t,d?a&1|2:a&1),s):(an(s),null);case 22:case 23:return Nh(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?($n&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function WT(n,s){switch(Ud(s),s.tag){case 1:return An(s.type)&&gu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Do(),ct(Sn),ct(sn),th(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Zd(s),null;case 13:if(ct(_t),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ct(_t),null;case 4:return Do(),null;case 10:return Wd(s.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Vu=!1,ln=!1,GT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Oo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){wt(n,s,d)}else a.current=null}function vh(n,s,a){try{a()}catch(d){wt(n,s,d)}}var Cg=!1;function KT(n,s){if(Nd=bi,n=sm(),Id(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,R=-1,N=-1,$=0,ee=0,ne=n,J=null;t:for(;;){for(var ue;ne!==a||f!==0&&ne.nodeType!==3||(R=E+f),ne!==g||d!==0&&ne.nodeType!==3||(N=E+d),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)J=ne,ne=ue;for(;;){if(ne===n)break t;if(J===a&&++$===f&&(R=E),J===g&&++ee===d&&(N=E),(ue=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=ue}a=R===-1||N===-1?null:{start:R,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:n,selectionRange:a},bi=!1,fe=s;fe!==null;)if(s=fe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,fe=n;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Tt=me.memoizedState,B=s.stateNode,L=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:mr(s.type,ge),Tt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){wt(s,s.return,se)}if(n=s.sibling,n!==null){n.return=s.return,fe=n;break}fe=s.return}return me=Cg,Cg=!1,me}function Ga(n,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&vh(s,a,g)}f=f.next}while(f!==d)}}function Mu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function Eh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function kg(n){var s=n.alternate;s!==null&&(n.alternate=null,kg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Lr],delete s[Va],delete s[Vd],delete s[xT],delete s[NT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function xg(n){return n.tag===5||n.tag===3||n.tag===4}function Ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wh(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pu));else if(d!==4&&(n=n.child,n!==null))for(wh(n,s,a),n=n.sibling;n!==null;)wh(n,s,a),n=n.sibling}function Th(n,s,a){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Th(n,s,a),n=n.sibling;n!==null;)Th(n,s,a),n=n.sibling}var Yt=null,gr=!1;function zi(n,s,a){for(a=a.child;a!==null;)Dg(n,s,a),a=a.sibling}function Dg(n,s,a){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Ts,a)}catch{}switch(a.tag){case 5:ln||Oo(a,s);case 6:var d=Yt,f=gr;Yt=null,zi(n,s,a),Yt=d,gr=f,Yt!==null&&(gr?(n=Yt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(gr?(n=Yt,a=a.stateNode,n.nodeType===8?Ld(n.parentNode,a):n.nodeType===1&&Ld(n,a),dr(n)):Ld(Yt,a.stateNode));break;case 4:d=Yt,f=gr,Yt=a.stateNode.containerInfo,gr=!0,zi(n,s,a),Yt=d,gr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&vh(a,s,E),f=f.next}while(f!==d)}zi(n,s,a);break;case 1:if(!ln&&(Oo(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(R){wt(a,s,R)}zi(n,s,a);break;case 21:zi(n,s,a);break;case 22:a.mode&1?(ln=(d=ln)||a.memoizedState!==null,zi(n,s,a),ln=d):zi(n,s,a);break;default:zi(n,s,a)}}function bg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new GT),s.forEach(function(d){var f=rI.bind(null,n,d);a.has(d)||(a.add(d),d.then(f,f))})}}function yr(n,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var g=n,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Yt=R.stateNode,gr=!1;break e;case 3:Yt=R.stateNode.containerInfo,gr=!0;break e;case 4:Yt=R.stateNode.containerInfo,gr=!0;break e}R=R.return}if(Yt===null)throw Error(t(160));Dg(g,E,f),Yt=null,gr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch($){wt(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Og(s,n),s=s.sibling}function Og(n,s){var a=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(yr(s,n),jr(n),d&4){try{Ga(3,n,n.return),Mu(3,n)}catch(ge){wt(n,n.return,ge)}try{Ga(5,n,n.return)}catch(ge){wt(n,n.return,ge)}}break;case 1:yr(s,n),jr(n),d&512&&a!==null&&Oo(a,a.return);break;case 5:if(yr(s,n),jr(n),d&512&&a!==null&&Oo(a,a.return),n.flags&32){var f=n.stateNode;try{Ie(f,"")}catch(ge){wt(n,n.return,ge)}}if(d&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,R=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Si(f,g),qt(R,E);var $=qt(R,g);for(E=0;E<N.length;E+=2){var ee=N[E],ne=N[E+1];ee==="style"?lt(f,ne):ee==="dangerouslySetInnerHTML"?le(f,ne):ee==="children"?Ie(f,ne):re(f,ee,ne,$)}switch(R){case"input":ys(f,g);break;case"textarea":Kr(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Vn(f,!!g.multiple,ue,!1):J!==!!g.multiple&&(g.defaultValue!=null?Vn(f,!!g.multiple,g.defaultValue,!0):Vn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Va]=g}catch(ge){wt(n,n.return,ge)}}break;case 6:if(yr(s,n),jr(n),d&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ge){wt(n,n.return,ge)}}break;case 3:if(yr(s,n),jr(n),d&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(s.containerInfo)}catch(ge){wt(n,n.return,ge)}break;case 4:yr(s,n),jr(n);break;case 13:yr(s,n),jr(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Ah=ot())),d&4&&bg(n);break;case 22:if(ee=a!==null&&a.memoizedState!==null,n.mode&1?(ln=($=ln)||ee,yr(s,n),ln=$):yr(s,n),jr(n),d&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!ee&&(n.mode&1)!==0)for(fe=n,ee=n.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(J=fe,ue=J.child,J.tag){case 0:case 11:case 14:case 15:Ga(4,J,J.return);break;case 1:Oo(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){d=J,a=J.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){wt(d,a,ge)}}break;case 5:Oo(J,J.return);break;case 22:if(J.memoizedState!==null){Mg(ne);continue}}ue!==null?(ue.return=J,fe=ue):Mg(ne)}ee=ee.sibling}e:for(ee=null,ne=n;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,$?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,N=ne.memoizedProps.style,E=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=Se("display",E))}catch(ge){wt(n,n.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=$?"":ne.memoizedProps}catch(ge){wt(n,n.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===n)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===n)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===n)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:yr(s,n),jr(n),d&4&&bg(n);break;case 21:break;default:yr(s,n),jr(n)}}function jr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(xg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Ie(f,""),d.flags&=-33);var g=Ng(n);Th(n,g,f);break;case 3:case 4:var E=d.stateNode.containerInfo,R=Ng(n);wh(n,R,E);break;default:throw Error(t(161))}}catch(N){wt(n,n.return,N)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function QT(n,s,a){fe=n,Lg(n)}function Lg(n,s,a){for(var d=(n.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&d){var E=f.memoizedState!==null||Vu;if(!E){var R=f.alternate,N=R!==null&&R.memoizedState!==null||ln;R=Vu;var $=ln;if(Vu=E,(ln=N)&&!$)for(fe=f;fe!==null;)E=fe,N=E.child,E.tag===22&&E.memoizedState!==null?jg(f):N!==null?(N.return=E,fe=N):jg(f);for(;g!==null;)fe=g,Lg(g),g=g.sibling;fe=f,Vu=R,ln=$}Vg(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,fe=g):Vg(n)}}function Vg(n){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||Mu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!ln)if(a===null)d.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:mr(s.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&bm(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}bm(s,E,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&dr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&Eh(s)}catch(J){wt(s,s.return,J)}}if(s===n){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Mg(n){for(;fe!==null;){var s=fe;if(s===n){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function jg(n){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Mu(4,s)}catch(N){wt(s,a,N)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(N){wt(s,f,N)}}var g=s.return;try{Eh(s)}catch(N){wt(s,g,N)}break;case 5:var E=s.return;try{Eh(s)}catch(N){wt(s,E,N)}}}catch(N){wt(s,s.return,N)}if(s===n){fe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,fe=R;break}fe=s.return}}var YT=Math.ceil,ju=ie.ReactCurrentDispatcher,Ih=ie.ReactCurrentOwner,er=ie.ReactCurrentBatchConfig,Xe=0,zt=null,At=null,Xt=0,$n=0,Lo=Mi(0),Lt=0,Ka=null,Vs=0,Fu=0,Sh=0,Qa=null,Pn=null,Ah=0,Vo=1/0,li=null,Uu=!1,Rh=null,$i=null,Bu=!1,Hi=null,zu=0,Ya=0,Ph=null,$u=-1,Hu=0;function _n(){return(Xe&6)!==0?ot():$u!==-1?$u:$u=ot()}function qi(n){return(n.mode&1)===0?1:(Xe&2)!==0&&Xt!==0?Xt&-Xt:bT.transition!==null?(Hu===0&&(Hu=Ss()),Hu):(n=We,n!==0||(n=window.event,n=n===void 0?16:Sa(n.type)),n)}function _r(n,s,a,d){if(50<Ya)throw Ya=0,Ph=null,Error(t(185));ki(n,a,d),((Xe&2)===0||n!==zt)&&(n===zt&&((Xe&2)===0&&(Fu|=a),Lt===4&&Wi(n,Xt)),Cn(n,d),a===1&&Xe===0&&(s.mode&1)===0&&(Vo=ot()+500,_u&&Fi()))}function Cn(n,s){var a=n.callbackNode;Yr(n,s);var d=Is(n,n===zt?Xt:0);if(d===0)a!==null&&va(a),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(a!=null&&va(a),s===1)n.tag===0?DT(Ug.bind(null,n)):Sm(Ug.bind(null,n)),CT(function(){(Xe&6)===0&&Fi()}),a=null;else{switch(Ni(d)){case 1:a=ws;break;case 4:a=Ri;break;case 16:a=Gn;break;case 536870912:a=Hl;break;default:a=Gn}a=Kg(a,Fg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Fg(n,s){if($u=-1,Hu=0,(Xe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Mo()&&n.callbackNode!==a)return null;var d=Is(n,n===zt?Xt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=qu(n,d);else{s=d;var f=Xe;Xe|=2;var g=zg();(zt!==n||Xt!==s)&&(li=null,Vo=ot()+500,js(n,s));do try{ZT();break}catch(R){Bg(n,R)}while(!0);qd(),ju.current=g,Xe=f,At!==null?s=0:(zt=null,Xt=0,s=Lt)}if(s!==0){if(s===2&&(f=jn(n),f!==0&&(d=f,s=Ch(n,f))),s===1)throw a=Ka,js(n,0),Wi(n,d),Cn(n,ot()),a;if(s===6)Wi(n,d);else{if(f=n.current.alternate,(d&30)===0&&!XT(f)&&(s=qu(n,d),s===2&&(g=jn(n),g!==0&&(d=g,s=Ch(n,g))),s===1))throw a=Ka,js(n,0),Wi(n,d),Cn(n,ot()),a;switch(n.finishedWork=f,n.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Fs(n,Pn,li);break;case 3:if(Wi(n,d),(d&130023424)===d&&(s=Ah+500-ot(),10<s)){if(Is(n,0)!==0)break;if(f=n.suspendedLanes,(f&d)!==d){_n(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Od(Fs.bind(null,n,Pn,li),s);break}Fs(n,Pn,li);break;case 4:if(Wi(n,d),(d&4194240)===d)break;for(s=n.eventTimes,f=-1;0<d;){var E=31-mn(d);g=1<<E,E=s[E],E>f&&(f=E),d&=~g}if(d=f,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*YT(d/1960))-d,10<d){n.timeoutHandle=Od(Fs.bind(null,n,Pn,li),d);break}Fs(n,Pn,li);break;case 5:Fs(n,Pn,li);break;default:throw Error(t(329))}}}return Cn(n,ot()),n.callbackNode===a?Fg.bind(null,n):null}function Ch(n,s){var a=Qa;return n.current.memoizedState.isDehydrated&&(js(n,s).flags|=256),n=qu(n,s),n!==2&&(s=Pn,Pn=a,s!==null&&kh(s)),n}function kh(n){Pn===null?Pn=n:Pn.push.apply(Pn,n)}function XT(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],g=f.getSnapshot;f=f.value;try{if(!fr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(n,s){for(s&=~Sh,s&=~Fu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-mn(s),d=1<<a;n[a]=-1,s&=~d}}function Ug(n){if((Xe&6)!==0)throw Error(t(327));Mo();var s=Is(n,0);if((s&1)===0)return Cn(n,ot()),null;var a=qu(n,s);if(n.tag!==0&&a===2){var d=jn(n);d!==0&&(s=d,a=Ch(n,d))}if(a===1)throw a=Ka,js(n,0),Wi(n,s),Cn(n,ot()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Fs(n,Pn,li),Cn(n,ot()),null}function xh(n,s){var a=Xe;Xe|=1;try{return n(s)}finally{Xe=a,Xe===0&&(Vo=ot()+500,_u&&Fi())}}function Ms(n){Hi!==null&&Hi.tag===0&&(Xe&6)===0&&Mo();var s=Xe;Xe|=1;var a=er.transition,d=We;try{if(er.transition=null,We=1,n)return n()}finally{We=d,er.transition=a,Xe=s,(Xe&6)===0&&Fi()}}function Nh(){$n=Lo.current,ct(Lo)}function js(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,PT(a)),At!==null)for(a=At.return;a!==null;){var d=a;switch(Ud(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gu();break;case 3:Do(),ct(Sn),ct(sn),th();break;case 5:Zd(d);break;case 4:Do();break;case 13:ct(_t);break;case 19:ct(_t);break;case 10:Wd(d.type._context);break;case 22:case 23:Nh()}a=a.return}if(zt=n,At=n=Gi(n.current,null),Xt=$n=s,Lt=0,Ka=null,Sh=Fu=Vs=0,Pn=Qa=null,bs!==null){for(s=0;s<bs.length;s++)if(a=bs[s],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,d.next=E}a.pending=d}bs=null}return n}function Bg(n,s){do{var a=At;try{if(qd(),ku.current=bu,xu){for(var d=vt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}xu=!1}if(Ls=0,Bt=Ot=vt=null,za=!1,$a=0,Ih.current=null,a===null||a.return===null){Lt=1,Ka=s,At=null;break}e:{var g=n,E=a.return,R=a,N=s;if(s=Xt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,ee=R,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=hg(E);if(ue!==null){ue.flags&=-257,fg(ue,E,R,g,s),ue.mode&1&&dg(g,$,s),s=ue,N=$;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(N),s.updateQueue=ge}else me.add(N);break e}else{if((s&1)===0){dg(g,$,s),Dh();break e}N=Error(t(426))}}else if(ft&&R.mode&1){var Tt=hg(E);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),fg(Tt,E,R,g,s),$d(bo(N,R));break e}}g=N=bo(N,R),Lt!==4&&(Lt=2),Qa===null?Qa=[g]:Qa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=ug(g,N,s);Dm(g,B);break e;case 1:R=N;var L=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&($i===null||!$i.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=cg(g,R,s);Dm(g,se);break e}}g=g.return}while(g!==null)}Hg(a)}catch(ye){s=ye,At===a&&a!==null&&(At=a=a.return);continue}break}while(!0)}function zg(){var n=ju.current;return ju.current=bu,n===null?bu:n}function Dh(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||(Vs&268435455)===0&&(Fu&268435455)===0||Wi(zt,Xt)}function qu(n,s){var a=Xe;Xe|=2;var d=zg();(zt!==n||Xt!==s)&&(li=null,js(n,s));do try{JT();break}catch(f){Bg(n,f)}while(!0);if(qd(),Xe=a,ju.current=d,At!==null)throw Error(t(261));return zt=null,Xt=0,Lt}function JT(){for(;At!==null;)$g(At)}function ZT(){for(;At!==null&&!zl();)$g(At)}function $g(n){var s=Gg(n.alternate,n,$n);n.memoizedProps=n.pendingProps,s===null?Hg(n):At=s,Ih.current=null}function Hg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=qT(a,s,$n),a!==null){At=a;return}}else{if(a=WT(a,s),a!==null){a.flags&=32767,At=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Lt=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=n}while(s!==null);Lt===0&&(Lt=5)}function Fs(n,s,a){var d=We,f=er.transition;try{er.transition=null,We=1,eI(n,s,a,d)}finally{er.transition=f,We=d}return null}function eI(n,s,a,d){do Mo();while(Hi!==null);if((Xe&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(st(n,g),n===zt&&(At=zt=null,Xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Bu||(Bu=!0,Kg(Gn,function(){return Mo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=er.transition,er.transition=null;var E=We;We=1;var R=Xe;Xe|=4,Ih.current=null,KT(n,a),Og(a,n),ET(Dd),bi=!!Nd,Dd=Nd=null,n.current=a,QT(a),md(),Xe=R,We=E,er.transition=g}else n.current=a;if(Bu&&(Bu=!1,Hi=n,zu=f),g=n.pendingLanes,g===0&&($i=null),ql(a.stateNode),Cn(n,ot()),s!==null)for(d=n.onRecoverableError,a=0;a<s.length;a++)f=s[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(Uu)throw Uu=!1,n=Rh,Rh=null,n;return(zu&1)!==0&&n.tag!==0&&Mo(),g=n.pendingLanes,(g&1)!==0?n===Ph?Ya++:(Ya=0,Ph=n):Ya=0,Fi(),null}function Mo(){if(Hi!==null){var n=Ni(zu),s=er.transition,a=We;try{if(er.transition=null,We=16>n?16:n,Hi===null)var d=!1;else{if(n=Hi,Hi=null,zu=0,(Xe&6)!==0)throw Error(t(331));var f=Xe;for(Xe|=4,fe=n.current;fe!==null;){var g=fe,E=g.child;if((fe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var $=R[N];for(fe=$;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:Ga(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var J=ee.sibling,ue=ee.return;if(kg(ee),ee===$){fe=null;break}if(J!==null){J.return=ue,fe=J;break}fe=ue}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Tt=ge.sibling;ge.sibling=null,ge=Tt}while(ge!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ga(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,fe=B;break e}fe=g.return}}var L=n.current;for(fe=L;fe!==null;){E=fe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,fe=z;else e:for(E=L;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Mu(9,R)}}catch(ye){wt(R,R.return,ye)}if(R===E){fe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,fe=se;break e}fe=R.return}}if(Xe=f,Fi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Ts,n)}catch{}d=!0}return d}finally{We=a,er.transition=s}}return!1}function qg(n,s,a){s=bo(a,s),s=ug(n,s,1),n=Bi(n,s,1),s=_n(),n!==null&&(ki(n,1,s),Cn(n,s))}function wt(n,s,a){if(n.tag===3)qg(n,n,a);else for(;s!==null;){if(s.tag===3){qg(s,n,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))){n=bo(a,n),n=cg(s,n,1),s=Bi(s,n,1),n=_n(),s!==null&&(ki(s,1,n),Cn(s,n));break}}s=s.return}}function tI(n,s,a){var d=n.pingCache;d!==null&&d.delete(s),s=_n(),n.pingedLanes|=n.suspendedLanes&a,zt===n&&(Xt&a)===a&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>ot()-Ah?js(n,0):Sh|=a),Cn(n,s)}function Wg(n,s){s===0&&((n.mode&1)===0?s=1:(s=so,so<<=1,(so&130023424)===0&&(so=4194304)));var a=_n();n=si(n,s),n!==null&&(ki(n,s,a),Cn(n,a))}function nI(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Wg(n,a)}function rI(n,s){var a=0;switch(n.tag){case 13:var d=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Wg(n,a)}var Gg;Gg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Sn.current)Rn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Rn=!1,HT(n,s,a);Rn=(n.flags&131072)!==0}else Rn=!1,ft&&(s.flags&1048576)!==0&&Am(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Lu(n,s),n=s.pendingProps;var f=Ao(s,sn.current);xo(s,a),f=ih(null,s,d,n,f,a);var g=sh();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,An(d)?(g=!0,yu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Qd(s),f.updater=Ru,s.stateNode=f,f._reactInternals=s,Xd(s,d,n,a),s=fh(null,s,d,!0,g,a)):(s.tag=0,ft&&g&&Fd(s),yn(null,s,f,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Lu(n,s),n=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=sI(d),n=mr(d,n),f){case 0:s=hh(null,s,d,n,a);break e;case 1:s=vg(null,s,d,n,a);break e;case 11:s=pg(null,s,d,n,a);break e;case 14:s=mg(null,s,d,mr(d.type,n),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),hh(n,s,d,f,a);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),vg(n,s,d,f,a);case 3:e:{if(Eg(s),n===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,Nm(n,s),Au(s,d,null,a);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=bo(Error(t(423)),s),s=wg(n,s,d,a,f);break e}else if(d!==f){f=bo(Error(t(424)),s),s=wg(n,s,d,a,f);break e}else for(zn=Vi(s.stateNode.containerInfo.firstChild),Bn=s,ft=!0,pr=null,a=Um(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Co(),d===f){s=ai(n,s,a);break e}yn(n,s,d,a)}s=s.child}return s;case 5:return Bm(s),n===null&&zd(s),d=s.type,f=s.pendingProps,g=n!==null?n.memoizedProps:null,E=f.children,bd(d,f)?E=null:g!==null&&bd(d,g)&&(s.flags|=32),_g(n,s),yn(n,s,E,a),s.child;case 6:return n===null&&zd(s),null;case 13:return Tg(n,s,a);case 4:return Jd(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=No(s,null,d,a):yn(n,s,d,a),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),pg(n,s,d,f,a);case 7:return yn(n,s,s.pendingProps,a),s.child;case 8:return yn(n,s,s.pendingProps.children,a),s.child;case 12:return yn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,at(Tu,d._currentValue),d._currentValue=E,g!==null)if(fr(g.value,E)){if(g.children===f.children&&!Sn.current){s=ai(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var N=R.firstContext;N!==null;){if(N.context===d){if(g.tag===1){N=oi(-1,a&-a),N.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),$.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Gd(g.return,a,s),R.lanes|=a;break}N=N.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,R=E.alternate,R!==null&&(R.lanes|=a),Gd(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}yn(n,s,f.children,a),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,xo(s,a),f=Jn(f),d=d(f),s.flags|=1,yn(n,s,d,a),s.child;case 14:return d=s.type,f=mr(d,s.pendingProps),f=mr(d.type,f),mg(n,s,d,f,a);case 15:return gg(n,s,s.type,s.pendingProps,a);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),Lu(n,s),s.tag=1,An(d)?(n=!0,yu(s)):n=!1,xo(s,a),Vm(s,d,f),Xd(s,d,f,a),fh(null,s,d,!0,n,a);case 19:return Sg(n,s,a);case 22:return yg(n,s,a)}throw Error(t(156,s.tag))};function Kg(n,s){return ro(n,s)}function iI(n,s,a,d){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(n,s,a,d){return new iI(n,s,a,d)}function bh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sI(n){if(typeof n=="function")return bh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===jt)return 14}return 2}function Gi(n,s){var a=n.alternate;return a===null?(a=tr(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Wu(n,s,a,d,f,g){var E=2;if(d=n,typeof n=="function")bh(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case b:return Us(a.children,f,g,s);case A:E=8,f|=8;break;case C:return n=tr(12,a,s,f|2),n.elementType=C,n.lanes=g,n;case P:return n=tr(13,a,s,f),n.elementType=P,n.lanes=g,n;case gt:return n=tr(19,a,s,f),n.elementType=gt,n.lanes=g,n;case De:return Gu(a,f,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:E=10;break e;case V:E=9;break e;case F:E=11;break e;case jt:E=14;break e;case Ft:E=16,d=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=tr(E,a,s,f),s.elementType=n,s.type=d,s.lanes=g,s}function Us(n,s,a,d){return n=tr(7,n,d,s),n.lanes=a,n}function Gu(n,s,a,d){return n=tr(22,n,d,s),n.elementType=De,n.lanes=a,n.stateNode={isHidden:!1},n}function Oh(n,s,a){return n=tr(6,n,null,s),n.lanes=a,n}function Lh(n,s,a){return s=tr(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function oI(n,s,a,d,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Vh(n,s,a,d,f,g,E,R,N){return n=new oI(n,s,a,R,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=tr(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(g),n}function aI(n,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:d==null?null:""+d,children:n,containerInfo:s,implementation:a}}function Qg(n){if(!n)return ji;n=n._reactInternals;e:{if(or(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(An(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(An(a))return Tm(n,a,s)}return s}function Yg(n,s,a,d,f,g,E,R,N){return n=Vh(a,d,!0,n,f,g,E,R,N),n.context=Qg(null),a=n.current,d=_n(),f=qi(a),g=oi(d,f),g.callback=s??null,Bi(a,g,f),n.current.lanes=f,ki(n,f,d),Cn(n,d),n}function Ku(n,s,a,d){var f=s.current,g=_n(),E=qi(f);return a=Qg(a),s.context===null?s.context=a:s.pendingContext=a,s=oi(g,E),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Bi(f,s,E),n!==null&&(_r(n,f,E,g),Su(n,f,E)),E}function Qu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Xg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Mh(n,s){Xg(n,s),(n=n.alternate)&&Xg(n,s)}function lI(){return null}var Jg=typeof reportError=="function"?reportError:function(n){console.error(n)};function jh(n){this._internalRoot=n}Yu.prototype.render=jh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Ku(n,s,null,null)},Yu.prototype.unmount=jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ms(function(){Ku(null,n,null,null)}),s[ti]=null}};function Yu(n){this._internalRoot=n}Yu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Yl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Nr.length&&s!==0&&s<Nr[a].priority;a++);Nr.splice(a,0,n),a===0&&Zl(n)}};function Fh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Xu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function uI(n,s,a,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var $=Qu(E);g.call($)}}var E=Yg(s,d,n,0,null,!1,!1,"",Zg);return n._reactRootContainer=E,n[ti]=E.current,Oa(n.nodeType===8?n.parentNode:n),Ms(),E}for(;f=n.lastChild;)n.removeChild(f);if(typeof d=="function"){var R=d;d=function(){var $=Qu(N);R.call($)}}var N=Vh(n,0,!1,null,null,!1,!1,"",Zg);return n._reactRootContainer=N,n[ti]=N.current,Oa(n.nodeType===8?n.parentNode:n),Ms(function(){Ku(s,N,a,d)}),N}function Ju(n,s,a,d,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var R=f;f=function(){var N=Qu(E);R.call(N)}}Ku(s,E,n,f)}else E=uI(a,s,n,f,d);return Qu(E)}Kl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Pi(s.pendingLanes);a!==0&&(xi(s,a|1),Cn(s,ot()),(Xe&6)===0&&(Vo=ot()+500,Fi()))}break;case 13:Ms(function(){var d=si(n,1);if(d!==null){var f=_n();_r(d,n,1,f)}}),Mh(n,1)}},oo=function(n){if(n.tag===13){var s=si(n,134217728);if(s!==null){var a=_n();_r(s,n,134217728,a)}Mh(n,134217728)}},Ql=function(n){if(n.tag===13){var s=qi(n),a=si(n,s);if(a!==null){var d=_n();_r(a,n,s,d)}Mh(n,s)}},Yl=function(){return We},Xl=function(n,s){var a=We;try{return We=n,s()}finally{We=a}},rr=function(n,s,a){switch(s){case"input":if(ys(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==n&&d.form===n.form){var f=mu(d);if(!f)throw Error(t(90));Ar(d),ys(d,f)}}}break;case"textarea":Kr(n,a);break;case"select":s=a.value,s!=null&&Vn(n,!!a.multiple,s,!1)}},fn=xh,ir=Ms;var cI={usingClientEntryPoint:!1,Events:[Ma,Io,mu,it,Nt,xh]},Xa={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dI={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_a(n),n===null?null:n.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||lI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Ts=Zu.inject(dI),Mn=Zu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cI,kn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(s))throw Error(t(200));return aI(n,s,null,a)},kn.createRoot=function(n,s){if(!Fh(n))throw Error(t(299));var a=!1,d="",f=Jg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Vh(n,1,!1,null,null,a,!1,d,f),n[ti]=s.current,Oa(n.nodeType===8?n.parentNode:n),new jh(s)},kn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=_a(s),n=n===null?null:n.stateNode,n},kn.flushSync=function(n){return Ms(n)},kn.hydrate=function(n,s,a){if(!Xu(s))throw Error(t(200));return Ju(null,n,s,!0,a)},kn.hydrateRoot=function(n,s,a){if(!Fh(n))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,g="",E=Jg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Yg(s,null,n,1,a??null,f,!1,g,E),n[ti]=s.current,Oa(n),d)for(n=0;n<d.length;n++)a=d[n],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Yu(s)},kn.render=function(n,s,a){if(!Xu(s))throw Error(t(200));return Ju(null,n,s,!1,a)},kn.unmountComponentAtNode=function(n){if(!Xu(n))throw Error(t(40));return n._reactRootContainer?(Ms(function(){Ju(null,null,n,!1,function(){n._reactRootContainer=null,n[ti]=null})}),!0):!1},kn.unstable_batchedUpdates=xh,kn.unstable_renderSubtreeIntoContainer=function(n,s,a,d){if(!Xu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Ju(n,s,a,!1,d)},kn.version="18.2.0-next-9e3b772b8-20220608",kn}var ay;function EI(){if(ay)return zh.exports;ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zh.exports=vI(),zh.exports}var ly;function wI(){if(ly)return ec;ly=1;var r=EI();return ec.createRoot=r.createRoot,ec.hydrateRoot=r.hydrateRoot,ec}var TI=wI();const II=aa(TI),cv=nt.createContext({}),dv=!0;function SI({baseColor:r,highlightColor:e,width:t,height:i,borderRadius:o,circle:l,direction:c,duration:h,enableAnimation:p=dv}){const y={};return c==="rtl"&&(y["--animation-direction"]="reverse"),typeof h=="number"&&(y["--animation-duration"]=`${h}s`),p||(y["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(y.width=t),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof o=="string"||typeof o=="number")&&(y.borderRadius=o),l&&(y.borderRadius="50%"),typeof r<"u"&&(y["--base-color"]=r),typeof e<"u"&&(y["--highlight-color"]=e),y}function Ho({count:r=1,wrapper:e,className:t,containerClassName:i,containerTestId:o,circle:l=!1,style:c,...h}){var p,y,v;const S=nt.useContext(cv),T={...h};for(const[re,ie]of Object.entries(h))typeof ie>"u"&&delete T[re];const k={...S,...T,circle:l},O={...c,...SI(k)};let M="react-loading-skeleton";t&&(M+=` ${t}`);const j=(p=k.inline)!==null&&p!==void 0?p:!1,G=[],te=Math.ceil(r);for(let re=0;re<te;re++){let ie=O;if(te>r&&re===te-1){const Ce=(y=ie.width)!==null&&y!==void 0?y:"100%",b=r%1,A=typeof Ce=="number"?Ce*b:`calc(${Ce} * ${b})`;ie={...ie,width:A}}const Ne=nt.createElement("span",{className:M,style:ie,key:re},"‌");j?G.push(Ne):G.push(nt.createElement(nt.Fragment,{key:re},Ne,nt.createElement("br",null)))}return nt.createElement("span",{className:i,"data-testid":o,"aria-live":"polite","aria-busy":(v=k.enableAnimation)!==null&&v!==void 0?v:dv},e?G.map((re,ie)=>nt.createElement(e,{key:ie},re)):G)}function AI({children:r,...e}){return nt.createElement(cv.Provider,{value:e},r)}const RI="modulepreload",PI=function(r,e){return new URL(r,e).href},uy={},bn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(t.map(y=>{if(y=PI(y,i),y in uy)return;uy[y]=!0;const v=y.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(!!i)for(let O=c.length-1;O>=0;O--){const M=c[O];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":RI,v||(k.as="script"),k.crossOrigin="",k.href=y,p&&k.setAttribute("nonce",p),document.head.appendChild(k),v)return new Promise((O,M)=>{k.addEventListener("load",O),k.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rt(){return rt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},rt.apply(this,arguments)}var Pt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Pt||(Pt={}));const cy="popstate";function CI(r){r===void 0&&(r={});function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=Gr(o.location.hash.substr(1));return pl("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof l=="string"?l:yi(l))}function i(o,l){hv(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return xI(e,t,i,r)}function Fe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hv(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kI(){return Math.random().toString(36).substr(2,8)}function dy(r,e){return{usr:r.state,key:r.key,idx:e}}function pl(r,e,t,i){return t===void 0&&(t=null),rt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Gr(e):e,{state:t,key:e&&e.key||i||kI()})}function yi(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Gr(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function xI(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,h=Pt.Pop,p=null,y=v();y==null&&(y=0,c.replaceState(rt({},c.state,{idx:y}),""));function v(){return(c.state||{idx:null}).idx}function S(){let j=Pt.Pop,G=v();if(G!=null){let te=G-y;h=j,y=G,p&&p({action:h,location:M.location,delta:te})}else hv(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function T(j,G){h=Pt.Push;let te=pl(M.location,j,G);t&&t(te,j),y=v()+1;let re=dy(te,y),ie=M.createHref(te);try{c.pushState(re,"",ie)}catch{o.location.assign(ie)}l&&p&&p({action:h,location:M.location,delta:1})}function k(j,G){h=Pt.Replace;let te=pl(M.location,j,G);t&&t(te,j),y=v();let re=dy(te,y),ie=M.createHref(te);c.replaceState(re,"",ie),l&&p&&p({action:h,location:M.location,delta:0})}function O(j){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof j=="string"?j:yi(j);return Fe(G,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,G)}let M={get action(){return h},get location(){return r(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cy,S),p=j,()=>{o.removeEventListener(cy,S),p=null}},createHref(j){return e(o,j)},createURL:O,encodeLocation(j){let G=O(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:k,go(j){return c.go(j)}};return M}var Jt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Jt||(Jt={}));function NI(r){return r.index===!0}function fv(r,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),r.map((i,o)=>{let l=[...e,o],c=typeof i.id=="string"?i.id:l.join("-");return Fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fe(!t.has(c),'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),t.add(c),NI(i)?rt({},i,{id:c}):rt({},i,{id:c,children:i.children?fv(i.children,l,t):void 0})})}function rl(r,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Gr(e):e,o=gv(i.pathname||"/",t);if(o==null)return null;let l=pv(r);DI(l);let c=null;for(let h=0;c==null&&h<l.length;++h)c=BI(l[h],HI(o));return c}function pv(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Fe(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=pi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(Fe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),pv(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:FI(y,l.index),routesMeta:v})};return r.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of mv(l.path))o(l,c,p)}),e}function mv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=mv(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function DI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:UI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const bI=/^:\w+$/,OI=3,LI=2,VI=1,MI=10,jI=-2,hy=r=>r==="*";function FI(r,e){let t=r.split("/"),i=t.length;return t.some(hy)&&(i+=jI),e&&(i+=LI),t.filter(o=>!hy(o)).reduce((o,l)=>o+(bI.test(l)?OI:l===""?VI:MI),i)}function UI(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function BI(r,e){let{routesMeta:t}=r,i={},o="/",l=[];for(let c=0;c<t.length;++c){let h=t[c],p=c===t.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=zI({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y);if(!v)return null;Object.assign(i,v.params);let S=h.route;l.push({params:i,pathname:pi([o,v.pathname]),pathnameBase:KI(pi([o,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(o=pi([o,v.pathnameBase]))}return l}function zI(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=$I(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,v,S)=>{if(v==="*"){let T=h[S]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}return y[v]=qI(h[S]||"",v),y},{}),pathname:l,pathnameBase:c,pattern:r}}function $I(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Uc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,h)=>(i.push(h),"/([^\\/]+)"));return r.endsWith("*")?(i.push("*"),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function HI(r){try{return decodeURI(r)}catch(e){return Uc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function qI(r,e){try{return decodeURIComponent(r)}catch(t){return Uc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function gv(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function Uc(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WI(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Gr(r):r;return{pathname:t?t.startsWith("/")?t:GI(t,e):e,search:QI(i),hash:YI(o)}}function GI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qh(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bc(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wf(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Gr(r):(o=rt({},r),Fe(!o.pathname||!o.pathname.includes("?"),qh("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),qh("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),qh("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,h;if(i||c==null)h=t;else{let S=e.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}h=S>=0?e[S]:"/"}let p=WI(o,h),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}const pi=r=>r.join("/").replace(/\/\/+/g,"/"),KI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class fy extends Error{}class XI{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Fe(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((l,c)=>i=c),this.controller=new AbortController;let o=()=>i(new fy("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",o),this.controller.signal.addEventListener("abort",o),this.data=Object.entries(e).reduce((l,c)=>{let[h,p]=c;return Object.assign(l,{[h]:this.trackPromise(h,p)})},{}),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(o=>this.onSettle(i,e,null,o),o=>this.onSettle(i,e,o));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,o){return this.controller.signal.aborted&&i instanceof fy?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>o}),this.emit(!1,t),o))}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(o=>{this.subscribe(l=>{e.removeEventListener("abort",i),(l||this.done)&&o(l)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Fe(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,o]=t;return Object.assign(e,{[i]:ZI(o)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function JI(r){return r instanceof Promise&&r._tracked===!0}function ZI(r){if(!JI(r))return r;if(r._error)throw r._error;return r._data}class zc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function yv(r){return r instanceof zc}const _v=["post","put","patch","delete"],eS=new Set(_v),tS=["get",..._v],nS=new Set(tS),rS=new Set([301,302,303,307,308]),iS=new Set([307,308]),Wh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},sS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},py={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oS=!vv;function aS(r){Fe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=fv(r.routes),t=null,i=new Set,o=null,l=null,c=null,h=r.hydrationData!=null,p=rl(e,r.history.location,r.basename),y=null;if(p==null){let W=ci(404,{pathname:r.history.location.pathname}),{matches:q,route:Y}=Ey(e);p=q,y={[Y.id]:W}}let v=!p.some(W=>W.route.loader)||r.hydrationData!=null,S,T={historyAction:r.history.action,location:r.history.location,matches:p,initialized:v,navigation:Wh,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||y,fetchers:new Map,blockers:new Map},k=Pt.Pop,O=!1,M,j=!1,G=!1,te=[],re=[],ie=new Map,Ne=0,Ce=-1,b=new Map,A=new Set,C=new Map,D=new Map,V=null,F=new Map,P=!1;function gt(){return t=r.history.listen(W=>{let{action:q,location:Y,delta:pe}=W;if(P){P=!1;return}let le=qn({currentLocation:T.location,nextLocation:Y,historyAction:q});if(le){P=!0,r.history.go(pe*-1),nr(le,{state:"blocked",location:Y,proceed(){nr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),r.history.go(pe)},reset(){Pr(le),De({blockers:new Map(S.state.blockers)})}});return}return Q(q,Y)}),T.initialized||Q(Pt.Pop,T.location),S}function jt(){t&&t(),i.clear(),M&&M.abort(),T.fetchers.forEach((W,q)=>Ar(q)),T.blockers.forEach((W,q)=>Pr(q))}function Ft(W){return i.add(W),()=>i.delete(W)}function De(W){T=rt({},T,W),i.forEach(q=>q(T))}function oe(W,q){var Y,pe;let le=T.actionData!=null&&T.navigation.formMethod!=null&&Yi(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Y=W.state)==null?void 0:Y._isRedirect)!==!0,Ie;q.actionData?Object.keys(q.actionData).length>0?Ie=q.actionData:Ie=null:le?Ie=T.actionData:Ie=null;let we=q.loaderData?vy(T.loaderData,q.loaderData,q.matches||[],q.errors):T.loaderData;for(let[Se]of F)Pr(Se);let je=O===!0||T.navigation.formMethod!=null&&Yi(T.navigation.formMethod)&&((pe=W.state)==null?void 0:pe._isRedirect)!==!0;De(rt({},q,{actionData:Ie,loaderData:we,historyAction:k,location:W,initialized:!0,navigation:Wh,revalidation:"idle",restoreScrollPosition:Kr(W,q.matches||T.matches),preventScrollReset:je,blockers:new Map(T.blockers)})),j||k===Pt.Pop||(k===Pt.Push?r.history.push(W,W.state):k===Pt.Replace&&r.history.replace(W,W.state)),k=Pt.Pop,O=!1,j=!1,G=!1,te=[],re=[]}async function _e(W,q){if(typeof W=="number"){r.history.go(W);return}let{path:Y,submission:pe,error:le}=my(W,q),Ie=T.location,we=pl(T.location,Y,q&&q.state);we=rt({},we,r.history.encodeLocation(we));let je=q&&q.replace!=null?q.replace:void 0,Se=Pt.Push;je===!0?Se=Pt.Replace:je===!1||pe!=null&&Yi(pe.formMethod)&&pe.formAction===T.location.pathname+T.location.search&&(Se=Pt.Replace);let lt=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ve=qn({currentLocation:Ie,nextLocation:we,historyAction:Se});if(Ve){nr(Ve,{state:"blocked",location:we,proceed(){nr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),_e(W,q)},reset(){Pr(Ve),De({blockers:new Map(T.blockers)})}});return}return await Q(Se,we,{submission:pe,pendingError:le,preventScrollReset:lt,replace:q&&q.replace})}function x(){if(Sr(),De({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Q(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Q(k||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function Q(W,q,Y){M&&M.abort(),M=null,k=W,j=(Y&&Y.startUninterruptedRevalidation)===!0,Ai(T.location,T.matches),O=(Y&&Y.preventScrollReset)===!0;let pe=Y&&Y.overrideNavigation,le=rl(e,q,r.basename);if(!le){let Ze=ci(404,{pathname:q.pathname}),{matches:qt,route:xt}=Ey(e);Vn(),oe(q,{matches:qt,loaderData:{},errors:{[xt.id]:Ze}});return}if(hS(T.location,q)){oe(q,{matches:le});return}M=new AbortController;let Ie=el(r.history,q,M.signal,Y&&Y.submission),we,je;if(Y&&Y.pendingError)je={[$o(le).route.id]:Y.pendingError};else if(Y&&Y.submission&&Yi(Y.submission.formMethod)){let Ze=await he(Ie,q,Y.submission,le,{replace:Y.replace});if(Ze.shortCircuited)return;we=Ze.pendingActionData,je=Ze.pendingActionError,pe=rt({state:"loading",location:q},Y.submission),Ie=new Request(Ie.url,{signal:Ie.signal})}let{shortCircuited:Se,loaderData:lt,errors:Ve}=await Ee(Ie,q,le,pe,Y&&Y.submission,Y&&Y.replace,we,je);Se||(M=null,oe(q,rt({matches:le},we?{actionData:we}:{},{loaderData:lt,errors:Ve})))}async function he(W,q,Y,pe,le){Sr();let Ie=rt({state:"submitting",location:q},Y);De({navigation:Ie});let we,je=Sy(pe,q);if(!je.route.action)we={type:Jt.error,error:ci(405,{method:W.method,pathname:q.pathname,routeId:je.route.id})};else if(we=await Za("action",W,je,pe,S.basename),W.signal.aborted)return{shortCircuited:!0};if(qo(we)){let Se;return le&&le.replace!=null?Se=le.replace:Se=we.location===T.location.pathname+T.location.search,await Ue(T,we,{submission:Y,replace:Se}),{shortCircuited:!0}}if(ll(we)){let Se=$o(pe,je.route.id);return(le&&le.replace)!==!0&&(k=Pt.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:we.error}}}if($s(we))throw ci(400,{type:"defer-action"});return{pendingActionData:{[je.route.id]:we.data}}}async function Ee(W,q,Y,pe,le,Ie,we,je){let Se=pe;Se||(Se=rt({state:"loading",location:q,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let lt=le||(Se.formMethod&&Se.formAction&&Se.formData&&Se.formEncType?{formMethod:Se.formMethod,formAction:Se.formAction,formData:Se.formData,formEncType:Se.formEncType}:void 0),[Ve,Ze]=gy(r.history,T,Y,lt,q,G,te,re,we,je,C);if(Vn(it=>!(Y&&Y.some(Nt=>Nt.route.id===it))||Ve&&Ve.some(Nt=>Nt.route.id===it)),Ve.length===0&&Ze.length===0)return oe(q,rt({matches:Y,loaderData:{},errors:je||null},we?{actionData:we}:{})),{shortCircuited:!0};if(!j){Ze.forEach(Nt=>{let[fn]=Nt,ir=T.fetchers.get(fn),pn={state:"loading",data:ir&&ir.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(fn,pn)});let it=we||T.actionData;De(rt({navigation:Se},it?Object.keys(it).length===0?{actionData:null}:{actionData:it}:{},Ze.length>0?{fetchers:new Map(T.fetchers)}:{}))}Ce=++Ne,Ze.forEach(it=>{let[Nt]=it;return ie.set(Nt,M)});let{results:qt,loaderResults:xt,fetcherResults:Wn}=await kt(T.matches,Y,Ve,Ze,W);if(W.signal.aborted)return{shortCircuited:!0};Ze.forEach(it=>{let[Nt]=it;return ie.delete(Nt)});let rr=wy(qt);if(rr)return await Ue(T,rr,{replace:Ie}),{shortCircuited:!0};let{loaderData:Wt,errors:Gt}=_y(T,Y,Ve,xt,je,Ze,Wn,D);D.forEach((it,Nt)=>{it.subscribe(fn=>{(fn||it.done)&&D.delete(Nt)})}),Ii();let Cr=Si(Ce);return rt({loaderData:Wt,errors:Gt},Cr||Ze.length>0?{fetchers:new Map(T.fetchers)}:{})}function Le(W){return T.fetchers.get(W)||sS}function Ge(W,q,Y,pe){if(oS)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(W)&&Ln(W);let le=rl(e,Y,r.basename);if(!le){On(W,q,ci(404,{pathname:Y}));return}let{path:Ie,submission:we}=my(Y,pe,!0),je=Sy(le,Ie);if(we&&Yi(we.formMethod)){qe(W,q,Ie,je,le,we);return}C.set(W,[Ie,je,le]),Ke(W,q,Ie,je,le,we)}async function qe(W,q,Y,pe,le,Ie){if(Sr(),C.delete(W),!pe.route.action){let rn=ci(405,{method:Ie.formMethod,pathname:Y,routeId:q});On(W,q,rn);return}let we=T.fetchers.get(W),je=rt({state:"submitting"},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});T.fetchers.set(W,je),De({fetchers:new Map(T.fetchers)});let Se=new AbortController,lt=el(r.history,Y,Se.signal,Ie);ie.set(W,Se);let Ve=await Za("action",lt,pe,le,S.basename);if(lt.signal.aborted){ie.get(W)===Se&&ie.delete(W);return}if(qo(Ve)){ie.delete(W),A.add(W);let rn=rt({state:"loading"},Ie,{data:void 0," _hasFetcherDoneAnything ":!0});return T.fetchers.set(W,rn),De({fetchers:new Map(T.fetchers)}),Ue(T,Ve,{isFetchActionRedirect:!0})}if(ll(Ve)){On(W,q,Ve.error);return}if($s(Ve))throw ci(400,{type:"defer-action"});let Ze=T.navigation.location||T.location,qt=el(r.history,Ze,Se.signal),xt=T.navigation.state!=="idle"?rl(e,T.navigation.location,r.basename):T.matches;Fe(xt,"Didn't find any matches after fetcher action");let Wn=++Ne;b.set(W,Wn);let rr=rt({state:"loading",data:Ve.data},Ie,{" _hasFetcherDoneAnything ":!0});T.fetchers.set(W,rr);let[Wt,Gt]=gy(r.history,T,xt,Ie,Ze,G,te,re,{[pe.route.id]:Ve.data},void 0,C);Gt.filter(rn=>{let[Dt]=rn;return Dt!==W}).forEach(rn=>{let[Dt]=rn,kr=T.fetchers.get(Dt),Qr={state:"loading",data:kr&&kr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(Dt,Qr),ie.set(Dt,Se)}),De({fetchers:new Map(T.fetchers)});let{results:Cr,loaderResults:it,fetcherResults:Nt}=await kt(T.matches,xt,Wt,Gt,qt);if(Se.signal.aborted)return;b.delete(W),ie.delete(W),Gt.forEach(rn=>{let[Dt]=rn;return ie.delete(Dt)});let fn=wy(Cr);if(fn)return Ue(T,fn);let{loaderData:ir,errors:pn}=_y(T,T.matches,Wt,it,void 0,Gt,Nt,D),vs={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(W,vs);let yt=Si(Wn);T.navigation.state==="loading"&&Wn>Ce?(Fe(k,"Expected pending action"),M&&M.abort(),oe(T.navigation.location,{matches:xt,loaderData:ir,errors:pn,fetchers:new Map(T.fetchers)})):(De(rt({errors:pn,loaderData:vy(T.loaderData,ir,xt,pn)},yt?{fetchers:new Map(T.fetchers)}:{})),G=!1)}async function Ke(W,q,Y,pe,le,Ie){let we=T.fetchers.get(W),je=rt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});T.fetchers.set(W,je),De({fetchers:new Map(T.fetchers)});let Se=new AbortController,lt=el(r.history,Y,Se.signal);ie.set(W,Se);let Ve=await Za("loader",lt,pe,le,S.basename);if($s(Ve)&&(Ve=await Iv(Ve,lt.signal,!0)||Ve),ie.get(W)===Se&&ie.delete(W),lt.signal.aborted)return;if(qo(Ve)){await Ue(T,Ve);return}if(ll(Ve)){let qt=$o(T.matches,q);T.fetchers.delete(W),De({fetchers:new Map(T.fetchers),errors:{[qt.route.id]:Ve.error}});return}Fe(!$s(Ve),"Unhandled fetcher deferred data");let Ze={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(W,Ze),De({fetchers:new Map(T.fetchers)})}async function Ue(W,q,Y){var pe;let{submission:le,replace:Ie,isFetchActionRedirect:we}=Y===void 0?{}:Y;q.revalidate&&(G=!0);let je=pl(W.location,q.location,rt({_isRedirect:!0},we?{_isFetchActionRedirect:!0}:{}));if(Fe(je,"Expected a location on the redirect navigation"),vv&&typeof((pe=window)==null?void 0:pe.location)<"u"){let xt=r.history.createURL(q.location).origin;if(window.location.origin!==xt){Ie?window.location.replace(q.location):window.location.assign(q.location);return}}M=null;let Se=Ie===!0?Pt.Replace:Pt.Push,{formMethod:lt,formAction:Ve,formEncType:Ze,formData:qt}=W.navigation;!le&&lt&&Ve&&qt&&Ze&&(le={formMethod:lt,formAction:Ve,formEncType:Ze,formData:qt}),iS.has(q.status)&&le&&Yi(le.formMethod)?await Q(Se,je,{submission:rt({},le,{formAction:q.location}),preventScrollReset:O}):await Q(Se,je,{overrideNavigation:{state:"loading",location:je,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:O})}async function kt(W,q,Y,pe,le){let Ie=await Promise.all([...Y.map(Se=>Za("loader",le,Se,q,S.basename)),...pe.map(Se=>{let[,lt,Ve,Ze]=Se;return Za("loader",el(r.history,lt,le.signal),Ve,Ze,S.basename)})]),we=Ie.slice(0,Y.length),je=Ie.slice(Y.length);return await Promise.all([Ty(W,Y,we,le.signal,!1,T.loaderData),Ty(W,pe.map(Se=>{let[,,lt]=Se;return lt}),je,le.signal,!0)]),{results:Ie,loaderResults:we,fetcherResults:je}}function Sr(){G=!0,te.push(...Vn()),C.forEach((W,q)=>{ie.has(q)&&(re.push(q),Ln(q))})}function On(W,q,Y){let pe=$o(T.matches,q);Ar(W),De({errors:{[pe.route.id]:Y},fetchers:new Map(T.fetchers)})}function Ar(W){ie.has(W)&&Ln(W),C.delete(W),b.delete(W),A.delete(W),T.fetchers.delete(W)}function Ln(W){let q=ie.get(W);Fe(q,"Expected fetch controller: "+W),q.abort(),ie.delete(W)}function Rr(W){for(let q of W){let pe={state:"idle",data:Le(q).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(q,pe)}}function Ii(){let W=[];for(let q of A){let Y=T.fetchers.get(q);Fe(Y,"Expected fetcher: "+q),Y.state==="loading"&&(A.delete(q),W.push(q))}Rr(W)}function Si(W){let q=[];for(let[Y,pe]of b)if(pe<W){let le=T.fetchers.get(Y);Fe(le,"Expected fetcher: "+Y),le.state==="loading"&&(Ln(Y),b.delete(Y),q.push(Y))}return Rr(q),q.length>0}function ys(W,q){let Y=T.blockers.get(W)||py;return F.get(W)!==q&&(F.set(W,q),V==null?V=W:W!==V&&Uc(!1,"A router only supports one blocker at a time")),Y}function Pr(W){T.blockers.delete(W),F.delete(W),V===W&&(V=null)}function nr(W,q){let Y=T.blockers.get(W)||py;Fe(Y.state==="unblocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="proceeding"||Y.state==="blocked"&&q.state==="unblocked"||Y.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+q.state),T.blockers.set(W,q),De({blockers:new Map(T.blockers)})}function qn(W){let{currentLocation:q,nextLocation:Y,historyAction:pe}=W;if(V==null)return;let le=F.get(V);Fe(le,"Could not find a function for the active blocker");let Ie=T.blockers.get(V);if(!(Ie&&Ie.state==="proceeding")&&le({currentLocation:q,nextLocation:Y,historyAction:pe}))return V}function Vn(W){let q=[];return D.forEach((Y,pe)=>{(!W||W(pe))&&(Y.cancel(),q.push(pe),D.delete(pe))}),q}function _s(W,q,Y){if(o=W,c=q,l=Y||(pe=>pe.key),!h&&T.navigation===Wh){h=!0;let pe=Kr(T.location,T.matches);pe!=null&&De({restoreScrollPosition:pe})}return()=>{o=null,c=null,l=null}}function Ai(W,q){if(o&&l&&c){let Y=q.map(le=>Iy(le,T.loaderData)),pe=l(W,Y)||W.key;o[pe]=c()}}function Kr(W,q){if(o&&l&&c){let Y=q.map(Ie=>Iy(Ie,T.loaderData)),pe=l(W,Y)||W.key,le=o[pe];if(typeof le=="number")return le}return null}return S={get basename(){return r.basename},get state(){return T},get routes(){return e},initialize:gt,subscribe:Ft,enableScrollRestoration:_s,navigate:_e,fetch:Ge,revalidate:x,createHref:W=>r.history.createHref(W),encodeLocation:W=>r.history.encodeLocation(W),getFetcher:Le,deleteFetcher:Ar,dispose:jt,getBlocker:ys,deleteBlocker:Pr,_internalFetchControllers:ie,_internalActiveDeferreds:D},S}function lS(r){return r!=null&&"formData"in r}function my(r,e,t){t===void 0&&(t=!1);let i=typeof r=="string"?r:yi(r);if(!e||!lS(e))return{path:i};if(e.formMethod&&!pS(e.formMethod))return{path:i,error:ci(405,{method:e.formMethod})};let o;if(e.formData&&(o={formMethod:e.formMethod||"get",formAction:Tv(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Yi(o.formMethod)))return{path:i,submission:o};let l=Gr(i);try{let c=wv(e.formData);t&&l.search&&Sv(l.search)&&c.append("index",""),l.search="?"+c}catch{return{path:i,error:ci(400)}}return{path:yi(l),submission:o}}function uS(r,e){let t=r;if(e){let i=r.findIndex(o=>o.route.id===e);i>=0&&(t=r.slice(0,i))}return t}function gy(r,e,t,i,o,l,c,h,p,y,v){let S=y?Object.values(y)[0]:p?Object.values(p)[0]:void 0,T=y?Object.keys(y)[0]:void 0,O=uS(t,T).filter((j,G)=>j.route.loader!=null&&(cS(e.loaderData,e.matches[G],j)||c.some(te=>te===j.route.id)||yy(r,e.location,e.matches[G],i,o,j,l,S))),M=[];return v&&v.forEach((j,G)=>{let[te,re,ie]=j;h.includes(G)?M.push([G,te,re,ie]):l&&yy(r,te,re,i,te,re,l,S)&&M.push([G,te,re,ie])}),[O,M]}function cS(r,e,t){let i=!e||t.route.id!==e.route.id,o=r[t.route.id]===void 0;return i||o}function Ev(r,e){let t=r.route.path;return r.pathname!==e.pathname||t&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function yy(r,e,t,i,o,l,c,h){let p=r.createURL(e),y=t.params,v=r.createURL(o),S=l.params,T=Ev(t,l)||p.toString()===v.toString()||p.search!==v.search||c;if(l.route.shouldRevalidate){let k=l.route.shouldRevalidate(rt({currentUrl:p,currentParams:y,nextUrl:v,nextParams:S},i,{actionResult:h,defaultShouldRevalidate:T}));if(typeof k=="boolean")return k}return T}async function Za(r,e,t,i,o,l,c,h){o===void 0&&(o="/"),l===void 0&&(l=!1),c===void 0&&(c=!1);let p,y,v,S=new Promise((k,O)=>v=O),T=()=>v();e.signal.addEventListener("abort",T);try{let k=t.route[r];Fe(k,"Could not find the "+r+' to run on the "'+t.route.id+'" route'),y=await Promise.race([k({request:e,params:t.params,context:h}),S]),Fe(y!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(k){p=Jt.error,y=k}finally{e.signal.removeEventListener("abort",T)}if(fS(y)){let k=y.status;if(rS.has(k)){let j=y.headers.get("Location");if(Fe(j,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(j)){if(!l){let te=new URL(e.url),re=j.startsWith("//")?new URL(te.protocol+j):new URL(j);re.origin===te.origin&&(j=re.pathname+re.search+re.hash)}}else{let te=i.slice(0,i.indexOf(t)+1),re=Bc(te).map(Ne=>Ne.pathnameBase),ie=Wf(j,re,new URL(e.url).pathname);if(Fe(yi(ie),"Unable to resolve redirect location: "+j),o){let Ne=ie.pathname;ie.pathname=Ne==="/"?o:pi([o,Ne])}j=yi(ie)}if(l)throw y.headers.set("Location",j),y;return{type:Jt.redirect,status:k,location:j,revalidate:y.headers.get("X-Remix-Revalidate")!==null}}if(c)throw{type:p||Jt.data,response:y};let O,M=y.headers.get("Content-Type");return M&&/\bapplication\/json\b/.test(M)?O=await y.json():O=await y.text(),p===Jt.error?{type:p,error:new zc(k,y.statusText,O),headers:y.headers}:{type:Jt.data,data:O,statusCode:y.status,headers:y.headers}}return p===Jt.error?{type:p,error:y}:y instanceof XI?{type:Jt.deferred,deferredData:y}:{type:Jt.data,data:y}}function el(r,e,t,i){let o=r.createURL(Tv(e)).toString(),l={signal:t};if(i&&Yi(i.formMethod)){let{formMethod:c,formEncType:h,formData:p}=i;l.method=c.toUpperCase(),l.body=h==="application/x-www-form-urlencoded"?wv(p):p}return new Request(o,l)}function wv(r){let e=new URLSearchParams;for(let[t,i]of r.entries())Fe(typeof i=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,i);return e}function dS(r,e,t,i,o){let l={},c=null,h,p=!1,y={};return t.forEach((v,S)=>{let T=e[S].route.id;if(Fe(!qo(v),"Cannot handle redirect results in processLoaderData"),ll(v)){let k=$o(r,T),O=v.error;i&&(O=Object.values(i)[0],i=void 0),c=c||{},c[k.route.id]==null&&(c[k.route.id]=O),l[T]=void 0,p||(p=!0,h=yv(v.error)?v.error.status:500),v.headers&&(y[T]=v.headers)}else $s(v)?(o.set(T,v.deferredData),l[T]=v.deferredData.data):l[T]=v.data,v.statusCode!=null&&v.statusCode!==200&&!p&&(h=v.statusCode),v.headers&&(y[T]=v.headers)}),i&&(c=i,l[Object.keys(i)[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:y}}function _y(r,e,t,i,o,l,c,h){let{loaderData:p,errors:y}=dS(e,t,i,o,h);for(let v=0;v<l.length;v++){let[S,,T]=l[v];Fe(c!==void 0&&c[v]!==void 0,"Did not find corresponding fetcher result");let k=c[v];if(ll(k)){let O=$o(r.matches,T.route.id);y&&y[O.route.id]||(y=rt({},y,{[O.route.id]:k.error})),r.fetchers.delete(S)}else if(qo(k))Fe(!1,"Unhandled fetcher revalidation redirect");else if($s(k))Fe(!1,"Unhandled fetcher deferred data");else{let O={state:"idle",data:k.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};r.fetchers.set(S,O)}}return{loaderData:p,errors:y}}function vy(r,e,t,i){let o=rt({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):r[c]!==void 0&&(o[c]=r[c]),i&&i.hasOwnProperty(c))break}return o}function $o(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function Ey(r){let e=r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ci(r,e){let{pathname:t,routeId:i,method:o,type:l}=e===void 0?{}:e,c="Unknown Server Error",h="Unknown @remix-run/router error";return r===400?(c="Bad Request",o&&t&&i?h="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?h="defer() is not supported in actions":h="Cannot submit binary form data using GET"):r===403?(c="Forbidden",h='Route "'+i+'" does not match URL "'+t+'"'):r===404?(c="Not Found",h='No route matches URL "'+t+'"'):r===405&&(c="Method Not Allowed",o&&t&&i?h="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(h='Invalid request method "'+o.toUpperCase()+'"')),new zc(r||500,c,new Error(h),!0)}function wy(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(qo(t))return t}}function Tv(r){let e=typeof r=="string"?Gr(r):r;return yi(rt({},e,{hash:""}))}function hS(r,e){return r.pathname===e.pathname&&r.search===e.search&&r.hash!==e.hash}function $s(r){return r.type===Jt.deferred}function ll(r){return r.type===Jt.error}function qo(r){return(r&&r.type)===Jt.redirect}function fS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function pS(r){return nS.has(r)}function Yi(r){return eS.has(r)}async function Ty(r,e,t,i,o,l){for(let c=0;c<t.length;c++){let h=t[c],p=e[c],y=r.find(S=>S.route.id===p.route.id),v=y!=null&&!Ev(y,p)&&(l&&l[p.route.id])!==void 0;$s(h)&&(o||v)&&await Iv(h,i,o).then(S=>{S&&(t[c]=S||t[c])})}}async function Iv(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Jt.data,data:r.deferredData.unwrappedData}}catch(o){return{type:Jt.error,error:o}}return{type:Jt.data,data:r.deferredData.data}}}function Sv(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Iy(r,e){let{route:t,pathname:i,params:o}=r;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Sy(r,e){let t=typeof e=="string"?Gr(e).search:e.search;if(r[r.length-1].route.index&&Sv(t||""))return r[r.length-1];let i=Bc(r);return i[i.length-1]}/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},yc.apply(this,arguments)}function mS(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}const gS=typeof Object.is=="function"?Object.is:mS,{useState:yS,useEffect:_S,useLayoutEffect:vS,useDebugValue:ES}=pf;function wS(r,e,t){const i=e(),[{inst:o},l]=yS({inst:{value:i,getSnapshot:e}});return vS(()=>{o.value=i,o.getSnapshot=e,Gh(o)&&l({inst:o})},[r,i,e]),_S(()=>(Gh(o)&&l({inst:o}),r(()=>{Gh(o)&&l({inst:o})})),[r]),ES(i),i}function Gh(r){const e=r.getSnapshot,t=r.value;try{const i=e();return!gS(t,i)}catch{return!0}}function TS(r,e,t){return e()}const IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SS=!IS,AS=SS?TS:wS,RS="useSyncExternalStore"in pf?(r=>r.useSyncExternalStore)(pf):AS,Gf=Z.createContext(null),$c=Z.createContext(null),Pl=Z.createContext(null),Hc=Z.createContext(null),fs=Z.createContext({outlet:null,matches:[]}),Av=Z.createContext(null);function PS(r,e){let{relative:t}=e===void 0?{}:e;Cl()||Fe(!1);let{basename:i,navigator:o}=Z.useContext(Pl),{hash:l,pathname:c,search:h}=Kf(r,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:pi([i,c])),o.createHref({pathname:p,search:h,hash:l})}function Cl(){return Z.useContext(Hc)!=null}function kl(){return Cl()||Fe(!1),Z.useContext(Hc).location}function Rv(){Cl()||Fe(!1);let{basename:r,navigator:e}=Z.useContext(Pl),{matches:t}=Z.useContext(fs),{pathname:i}=kl(),o=JSON.stringify(Bc(t).map(h=>h.pathnameBase)),l=Z.useRef(!1);return Z.useEffect(()=>{l.current=!0}),Z.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){e.go(h);return}let y=Wf(h,JSON.parse(o),i,p.relative==="path");r!=="/"&&(y.pathname=y.pathname==="/"?r:pi([r,y.pathname])),(p.replace?e.replace:e.push)(y,p.state,p)},[r,e,o,i])}const CS=Z.createContext(null);function kS(r){let e=Z.useContext(fs).outlet;return e&&Z.createElement(CS.Provider,{value:r},e)}function PN(){let{matches:r}=Z.useContext(fs),e=r[r.length-1];return e?e.params:{}}function Kf(r,e){let{relative:t}=e===void 0?{}:e,{matches:i}=Z.useContext(fs),{pathname:o}=kl(),l=JSON.stringify(Bc(i).map(c=>c.pathnameBase));return Z.useMemo(()=>Wf(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function xS(r,e){Cl()||Fe(!1);let{navigator:t}=Z.useContext(Pl),i=Z.useContext($c),{matches:o}=Z.useContext(fs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=kl(),y;if(e){var v;let M=typeof e=="string"?Gr(e):e;h==="/"||(v=M.pathname)!=null&&v.startsWith(h)||Fe(!1),y=M}else y=p;let S=y.pathname||"/",T=h==="/"?S:S.slice(h.length)||"/",k=rl(r,{pathname:T}),O=OS(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:pi([h,t.encodeLocation?t.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:pi([h,t.encodeLocation?t.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,i||void 0);return e&&O?Z.createElement(Hc.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Pt.Pop}},O):O}function NS(){let r=VS(),e=yv(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unhandled Thrown Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:l},"errorElement")," props on ",Z.createElement("code",{style:l},"<Route>")))}class DS extends Z.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Z.createElement(fs.Provider,{value:this.props.routeContext},Z.createElement(Av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bS(r){let{routeContext:e,match:t,children:i}=r,o=Z.useContext(Gf);return o&&o.static&&o.staticContext&&t.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(fs.Provider,{value:e},i)}function OS(r,e,t){if(e===void 0&&(e=[]),r==null)if(t!=null&&t.errors)r=t.matches;else return null;let i=r,o=t==null?void 0:t.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||Fe(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,c,h)=>{let p=c.route.id?o==null?void 0:o[c.route.id]:null,y=t?c.route.errorElement||Z.createElement(NS,null):null,v=e.concat(i.slice(0,h+1)),S=()=>Z.createElement(bS,{match:c,routeContext:{outlet:l,matches:v}},p?y:c.route.element!==void 0?c.route.element:l);return t&&(c.route.errorElement||h===0)?Z.createElement(DS,{location:t.location,component:y,error:p,children:S(),routeContext:{outlet:null,matches:v}}):S()},null)}var Ay;(function(r){r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator"})(Ay||(Ay={}));var Xo;(function(r){r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator"})(Xo||(Xo={}));function Pv(r){let e=Z.useContext($c);return e||Fe(!1),e}function LS(r){let e=Z.useContext(fs);return e||Fe(!1),e}function Cv(r){let e=LS(),t=e.matches[e.matches.length-1];return t.route.id||Fe(!1),t.route.id}function Qf(){let r=Pv(Xo.UseLoaderData),e=Cv(Xo.UseLoaderData);if(r.errors&&r.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return r.loaderData[e]}function VS(){var r;let e=Z.useContext(Av),t=Pv(Xo.UseRouteError),i=Cv(Xo.UseRouteError);return e||((r=t.errors)==null?void 0:r[i])}function MS(r){let{fallbackElement:e,router:t}=r,i=RS(t.subscribe,()=>t.state,()=>t.state),o=Z.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:c=>t.navigate(c),push:(c,h,p)=>t.navigate(c,{state:h,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(c,h,p)=>t.navigate(c,{replace:!0,state:h,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[t]),l=t.basename||"/";return Z.createElement(Z.Fragment,null,Z.createElement(Gf.Provider,{value:{router:t,navigator:o,static:!1,basename:l}},Z.createElement($c.Provider,{value:i},Z.createElement(jS,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:o},t.state.initialized?Z.createElement(FS,null):e))),null)}function CN(r){return kS(r.context)}function vn(r){Fe(!1)}function jS(r){let{basename:e="/",children:t=null,location:i,navigationType:o=Pt.Pop,navigator:l,static:c=!1}=r;Cl()&&Fe(!1);let h=e.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:h,navigator:l,static:c}),[h,l,c]);typeof i=="string"&&(i=Gr(i));let{pathname:y="/",search:v="",hash:S="",state:T=null,key:k="default"}=i,O=Z.useMemo(()=>{let M=gv(y,h);return M==null?null:{pathname:M,search:v,hash:S,state:T,key:k}},[h,y,v,S,T,k]);return O==null?null:Z.createElement(Pl.Provider,{value:p},Z.createElement(Hc.Provider,{children:t,value:{location:O,navigationType:o}}))}function FS(r){let{children:e,location:t}=r,i=Z.useContext(Gf),o=i&&!e?i.router.routes:_c(e);return xS(o,t)}var Ry;(function(r){r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error"})(Ry||(Ry={}));new Promise(()=>{});function _c(r,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(r,(i,o)=>{if(!Z.isValidElement(i))return;if(i.type===Z.Fragment){t.push.apply(t,_c(i.props.children,e));return}i.type!==vn&&Fe(!1),!i.props.index||!i.props.children||Fe(!1);let l=[...e,o],c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(c.children=_c(i.props.children,l)),t.push(c)}),t}function kv(r){return r.map(e=>{let t=yc({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=kv(t.children)),t})}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ml.apply(this,arguments)}function xv(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function US(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BS(r,e){return r.button===0&&(!e||e==="_self")&&!US(r)}const zS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],$S=["aria-current","caseSensitive","className","end","style","to","children"];function HS(r,e){return aS({basename:void 0,history:CI({window:void 0}),hydrationData:qS(),routes:kv(r)}).initialize()}function qS(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=ml({},e,{errors:WS(e.errors)})),e}function WS(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new zc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){let l=new Error(o.message);l.stack="",t[i]=l}else t[i]=o;return t}const GS=Z.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:h,target:p,to:y,preventScrollReset:v}=e,S=xv(e,zS),T=PS(y,{relative:o}),k=KS(y,{replace:c,state:h,target:p,preventScrollReset:v,relative:o});function O(M){i&&i(M),M.defaultPrevented||k(M)}return Z.createElement("a",ml({},S,{href:T,onClick:l?i:O,ref:t,target:p}))}),kN=Z.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:c=!1,style:h,to:p,children:y}=e,v=xv(e,$S),S=Kf(p,{relative:v.relative}),T=kl(),k=Z.useContext($c),{navigator:O}=Z.useContext(Pl),M=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,j=T.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;o||(j=j.toLowerCase(),G=G?G.toLowerCase():null,M=M.toLowerCase());let te=j===M||!c&&j.startsWith(M)&&j.charAt(M.length)==="/",re=G!=null&&(G===M||!c&&G.startsWith(M)&&G.charAt(M.length)==="/"),ie=te?i:void 0,Ne;typeof l=="function"?Ne=l({isActive:te,isPending:re}):Ne=[l,te?"active":null,re?"pending":null].filter(Boolean).join(" ");let Ce=typeof h=="function"?h({isActive:te,isPending:re}):h;return Z.createElement(GS,ml({},v,{"aria-current":ie,className:Ne,ref:t,style:Ce,to:p}),typeof y=="function"?y({isActive:te,isPending:re}):y)});var Py;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmitImpl="useSubmitImpl",r.UseFetcher="useFetcher"})(Py||(Py={}));var Cy;(function(r){r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Cy||(Cy={}));function KS(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c}=e===void 0?{}:e,h=Rv(),p=kl(),y=Kf(r,{relative:c});return Z.useCallback(v=>{if(BS(v,t)){v.preventDefault();let S=i!==void 0?i:yi(p)===yi(y);h(r,{replace:S,state:o,preventScrollReset:l,relative:c})}},[p,h,y,i,o,t,r,l,c])}function QS(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=null;return Z.useEffect(()=>{const t=o=>{let l=0;clearInterval(e),e=setInterval(()=>{o.target.innerText=o.target.innerText.split("").map((c,h)=>h<l?o.target.dataset.value[h]:o.target.dataset.value[h]===" "?" ":r[Math.floor(Math.random()*26)]).join(""),l>=o.target.dataset.value.length&&clearInterval(e),l+=.3333333333333333},25)},i=document.querySelector(".animated-intro-text");return i.addEventListener("mouseover",t),t({target:i}),()=>{clearInterval(e),i.removeEventListener("mouseover",t)}},[e,r]),w.jsxs("section",{className:"home-introduction-section",children:[w.jsx("div",{className:"home-introduction-section__title",children:w.jsx("h1",{className:"animated-intro-text","data-value":"Hi, I'm Abdelouahab",children:"Hi, I'm Abdelouahab"})}),w.jsxs("h2",{className:"home-introduction-section__subtitle",children:[" ","⟫⟫ a Data Scientist & Software Engineer"]}),w.jsxs("a",{className:"home-introduction-section__button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/bellaabdelouahab",children:["Buy Me A Coffee ",w.jsx("span",{children:">"})," "]}),w.jsx("div",{className:"home-introduction-section__img",style:{backgroundImage:"url(./code.png)"}})]})}function YS({project:r}){const{title:e,description:t,image:i,githubLink:o,highlighted:l}=r,[c,h]=Z.useState(!1);let p=t.slice(0,250);const y=p.lastIndexOf(" ");return p=p.slice(0,y),Z.useEffect(()=>{const v=new Image;v.src=`${i}`,v.onload=()=>h(!0)},[i]),w.jsxs("div",{className:"home-projects-section__projects__project",style:{border:l==="star"?"4px solid #c39a3b":"none"},children:[w.jsx("div",{className:"home-projects-section__projects__project__img",style:{backgroundImage:c?`url(${i})`:"none",backgroundSize:"100.5% 100%"},children:!c&&w.jsx(Ho,{height:"100%"})}),c?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"home-projects-section__projects__project__title",children:e}),w.jsxs("p",{className:"home-projects-section__projects__project__description",children:[p,"..."]})]}):w.jsxs("div",{children:[w.jsx(Ho,{height:24,width:"60%",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Ho,{count:7})})]}),w.jsxs("div",{className:"home-projects-section__projects__project__buttons",children:[w.jsx("a",{className:"home-projects-section__projects__project__buttons__view",target:"_blank",rel:"noopener noreferrer",href:o,children:"View Project"}),l==="star"&&w.jsx("a",{className:"home-projects-section__projects__project__buttons__sponsor",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/bellaabdelouahab/",children:"1$/Sponsor"})]})]})}function XS({projectHighlight:r}){return w.jsxs("section",{className:"home-projects-section hidden-area",children:[w.jsx("h2",{className:"home-projects-section__title",children:"❤️ Projects Highlights"}),w.jsx("hr",{className:"home-projects-section__hr"}),w.jsx("div",{className:"home-projects-section__projects",children:r&&r.map(e=>w.jsx(YS,{project:e},e._id))})]})}function JS(){return w.jsxs("section",{className:"github-progress-section hidden-area",children:[w.jsxs("h2",{className:"home-sections-title",children:[w.jsx("span",{children:"03. "}),"Github Progress"]}),w.jsx("hr",{className:"github-progress-section__hr"}),w.jsx("div",{className:"github-progress-section__img"})]})}function ZS(){const[r,e]=Z.useState([{title:"S-maint Website [Smart Maintenance]",description:"Smart Maintenance is a Moroccan company that offersa wide range of services in the field of maintenance. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service. The website various features such as a blog, services, staff management, and digital resources management.",link:"https://s-maint.com",image:"./internshipes/smart-maint.jpg",technologies:["Angular","Spring Boot","Mongodb","Docker","Nginx","Plausible","SendGrid"]},{title:"NidInnovation Website",description:"Nid Innovation is a Moroccan company that offers a wide range of services in the field of innovation. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service.",link:"https://nidinnovation.com",image:"./internshipes/nidinnovation.png",technologies:["React","PHP","Node.js","Express","MongoDB","Docker","SendGrid"]},{title:"E-khsab: A Connected Cow Monitoring System [Agri4.0]",description:"Development of e-services to monitor in real-time the health status and well-being of cows, plan artificial inseminations, enhance herd reproduction, and implement a heat detection system within a core group of breeders, which will be extended to a larger number of breeders on a national scale.",link:"https://poledigital.ma/projets/projets-elevage-4-0/e-khsab",image:"./internshipes/agri4.0.png",technologies:["Spring Boot","JHipster","React","PostgreSQL","RabbitMQ","WebSockets","Arduino"]},{title:"CRJEA Website : Reference Center for Young Entrepreneurs [UM6P & CRJEA]",description:"The CRJEA is a reference center that offers tailored support to young project holders or newly created companies and cooperatives. in the field of agriculture. The website is a platform that provides a full tracking system for the projects and the project holders.",link:"http://crjea-rsk.com",image:"./internshipes/crjea.jpg",technologies:["Django","React","Bootstrap","MongoDB","Docker","Nginx"]},{title:"Desktop application for managing package sending for special clients",description:"During this internship, I created a desktop application using JavaFX as a UI library and Oracle as a database. The application is used to manage the sending of packages for special clients (Lawyers, Journalists, Writers). This application was created to make it easy for them to send packages instead of waiting in lines. The application is used by the post office employees.",image:"./internshipes/1200px-GBAM_LOGO.png",technologies:["JavaFX","Oracle - Cloud","XML","CSS","Python","SMTP"]},{title:"A Web Site For Envelope Database Management",description:"During this internship, I worked on a website for the management of the envelopes database. The workflow of the application is as follows: a customer brings a package or an envelope to the post office, the post office employee will register the envelope and scan its code, and the system will automatically generate a tracking number for the envelope which the customer will receive a receipt with.",image:"./internshipes/PosteMaroc.jpg",technologies:["HTML","CSS","JavaScript","Flask"]}]),t=Z.useRef(null),[i,o]=Z.useState(3),l=()=>{o(r.length)};return Z.useEffect(()=>{const c=new IntersectionObserver(y=>{y.forEach(v=>{v.isIntersecting&&v.target.classList.add("is-visible")})},{root:null,rootMargin:"0px",threshold:.1}),h=t.current.querySelectorAll(".animatable");return h.forEach(y=>c.observe(y)),document.querySelectorAll(".internship-project").forEach((y,v)=>{const S=y.clientHeight;document.querySelectorAll(`.gradientLine-${v*2}, .gradientLine-${v*2+1}`).forEach(k=>k.style.height=`${S/2}px`)}),()=>h.forEach(y=>c.unobserve(y))},[i,r]),w.jsxs("section",{className:"internship-projects-section",ref:t,children:[w.jsx("div",{className:"experience",children:w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"04. "}),"Professional Experience"]})}),w.jsxs("div",{className:"internship-projects-section__projects",children:[r.slice(0,i).map((c,h)=>w.jsx(eA,{project:c},h)),w.jsx("div",{className:"lineAnimation",children:r.slice(0,i).map((c,h)=>w.jsxs("div",{className:"animatable",children:[w.jsx("div",{className:`gradientLine-start gradientLine-${h*2}`}),w.jsx("div",{className:"iconContainer",children:w.jsx("img",{src:"./icons/calendar.png",alt:"Calendar",width:"30"})}),w.jsx("div",{className:`gradientLine-end gradientLine-${h*2+1}`})]},h))}),i<r.length?w.jsx("div",{className:"show-more-button",children:w.jsxs("button",{onClick:l,children:["Show More (",r.length-i,")"]})}):w.jsx("div",{className:"show-more-button"})]})]})}function eA({project:r}){return w.jsxs("div",{className:"internship-project ",children:[w.jsx("div",{className:"internship-project__img",children:w.jsx("img",{src:r.image,alt:r.title})}),w.jsxs("div",{className:"internship-project__content",children:[w.jsx("h1",{children:r.title}),w.jsx("p",{children:r.description}),r.link&&w.jsxs("a",{href:r.link,target:"_blank",className:"internship-project__content__link",children:[w.jsx("img",{src:"./icons/site.png",alt:"Link icon",width:"20"}),"Link to website for more details"]}),w.jsx("ul",{className:"internship-project__content__list",children:r.technologies.map((e,t)=>w.jsx("li",{children:e},t))})]})]})}function tA(){return w.jsx("section",{className:"home-about-section",children:w.jsxs("div",{className:"hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"02. "}),"About Me"]}),w.jsxs("div",{className:"about-content",children:[w.jsxs("div",{className:"about-content-text",children:[w.jsxs("p",{children:["I am Bella Abdelouahab, an accomplished data scientist with ten months of extensive experience. My educational foundation encompasses robust training in decision-making, data science, computer systems engineering, and software development. Proficient in both web development and machine learning, I am deeply passionate about my profession. I actively pursue new challenges to enhance my skills and expand my expertise.",w.jsx("br",{}),"In addition to my technical proficiency, I excel as a communicator and thrive in collaborative team environments, dedicated to achieving shared objectives."]}),w.jsx("span",{className:"about-content-skills_title",children:"Skills:"}),w.jsx("div",{className:"about-skills-list",children:w.jsxs("ul",{children:[w.jsx("li",{children:"Python(advanced), Java(advanced), C, C++"}),w.jsx("li",{children:"Machine learning/deep learning"}),w.jsx("li",{children:"Oracle SQL/PLSQL"}),w.jsx("li",{children:"MongoDB"}),w.jsx("li",{children:"Back-end (Django-Node-SpringBoot)"}),w.jsx("li",{children:"Front-end (ReactJS, NextJs, ViewJs)"}),w.jsx("li",{children:"JavaFX & Swing"}),w.jsx("li",{children:"Tkinter & Pyglet"}),w.jsx("li",{children:"Microsoft Power BI"}),w.jsx("li",{children:"Data warehousing"})]})})]}),w.jsx("div",{className:"about-content-image",children:w.jsx("div",{id:"about-content-img_flow",style:{backgroundImage:"url('./Personal Picture.jpg')"}})})]})]})})}function nA(){return w.jsxs("div",{className:"get-in-touch hidden-area",style:{backgroundColor:"#1e1e1e"},children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"08. "}),"Get in Touch"]}),w.jsx("p",{className:"get-in-touch-content",children:"I am actively seeking new career opportunities and my inbox is open for potential job offers. Feel free to reach out with any relevant job opportunities or to connect for potential future collaborations. I look forward to hearing from you!"}),w.jsx("div",{className:"get-in-touch-btn",children:w.jsx("a",{href:"mailto:",children:w.jsx("button",{style:{marginBottom:"5rem"},children:"Get in Touch"})})})]})}const rA=({isOpen:r,onClose:e,title:t,children:i})=>(Z.useEffect(()=>{const o=l=>{l.key==="Escape"&&r&&e()};return document.addEventListener("keydown",o),r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.removeEventListener("keydown",o),document.body.style.overflow="auto"}},[r,e]),r?w.jsx("div",{className:"modal-overlay",onClick:e,children:w.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:t}),w.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"})]}),w.jsx("div",{className:"modal-content",children:i})]})}):null);var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iA=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],h=r[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,h=c?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,v=l>>2,S=(l&3)<<4|h>>4;let T=(h&15)<<2|y>>6,k=y&63;p||(k=64,c||(T=64)),i.push(t[v],t[S],t[T],t[k])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Nv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||y==null||S==null)throw new sA;const T=l<<2|h>>4;if(i.push(T),y!==64){const k=h<<4&240|y>>2;if(i.push(k),S!==64){const O=y<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(r){const e=Nv(r);return Dv.encodeByteArray(e,!0)},vc=function(r){return oA(r).replace(/\./g,"")},bv=function(r){try{return Dv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=()=>aA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof ky>"u")return;const r=ky.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bv(r[1]);return e&&JSON.parse(e)},qc=()=>{try{return lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ov=r=>{var e,t;return(t=(e=qc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},dA=r=>{const e=Ov(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Lv=()=>{var r;return(r=qc())===null||r===void 0?void 0:r.config},Vv=r=>{var e;return(e=qc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vc(JSON.stringify(t)),vc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function mA(){var r;const e=(r=qc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function EA(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=IA,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?SA(l,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ti(o,h,i)}}function SA(r,e){return r.replace(AA,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const AA=/\{\$([^}]+)}/g;function RA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ec(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],c=e[o];if(xy(l)&&xy(c)){if(!Ec(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function PA(r,e){const t=new CA(r,e);return t.subscribe.bind(t)}class CA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Kh),o.error===void 0&&(o.error=Kh),o.complete===void 0&&(o.complete=Kh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DA(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(r){return r===zs?void 0:r}function DA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const OA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},LA=ze.INFO,VA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},MA=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=VA[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yf{constructor(e){this.name=e,this._logLevel=LA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const jA=(r,e)=>e.some(t=>r instanceof t);let Ny,Dy;function FA(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,mf=new WeakMap,jv=new WeakMap,Qh=new WeakMap,Xf=new WeakMap;function BA(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(ns(r.result)),o()},c=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Mv.set(t,r)}).catch(()=>{}),Xf.set(e,r),e}function zA(r){if(mf.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});mf.set(r,e)}let gf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return mf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $A(r){gf=r(gf)}function HA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Yh(this),e,...t);return jv.set(i,e.sort?e.sort():[e]),ns(i)}:UA().includes(r)?function(...e){return r.apply(Yh(this),e),ns(Mv.get(this))}:function(...e){return ns(r.apply(Yh(this),e))}}function qA(r){return typeof r=="function"?HA(r):(r instanceof IDBTransaction&&zA(r),jA(r,FA())?new Proxy(r,gf):r)}function ns(r){if(r instanceof IDBRequest)return BA(r);if(Qh.has(r))return Qh.get(r);const e=qA(r);return e!==r&&(Qh.set(r,e),Xf.set(e,r)),e}const Yh=r=>Xf.get(r);function WA(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),h=ns(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ns(c.result),p.oldVersion,p.newVersion,ns(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const GA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],Xh=new Map;function by(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=KA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return Xh.set(e,l),l}$A(r=>({...r,get:(e,t,i)=>by(e,t)||r.get(e,t,i),has:(e,t)=>!!by(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yf="@firebase/app",Oy="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Yf("@firebase/app"),XA="@firebase/app-compat",JA="@firebase/analytics-compat",ZA="@firebase/analytics",e0="@firebase/app-check-compat",t0="@firebase/app-check",n0="@firebase/auth",r0="@firebase/auth-compat",i0="@firebase/database",s0="@firebase/data-connect",o0="@firebase/database-compat",a0="@firebase/functions",l0="@firebase/functions-compat",u0="@firebase/installations",c0="@firebase/installations-compat",d0="@firebase/messaging",h0="@firebase/messaging-compat",f0="@firebase/performance",p0="@firebase/performance-compat",m0="@firebase/remote-config",g0="@firebase/remote-config-compat",y0="@firebase/storage",_0="@firebase/storage-compat",v0="@firebase/firestore",E0="@firebase/vertexai",w0="@firebase/firestore-compat",T0="firebase",I0="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",S0={[yf]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[JA]:"fire-analytics-compat",[t0]:"fire-app-check",[e0]:"fire-app-check-compat",[n0]:"fire-auth",[r0]:"fire-auth-compat",[i0]:"fire-rtdb",[s0]:"fire-data-connect",[o0]:"fire-rtdb-compat",[a0]:"fire-fn",[l0]:"fire-fn-compat",[u0]:"fire-iid",[c0]:"fire-iid-compat",[d0]:"fire-fcm",[h0]:"fire-fcm-compat",[f0]:"fire-perf",[p0]:"fire-perf-compat",[m0]:"fire-rc",[g0]:"fire-rc-compat",[y0]:"fire-gcs",[_0]:"fire-gcs-compat",[v0]:"fire-fst",[w0]:"fire-fst-compat",[E0]:"fire-vertex","fire-js":"fire-js",[T0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,A0=new Map,vf=new Map;function Ly(r,e){try{r.container.addComponent(e)}catch(t){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jo(r){const e=r.name;if(vf.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,r);for(const t of wc.values())Ly(t,r);for(const t of A0.values())Ly(t,r);return!0}function Jf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function vr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new xl("app","Firebase",R0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=I0;function Fv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(t||(t=Lv()),!t)throw rs.create("no-options");const l=wc.get(o);if(l){if(Ec(t,l.options)&&Ec(i,l.config))return l;throw rs.create("duplicate-app",{appName:o})}const c=new bA(o);for(const p of vf.values())c.addComponent(p);const h=new P0(t,i,c);return wc.set(o,h),h}function Uv(r=_f){const e=wc.get(r);if(!e&&r===_f&&Lv())return Fv();if(!e)throw rs.create("no-app",{appName:r});return e}function is(r,e,t){var i;let o=(i=S0[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}Jo(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firebase-heartbeat-database",k0=1,gl="firebase-heartbeat-store";let Jh=null;function Bv(){return Jh||(Jh=WA(C0,k0,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gl)}catch(t){console.warn(t)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Jh}async function x0(r){try{const t=(await Bv()).transaction(gl),i=await t.objectStore(gl).get(zv(r));return await t.done,i}catch(e){if(e instanceof Ti)_i.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(t.message)}}}async function Vy(r,e){try{const i=(await Bv()).transaction(gl,"readwrite");await i.objectStore(gl).put(e,zv(r)),await i.done}catch(t){if(t instanceof Ti)_i.warn(t.message);else{const i=rs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_i.warn(i.message)}}}function zv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=1024,D0=30;class b0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new L0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>D0){const c=V0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=My(),{heartbeatsToSend:i,unsentEntries:o}=O0(this._heartbeatsCache.heartbeats),l=vc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _i.warn(t),""}}}function My(){return new Date().toISOString().substring(0,10)}function O0(r,e=N0){const t=[];let i=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),jy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class L0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function V0(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){Jo(new Ks("platform-logger",e=>new QA(e),"PRIVATE")),Jo(new Ks("heartbeat",e=>new b0(e),"PRIVATE")),is(yf,Oy,r),is(yf,Oy,"esm2017"),is("fire-js","")}M0("");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,$v;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function C(){}C.prototype=A.prototype,b.D=A.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(D,V,F){for(var P=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)P[gt-2]=arguments[gt];return A.prototype[V].apply(D,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,C){C||(C=0);var D=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)D[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;16>V;++V)D[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=b.g[0],C=b.g[1],V=b.g[2];var F=b.g[3],P=A+(F^C&(V^F))+D[0]+3614090360&4294967295;A=C+(P<<7&4294967295|P>>>25),P=F+(V^A&(C^V))+D[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=V+(C^F&(A^C))+D[2]+606105819&4294967295,V=F+(P<<17&4294967295|P>>>15),P=C+(A^V&(F^A))+D[3]+3250441966&4294967295,C=V+(P<<22&4294967295|P>>>10),P=A+(F^C&(V^F))+D[4]+4118548399&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(V^A&(C^V))+D[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=V+(C^F&(A^C))+D[6]+2821735955&4294967295,V=F+(P<<17&4294967295|P>>>15),P=C+(A^V&(F^A))+D[7]+4249261313&4294967295,C=V+(P<<22&4294967295|P>>>10),P=A+(F^C&(V^F))+D[8]+1770035416&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(V^A&(C^V))+D[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=V+(C^F&(A^C))+D[10]+4294925233&4294967295,V=F+(P<<17&4294967295|P>>>15),P=C+(A^V&(F^A))+D[11]+2304563134&4294967295,C=V+(P<<22&4294967295|P>>>10),P=A+(F^C&(V^F))+D[12]+1804603682&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(V^A&(C^V))+D[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=V+(C^F&(A^C))+D[14]+2792965006&4294967295,V=F+(P<<17&4294967295|P>>>15),P=C+(A^V&(F^A))+D[15]+1236535329&4294967295,C=V+(P<<22&4294967295|P>>>10),P=A+(V^F&(C^V))+D[1]+4129170786&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^V&(A^C))+D[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=V+(A^C&(F^A))+D[11]+643717713&4294967295,V=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(V^F))+D[0]+3921069994&4294967295,C=V+(P<<20&4294967295|P>>>12),P=A+(V^F&(C^V))+D[5]+3593408605&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^V&(A^C))+D[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=V+(A^C&(F^A))+D[15]+3634488961&4294967295,V=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(V^F))+D[4]+3889429448&4294967295,C=V+(P<<20&4294967295|P>>>12),P=A+(V^F&(C^V))+D[9]+568446438&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^V&(A^C))+D[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=V+(A^C&(F^A))+D[3]+4107603335&4294967295,V=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(V^F))+D[8]+1163531501&4294967295,C=V+(P<<20&4294967295|P>>>12),P=A+(V^F&(C^V))+D[13]+2850285829&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^V&(A^C))+D[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=V+(A^C&(F^A))+D[7]+1735328473&4294967295,V=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(V^F))+D[12]+2368359562&4294967295,C=V+(P<<20&4294967295|P>>>12),P=A+(C^V^F)+D[5]+4294588738&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^V)+D[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=V+(F^A^C)+D[11]+1839030562&4294967295,V=F+(P<<16&4294967295|P>>>16),P=C+(V^F^A)+D[14]+4259657740&4294967295,C=V+(P<<23&4294967295|P>>>9),P=A+(C^V^F)+D[1]+2763975236&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^V)+D[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=V+(F^A^C)+D[7]+4139469664&4294967295,V=F+(P<<16&4294967295|P>>>16),P=C+(V^F^A)+D[10]+3200236656&4294967295,C=V+(P<<23&4294967295|P>>>9),P=A+(C^V^F)+D[13]+681279174&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^V)+D[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=V+(F^A^C)+D[3]+3572445317&4294967295,V=F+(P<<16&4294967295|P>>>16),P=C+(V^F^A)+D[6]+76029189&4294967295,C=V+(P<<23&4294967295|P>>>9),P=A+(C^V^F)+D[9]+3654602809&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^V)+D[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=V+(F^A^C)+D[15]+530742520&4294967295,V=F+(P<<16&4294967295|P>>>16),P=C+(V^F^A)+D[2]+3299628645&4294967295,C=V+(P<<23&4294967295|P>>>9),P=A+(V^(C|~F))+D[0]+4096336452&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~V))+D[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=V+(A^(F|~C))+D[14]+2878612391&4294967295,V=F+(P<<15&4294967295|P>>>17),P=C+(F^(V|~A))+D[5]+4237533241&4294967295,C=V+(P<<21&4294967295|P>>>11),P=A+(V^(C|~F))+D[12]+1700485571&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~V))+D[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=V+(A^(F|~C))+D[10]+4293915773&4294967295,V=F+(P<<15&4294967295|P>>>17),P=C+(F^(V|~A))+D[1]+2240044497&4294967295,C=V+(P<<21&4294967295|P>>>11),P=A+(V^(C|~F))+D[8]+1873313359&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~V))+D[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=V+(A^(F|~C))+D[6]+2734768916&4294967295,V=F+(P<<15&4294967295|P>>>17),P=C+(F^(V|~A))+D[13]+1309151649&4294967295,C=V+(P<<21&4294967295|P>>>11),P=A+(V^(C|~F))+D[4]+4149444226&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~V))+D[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=V+(A^(F|~C))+D[2]+718787259&4294967295,V=F+(P<<15&4294967295|P>>>17),P=C+(F^(V|~A))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+F&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var C=A-this.blockSize,D=this.B,V=this.h,F=0;F<A;){if(V==0)for(;F<=C;)o(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<A;)if(D[V++]=b.charCodeAt(F++),V==this.blockSize){o(this,D),V=0;break}}else for(;F<A;)if(D[V++]=b[F++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var C=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=C&255,C/=256;for(this.u(b),b=Array(16),A=C=0;4>A;++A)for(var D=0;32>D;D+=8)b[C++]=this.g[A]>>>D&255;return b};function l(b,A){var C=h;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=A(b)}function c(b,A){this.h=A;for(var C=[],D=!0,V=b.length-1;0<=V;V--){var F=b[V]|0;D&&F==A||(C[V]=F,D=!1)}this.g=C}var h={};function p(b){return-128<=b&&128>b?l(b,function(A){return new c([A|0],0>A?-1:0)}):new c([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return S;if(0>b)return j(y(-b));for(var A=[],C=1,D=0;b>=C;D++)A[D]=b/C|0,C*=4294967296;return new c(A,0)}function v(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return j(v(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(A,8)),D=S,V=0;V<b.length;V+=8){var F=Math.min(8,b.length-V),P=parseInt(b.substring(V,V+F),A);8>F?(F=y(Math.pow(A,F)),D=D.j(F).add(y(P))):(D=D.j(C),D=D.add(y(P)))}return D}var S=p(0),T=p(1),k=p(16777216);r=c.prototype,r.m=function(){if(M(this))return-j(this).m();for(var b=0,A=1,C=0;C<this.g.length;C++){var D=this.i(C);b+=(0<=D?D:4294967296+D)*A,A*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O(this))return"0";if(M(this))return"-"+j(this).toString(b);for(var A=y(Math.pow(b,6)),C=this,D="";;){var V=ie(C,A).g;C=G(C,V.j(A));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=V,O(C))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function O(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function M(b){return b.h==-1}r.l=function(b){return b=G(this,b),M(b)?-1:O(b)?0:1};function j(b){for(var A=b.g.length,C=[],D=0;D<A;D++)C[D]=~b.g[D];return new c(C,~b.h).add(T)}r.abs=function(){return M(this)?j(this):this},r.add=function(b){for(var A=Math.max(this.g.length,b.g.length),C=[],D=0,V=0;V<=A;V++){var F=D+(this.i(V)&65535)+(b.i(V)&65535),P=(F>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);D=P>>>16,F&=65535,P&=65535,C[V]=P<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function G(b,A){return b.add(j(A))}r.j=function(b){if(O(this)||O(b))return S;if(M(this))return M(b)?j(this).j(j(b)):j(j(this).j(b));if(M(b))return j(this.j(j(b)));if(0>this.l(k)&&0>b.l(k))return y(this.m()*b.m());for(var A=this.g.length+b.g.length,C=[],D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<b.g.length;V++){var F=this.i(D)>>>16,P=this.i(D)&65535,gt=b.i(V)>>>16,jt=b.i(V)&65535;C[2*D+2*V]+=P*jt,te(C,2*D+2*V),C[2*D+2*V+1]+=F*jt,te(C,2*D+2*V+1),C[2*D+2*V+1]+=P*gt,te(C,2*D+2*V+1),C[2*D+2*V+2]+=F*gt,te(C,2*D+2*V+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new c(C,0)};function te(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function re(b,A){this.g=b,this.h=A}function ie(b,A){if(O(A))throw Error("division by zero");if(O(b))return new re(S,S);if(M(b))return A=ie(j(b),A),new re(j(A.g),j(A.h));if(M(A))return A=ie(b,j(A)),new re(j(A.g),A.h);if(30<b.g.length){if(M(b)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,D=A;0>=D.l(b);)C=Ne(C),D=Ne(D);var V=Ce(C,1),F=Ce(D,1);for(D=Ce(D,2),C=Ce(C,2);!O(D);){var P=F.add(D);0>=P.l(b)&&(V=V.add(C),F=P),D=Ce(D,1),C=Ce(C,1)}return A=G(b,V.j(A)),new re(V,A)}for(V=S;0<=b.l(A);){for(C=Math.max(1,Math.floor(b.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=y(C),P=F.j(A);M(P)||0<P.l(b);)C-=D,F=y(C),P=F.j(A);O(F)&&(F=T),V=V.add(F),b=G(b,P)}return new re(V,b)}r.A=function(b){return ie(this,b).h},r.and=function(b){for(var A=Math.max(this.g.length,b.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)&b.i(D);return new c(C,this.h&b.h)},r.or=function(b){for(var A=Math.max(this.g.length,b.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)|b.i(D);return new c(C,this.h|b.h)},r.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)^b.i(D);return new c(C,this.h^b.h)};function Ne(b){for(var A=b.g.length+1,C=[],D=0;D<A;D++)C[D]=b.i(D)<<1|b.i(D-1)>>>31;return new c(C,b.h)}function Ce(b,A){var C=A>>5;A%=32;for(var D=b.g.length-C,V=[],F=0;F<D;F++)V[F]=0<A?b.i(F+C)>>>A|b.i(F+C+1)<<32-A:b.i(F+C);return new c(V,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$v=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,ss=c}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,il,qv,ac,Ef,Wv,Gv,Kv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in _))break e;_=_[U]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,I=!1,U={next:function(){if(!I&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,T.apply(null,arguments)}function k(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(I,U,H){for(var ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ae[tt-2]=arguments[tt];return m.prototype[U].apply(I,ae)}}function M(u){const m=u.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(p(I)){const U=u.length||0,H=I.length||0;u.length=U+H;for(let ae=0;ae<H;ae++)u[U+ae]=I[ae]}else u.push(I)}}class G{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var Ne=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ce(u,m,_){for(const I in u)m.call(_,u[I],I,u)}function b(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(_ in I)u[_]=I[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function P(){var u=_e;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,_){const I=jt.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var jt=new G(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let De,oe=!1,_e=new gt,x=()=>{const u=h.Promise.resolve(void 0);De=()=>{u.then(Q)}};var Q=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){F(_)}var m=jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u}();function Ge(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ne){e:{try{ie(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:qe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ge.aa.h.call(this)}}O(Ge,Ee);var qe={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function kt(u,m,_,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Sr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function On(u){this.src=u,this.g={},this.h=0}On.prototype.add=function(u,m,_,I,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ae=Ln(u,m,I,U);return-1<ae?(m=u[ae],_||(m.fa=!1)):(m=new kt(m,this.src,H,!!I,U),m.fa=_,u.push(m)),m};function Ar(u,m){var _=m.type;if(_ in u.g){var I=u.g[_],U=Array.prototype.indexOf.call(I,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(I,U,1),H&&(Sr(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ln(u,m,_,I){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==I)return U}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Ii={};function Si(u,m,_,I,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Si(u,m[H],_,I,U);return null}return _=W(_),u&&u[Ke]?u.K(m,_,y(I)?!!I.capture:!1,U):ys(u,m,_,!1,I,U)}function ys(u,m,_,I,U,H){if(!m)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,tt=Ai(u);if(tt||(u[Rr]=tt=new On(u)),_=tt.add(m,_,I,ae,H),_.proxy)return _;if(I=Pr(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)Le||(U=ae),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(Vn(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pr(){function u(_){return m.call(u.src,u.listener,_)}const m=_s;return u}function nr(u,m,_,I,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)nr(u,m[H],_,I,U);else I=y(I)?!!I.capture:!!I,_=W(_),u&&u[Ke]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Ln(H,_,I,U),-1<_&&(Sr(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ln(m,_,I,U)),(_=-1<u?m[u]:null)&&qn(_))}function qn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])Ar(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(Vn(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Ai(m))?(Ar(_,u),_.h==0&&(_.src=null,m[Rr]=null)):Sr(u)}}}function Vn(u){return u in Ii?Ii[u]:Ii[u]="on"+u}function _s(u,m){if(u.da)u=!0;else{m=new Ge(m,this);var _=u.listener,I=u.ha||u.src;u.fa&&qn(u),u=_.call(I,m)}return u}function Ai(u){return u=u[Rr],u instanceof On?u:null}var Kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function W(u){return typeof u=="function"?u:(u[Kr]||(u[Kr]=function(m){return u.handleEvent(m)}),u[Kr])}function q(){he.call(this),this.i=new On(this),this.M=this,this.F=null}O(q,he),q.prototype[Ke]=!0,q.prototype.removeEventListener=function(u,m,_,I){nr(this,u,m,_,I)};function Y(u,m){var _,I=u.F;if(I)for(_=[];I;I=I.F)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var U=m;m=new Ee(I,u),D(m,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var ae=m.g=_[H];U=pe(ae,I,!0,m)&&U}if(ae=m.g=u,U=pe(ae,I,!0,m)&&U,U=pe(ae,I,!1,m)&&U,_)for(H=0;H<_.length;H++)ae=m.g=_[H],U=pe(ae,I,!1,m)&&U}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],I=0;I<_.length;I++)Sr(_[I]);delete u.g[m],u.h--}}this.F=null},q.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},q.prototype.L=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function pe(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var ae=m[H];if(ae&&!ae.da&&ae.capture==_){var tt=ae.listener,bt=ae.ha||ae.src;ae.fa&&Ar(u.i,ae),U=tt.call(bt,I)!==!1&&U}}return U&&!I.defaultPrevented}function le(u,m,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Ie(u){u.g=le(()=>{u.g=null,u.i&&(u.i=!1,Ie(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class we extends he{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(u){he.call(this),this.h=u,this.g={}}O(je,he);var Se=[];function lt(u){Ce(u.g,function(m,_){this.g.hasOwnProperty(_)&&qn(m)},u),u.g={}}je.prototype.N=function(){je.aa.N.call(this),lt(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=h.JSON.stringify,Ze=h.JSON.parse,qt=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function xt(){}xt.prototype.h=null;function Wn(u){return u.h||(u.h=u.i())}function rr(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){Ee.call(this,"d")}O(Gt,Ee);function Cr(){Ee.call(this,"c")}O(Cr,Ee);var it={},Nt=null;function fn(){return Nt=Nt||new q}it.La="serverreachability";function ir(u){Ee.call(this,it.La,u)}O(ir,Ee);function pn(u){const m=fn();Y(m,new ir(m))}it.STAT_EVENT="statevent";function vs(u,m){Ee.call(this,it.STAT_EVENT,u),this.stat=m}O(vs,Ee);function yt(u){const m=fn();Y(m,new vs(m,u))}it.Ma="timingevent";function rn(u,m){Ee.call(this,it.Ma,u),this.size=m}O(rn,Ee);function Dt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Qr(u,m,_,I,U,H){u.info(function(){if(u.g)if(H)for(var ae="",tt=H.split("&"),bt=0;bt<tt.length;bt++){var Qe=tt[bt].split("=");if(1<Qe.length){var Ut=Qe[0];Qe=Qe[1];var St=Ut.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Ut+"="+Qe+"&"):ae+(Ut+"=redacted&")}}else ae=null;else ae=H;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+_+`
`+ae})}function eo(u,m,_,I,U,H,ae){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ae})}function sr(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+pd(u,_)+(I?" "+I:"")})}function ya(u,m){u.info(function(){return"TIMEOUT: "+m})}kr.prototype.info=function(){};function pd(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var I=_[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Ve(_)}catch{return m}}var to={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function Es(){}O(Es,xt),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},or=new Es;function ar(u,m,_,I){this.j=u,this.i=m,this.l=_,this.R=I||1,this.U=new je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}var _a={},no={};function ro(u,m,_){u.L=1,u.v=xi(jn(m)),u.m=_,u.P=!0,va(u,null)}function va(u,m){u.F=Date.now(),ot(u),u.A=jn(u.v);var _=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Di(_.i,"t",I),u.C=0,_=u.j.J,u.h=new Bl,u.g=su(u.j,_?m:null,!u.m),0<u.O&&(u.M=new we(T(u.Y,u,u.g),u.O)),m=u.U,_=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Se[0]=U.toString()),U=Se);for(var H=0;H<U.length;H++){var ae=Si(_,U[H],I||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pn(),Qr(u.i,u.u,u.A,u.l,u.R,u.m)}ar.prototype.ca=function(u){u=u.target;const m=this.M;m&&In(u)==3?m.j():this.Y(u)},ar.prototype.Y=function(u){try{if(u==this.g)e:{const St=In(this.g);var m=this.g.Ba();const Qn=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||St!=4||m==7||(m==8||0>=Qn?pn(3):pn(2)),ws(this);var _=this.g.Z();this.X=_;t:if(zl(this)){var I=Aa(this.g);u="";var U=I.length,H=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),Ri(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(H&&m==U-1)});I.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,eo(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,bt=this.g;if((tt=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(tt)){var Qe=tt;break t}}Qe=null}if(_=Qe)sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,_);else{this.o=!1,this.s=3,yt(12),Gn(this),Ri(this);break e}}if(this.P){_=!0;let Un;for(;!this.J&&this.C<ae.length;)if(Un=md(this,ae),Un==no){St==4&&(this.s=4,yt(14),_=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==_a){this.s=4,yt(15),sr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else sr(this.i,this.l,Un,null),Ea(this,Un);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),_=!1),this.o=this.o&&_,!_)sr(this.i,this.l,ae,"[Invalid Chunked Response]"),Gn(this),Ri(this);else if(0<ae.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Pa(Ut),Ut.M=!0,yt(11))}}else sr(this.i,this.l,ae,null),Ea(this,ae);St==4&&Gn(this),this.o&&!this.J&&(St==4?mo(this.j,this):(this.o=!1,ot(this)))}else uo(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Gn(this),Ri(this)}}}catch{}finally{}};function zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function md(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?no:(_=Number(m.substring(_,I)),isNaN(_)?_a:(I+=1,I+_>m.length?no:(m=m.slice(I,I+_),u.C=I+_,m)))}ar.prototype.cancel=function(){this.J=!0,Gn(this)};function ot(u){u.S=Date.now()+u.I,$l(u,u.I)}function $l(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dt(T(u.ba,u),m)}function ws(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ya(this.i,this.A),this.L!=2&&(pn(),yt(17)),Gn(this),this.s=2,Ri(this)):$l(this,this.S-u)};function Ri(u){u.j.G==0||u.J||mo(u.j,u)}function Gn(u){ws(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,lt(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ea(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||mn(_.h,u))){if(!u.K&&mn(_.h,u)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)po(_),hr(_);else break e;fo(_),yt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dt(T(_.Za,_),6e3));if(1>=ql(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ei(_,11)}else if((u.K||_.g==u)&&po(_),!te(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Ut=Qe[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const St=Qe[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Qn=Qe[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(I=1.5*Qn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Un=u.g;if(Un){const Cs=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var H=I.h;H.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wa(H,H.h),H.h=null))}if(I.D){const yo=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(I.ya=yo,st(I.I,I.D,yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ae=u;if(I.qa=iu(I,I.J?I.ia:null,I.W),ae.K){Wl(I.h,ae);var tt=ae,bt=I.L;bt&&(tt.I=bt),tt.B&&(ws(tt),ot(tt)),I.g=ae}else Ps(I);0<_.i.length&&br(_)}else Qe[0]!="stop"&&Qe[0]!="close"||ei(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ei(_,7):Qt(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}pn(4)}catch{}}var Hl=class{constructor(u,m){this.g=u,this.map=m}};function Ts(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ql(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wa(u,m){u.g?u.g.add(m):u.h=m}function Wl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ts.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return M(u.i)}function io(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,I=0;I<_;I++)m.push(u[I]);return m}m=[],_=0;for(I in u)m[_++]=u[I];return m}function so(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const I in u)m[_++]=I;return m}}}function Pi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=so(u),I=io(u),U=I.length,H=0;H<U;H++)m.call(void 0,I[H],_&&_[H],u)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gd(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var I=u[_].indexOf("="),U=null;if(0<=I){var H=u[_].substring(0,I);U=u[_].substring(I+1)}else H=u[_];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Ss(this,u.j),this.o=u.o,this.g=u.g,Ci(this,u.s),this.l=u.l;var m=u.i,_=new xr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ki(this,_),this.m=u.m}else u&&(m=String(u).match(Is))?(this.h=!1,Ss(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Ci(this,m[4]),this.l=We(m[5]||"",!0),ki(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ni(m,oo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ni(m,oo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ni(_,_.charAt(0)=="/"?Yl:Ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ni(_,Ta)),u.join("")};function jn(u){return new Yr(u)}function Ss(u,m,_){u.j=_?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ki(u,m,_){m instanceof xr?(u.i=m,Nr(u.i,u.h)):(_||(m=Ni(m,Xl)),u.i=new xr(m,u.h))}function st(u,m,_){u.i.set(m,_)}function xi(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ni(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,Ql=/[#\?:]/g,Yl=/[#\?]/g,Xl=/[#\?@]/g,Ta=/#/g;function xr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Kt(u){u.g||(u.g=new Map,u.h=0,u.i&&gd(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=xr.prototype,r.add=function(u,m){Kt(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lr(u,m){Kt(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ur(u,m){return Kt(u),m=Kn(u,m),u.g.has(m)}r.forEach=function(u,m){Kt(this),this.g.forEach(function(_,I){_.forEach(function(U){u.call(m,U,I,this)},this)},this)},r.na=function(){Kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const U=u[I];for(let H=0;H<U.length;H++)_.push(m[I])}return _},r.V=function(u){Kt(this);let m=[];if(typeof u=="string")ur(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Kt(this),this.i=null,u=Kn(this,u),ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Di(u,m,_){lr(u,m),0<_.length&&(u.i=null,u.g.set(Kn(u,m),M(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const H=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var U=H;ae[I]!==""&&(U+="="+encodeURIComponent(String(ae[I]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Nr(u,m){m&&!u.j&&(Kt(u),u.i=null,u.g.forEach(function(_,I){var U=I.toLowerCase();I!=U&&(lr(this,I),Di(this,U,_))},u)),u.j=m}function yd(u,m){const _=new kr;if(h.Image){const I=new Image;I.onload=k(Tn,_,"TestLoadImage: loaded",!0,m,I),I.onerror=k(Tn,_,"TestLoadImage: error",!1,m,I),I.onabort=k(Tn,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(Tn,_,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Jl(u,m){const _=new kr,I=new AbortController,U=setTimeout(()=>{I.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(H=>{clearTimeout(U),H.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(_)}catch{}}function _d(){this.g=new qt}function Zl(u,m,_){const I=_||"";try{Pi(u,function(U,H){let ae=U;y(U)&&(ae=Ve(U)),m.push(I+H+"="+encodeURIComponent(ae))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Xr,xt),Xr.prototype.g=function(){return new As(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function As(u,m){q.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(As,q),r=As.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,dr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):dr(this),this.readyState==3&&eu(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,cr(this))},r.Qa=function(u){this.g&&(this.response=u,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dr(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function dr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let m="";return Ce(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function bi(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Jr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):st(u,m,_))}function ht(u){q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ht,q);var vd=/^https?$/i,Ia=["POST","PUT"];r=ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Wn(this.o):Wn(or),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Rs(this,H);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)_.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())_.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ia,m,void 0))||I||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of _)this.g.setRequestHeader(H,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Rs(this,H)}};function Rs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ao(u),Fn(u)}function ao(u){u.A||(u.A=!0,Y(u,"complete"),Y(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Y(this,"complete"),Y(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},r.bb=function(){Sa(this)};function Sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||In(u)!=4||u.Z()!=2)){if(u.u&&In(u)==4)le(u.Ea,0,u);else if(Y(u,"readystatechange"),In(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=ae===0){var U=String(u.D).match(Is)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),I=!vd.test(U?U.toLowerCase():"")}_=I}if(_)Y(u,"complete"),Y(u,"success");else{u.m=6;try{var H=2<In(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ao(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){lo(u);const _=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Y(u,"ready");try{_.onreadystatechange=I}catch{}}}function lo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function In(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ze(m)}};function Aa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(u){const m={};u=(u.g&&2<=In(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(te(u[I]))continue;var _=V(u[I]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}b(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ra(u){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,u),this.cb=Dr("retryDelaySeedMs",1e4,u),this.Wa=Dr("forwardChannelMaxRetries",2,u),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(u&&u.concurrentRequestLimit),this.Da=new _d,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ra.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,I){yt(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=iu(this,null,this.W),br(this)};function Qt(u){if(co(u),u.G==3){var m=u.U++,_=jn(u.I);if(st(_,"SID",u.K),st(_,"RID",m),st(_,"TYPE","terminate"),Zr(u,_),m=new ar(u,u.j,m),m.L=2,m.v=xi(jn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}ru(u)}function hr(u){u.g&&(Pa(u),u.g.cancel(),u.g=null)}function co(u){hr(u),u.u&&(h.clearTimeout(u.u),u.u=null),po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function br(u){if(!Mn(u.h)&&!u.s){u.s=!0;var m=u.Ga;De||x(),oe||(De(),oe=!0),_e.add(m,u),u.B=0}}function Ed(u,m){return ql(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dt(T(u.Ga,u,m),nu(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ar(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Oi(this,U,m),_=jn(this.I),st(_,"RID",u),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),Zr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(Jr(H)))+"&"+m:this.m&&bi(_,this.m,H)),wa(this.h,U),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",m),st(_,"SID","null"),U.T=!0,ro(U,_,null)):ro(U,_,m),this.G=2}}else this.G==3&&(u?ho(this,u):this.i.length==0||Mn(this.h)||ho(this))};function ho(u,m){var _;m?_=m.l:_=u.U++;const I=jn(u.I);st(I,"SID",u.K),st(I,"RID",_),st(I,"AID",u.T),Zr(u,I),u.m&&u.o&&bi(I,u.m,u.o),_=new ar(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Oi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wa(u.h,_),ro(_,I,m)}function Zr(u,m){u.H&&Ce(u.H,function(_,I){st(m,I,_)}),u.l&&Pi({},function(_,I){st(m,I,_)})}function Oi(u,m,_){_=Math.min(u.i.length,_);var I=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const ae=["count="+_];H==-1?0<_?(H=U[0].g,ae.push("ofs="+H)):H=0:ae.push("ofs="+H);let tt=!0;for(let bt=0;bt<_;bt++){let Qe=U[bt].g;const Ut=U[bt].map;if(Qe-=H,0>Qe)H=Math.max(0,U[bt].g-100),tt=!1;else try{Zl(Ut,ae,"req"+Qe+"_")}catch{I&&I(Ut)}}if(tt){I=ae.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,I}function Ps(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;De||x(),oe||(De(),oe=!0),_e.add(m,u),u.v=0}}function fo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dt(T(u.Fa,u),nu(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dt(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),hr(this),tu(this))};function Pa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=jn(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&bi(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=xi(jn(m)),_.m=null,_.P=!0,va(_,u)}r.Za=function(){this.C!=null&&(this.C=null,hr(this),fo(this),yt(19))};function po(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function mo(u,m){var _=null;if(u.g==m){po(u),Pa(u),u.g=null;var I=2}else if(mn(u.h,m))_=m.D,Wl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;I=fn(),Y(I,new rn(I,_)),br(u)}else Ps(u);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&Ed(u,m)||I==2&&fo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function nu(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function ei(u,m){if(u.j.info("Error code "+m),m==2){var _=T(u.fb,u),I=u.Xa;const U=!I;I=new Yr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ss(I,"https"),xi(I),U?yd(I.toString(),_):Jl(I.toString(),_)}else yt(2);u.G=0,u.l&&u.l.sa(m),ru(u),co(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=Gl(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,_){var I=_ instanceof Yr?jn(_):new Yr(_);if(I.g!="")m&&(I.g=m+"."+I.g),Ci(I,I.s);else{var U=h.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new Yr(null);I&&Ss(H,I),m&&(H.g=m),U&&Ci(H,U),_&&(H.l=_),I=H}return _=u.D,m=u.ya,_&&m&&st(I,_,m),st(I,"VER",u.la),Zr(u,I),I}function su(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ht(new Xr({eb:_})):new ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}r=Ca.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function go(){}go.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){q.call(this),this.g=new Ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Or(this)}O(gn,q),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ve(u),u=_);m.i.push(new Hl(m.Ya++,u)),m.G==3&&br(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)};function ou(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(ou,Gt);function au(){Cr.call(this),this.status=1}O(au,Cr);function Or(u){this.g=u}O(Or,Ca),Or.prototype.ua=function(){Y(this.g,"a")},Or.prototype.ta=function(u){Y(this.g,new ou(u))},Or.prototype.sa=function(u){Y(this.g,new au)},Or.prototype.ra=function(){Y(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Kv=function(){return new go},Gv=function(){return fn()},Wv=it,Ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,ac=to,Ul.COMPLETE="complete",qv=Ul,rr.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",q.prototype.listen=q.prototype.K,il=rr,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Hv=ht}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",By="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Yf("@firebase/firestore");function Fo(){return Qs.logLevel}function de(r,...e){if(Qs.logLevel<=ze.DEBUG){const t=e.map(Zf);Qs.debug(`Firestore (${ua}): ${r}`,...t)}}function vi(r,...e){if(Qs.logLevel<=ze.ERROR){const t=e.map(Zf);Qs.error(`Firestore (${ua}): ${r}`,...t)}}function Zo(r,...e){if(Qs.logLevel<=ze.WARN){const t=e.map(Zf);Qs.warn(`Firestore (${ua}): ${r}`,...t)}}function Zf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+r;throw vi(e),new Error(e)}function et(r,e){r||Pe()}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class F0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U0{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string"),new Qv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new cn(e)}}class B0{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class z0{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new B0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $0{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new zy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new zy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=H0(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function $e(r,e){return r<e?-1:r>e?1:0}function Tf(r,e){const t=wf().encode(r),i=wf().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const l=$e(t[o],i[o]);if(l!==0)return l}return $e(t.length,i.length)}function ea(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Hy=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Hy);return new Vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$y)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class Fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return $e(e.length,t.length)}static compareSegments(e,t){const i=Fr.isNumericId(e),o=Fr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Tf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class dt extends Fr{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new dt(t)}static emptyPath(){return new dt([])}}const q0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fr{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return q0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new en([qy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ce(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(l(),o++)}if(l(),c)throw new ce(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function W0(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new Vt(t+1,0):new Vt(t,i));return new as(o,ve.empty(),e)}function G0(r){return new as(r.readTime,r.key,yl)}class as{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new as(be.min(),ve.empty(),yl)}static max(){return new as(be.max(),ve.empty(),yl)}}function K0(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==Q0)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++h,h===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function X0(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function Gc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function J0(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="";function Z0(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Wy(e)),e=eR(r.get(t),e);return Wy(e)}function eR(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Xv:t+="";break;default:t+=l}}return t}function Wy(r){return r+Xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ps(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Jv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new Mt(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Zv("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(et(!!r),typeof r=="string"){let e=0;const t=tR.exec(r);if(et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function tp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||t===void 0?void 0:t.stringValue)===eE}function Kc(r){const e=r.mapValue.fields[nE];return tp(e)?Kc(e):e}function _l(r){const e=ls(r.mapValue.fields[rE].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,i,o,l,c,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}const Ic="(default)";class vl{constructor(e,t){this.projectId=e,this.database=t||Ic}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",rR="__max__",rc={mapValue:{}},sE="__vector__",Sc="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:sR(r)?9007199254740991:iR(r)?10:11:Pe()}function Hr(r,e){if(r===e)return!0;const t=cs(r);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _l(r).isEqual(_l(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ls(o.timestampValue),h=ls(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return us(o.bytesValue).isEqual(us(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),h=It(l.doubleValue);return c===h?Tc(c)===Tc(h):isNaN(c)&&isNaN(h)}return!1}(r,e);case 9:return ea(r.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Gy(c)!==Gy(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Hr(c[p],h[p])))return!1;return!0}(r,e);default:return Pe()}}function El(r,e){return(r.values||[]).find(t=>Hr(t,e))!==void 0}function ta(r,e){if(r===e)return 0;const t=cs(r),i=cs(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return function(l,c){const h=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(r,e);case 3:return Qy(r.timestampValue,e.timestampValue);case 4:return Qy(_l(r),_l(e));case 5:return Tf(r.stringValue,e.stringValue);case 6:return function(l,c){const h=us(l),p=us(c);return h.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const v=$e(h[y],p[y]);if(v!==0)return v}return $e(h.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const h=$e(It(l.latitude),It(c.latitude));return h!==0?h:$e(It(l.longitude),It(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,y,v;const S=l.fields||{},T=c.fields||{},k=(h=S[Sc])===null||h===void 0?void 0:h.arrayValue,O=(p=T[Sc])===null||p===void 0?void 0:p.arrayValue,M=$e(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:Yy(k,O)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===rc.mapValue&&c===rc.mapValue)return 0;if(l===rc.mapValue)return 1;if(c===rc.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const T=Tf(p[S],v[S]);if(T!==0)return T;const k=ta(h[p[S]],y[v[S]]);if(k!==0)return k}return $e(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Pe()}}function Qy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=ls(r),i=ls(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function Yy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ta(t[o],i[o]);if(l)return l}return $e(t.length,i.length)}function na(r){return If(r)}function If(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=ls(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return us(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=If(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${If(t.fields[c])}`;return o+"}"}(r.mapValue):Pe()}function lc(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(r);return e?16+lc(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+lc(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return ps(i.fields,(l,c)=>{o+=l.length+lc(c)}),o}(r.mapValue);default:throw Pe()}}function Xy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sf(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function Jy(r){return!!r&&"nullValue"in r}function Zy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uc(r){return!!r&&"mapValue"in r}function iR(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||t===void 0?void 0:t.stringValue)===sE}function ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ul(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===rR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=en.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=ul(c):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ps(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Dn(ul(this.value))}}function oE(r){const e=[];return ps(r.fields,(t,i)=>{const o=new en([t]);if(uc(i)){const l=oE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,i,o,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,o){return new dn(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new dn(e,2,t,be.min(),be.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,be.min(),be.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.position=e,this.inclusive=t}}function e_(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=ta(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function t_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Hr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function oR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Ct extends aE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new lR(e,t,i):t==="array-contains"?new dR(e,i):t==="in"?new hR(e,i):t==="not-in"?new fR(e,i):t==="array-contains-any"?new pR(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new uR(e,i):new cR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ta(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ir(e,t)}matches(e){return lE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function uE(r){return aR(r)&&lE(r)}function aR(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function Af(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+na(r.value);if(uE(r))return r.filters.map(e=>Af(e)).join(",");{const e=r.filters.map(t=>Af(t)).join(",");return`${r.op}(${e})`}}function cE(r,e){return r instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Hr(i.value,o.value)}(r,e):r instanceof Ir?function(i,o){return o instanceof Ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,h)=>l&&cE(c,o.filters[h]),!0):!1}(r,e):void Pe()}function dE(r){return r instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(r):r instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(dE).join(" ,")+"}"}(r):"Filter"}class lR extends Ct{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class uR extends Ct{constructor(e,t){super(e,"in",t),this.keys=hE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cR extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=hE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class dR extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&El(t.arrayValue,this.value)}}class hR extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&El(this.value.arrayValue,t)}}class fR extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!El(this.value.arrayValue,t)}}class pR extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>El(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t=null,i=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function n_(r,e=null,t=[],i=[],o=null,l=null,c=null){return new mR(r,e,t,i,o,l,c)}function rp(r){const e=Oe(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Af(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>na(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>na(i)).join(",")),e.le=t}return e.le}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!cE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!t_(r.startAt,e.startAt)&&t_(r.endAt,e.endAt)}function Rf(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t=null,i=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gR(r,e,t,i,o,l,c,h){return new ha(r,e,t,i,o,l,c,h)}function sp(r){return new ha(r)}function r_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fE(r){return r.collectionGroup!==null}function cl(r){const e=Oe(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mt(en.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new wl(l,i))}),t.has(en.keyField().canonicalString())||e.he.push(new wl(en.keyField(),i))}return e.he}function Br(r){const e=Oe(r);return e.Pe||(e.Pe=yR(e,cl(r))),e.Pe}function yR(r,e){if(r.limitType==="F")return n_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new wl(o.field,l)});const t=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return n_(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Pf(r,e){const t=r.filters.concat([e]);return new ha(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rc(r,e,t){return new ha(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qc(r,e){return ip(Br(r),Br(e))&&r.limitType===e.limitType}function pE(r){return`${rp(Br(r))}|lt:${r.limitType}`}function Uo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>dE(o)).join(", ")}]`),Gc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${i})`}(Br(r))}; limitType=${r.limitType})`}function Yc(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of cl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const y=e_(c,h,p);return c.inclusive?y<=0:y<0}(i.startAt,cl(i),o)||i.endAt&&!function(c,h,p){const y=e_(c,h,p);return c.inclusive?y>=0:y>0}(i.endAt,cl(i),o))}(r,e)}function _R(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mE(r){return(e,t)=>{let i=!1;for(const o of cl(r)){const l=vR(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function vR(r,e,t){const i=r.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),y=h.data.field(l);return p!==null&&y!==null?ta(p,y):Pe()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Et(ve.comparator);function Ei(){return ER}const gE=new Et(ve.comparator);function sl(...r){let e=gE;for(const t of r)e=e.insert(t.key,t);return e}function yE(r){let e=gE;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return dl()}function _E(){return dl()}function dl(){return new Js(r=>r.toString(),(r,e)=>r.isEqual(e))}const wR=new Et(ve.comparator),TR=new Mt(ve.comparator);function He(...r){let e=TR;for(const t of r)e=e.add(t);return e}const IR=new Mt($e);function SR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function vE(r){return{integerValue:""+r}}function AR(r,e){return J0(e)?vE(e):op(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function RR(r,e,t){return r instanceof Tl?function(o,l){const c={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&tp(l)&&(l=Kc(l)),l&&(c.fields[nE]=l),{mapValue:c}}(t,e):r instanceof Il?wE(r,e):r instanceof Sl?TE(r,e):function(o,l){const c=EE(o,l),h=i_(c)+i_(o.Ie);return Sf(c)&&Sf(o.Ie)?vE(h):op(o.serializer,h)}(r,e)}function PR(r,e,t){return r instanceof Il?wE(r,e):r instanceof Sl?TE(r,e):t}function EE(r,e){return r instanceof Pc?function(i){return Sf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Tl extends Xc{}class Il extends Xc{constructor(e){super(),this.elements=e}}function wE(r,e){const t=IE(e);for(const i of r.elements)t.some(o=>Hr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Sl extends Xc{constructor(e){super(),this.elements=e}}function TE(r,e){let t=IE(e);for(const i of r.elements)t=t.filter(o=>!Hr(o,i));return{arrayValue:{values:t}}}class Pc extends Xc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function i_(r){return It(r.integerValue||r.doubleValue)}function IE(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.field=e,this.transform=t}}function kR(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof Il&&o instanceof Il||i instanceof Sl&&o instanceof Sl?ea(i.elements,o.elements,Hr):i instanceof Pc&&o instanceof Pc?Hr(i.Ie,o.Ie):i instanceof Tl&&o instanceof Tl}(r.transform,e.transform)}class xR{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jc{}function SE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new RE(r.key,wr.none()):new Dl(r.key,r.data,wr.none());{const t=r.data,i=Dn.empty();let o=new Mt(en.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ms(r.key,i,new Hn(o.toArray()),wr.none())}}function NR(r,e,t){r instanceof Dl?function(o,l,c){const h=o.value.clone(),p=o_(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(r,e,t):r instanceof ms?function(o,l,c){if(!cc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=o_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(AE(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function hl(r,e,t,i){return r instanceof Dl?function(l,c,h,p){if(!cc(l.precondition,c))return h;const y=l.value.clone(),v=a_(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof ms?function(l,c,h,p){if(!cc(l.precondition,c))return h;const y=a_(l.fieldTransforms,p,c),v=c.data;return v.setAll(AE(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(r,e,t,i):function(l,c,h){return cc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(r,e,t)}function DR(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=EE(i.transform,o||null);l!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,l))}return t||null}function s_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ea(i,o,(l,c)=>kR(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Dl extends Jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function o_(r,e,t){const i=new Map;et(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,h=e.data.field(l.field);i.set(l.field,PR(c,h,t[o]))}return i}function a_(r,e,t){const i=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);i.set(o.field,RR(l,c,e))}return i}class RE extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&NR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_E();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const p=SE(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,i)=>s_(t,i))&&ea(this.baseMutations,e.baseMutations,(t,i)=>s_(t,i))}}class ap{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){et(e.mutations.length===i.length);let o=function(){return wR}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new ap(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ye;function MR(r){switch(r){case K.OK:return Pe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Pe()}}function PE(r){if(r===void 0)return vi("GRPC error has no .code"),K.UNKNOWN;switch(r){case Rt.OK:return K.OK;case Rt.CANCELLED:return K.CANCELLED;case Rt.UNKNOWN:return K.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return K.INTERNAL;case Rt.UNAVAILABLE:return K.UNAVAILABLE;case Rt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Rt.NOT_FOUND:return K.NOT_FOUND;case Rt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Rt.ABORTED:return K.ABORTED;case Rt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Rt.DATA_LOSS:return K.DATA_LOSS;default:return Pe()}}(Ye=Rt||(Rt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ss([4294967295,4294967295],0);function l_(r){const e=wf().encode(r),t=new $v;return t.update(e),new Uint8Array(t.digest())}function u_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ss([t,i],0),new ss([o,l],0)]}class lp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ol(`Invalid padding: ${t}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ol(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ss.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(ss.fromNumber(i)));return o.compare(jR)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=l_(e),[i,o]=u_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new lp(l,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=l_(e),[i,o]=u_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zc(be.min(),o,new Et($e),Ei(),He())}}class bl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bl(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class CE{constructor(e,t){this.targetId=e,this.ge=t}}class kE{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class c_{constructor(){this.pe=0,this.ye=d_(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),t=He(),i=He();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}}),new bl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=d_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ei(),this.$e=ic(),this.Ue=ic(),this.Ke=new Et($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Rf(l))if(i===0){const c=new ve(l.path);this.ze(t,c,dn.newNoDocument(c,be.min()))}else et(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),p=h?this.nt(h,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=us(i).toUint8Array()}catch(p){if(p instanceof Zv)return Zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new lp(c,o,l)}catch(p){return Zo(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&Rf(h.target)){const p=new ve(h.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,dn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=He();this.Ue.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new Zc(e,t,this.Ke,this.Qe,i);return this.Qe=Ei(),this.$e=ic(),this.Ue=ic(),this.Ke=new Et($e),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new c_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt($e),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new c_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ic(){return new Et(ve.comparator)}function d_(){return new Et(ve.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cf(r,e){return r.useProto3Json||Gc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function HR(r,e){return Cc(r,e.toTimestamp())}function zr(r){return et(!!r),be.fromTimestamp(function(t){const i=ls(t);return new Vt(i.seconds,i.nanos)}(r))}function up(r,e){return kf(r,e).canonicalString()}function kf(r,e){const t=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function NE(r){const e=dt.fromString(r);return et(VE(e)),e}function xf(r,e){return up(r.databaseId,e.path)}function Zh(r,e){const t=NE(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(bE(t))}function DE(r,e){return up(r.databaseId,e)}function qR(r){const e=NE(r);return e.length===4?dt.emptyPath():bE(e)}function Nf(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bE(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function h_(r,e,t){return{name:xf(r,e),fields:t.value.mapValue.fields}}function WR(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(et(v===void 0||typeof v=="string"),nn.fromBase64String(v||"")):(et(v===void 0||v instanceof Buffer||v instanceof Uint8Array),nn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const v=y.code===void 0?K.UNKNOWN:PE(y.code);return new ce(v,y.message||"")}(c);t=new kE(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zh(r,i.document.name),l=zr(i.document.updateTime),c=i.document.createTime?zr(i.document.createTime):be.min(),h=new Dn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(o,l,c,h),y=i.targetIds||[],v=i.removedTargetIds||[];t=new dc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zh(r,i.document),l=i.readTime?zr(i.readTime):be.min(),c=dn.newNoDocument(o,l),h=i.removedTargetIds||[];t=new dc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zh(r,i.document),l=i.removedTargetIds||[];t=new dc([],l,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new VR(o,l),h=i.targetId;t=new CE(h,c)}}return t}function GR(r,e){let t;if(e instanceof Dl)t={update:h_(r,e.key,e.value)};else if(e instanceof RE)t={delete:xf(r,e.key)};else if(e instanceof ms)t={update:h_(r,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof bR))return Pe();t={verify:xf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pc)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw Pe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:HR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe()}(r,e.precondition)),t}function KR(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(o,l){let c=o.updateTime?zr(o.updateTime):zr(l);return c.isEqual(be.min())&&(c=zr(l)),new xR(c,o.transformResults||[])}(t,e))):[]}function QR(r,e){return{documents:[DE(r,e.path)]}}function YR(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DE(r,o);const l=function(y){if(y.length!==0)return LE(Ir.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(T){return{field:Bo(T.field),direction:ZR(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Cf(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function XR(r){let e=qR(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){et(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(S){const T=OE(S);return T instanceof Ir&&uE(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(T=>function(O){return new wl(zo(O.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(S){let T;return T=typeof S=="object"?S.value:S,Gc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(S){const T=!!S.before,k=S.values||[];return new Ac(k,T)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const T=!S.before,k=S.values||[];return new Ac(k,T)}(t.endAt)),gR(e,o,c,l,h,"F",p,y)}function JR(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(r):r.fieldFilter!==void 0?function(t){return Ct.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>OE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(r):Pe()}function ZR(r){return UR[r]}function eP(r){return BR[r]}function tP(r){return zR[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function zo(r){return en.fromServerFormat(r.fieldPath)}function LE(r){return r instanceof Ct?function(t){if(t.op==="=="){if(Zy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(Jy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(Jy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:eP(t.op),value:t.value}}}(r):r instanceof Ir?function(t){const i=t.getFilters().map(o=>LE(o));return i.length===1?i[0]:{compositeFilter:{op:tP(t.op),filters:i}}}(r):Pe()}function nP(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,i,o,l=be.min(),c=be.min(),h=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.Tt=e}}function iP(r){const e=XR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.Tn=new oP}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(as.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class oP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(dt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(ME,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ra(0)}static Kn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",aP=1048576;function m_([r,e],[t,i]){const o=$e(r,t);return o===0?$e(e,i):o}class lP{constructor(e){this.Hn=e,this.buffer=new Mt(m_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();m_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(p_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?de(p_,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.er(3e5)})}}class cP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Wc.ae);const i=new lP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,c,h,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),Fo()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function dP(r,e){return new cP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&hl(i.mutation,o,Hn.empty(),Vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=sl();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let l=Ei();const c=dl(),h=function(){return dl()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof ms)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),hl(v.mutation,y,v.mutation.getFieldMask(),Vt.now())):c.set(y.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var S;return h.set(y,new fP(v,(S=c.get(y))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=dl();let o=new Et((c,h)=>c-h),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Hn.empty();v=h.applyToLocalView(y,v),i.set(p,v);const S=(o.get(h.batchId)||He()).add(p);o=o.insert(h.batchId,S)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,v=p.value,S=_E();v.forEach(T=>{if(!l.has(T)){const k=SE(t.get(T),i.get(T));k!==null&&S.set(T,k),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(Hs());let h=yl,p=l;return c.next(y=>X.forEach(y,(v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),l.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(v=>({batchId:h,changes:yE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=sl();return this.indexManager.getCollectionParents(e,l).next(h=>X.forEach(h,p=>{const y=function(S,T){return new ha(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))});let h=sl();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&hl(v.mutation,y,Hn.empty(),Vt.now()),Yc(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:iP(o.bundledQuery),readTime:zr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new Et(ve.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),l=t.length+1,c=new ve(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Et((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=Hs(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=Hs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>h.set(y,v)),!(h.size()>=o)););return X.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LR(t,i));let l=this.Rr.get(t);l===void 0&&(l=He(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Vr=new Mt(Ht.mr),this.gr=new Mt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ht(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ve(new dt([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new dt([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=He();return this.gr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Ht.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OR(l,t,i,o);this.mutationQueue.push(c);for(const h of o)this.Mr=this.Mr.add(new Ht(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ep:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],c=>{const h=this.Or(c.Cr);l.push(h)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt($e);return t.forEach(o=>{const l=new Ht(o,0),c=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),X.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new ve(l),0);let h=new Mt($e);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Cr)),!0)},c),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return X.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ht(t,0),o=this.Mr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.kr=e,this.docs=function(){return new Et(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=Ei();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ei();const c=t.path,h=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||K0(G0(v),i)<=0||(o.has(v.key)||Yc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Pe()}qr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EP(this)}getSize(e){return X.resolve(this.size)}}class EP extends hP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.persistence=e,this.Qr=new Js(t=>rp(t),ip),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cp,this.targetCount=0,this.Kr=ra.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Wc(0),this.zr=!1,this.zr=!0,this.jr=new yP,this.referenceDelegate=e(this),this.Hr=new wP(this),this.indexManager=new sP,this.remoteDocumentCache=function(o){return new vP(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new rP(t),this.Yr=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new _P(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new TP(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return X.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class TP extends Y0{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.ti=new cp,this.ni=null}static ri(e){return new dp(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,i=>{const o=ve.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class kc{constructor(e,t){this.persistence=e,this.oi=new Js(i=>Z0(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=dP(this,t)}static ri(e,t){return new kc(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lc(e.data.value)),t}ar(e,t,i){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return EA()?8:X0(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new IP;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Fo()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Fo()<=ze.DEBUG&&de("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Fo()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):X.resolve())}rs(e,t){if(r_(t))return X.resolve(null);let i=Br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Rc(t,null,"F"),i=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,h);return this.ls(t,y,c,p.readTime)?this.rs(e,Rc(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return r_(t)||o.isEqual(be.min())?X.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,o)?X.resolve(null):(Fo()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.hs(e,c,t,W0(o,yl)).next(h=>h))})}cs(e,t){let i=new Mt(mE(e));return t.forEach((o,l)=>{Yc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return Fo()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ns.getDocumentsMatchingQuery(e,t,as.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",AP=3e8;class RP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Et($e),this.Is=new Js(l=>rp(l),ip),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function PP(r,e,t,i){return new RP(r,e,t,i)}async function FE(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=He();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:h}))})})}function CP(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,y,v){const S=y.batch,T=S.keys();let k=X.resolve();return T.forEach(O=>{k=k.next(()=>v.getEntry(p,O)).next(M=>{const j=y.docVersions.get(O);et(j!==null),M.version.compareTo(j)<0&&(S.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),v.addEntry(M)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=He();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function UE(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function kP(r,e){const t=Oe(r),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((v,S)=>{const T=o.get(S);if(!T)return;h.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,S)));let k=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(nn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,i)),o=o.insert(S,k),function(M,j,G){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=AP?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,k,v)&&h.push(t.Hr.updateTargetData(l,k))});let p=Ei(),y=He();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(xP(l,c,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!i.isEqual(be.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return X.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function xP(r,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let c=Ei();return t.forEach((h,p)=>{const y=l.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):de(fp,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function NP(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ep),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DP(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ts(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Df(r,e,t){const i=Oe(r),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!da(c))throw c;de(fp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function g_(r,e,t){const i=Oe(r);let o=be.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const S=Oe(p),T=S.Is.get(v);return T!==void 0?X.resolve(S.Ts.get(T)):S.Hr.getTargetData(y,v)}(i,c,Br(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?l:He())).next(h=>(bP(i,_R(e),h),{documents:h,gs:l})))}function bP(r,e,t){let i=r.Es.get(e)||be.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.Es.set(e,i)}class y_{constructor(){this.activeTargetIds=SR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.ho=new y_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new y_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class v_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(__,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function bf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="RestConnection",VP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const c=bf(),h=this.bo(e,t.toUriEncodedString());de(ef,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,h,p,i).then(y=>(de(ef,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Zo(ef,`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",i),y})}Co(e,t,i,o,l,c){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=VP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class FP extends MP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=bf();return new Promise((c,h)=>{const p=new Hv;p.setWithCredentials(!0),p.listenOnce(qv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ac.NO_ERROR:const v=p.getResponseJson();de(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case ac.TIMEOUT:de(un,`RPC '${e}' ${l} timed out`),h(new ce(K.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const S=p.getStatus();if(de(un,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T==null?void 0:T.error;if(k&&k.status&&k.message){const O=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(G)>=0?G:K.UNKNOWN}(k.status);h(new ce(O,k.message))}else h(new ce(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ce(K.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{de(un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);de(un,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=bf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Kv(),h=Gv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");de(un,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=c.createWebChannel(v,p);let T=!1,k=!1;const O=new jP({Fo:j=>{k?de(un,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(de(un,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),de(un,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),M=(j,G,te)=>{j.listen(G,re=>{try{te(re)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(S,il.EventType.OPEN,()=>{k||(de(un,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),M(S,il.EventType.CLOSE,()=>{k||(k=!0,de(un,`RPC '${e}' stream ${o} transport closed`),O.Uo())}),M(S,il.EventType.ERROR,j=>{k||(k=!0,Zo(un,`RPC '${e}' stream ${o} transport errored:`,j),O.Uo(new ce(K.UNAVAILABLE,"The operation could not be completed")))}),M(S,il.EventType.MESSAGE,j=>{var G;if(!k){const te=j.data[0];et(!!te);const re=te,ie=(re==null?void 0:re.error)||((G=re[0])===null||G===void 0?void 0:G.error);if(ie){de(un,`RPC '${e}' stream ${o} received error:`,ie);const Ne=ie.status;let Ce=function(C){const D=Rt[C];if(D!==void 0)return PE(D)}(Ne),b=ie.message;Ce===void 0&&(Ce=K.INTERNAL,b="Unknown error status: "+Ne+" with message "+ie.message),k=!0,O.Uo(new ce(Ce,b)),S.close()}else de(un,`RPC '${e}' stream ${o} received:`,te),O.Ko(te)}}),M(h,Wv.STAT_EVENT,j=>{j.stat===Ef.PROXY?de(un,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Ef.NOPROXY&&de(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r){return new $R(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class zE{constructor(e,t,i,o,l,c,h,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ce(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UP extends zE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WR(this.serializer,e),i=function(l){if(!("targetChange"in l))return be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?zr(c.readTime):be.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Nf(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=Rf(p)?{documents:QR(l,p)}:{query:YR(l,p).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=xE(l,c.resumeToken);const y=Cf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=Cc(l,c.snapshotVersion.toTimestamp());const y=Cf(l,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=JR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Nf(this.serializer),t.removeTarget=e,this.I_(t)}}class BP extends zE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=KR(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Nf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>GR(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{}class $P extends zP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,kf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(K.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,kf(t,i),o,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(K.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vi(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class qP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Zs(this)&&(de(Ys,"Restarting streams for network reachability change."),await async function(p){const y=Oe(p);y.W_.add(4),await Ol(y),y.j_.set("Unknown"),y.W_.delete(4),await td(y)}(this))})}),this.j_=new HP(i,o)}}async function td(r){if(Zs(r))for(const e of r.G_)await e(!0)}async function Ol(r){for(const e of r.G_)await e(!1)}function $E(r,e){const t=Oe(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),yp(t)?gp(t):fa(t).c_()&&mp(t,e))}function pp(r,e){const t=Oe(r),i=fa(t);t.K_.delete(e),i.c_()&&HE(t,e),t.K_.size===0&&(i.c_()?i.P_():Zs(t)&&t.j_.set("Unknown"))}function mp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(r).y_(e)}function HE(r,e){r.H_.Ne(e),fa(r).w_(e)}function gp(r){r.H_=new FR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),fa(r).start(),r.j_.B_()}function yp(r){return Zs(r)&&!fa(r).u_()&&r.K_.size>0}function Zs(r){return Oe(r).W_.size===0}function qE(r){r.H_=void 0}async function WP(r){r.j_.set("Online")}async function GP(r){r.K_.forEach((e,t)=>{mp(r,e)})}async function KP(r,e){qE(r),yp(r)?(r.j_.q_(e),gp(r)):r.j_.set("Unknown")}async function QP(r,e,t){if(r.j_.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const h of l.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.K_.delete(h),o.H_.removeTarget(h))}(r,e)}catch(i){de(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xc(r,i)}else if(e instanceof dc?r.H_.We(e):e instanceof CE?r.H_.Ze(e):r.H_.je(e),!t.isEqual(be.min()))try{const i=await UE(r.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.K_.get(y);v&&l.K_.set(y,v.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,y)=>{const v=l.K_.get(p);if(!v)return;l.K_.set(p,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),HE(l,p);const S=new ts(v.target,p,y,v.sequenceNumber);mp(l,S)}),l.remoteSyncer.applyRemoteEvent(h)}(r,t)}catch(i){de(Ys,"Failed to raise snapshot:",i),await xc(r,i)}}async function xc(r,e,t){if(!da(e))throw e;r.W_.add(1),await Ol(r),r.j_.set("Offline"),t||(t=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Ys,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await td(r)})}function WE(r,e){return e().catch(t=>xc(r,t,e))}async function nd(r){const e=Oe(r),t=ds(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:ep;for(;YP(e);)try{const o=await NP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,XP(e,o)}catch(o){await xc(e,o)}GE(e)&&KE(e)}function YP(r){return Zs(r)&&r.U_.length<10}function XP(r,e){r.U_.push(e);const t=ds(r);t.c_()&&t.S_&&t.b_(e.mutations)}function GE(r){return Zs(r)&&!ds(r).u_()&&r.U_.length>0}function KE(r){ds(r).start()}async function JP(r){ds(r).C_()}async function ZP(r){const e=ds(r);for(const t of r.U_)e.b_(t.mutations)}async function eC(r,e,t){const i=r.U_.shift(),o=ap.from(i,e,t);await WE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await nd(r)}async function tC(r,e){e&&ds(r).S_&&await async function(i,o){if(function(c){return MR(c)&&c!==K.ABORTED}(o.code)){const l=i.U_.shift();ds(i).h_(),await WE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await nd(i)}}(r,e),GE(r)&&KE(r)}async function w_(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),de(Ys,"RemoteStore received new credentials");const i=Zs(t);t.W_.add(3),await Ol(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await td(t)}async function nC(r,e){const t=Oe(r);e?(t.W_.delete(2),await td(t)):e||(t.W_.add(2),await Ol(t),t.j_.set("Unknown"))}function fa(r){return r.J_||(r.J_=function(t,i,o){const l=Oe(t);return l.M_(),new UP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:WP.bind(null,r),No:GP.bind(null,r),Lo:KP.bind(null,r),p_:QP.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),yp(r)?gp(r):r.j_.set("Unknown")):(await r.J_.stop(),qE(r))})),r.J_}function ds(r){return r.Y_||(r.Y_=function(t,i,o){const l=Oe(t);return l.M_(),new BP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JP.bind(null,r),Lo:tC.bind(null,r),D_:ZP.bind(null,r),v_:eC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await nd(r)):(await r.Y_.stop(),r.U_.length>0&&(de(Ys,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,h=new _p(e,t,c,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(r,e){if(vi("AsyncQueue",`${e}: ${r}`),da(r))return new ce(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=sl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Z_=new Et(ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ia{constructor(e,t,i,o,l,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ia(e,t,Wo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iC{constructor(){this.queries=I_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Oe(t),l=o.queries;o.queries=I_(),l.forEach((c,h)=>{for(const p of h.ta)p.onError(i)})})(this,new ce(K.ABORTED,"Firestore shutting down"))}}function I_(){return new Js(r=>pE(r),Qc)}async function QE(r,e){const t=Oe(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new rC,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=vp(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Ep(t)}async function YE(r,e){const t=Oe(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function sC(r,e){const t=Oe(r);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(o)&&(i=!0);c.ea=o}}i&&Ep(t)}function oC(r,e,t){const i=Oe(r),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function Ep(r){r.ia.forEach(e=>{e.next()})}var Of,S_;(S_=Of||(Of={}))._a="default",S_.Cache="cache";class XE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.key=e}}class ZE{constructor(e){this.key=e}}class aC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=mE(e),this.wa=new Wo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new T_,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const T=o.get(v),k=Yc(this.query,S)?S:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let j=!1;T&&k?T.data.isEqual(k.data)?O!==M&&(i.track({type:3,doc:k}),j=!0):this.va(T,k)||(i.track({type:2,doc:k}),j=!0,(p&&this.ya(k,p)>0||y&&this.ya(k,y)<0)&&(h=!0)):!T&&k?(i.track({type:0,doc:k}),j=!0):T&&!k&&(i.track({type:1,doc:T}),j=!0,(p||y)&&(h=!0)),j&&(k?(c=c.add(k),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,S)=>function(k,O){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return M(k)-M(O)}(v.type,S.type)||this.ya(v.doc,S.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new ia(this.query,e.wa,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new ZE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new JE(i))}),t}Oa(e){this.fa=e.gs,this.pa=He();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ia.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wp="SyncEngine";class lC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class uC{constructor(e){this.key=e,this.Ba=!1}}class cC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Js(h=>pE(h),Qc),this.qa=new Map,this.Qa=new Set,this.$a=new Et(ve.comparator),this.Ua=new Map,this.Ka=new cp,this.Wa={},this.Ga=new Map,this.za=ra.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function dC(r,e,t=!0){const i=sw(r);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await ew(i,e,t,!0),o}async function hC(r,e){const t=sw(r);await ew(t,e,!0,!1)}async function ew(r,e,t,i){const o=await DP(r.localStore,Br(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await fC(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&$E(r.remoteStore,o),h}async function fC(r,e,t,i,o){r.Ha=(S,T,k)=>async function(M,j,G,te){let re=j.view.ba(G);re.ls&&(re=await g_(M.localStore,j.query,!1).then(({documents:b})=>j.view.ba(b,re)));const ie=te&&te.targetChanges.get(j.targetId),Ne=te&&te.targetMismatches.get(j.targetId)!=null,Ce=j.view.applyChanges(re,M.isPrimaryClient,ie,Ne);return R_(M,j.targetId,Ce.Ma),Ce.snapshot}(r,S,T,k);const l=await g_(r.localStore,e,!0),c=new aC(e,l.gs),h=c.ba(l.documents),p=bl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=c.applyChanges(h,r.isPrimaryClient,p);R_(r,t,y.Ma);const v=new lC(e,t,c);return r.ka.set(e,v),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function pC(r,e,t){const i=Oe(r),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(c=>!Qc(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Df(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&pp(i.remoteStore,o.targetId),Lf(i,o.targetId)}).catch(ca)):(Lf(i,o.targetId),await Df(i.localStore,o.targetId,!0))}async function mC(r,e){const t=Oe(r),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),pp(t.remoteStore,i.targetId))}async function gC(r,e,t){const i=IC(r);try{const o=await function(c,h){const p=Oe(c),y=Vt.now(),v=h.reduce((k,O)=>k.add(O.key),He());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=Ei(),M=He();return p.ds.getEntries(k,v).next(j=>{O=j,O.forEach((G,te)=>{te.isValidDocument()||(M=M.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(j=>{S=j;const G=[];for(const te of h){const re=DR(te,S.get(te.key).overlayedDocument);re!=null&&G.push(new ms(te.key,re,oE(re.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,G,h)}).next(j=>{T=j;const G=j.applyToLocalDocumentSet(S,M);return p.documentOverlayCache.saveOverlays(k,j.batchId,G)})}).then(()=>({batchId:T.batchId,changes:yE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let y=c.Wa[c.currentUser.toKey()];y||(y=new Et($e)),y=y.insert(h,p),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Ll(i,o.changes),await nd(i.remoteStore)}catch(o){const l=vp(o,"Failed to persist write");t.reject(l)}}async function tw(r,e){const t=Oe(r);try{const i=await kP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ua.get(l);c&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?et(c.Ba):o.removedDocuments.size>0&&(et(c.Ba),c.Ba=!1))}),await Ll(t,i,e)}catch(i){await ca(i)}}function A_(r,e,t){const i=Oe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=Oe(c);p.onlineState=h;let y=!1;p.queries.forEach((v,S)=>{for(const T of S.ta)T.sa(h)&&(y=!0)}),y&&Ep(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yC(r,e,t){const i=Oe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),l=o&&o.key;if(l){let c=new Et(ve.comparator);c=c.insert(l,dn.newNoDocument(l,be.min()));const h=He().add(l),p=new Zc(be.min(),new Map,new Et($e),c,h);await tw(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),Tp(i)}else await Df(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(ca)}async function _C(r,e){const t=Oe(r),i=e.batch.batchId;try{const o=await CP(t.localStore,e);rw(t,i,null),nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await ca(o)}}async function vC(r,e,t){const i=Oe(r);try{const o=await function(c,h){const p=Oe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,h).next(S=>(et(S!==null),v=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);rw(i,e,t),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await ca(o)}}function nw(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function rw(r,e,t){const i=Oe(r);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Lf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.qa.get(e))r.ka.delete(i),t&&r.La.Ja(i,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(i=>{r.Ka.containsKey(i)||iw(r,i)})}function iw(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(pp(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Tp(r))}function R_(r,e,t){for(const i of t)i instanceof JE?(r.Ka.addReference(i.key,e),EC(r,i)):i instanceof ZE?(de(wp,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,e),r.Ka.containsKey(i.key)||iw(r,i.key)):Pe()}function EC(r,e){const t=e.key,i=t.path.canonicalString();r.$a.get(t)||r.Qa.has(i)||(de(wp,"New document in limbo: "+t),r.Qa.add(i),Tp(r))}function Tp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ve(dt.fromString(e)),i=r.za.next();r.Ua.set(i,new uC(t)),r.$a=r.$a.insert(t,i),$E(r.remoteStore,new ts(Br(sp(t.path)),i,"TargetPurposeLimboResolution",Wc.ae))}}async function Ll(r,e,t){const i=Oe(r),o=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{c.push(i.Ha(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=hp.Yi(p.targetId,y);l.push(S)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,y){const v=Oe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,T=>X.forEach(T.Hi,k=>v.persistence.referenceDelegate.addReference(S,T.targetId,k)).next(()=>X.forEach(T.Ji,k=>v.persistence.referenceDelegate.removeReference(S,T.targetId,k)))))}catch(S){if(!da(S))throw S;de(fp,"Failed to update sequence numbers: "+S)}for(const S of y){const T=S.targetId;if(!S.fromCache){const k=v.Ts.get(T),O=k.snapshotVersion,M=k.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(T,M)}}}(i.localStore,l))}async function wC(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){de(wp,"User change. New user:",e.toKey());const i=await FE(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(p=>{p.reject(new ce(K.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.Rs)}}function TC(r,e){const t=Oe(r),i=t.Ua.get(e);if(i&&i.Ba)return He().add(i.key);{let o=He();const l=t.qa.get(e);if(!l)return o;for(const c of l){const h=t.ka.get(c);o=o.unionWith(h.view.Sa)}return o}}function sw(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yC.bind(null,e),e.La.p_=sC.bind(null,e.eventManager),e.La.Ja=oC.bind(null,e.eventManager),e}function IC(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return PP(this.persistence,new SP,e.initialUser,this.serializer)}Xa(e){return new jE(dp.ri,this.serializer)}Za(e){return new OP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class SC extends Nc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof kc);const i=this.persistence.referenceDelegate.garbageCollector;return new uP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new jE(i=>kc.ri(i,t),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>A_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iC}()}createDatastore(e){const t=ed(e.databaseInfo.databaseId),i=function(l){return new FP(l)}(e.databaseInfo);return function(l,c,h,p){return new $P(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,h){return new qP(i,o,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>A_(this.syncEngine,t,0),function(){return v_.D()?new v_:new LP}())}createSyncEngine(e,t){return function(o,l,c,h,p,y,v){const S=new cC(o,l,c,h,p,y);return v&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Oe(o);de(Ys,"RemoteStore shutting down."),l.W_.add(5),await Ol(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class AC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nf(r,e){r.asyncQueue.verifyOperationInProgress(),de(hs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await FE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function P_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await RC(r);de(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>w_(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>w_(e.remoteStore,o)),r._onlineComponents=e}async function RC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(hs,"Using user provided OfflineComponentProvider");try{await nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await nf(r,new Nc)}}else de(hs,"Using default OfflineComponentProvider"),await nf(r,new SC(void 0));return r._offlineComponents}async function aw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(hs,"Using user provided OnlineComponentProvider"),await P_(r,r._uninitializedComponentsProvider._online)):(de(hs,"Using default OnlineComponentProvider"),await P_(r,new Vf))),r._onlineComponents}function PC(r){return aw(r).then(e=>e.syncEngine)}async function lw(r){const e=await aw(r),t=e.eventManager;return t.onListen=dC.bind(null,e.syncEngine),t.onUnlisten=pC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mC.bind(null,e.syncEngine),t}function CC(r,e,t={}){const i=new mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,y){const v=new ow({next:T=>{v.su(),c.enqueueAndForget(()=>YE(l,S));const k=T.docs.has(h);!k&&T.fromCache?y.reject(new ce(K.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&p&&p.source==="server"?y.reject(new ce(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new XE(sp(h.path),v,{includeMetadataChanges:!0,Ta:!0});return QE(l,S)}(await lw(r),r.asyncQueue,e,t,i)),i.promise}function kC(r,e,t={}){const i=new mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,y){const v=new ow({next:T=>{v.su(),c.enqueueAndForget(()=>YE(l,S)),T.fromCache&&p.source==="server"?y.reject(new ce(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new XE(h,v,{includeMetadataChanges:!0,Ta:!0});return QE(l,S)}(await lw(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e,t){if(!t)throw new ce(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function xC(r,e,t,i){if(e===!0&&i===!0)throw new ce(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function k_(r){if(!ve.isDocumentKey(r))throw new ce(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x_(r){if(ve.isDocumentKey(r))throw new ce(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe()}function qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rd(r);throw new ce(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function NC(r,e){if(e<=0)throw new ce(K.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firestore.googleapis.com",N_=!0;class D_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dw,this.ssl=N_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:N_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aP)throw new ce(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new j0;switch(i.type){case"firstParty":return new z0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=C_.get(t);i&&(de("ComponentProvider","Removing Datastore"),C_.delete(t),i.terminate())}(this),Promise.resolve()}}function DC(r,e,t,i={}){var o;const l=(r=qr(r,id))._getSettings(),c=`${e}:${t}`;if(l.host!==dw&&l.host!==c&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=cn.MOCK_USER;else{h=fA(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ce(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new cn(y)}r._authCredentials=new F0(new Qv(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class wn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class os extends gs{constructor(e,t,i){super(e,t,sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ve(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function gi(r,e,...t){if(r=tn(r),cw("collection","path",e),r instanceof id){const i=dt.fromString(e,...t);return x_(i),new os(r,null,i)}{if(!(r instanceof wn||r instanceof os))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(dt.fromString(e,...t));return x_(i),new os(r.firestore,null,i)}}function hw(r,e,...t){if(r=tn(r),arguments.length===1&&(e=Yv.newId()),cw("doc","path",e),r instanceof id){const i=dt.fromString(e,...t);return k_(i),new wn(r,null,new ve(i))}{if(!(r instanceof wn||r instanceof os))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(dt.fromString(e,...t));return k_(i),new wn(r.firestore,r instanceof os?r.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BE(this,"async_queue_retry"),this.Su=()=>{const i=tf();i&&de(b_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new mi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!da(e))throw e;de(b_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw vi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=_p.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class pa extends id{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new O_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function bC(r,e){const t=typeof r=="object"?r:Uv(),i=typeof r=="string"?r:Ic,o=Jf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=dA("firestore");l&&DC(o,...l)}return o}function Ip(r){if(r._terminated)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OC(r),r._firestoreClient}function OC(r){var e,t,i;const o=r._freezeSettings(),l=function(h,p,y,v){return new nR(h,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,uw(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new AC(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(nn.fromBase64String(e))}catch(t){throw new ce(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^__.*__$/;class VC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)}}class fw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Rp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(pw(this.Lu)&&LC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class MC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ed(e)}ju(e,t,i,o=!1){return new Rp({Lu:e,methodName:t,zu:i,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ad(r){const e=r._freezeSettings(),t=ed(r._databaseId);return new MC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mw(r,e,t,i,o,l={}){const c=r.ju(l.merge||l.mergeFields?2:0,e,t,o);Cp("Data must be an object, but it was:",c,i);const h=gw(i,c);let p,y;if(l.merge)p=new Hn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const T=Mf(e,S,t);if(!c.contains(T))throw new ce(K.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);_w(v,T)||v.push(T)}p=new Hn(v),y=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=c.fieldTransforms;return new VC(new Dn(h),p,y)}class ld extends od{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}class Pp extends od{_toFieldTransform(e){return new CR(e.path,new Tl)}isEqual(e){return e instanceof Pp}}function jC(r,e,t,i){const o=r.ju(1,e,t);Cp("Data must be an object, but it was:",o,i);const l=[],c=Dn.empty();ps(i,(p,y)=>{const v=kp(e,p,t);y=tn(y);const S=o.Uu(v);if(y instanceof ld)l.push(v);else{const T=Vl(y,S);T!=null&&(l.push(v),c.set(v,T))}});const h=new Hn(l);return new fw(c,h,o.fieldTransforms)}function FC(r,e,t,i,o,l){const c=r.ju(1,e,t),h=[Mf(e,i,t)],p=[o];if(l.length%2!=0)throw new ce(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Mf(e,l[T])),p.push(l[T+1]);const y=[],v=Dn.empty();for(let T=h.length-1;T>=0;--T)if(!_w(y,h[T])){const k=h[T];let O=p[T];O=tn(O);const M=c.Uu(k);if(O instanceof ld)y.push(k);else{const j=Vl(O,M);j!=null&&(y.push(k),v.set(k,j))}}const S=new Hn(y);return new fw(v,S,c.fieldTransforms)}function UC(r,e,t,i=!1){return Vl(t,r.ju(i?4:3,e))}function Vl(r,e){if(yw(r=tn(r)))return Cp("Unsupported field value:",e,r),gw(r,e);if(r instanceof od)return function(i,o){if(!pw(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const h of i){let p=Vl(h,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return AR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Vt.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Vt){const l=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Sp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:xE(o.serializer,i._byteString)};if(i instanceof wn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:up(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ap)return function(c,h){return{mapValue:{fields:{[iE]:{stringValue:sE},[Sc]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw h.Wu("VectorValues must only contain numeric values.");return op(h.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${rd(i)}`)}(r,e)}function gw(r,e){const t={};return Jv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,(i,o)=>{const l=Vl(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function yw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof Sp||r instanceof sa||r instanceof wn||r instanceof od||r instanceof Ap)}function Cp(r,e,t){if(!yw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=rd(t);throw i==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+i)}}function Mf(r,e,t){if((e=tn(e))instanceof sd)return e._internalPath;if(typeof e=="string")return kp(r,e);throw Dc("Field path arguments must be of type string or ",r,!1,void 0,t)}const BC=new RegExp("[~\\*/\\[\\]]");function kp(r,e,t){if(e.search(BC)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Dc(r,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ce(K.INVALID_ARGUMENT,h+r+p)}function _w(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ud("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zC extends vw{data(){return super.data()}}function ud(r,e){return typeof e=="string"?kp(r,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Np extends xp{}function HC(r,e,...t){let i=[];e instanceof xp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Dp).length,h=l.filter(p=>p instanceof cd).length;if(c>1||c>0&&h>0)throw new ce(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class cd extends Np{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cd(e,t,i)}_apply(e){const t=this._parse(e);return Ew(e._query,t),new gs(e.firestore,e.converter,Pf(e._query,t))}_parse(e){const t=ad(e.firestore);return function(l,c,h,p,y,v,S){let T;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){M_(S,v);const O=[];for(const M of S)O.push(V_(p,l,M));T={arrayValue:{values:O}}}else T=V_(p,l,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||M_(S,v),T=UC(h,c,S,v==="in"||v==="not-in");return Ct.create(y,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function L_(r,e,t){const i=e,o=ud("where",r);return cd._create(o,i,t)}class Dp extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)Ew(c,p),c=Pf(c,p)}(e._query,t),new gs(e.firestore,e.converter,Pf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends Np{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new ce(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(l,c)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new ha(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function NN(r,e="asc"){const t=e,i=ud("orderBy",r);return bp._create(i,t)}class Op extends Np{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Op(e,t,i)}_apply(e){return new gs(e.firestore,e.converter,Rc(e._query,this._limit,this._limitType))}}function qC(r){return NC("limit",r),Op._create("limit",r,"F")}function V_(r,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ce(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fE(e)&&t.indexOf("/")!==-1)throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dt.fromString(t));if(!ve.isDocumentKey(i))throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xy(r,new ve(i))}if(t instanceof wn)return Xy(r,t._key);throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(t)}.`)}function M_(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(r,e){const t=function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WC{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ps(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>It(c.doubleValue));return new Ap(l)}convertGeoPoint(e){return new Sp(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=ls(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);et(VE(i));const o=new vl(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return o.isEqual(t)||vi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tw extends vw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ud("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class hc extends Tw{data(e={}){return super.data(e)}}class GC{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new hc(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new hc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new hc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:KC(h.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){r=qr(r,wn);const e=qr(r.firestore,pa);return CC(Ip(e),r._key).then(t=>YC(e,r,t))}class Iw extends WC{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function ma(r){r=qr(r,gs);const e=qr(r.firestore,pa),t=Ip(e),i=new Iw(e);return $C(r._query),kC(t,r._query).then(o=>new GC(e,i,r,o))}function bN(r,e,t){r=qr(r,wn);const i=qr(r.firestore,pa),o=ww(r.converter,e);return Lp(i,[mw(ad(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,wr.none())])}function QC(r,e,t,...i){r=qr(r,wn);const o=qr(r.firestore,pa),l=ad(o);let c;return c=typeof(e=tn(e))=="string"||e instanceof sd?FC(l,"updateDoc",r._key,e,t,i):jC(l,"updateDoc",r._key,e),Lp(o,[c.toMutation(r._key,wr.exists(!0))])}function jf(r,e){const t=qr(r.firestore,pa),i=hw(r),o=ww(r.converter,e);return Lp(t,[mw(ad(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function Lp(r,e){return function(i,o){const l=new mi;return i.asyncQueue.enqueueAndForget(async()=>gC(await PC(i),o,l)),l.promise}(Ip(r),e)}function YC(r,e,t){const i=t.docs.get(e._key),o=new Iw(r);return new Tw(r,o,e._key,i,new al(t.hasPendingWrites,t.fromCache),e.converter)}function rf(){return new Pp("serverTimestamp")}(function(e,t=!0){(function(o){ua=o})(la),Jo(new Ks("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new pa(new U0(i.getProvider("auth-internal")),new $0(c,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),is(Uy,By,e),is(Uy,By,"esm2017")})();var XC="firebase",JC="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(XC,JC,"app");function Vp(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZC=Sw,Aw=new xl("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Yf("@firebase/auth");function ek(r,...e){bc.logLevel<=ze.WARN&&bc.warn(`Auth (${la}): ${r}`,...e)}function fc(r,...e){bc.logLevel<=ze.ERROR&&bc.error(`Auth (${la}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(r,...e){throw jp(r,...e)}function Tr(r,...e){return jp(r,...e)}function Mp(r,e,t){const i=Object.assign(Object.assign({},ZC()),{[e]:t});return new xl("auth","Firebase",i).create(e,{appName:r.name})}function Ws(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tk(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Wr(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jp(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return Aw.create(r,...e)}function xe(r,e,...t){if(!r)throw jp(e,...t)}function di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fc(e),new Error(e)}function wi(r,e){r||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nk(){return j_()==="http:"||j_()==="https:"}function j_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nk()||yA()||"connection"in navigator)?navigator.onLine:!0}function ik(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=pA()||_A()}get(){return rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){wi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Ml(3e4,6e4);function Up(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ga(r,e,t,i,o={}){return Pw(r,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Nl(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return gA()||(y.referrerPolicy="no-referrer"),Rw.fetch()(Cw(r,r.config.apiHost,t,h),y)})}async function Pw(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},sk),e);try{const o=new lk(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw oc(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw oc(r,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mp(r,v,y);Wr(r,v)}}catch(o){if(o instanceof Ti)throw o;Wr(r,"network-request-failed",{message:String(o)})}}async function ak(r,e,t,i,o={}){const l=await ga(r,e,t,i,o);return"mfaPendingCredential"in l&&Wr(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Cw(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?Fp(r.config,o):`${r.config.apiScheme}://${o}`}class lk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),ok.get())})}}function oc(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Tr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(r,e){return ga(r,"POST","/v1/accounts:delete",e)}async function kw(r,e){return ga(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ck(r,e=!1){const t=tn(r),i=await t.getIdToken(e),o=Bp(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fl(sf(o.auth_time)),issuedAtTime:fl(sf(o.iat)),expirationTime:fl(sf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function sf(r){return Number(r)*1e3}function Bp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=bv(t);return o?JSON.parse(o):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function F_(r){const e=Bp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ti&&dk(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function dk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Al(r,kw(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?xw(l.providerUserInfo):[],h=pk(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(h!=null&&h.length),v=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Uf(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function fk(r){const e=tn(r);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pk(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xw(r){return r.map(e=>{var{providerId:t}=e,i=Vp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(r,e){const t=await Pw(r,{},async()=>{const i=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=Cw(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Rw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gk(r,e){return ga(r,"POST","/v2/accounts:revokeToken",Up(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=F_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await mk(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Go;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Uf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ck(this,e)}reload(){return fk(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Al(this,uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,h,p,y,v;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(h=t.tenantId)!==null&&h!==void 0?h:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:re,emailVerified:ie,isAnonymous:Ne,providerData:Ce,stsTokenManager:b}=t;xe(re&&b,e,"internal-error");const A=Go.fromJSON(this.name,b);xe(typeof re=="string",e,"internal-error"),Qi(S,e.name),Qi(T,e.name),xe(typeof ie=="boolean",e,"internal-error"),xe(typeof Ne=="boolean",e,"internal-error"),Qi(k,e.name),Qi(O,e.name),Qi(M,e.name),Qi(j,e.name),Qi(G,e.name),Qi(te,e.name);const C=new hi({uid:re,auth:e,email:T,emailVerified:ie,displayName:S,isAnonymous:Ne,photoURL:O,phoneNumber:k,tenantId:M,stsTokenManager:A,createdAt:G,lastLoginAt:te});return Ce&&Array.isArray(Ce)&&(C.providerData=Ce.map(D=>Object.assign({},D))),j&&(C._redirectEventId=j),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Go;o.updateFromServerResponse(t);const l=new hi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Oc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?xw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new Go;h.updateFromIdToken(i);const p=new hi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Uf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function fi(r){wi(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nw.type="NONE";const B_=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,e,t){return`firebase:${r}:${e}:${t}`}class Ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,l),this.fullPersistenceKey=pc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ko(fi(B_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||fi(B_);const c=pc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const v=await y._get(c);if(v){const S=hi._fromJSON(e,v);y!==l&&(h=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ko(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Ko(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mw(e))return"Blackberry";if(jw(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||Ow(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Dw(r=hn()){return/firefox\//i.test(r)}function bw(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ow(r=hn()){return/crios\//i.test(r)}function Lw(r=hn()){return/iemobile/i.test(r)}function Vw(r=hn()){return/android/i.test(r)}function Mw(r=hn()){return/blackberry/i.test(r)}function jw(r=hn()){return/webos/i.test(r)}function zp(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yk(r=hn()){var e;return zp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _k(){return vA()&&document.documentMode===10}function Fw(r=hn()){return zp(r)||Vw(r)||jw(r)||Mw(r)||/windows phone/i.test(r)||Lw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r,e=[]){let t;switch(r){case"Browser":t=z_(hn());break;case"Worker":t=`${z_(hn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(r,e={}){return ga(r,"GET","/v2/passwordPolicy",Up(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=6;class Tk{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:wk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kw(this,{idToken:e}),i=await hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(Ws(this));const t=e?tn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ek(this),t=new Tk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await gk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ek(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dd(r){return tn(r)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PA(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sk(r){$p=r}function Ak(r){return $p.loadJS(r)}function Rk(){return $p.gapiScript}function Pk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(r,e){const t=Jf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ec(l,e??{}))return o;Wr(o,"already-initialized")}return t.initialize({options:e})}function kk(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function xk(r,e,t){const i=dd(r);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Bw(e),{host:c,port:h}=Nk(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),Dk()}function Bw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nk(r){const e=Bw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:H_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:H_(c)}}}function H_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Dk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e){return ak(r,"POST","/v1/accounts:signInWithIdp",Up(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="http://localhost";class Xs extends zw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Vp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Xs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends jl{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ji.credential(t,i)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends jl{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends jl{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return es.credential(t,i)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await hi._fromIdTokenResponse(e,i,o),c=q_(i);return new oa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=q_(i);return new oa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Ti{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Lc(e,t,i,o)}}function $w(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(r,l,e,i):l})}async function Ok(r,e,t=!1){const i=await Al(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return oa._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(r,e,t=!1){const{auth:i}=r;if(vr(i.app))return Promise.reject(Ws(i));const o="reauthenticate";try{const l=await Al(r,$w(i,o,e,r),t);xe(l.idToken,i,"internal-error");const c=Bp(l.idToken);xe(c,i,"internal-error");const{sub:h}=c;return xe(r.uid===h,i,"user-mismatch"),oa._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(r,e,t=!1){if(vr(r.app))return Promise.reject(Ws(r));const i="signIn",o=await $w(r,i,e),l=await oa._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function Mk(r,e,t,i){return tn(r).onIdTokenChanged(e,t,i)}function jk(r,e,t){return tn(r).beforeAuthStateChanged(e,t)}function ON(r,e,t,i){return tn(r).onAuthStateChanged(e,t,i)}function LN(r){return tn(r).signOut()}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=1e3,Uk=10;class qw extends Hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_k()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Uk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qw.type="LOCAL";const Bk=qw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ww.type="SESSION";const Gw=Ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new hd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,l)),p=await zk(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const y=qp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function Hk(r){$r().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function qk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wk(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Gk(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebaseLocalStorageDb",Kk=1,Mc="firebaseLocalStorage",Yw="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fd(r,e){return r.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function Qk(){const r=indexedDB.deleteDatabase(Qw);return new Fl(r).toPromise()}function Bf(){const r=indexedDB.open(Qw,Kk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Mc,{keyPath:Yw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Mc)?e(i):(i.close(),await Qk(),e(await Bf()))})})}async function W_(r,e,t){const i=fd(r,!0).put({[Yw]:e,value:t});return new Fl(i).toPromise()}async function Yk(r,e){const t=fd(r,!1).get(e),i=await new Fl(t).toPromise();return i===void 0?null:i.value}function G_(r,e){const t=fd(r,!0).delete(e);return new Fl(t).toPromise()}const Xk=800,Jk=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Jk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(Gk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qk(),!this.activeServiceWorker)return;this.sender=new $k(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await W_(e,Vc,"1"),await G_(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Yk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>G_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=fd(o,!1).getAll();return new Fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const Zk=Xw;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,e){return e?fi(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends zw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ex(r){return Vk(r.auth,new Wp(r),r.bypassAuthState)}function tx(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),Lk(t,new Wp(r),r.bypassAuthState)}async function nx(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),Ok(t,new Wp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:Wr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new Ml(2e3,1e4);async function VN(r,e,t){if(vr(r.app))return Promise.reject(Tr(r,"operation-not-supported-in-this-environment"));const i=dd(r);tk(r,e,Hp);const o=Jw(i,t);return new qs(i,"signInViaPopup",e,o).executeNotNull()}class qs extends Zw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rx.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="pendingRedirect",mc=new Map;class sx extends Zw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const i=await ox(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ox(r,e){const t=ux(e),i=lx(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ax(r,e){mc.set(r._key(),e)}function lx(r){return fi(r._redirectPersistence)}function ux(r){return pc(ix,r.config.apiKey,r.name)}async function cx(r,e,t=!1){if(vr(r.app))return Promise.reject(Ws(r));const i=dd(r),o=Jw(i,e),c=await new sx(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=10*60*1e3;class hx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!eT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dx&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,e={}){return ga(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function yx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await px(r);for(const t of e)try{if(_x(t))return}catch{}Wr(r,"unauthorized-domain")}function _x(r){const e=Ff(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gx.test(t))return!1;if(mx.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Ml(3e4,6e4);function Q_(){const r=$r().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Ex(r){return new Promise((e,t)=>{var i,o,l;function c(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),t(Tr(r,"network-request-failed"))},timeout:vx.get()})}if(!((o=(i=$r().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=$r().gapi)===null||l===void 0)&&l.load)c();else{const h=Pk("iframefcb");return $r()[h]=()=>{gapi.load?c():t(Tr(r,"network-request-failed"))},Ak(`${Rk()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw gc=null,e})}let gc=null;function wx(r){return gc=gc||Ex(r),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Ml(5e3,15e3),Ix="__/auth/iframe",Sx="emulator/auth/iframe",Ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Px(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Fp(e,Sx):`https://${r.config.authDomain}/${Ix}`,i={apiKey:e.apiKey,appName:r.name,v:la},o=Rx.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Nl(i).slice(1)}`}async function Cx(r){const e=await wx(r),t=$r().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:Px(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ax,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Tr(r,"network-request-failed"),h=$r().setTimeout(()=>{l(c)},Tx.get());function p(){$r().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xx=500,Nx=600,Dx="_blank",bx="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ox(r,e,t,i=xx,o=Nx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},kx),{width:i.toString(),height:o.toString(),top:l,left:c}),y=hn().toLowerCase();t&&(h=Ow(y)?Dx:t),Dw(y)&&(e=e||bx,p.scrollbars="yes");const v=Object.entries(p).reduce((T,[k,O])=>`${T}${k}=${O},`,"");if(yk(y)&&h!=="_self")return Lx(e||"",h),new Y_(null);const S=window.open(e||"",h,v);xe(S,r,"popup-blocked");try{S.focus()}catch{}return new Y_(S)}function Lx(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__/auth/handler",Mx="emulator/auth/handler",jx=encodeURIComponent("fac");async function X_(r,e,t,i,o,l){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof Hp){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",RA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof jl){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await r._getAppCheckToken(),y=p?`#${jx}=${encodeURIComponent(p)}`:"";return`${Fx(r)}?${Nl(h).slice(1)}${y}`}function Fx({config:r}){return r.emulator?Fp(r,Mx):`https://${r.authDomain}/${Vx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class Ux{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=cx,this._overrideRedirectResult=ax}async _openPopup(e,t,i,o){var l;wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await X_(e,t,i,Ff(),o);return Ox(e,c,qp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await X_(e,t,i,Ff(),o);return Hk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Cx(e),i=new hx(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(of,{type:of},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[of];c!==void 0&&t(!!c),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fw()||bw()||zp()}}const Bx=Ux;var J_="@firebase/auth",Z_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hx(r){Jo(new Ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(r)},y=new Ik(i,o,l,p);return kk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ks("auth-internal",e=>{const t=dd(e.getProvider("auth").getImmediate());return(i=>new zx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(J_,Z_,$x(r)),is(J_,Z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=5*60,Wx=Vv("authIdTokenMaxAge")||qx;let ev=null;const Gx=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Wx)return;const o=t==null?void 0:t.token;ev!==o&&(ev=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kx(r=Uv()){const e=Jf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Ck(r,{popupRedirectResolver:Bx,persistence:[Zk,Bk,Gw]}),i=Vv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Gx(l.toString());jk(t,c,()=>c(t.currentUser)),Mk(t,h=>c(h))}}const o=Ov("auth");return o&&xk(t,`http://${o}`),t}function Qx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Sk({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Tr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Qx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hx("Browser");var Bs={VITE_FIREBASE_API_KEY:"AIzaSyC_S3ogmaZ9laLIetOD6eWO8HESZ7OFXEU",VITE_FIREBASE_AUTH_DOMAIN:"portfolio-d0eff.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"portfolio-d0eff",VITE_FIREBASE_STORAGE_BUCKET:"portfolio-d0eff.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"68887099400",VITE_FIREBASE_APP_ID:"1:68887099400:web:a697b208557cd1eed2f9bd",VITE_FIREBASE_MEASUREMENT_ID:"G-D8JLXQDMXF"};const Yx={apiKey:Bs.VITE_FIREBASE_API_KEY,authDomain:Bs.VITE_FIREBASE_AUTH_DOMAIN,projectId:Bs.VITE_FIREBASE_PROJECT_ID,storageBucket:Bs.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Bs.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Bs.VITE_FIREBASE_APP_ID,measurementId:Bs.VITE_FIREBASE_MEASUREMENT_ID},tT=Fv(Yx),Ur=bC(tT);Kx(tT);function Xx(){const[r,e]=Z.useState([]),[t,i]=Z.useState(!1);Z.useEffect(()=>{(async()=>{try{const h=(await ma(gi(Ur,"clients"))).docs.map(p=>p.data());e(h)}catch(c){console.error(c)}})()},[]);const o=()=>{i(!t)};return w.jsxs("div",{className:"happy-clients-section hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"06. "}),"What My Clients Say"]}),w.jsxs("div",{className:"happy-clients-content",children:[r==null?void 0:r.map((l,c)=>w.jsxs("div",{className:"happy-clients-card",children:[w.jsx("img",{className:"client-pic",src:`${l.image}`,alt:"client"}),w.jsx("img",{className:"quotes-pic",src:"./icons/quotes.png",alt:"quotes"}),w.jsx("h3",{children:l.name}),w.jsx("p",{children:l.description}),w.jsxs("div",{className:"client-profession",children:[w.jsx("p",{children:l.profession}),w.jsx("p",{children:l.company})]})]},c)),w.jsx("div",{className:"add-testimonial-container",children:w.jsx("button",{className:"add-testimonial-btn",onClick:o,children:"Share Your Experience"})})]}),w.jsx(rA,{isOpen:t,onClose:o,title:"Share Your Experience",children:w.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSff6tzcnt1lN26FklbTZtNm2DvUFy5iAS9Pggxz0U8dN83VsA/viewform?embedded=true",title:"Client Testimonial Form",frameBorder:"0",marginHeight:"0",marginWidth:"0",children:"Loading form..."})})]})}const Jx="_servicesSection_18is4_1",Zx="_servicesContainer_18is4_7",e1="_cardsWrapper_18is4_14",t1="_slideOut_18is4_18",n1="_cards_18is4_14",r1="_card_18is4_14",i1="_cardTitle_18is4_48",s1="_cardText_18is4_54",o1="_cardButton_18is4_61",a1="_formWrapper_18is4_79",l1="_slideIn_18is4_88",u1="_formContent_18is4_93",c1="_formHeader_18is4_118",d1="_backButton_18is4_126",h1="_formGroup_18is4_145",f1="_submitButton_18is4_176",Te={servicesSection:Jx,servicesContainer:Zx,cardsWrapper:e1,slideOut:t1,cards:n1,card:r1,cardTitle:i1,cardText:s1,cardButton:o1,formWrapper:a1,slideIn:l1,formContent:u1,formHeader:c1,backButton:d1,formGroup:h1,submitButton:f1};function p1(){const[r,e]=Z.useState(null),[t,i]=Z.useState({name:"",email:""}),[o,l]=Z.useState(!1),c=p=>{i({...t,[p.target.name]:p.target.value})},h=async(p,y={})=>{try{l(!0);const v={...t,...y,service:p,timestamp:new Date};await jf(gi(Ur,"offers"),v),alert("Thank you! Your request has been submitted. I will be in touch shortly."),e(null),i({name:"",email:""})}catch(v){console.error("Error submitting request:",v),alert("Error submitting your request. Please try again.")}finally{l(!1)}};return w.jsxs("div",{className:Te.servicesSection,children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"07. "}),"Services"]}),w.jsxs("div",{className:Te.servicesContainer,children:[w.jsx("div",{className:`${Te.cardsWrapper} ${r?Te.slideOut:""}`,children:w.jsxs("div",{className:Te.cards,children:[w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/AI.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"AI solutions"}),w.jsx("p",{className:Te.cardText,children:"Leverage our cutting-edge AI solutions to transform your business operations and gain valuable insights. With our expertise spanning chatbots, predictive analytics, and automation, we empower you to stay ahead in today's data-centric environment. Harness the power of AI with us to unlock new opportunities and drive innovation in your organization."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("ai"),children:"Learn More"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/web-dev.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"Web Development"}),w.jsx("p",{className:Te.cardText,children:"Embark on your online journey with me. My website development services blend creativity and functionality to deliver visually stunning websites. I have worked on more than 100+ websites Specializing in both front-end and back-end development,I guarantee seamless performance and an intuitive user interface. Let us lay the groundwork for your digital success."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("web"),children:"Hire Me"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/online-learning.png",alt:"",width:75}),w.jsx("h3",{className:Te.cardTitle,children:"Online Learning"}),w.jsx("p",{className:Te.cardText,children:"I offer personalized online tutoring services to help you master programming languages and frameworks. Whether you're a beginner or an experienced coder, I provide tailored lessons to suit your learning style. With my guidance, you can enhance your skills and achieve your learning goals. Let's embark on a learning journey together."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("learning"),children:"Contact Me"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="ai"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"AI Solutions"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={company:p.target.company.value,projectDescription:p.target.projectDescription.value,budget:p.target.budget.value,timeline:p.target.timeline.value};h("ai",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Company/Organization"}),w.jsx("input",{type:"text",name:"company",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Description"}),w.jsx("textarea",{name:"projectDescription",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $250",children:"Less than $250"}),w.jsx("option",{value:"$250 - $1,000",children:"$250 - $1,000"}),w.jsx("option",{value:"$1,000 - $2,500",children:"$1,000 - $2,500"}),w.jsx("option",{value:"> $2,500",children:"More than $2,500"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 1 month",children:"Less than 1 month"}),w.jsx("option",{value:"1-3 months",children:"1-3 months"}),w.jsx("option",{value:"3-6 months",children:"3-6 months"}),w.jsx("option",{value:"> 6 months",children:"More than 6 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="web"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Web Development"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={projectType:p.target.projectType.value,features:p.target.features.value,budget:p.target.budget.value,timeline:p.target.timeline.value};h("web",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Type"}),w.jsxs("select",{name:"projectType",required:!0,children:[w.jsx("option",{value:"",children:"Select Project Type"}),w.jsx("option",{value:"E-commerce",children:"E-commerce"}),w.jsx("option",{value:"Portfolio",children:"Portfolio"}),w.jsx("option",{value:"Blog",children:"Blog"}),w.jsx("option",{value:"Corporate",children:"Corporate Website"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Features Needed"}),w.jsx("textarea",{name:"features",placeholder:"Describe the features you need...",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $1,000",children:"Less than $1,000"}),w.jsx("option",{value:"$1,000 - $3,000",children:"$1,000 - $3,000"}),w.jsx("option",{value:"$3,000 - $5,000",children:"$3,000 - $5,000"}),w.jsx("option",{value:"> $5,000",children:"More than $5,000"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 2 weeks",children:"Less than 2 weeks"}),w.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),w.jsx("option",{value:"1-2 months",children:"1-2 months"}),w.jsx("option",{value:"> 2 months",children:"More than 2 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${r==="learning"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Online Learning"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={technology:p.target.technology.value,skillLevel:p.target.skillLevel.value,learningGoals:p.target.learningGoals.value,schedule:p.target.schedule.value};h("learning",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Technology Interested In"}),w.jsxs("select",{name:"technology",required:!0,children:[w.jsx("option",{value:"",children:"Select Technology"}),w.jsx("option",{value:"JavaScript",children:"JavaScript"}),w.jsx("option",{value:"Python",children:"Python"}),w.jsx("option",{value:"React",children:"React"}),w.jsx("option",{value:"Node.js",children:"Node.js"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Current Skill Level"}),w.jsxs("select",{name:"skillLevel",required:!0,children:[w.jsx("option",{value:"",children:"Select Skill Level"}),w.jsx("option",{value:"Beginner",children:"Beginner"}),w.jsx("option",{value:"Intermediate",children:"Intermediate"}),w.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Learning Goals"}),w.jsx("textarea",{name:"learningGoals",placeholder:"What do you want to achieve?",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Preferred Schedule"}),w.jsx("textarea",{name:"schedule",placeholder:"What days/times work best for you?",required:!0})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})})]})]})}function m1(){return Z.useEffect(()=>{const r=document.querySelectorAll(".scroller");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e();function e(){r.forEach(t=>{t.setAttribute("data-animated",!0);const i=t.querySelector(".scroller__inner");Array.from(i.children).forEach(l=>{const c=l.cloneNode(!0);c.setAttribute("aria-hidden",!0),i.appendChild(c)})})}},[]),w.jsxs("div",{className:"collaborations hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"05. "}),"Collaborations"]}),w.jsx("div",{className:"scroller","data-direction":"right","data-speed":"fast",children:w.jsxs("div",{className:"scroller__inner",children:[w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""}),w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""})]})})]})}var af={exports:{}},lf,tv;function g1(){if(tv)return lf;tv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lf=r,lf}var uf,nv;function y1(){if(nv)return uf;nv=1;var r=g1();function e(){}function t(){}return t.resetWarningCache=e,uf=function(){function i(c,h,p,y,v,S){if(S!==r){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},uf}var rv;function _1(){return rv||(rv=1,af.exports=y1()()),af.exports}var v1=_1();const pt=aa(v1);var cf,iv;function E1(){if(iv)return cf;iv=1;function r(h){return h&&typeof h=="object"&&"default"in h?h.default:h}var e=Fc(),t=r(e);function i(h,p,y){return p in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h}function o(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var l=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(h,p,y){if(typeof h!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof p!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof y<"u"&&typeof y!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function v(S){return S.displayName||S.name||"Component"}return function(T){if(typeof T!="function")throw new Error("Expected WrappedComponent to be a React component.");var k=[],O;function M(){O=h(k.map(function(G){return G.props})),j.canUseDOM?p(O):y&&(O=y(O))}var j=function(G){o(te,G);function te(){return G.apply(this,arguments)||this}te.peek=function(){return O},te.rewind=function(){if(te.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var Ne=O;return O=void 0,k=[],Ne};var re=te.prototype;return re.UNSAFE_componentWillMount=function(){k.push(this),M()},re.componentDidUpdate=function(){M()},re.componentWillUnmount=function(){var Ne=k.indexOf(this);k.splice(Ne,1),M()},re.render=function(){return t.createElement(T,this.props)},te}(e.PureComponent);return i(j,"displayName","SideEffect("+v(T)+")"),i(j,"canUseDOM",l),j}}return cf=c,cf}var w1=E1();const T1=aa(w1);var df,sv;function I1(){if(sv)return df;sv=1;var r=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var h,p,y;if(Array.isArray(l)){if(h=l.length,h!=c.length)return!1;for(p=h;p--!==0;)if(!o(l[p],c[p]))return!1;return!0}var v;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(v=l.entries();!(p=v.next()).done;)if(!c.has(p.value[0]))return!1;for(v=l.entries();!(p=v.next()).done;)if(!o(p.value[1],c.get(p.value[0])))return!1;return!0}if(t&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(v=l.entries();!(p=v.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(h=l.length,h!=c.length)return!1;for(p=h;p--!==0;)if(l[p]!==c[p])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(y=Object.keys(l),h=y.length,h!==Object.keys(c).length)return!1;for(p=h;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,y[p]))return!1;if(r&&l instanceof Element)return!1;for(p=h;p--!==0;)if(!((y[p]==="_owner"||y[p]==="__v"||y[p]==="__o")&&l.$$typeof)&&!o(l[y[p]],c[y[p]]))return!1;return!0}return l!==l&&c!==c}return df=function(c,h){try{return o(c,h)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},df}var S1=I1();const A1=aa(S1);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var hf,ov;function R1(){if(ov)return hf;ov=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function o(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},h=0;h<10;h++)c["_"+String.fromCharCode(h)]=h;var p=Object.getOwnPropertyNames(c).map(function(v){return c[v]});if(p.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(v){y[v]=v}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return hf=o()?Object.assign:function(l,c){for(var h,p=i(l),y,v=1;v<arguments.length;v++){h=Object(arguments[v]);for(var S in h)e.call(h,S)&&(p[S]=h[S]);if(r){y=r(h);for(var T=0;T<y.length;T++)t.call(h,y[T])&&(p[y[T]]=h[y[T]])}}return p},hf}var P1=R1();const C1=aa(P1);var Gs={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Me={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Me).map(function(r){return Me[r]});var mt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},jc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Rl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},k1=Object.keys(jc).reduce(function(r,e){return r[jc[e]]=e,r},{}),x1=[Me.NOSCRIPT,Me.SCRIPT,Me.STYLE],Er="data-react-helmet",N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},D1=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},b1=function(){function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}}(),xn=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},O1=function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},av=function(r,e){var t={};for(var i in r)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},L1=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r},zf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},V1=function(e){var t=Yo(e,Me.TITLE),i=Yo(e,Rl.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var o=Yo(e,Rl.DEFAULT_TITLE);return t||o||void 0},M1=function(e){return Yo(e,Rl.ON_CHANGE_CLIENT_STATE)||function(){}},ff=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,o){return xn({},i,o)},{})},j1=function(e,t){return t.filter(function(i){return typeof i[Me.BASE]<"u"}).map(function(i){return i[Me.BASE]}).reverse().reduce(function(i,o){if(!i.length)for(var l=Object.keys(o),c=0;c<l.length;c++){var h=l[c],p=h.toLowerCase();if(e.indexOf(p)!==-1&&o[p])return i.concat(o)}return i},[])},tl=function(e,t,i){var o={};return i.filter(function(l){return Array.isArray(l[e])?!0:(typeof l[e]<"u"&&z1("Helmet: "+e+' should be of type "Array". Instead found type "'+N1(l[e])+'"'),!1)}).map(function(l){return l[e]}).reverse().reduce(function(l,c){var h={};c.filter(function(T){for(var k=void 0,O=Object.keys(T),M=0;M<O.length;M++){var j=O[M],G=j.toLowerCase();t.indexOf(G)!==-1&&!(k===mt.REL&&T[k].toLowerCase()==="canonical")&&!(G===mt.REL&&T[G].toLowerCase()==="stylesheet")&&(k=G),t.indexOf(j)!==-1&&(j===mt.INNER_HTML||j===mt.CSS_TEXT||j===mt.ITEM_PROP)&&(k=j)}if(!k||!T[k])return!1;var te=T[k].toLowerCase();return o[k]||(o[k]={}),h[k]||(h[k]={}),o[k][te]?!1:(h[k][te]=!0,!0)}).reverse().forEach(function(T){return l.push(T)});for(var p=Object.keys(h),y=0;y<p.length;y++){var v=p[y],S=C1({},o[v],h[v]);o[v]=S}return l},[]).reverse()},Yo=function(e,t){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.hasOwnProperty(t))return o[t]}return null},F1=function(e){return{baseTag:j1([mt.HREF,mt.TARGET],e),bodyAttributes:ff(Gs.BODY,e),defer:Yo(e,Rl.DEFER),encode:Yo(e,Rl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ff(Gs.HTML,e),linkTags:tl(Me.LINK,[mt.REL,mt.HREF],e),metaTags:tl(Me.META,[mt.NAME,mt.CHARSET,mt.HTTPEQUIV,mt.PROPERTY,mt.ITEM_PROP],e),noscriptTags:tl(Me.NOSCRIPT,[mt.INNER_HTML],e),onChangeClientState:M1(e),scriptTags:tl(Me.SCRIPT,[mt.SRC,mt.INNER_HTML],e),styleTags:tl(Me.STYLE,[mt.CSS_TEXT],e),title:V1(e),titleAttributes:ff(Gs.TITLE,e)}},$f=function(){var r=Date.now();return function(e){var t=Date.now();t-r>16?(r=t,e(t)):setTimeout(function(){$f(e)},0)}}(),lv=function(e){return clearTimeout(e)},U1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$f:global.requestAnimationFrame||$f,B1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lv:global.cancelAnimationFrame||lv,z1=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},nl=null,$1=function(e){nl&&B1(nl),e.defer?nl=U1(function(){uv(e,function(){nl=null})}):(uv(e),nl=null)},uv=function(e,t){var i=e.baseTag,o=e.bodyAttributes,l=e.htmlAttributes,c=e.linkTags,h=e.metaTags,p=e.noscriptTags,y=e.onChangeClientState,v=e.scriptTags,S=e.styleTags,T=e.title,k=e.titleAttributes;Hf(Me.BODY,o),Hf(Me.HTML,l),H1(T,k);var O={baseTag:jo(Me.BASE,i),linkTags:jo(Me.LINK,c),metaTags:jo(Me.META,h),noscriptTags:jo(Me.NOSCRIPT,p),scriptTags:jo(Me.SCRIPT,v),styleTags:jo(Me.STYLE,S)},M={},j={};Object.keys(O).forEach(function(G){var te=O[G],re=te.newTags,ie=te.oldTags;re.length&&(M[G]=re),ie.length&&(j[G]=O[G].oldTags)}),t&&t(),y(e,M,j)},nT=function(e){return Array.isArray(e)?e.join(""):e},H1=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=nT(e)),Hf(Me.TITLE,t)},Hf=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var o=i.getAttribute(Er),l=o?o.split(","):[],c=[].concat(l),h=Object.keys(t),p=0;p<h.length;p++){var y=h[p],v=t[y]||"";i.getAttribute(y)!==v&&i.setAttribute(y,v),l.indexOf(y)===-1&&l.push(y);var S=c.indexOf(y);S!==-1&&c.splice(S,1)}for(var T=c.length-1;T>=0;T--)i.removeAttribute(c[T]);l.length===c.length?i.removeAttribute(Er):i.getAttribute(Er)!==h.join(",")&&i.setAttribute(Er,h.join(","))}},jo=function(e,t){var i=document.head||document.querySelector(Me.HEAD),o=i.querySelectorAll(e+"["+Er+"]"),l=Array.prototype.slice.call(o),c=[],h=void 0;return t&&t.length&&t.forEach(function(p){var y=document.createElement(e);for(var v in p)if(p.hasOwnProperty(v))if(v===mt.INNER_HTML)y.innerHTML=p.innerHTML;else if(v===mt.CSS_TEXT)y.styleSheet?y.styleSheet.cssText=p.cssText:y.appendChild(document.createTextNode(p.cssText));else{var S=typeof p[v]>"u"?"":p[v];y.setAttribute(v,S)}y.setAttribute(Er,"true"),l.some(function(T,k){return h=k,y.isEqualNode(T)})?l.splice(h,1):c.push(y)}),l.forEach(function(p){return p.parentNode.removeChild(p)}),c.forEach(function(p){return i.appendChild(p)}),{oldTags:l,newTags:c}},rT=function(e){return Object.keys(e).reduce(function(t,i){var o=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+o:o},"")},q1=function(e,t,i,o){var l=rT(i),c=nT(t);return l?"<"+e+" "+Er+'="true" '+l+">"+zf(c,o)+"</"+e+">":"<"+e+" "+Er+'="true">'+zf(c,o)+"</"+e+">"},W1=function(e,t,i){return t.reduce(function(o,l){var c=Object.keys(l).filter(function(y){return!(y===mt.INNER_HTML||y===mt.CSS_TEXT)}).reduce(function(y,v){var S=typeof l[v]>"u"?v:v+'="'+zf(l[v],i)+'"';return y?y+" "+S:S},""),h=l.innerHTML||l.cssText||"",p=x1.indexOf(e)===-1;return o+"<"+e+" "+Er+'="true" '+c+(p?"/>":">"+h+"</"+e+">")},"")},iT=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[jc[o]||o]=e[o],i},t)},G1=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[k1[o]||o]=e[o],i},t)},K1=function(e,t,i){var o,l=(o={key:t},o[Er]=!0,o),c=iT(i,l);return[nt.createElement(Me.TITLE,c,t)]},Q1=function(e,t){return t.map(function(i,o){var l,c=(l={key:o},l[Er]=!0,l);return Object.keys(i).forEach(function(h){var p=jc[h]||h;if(p===mt.INNER_HTML||p===mt.CSS_TEXT){var y=i.innerHTML||i.cssText;c.dangerouslySetInnerHTML={__html:y}}else c[p]=i[h]}),nt.createElement(e,c)})},ui=function(e,t,i){switch(e){case Me.TITLE:return{toComponent:function(){return K1(e,t.title,t.titleAttributes)},toString:function(){return q1(e,t.title,t.titleAttributes,i)}};case Gs.BODY:case Gs.HTML:return{toComponent:function(){return iT(t)},toString:function(){return rT(t)}};default:return{toComponent:function(){return Q1(e,t)},toString:function(){return W1(e,t,i)}}}},sT=function(e){var t=e.baseTag,i=e.bodyAttributes,o=e.encode,l=e.htmlAttributes,c=e.linkTags,h=e.metaTags,p=e.noscriptTags,y=e.scriptTags,v=e.styleTags,S=e.title,T=S===void 0?"":S,k=e.titleAttributes;return{base:ui(Me.BASE,t,o),bodyAttributes:ui(Gs.BODY,i,o),htmlAttributes:ui(Gs.HTML,l,o),link:ui(Me.LINK,c,o),meta:ui(Me.META,h,o),noscript:ui(Me.NOSCRIPT,p,o),script:ui(Me.SCRIPT,y,o),style:ui(Me.STYLE,v,o),title:ui(Me.TITLE,{title:T,titleAttributes:k},o)}},Y1=function(e){var t,i;return i=t=function(o){O1(l,o);function l(){return D1(this,l),L1(this,o.apply(this,arguments))}return l.prototype.shouldComponentUpdate=function(h){return!A1(this.props,h)},l.prototype.mapNestedChildrenToProps=function(h,p){if(!p)return null;switch(h.type){case Me.SCRIPT:case Me.NOSCRIPT:return{innerHTML:p};case Me.STYLE:return{cssText:p}}throw new Error("<"+h.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},l.prototype.flattenArrayTypeChildren=function(h){var p,y=h.child,v=h.arrayTypeChildren,S=h.newChildProps,T=h.nestedChildren;return xn({},v,(p={},p[y.type]=[].concat(v[y.type]||[],[xn({},S,this.mapNestedChildrenToProps(y,T))]),p))},l.prototype.mapObjectTypeChildren=function(h){var p,y,v=h.child,S=h.newProps,T=h.newChildProps,k=h.nestedChildren;switch(v.type){case Me.TITLE:return xn({},S,(p={},p[v.type]=k,p.titleAttributes=xn({},T),p));case Me.BODY:return xn({},S,{bodyAttributes:xn({},T)});case Me.HTML:return xn({},S,{htmlAttributes:xn({},T)})}return xn({},S,(y={},y[v.type]=xn({},T),y))},l.prototype.mapArrayTypeChildrenToProps=function(h,p){var y=xn({},p);return Object.keys(h).forEach(function(v){var S;y=xn({},y,(S={},S[v]=h[v],S))}),y},l.prototype.warnOnInvalidChildren=function(h,p){return!0},l.prototype.mapChildrenToProps=function(h,p){var y=this,v={};return nt.Children.forEach(h,function(S){if(!(!S||!S.props)){var T=S.props,k=T.children,O=av(T,["children"]),M=G1(O);switch(y.warnOnInvalidChildren(S,k),S.type){case Me.LINK:case Me.META:case Me.NOSCRIPT:case Me.SCRIPT:case Me.STYLE:v=y.flattenArrayTypeChildren({child:S,arrayTypeChildren:v,newChildProps:M,nestedChildren:k});break;default:p=y.mapObjectTypeChildren({child:S,newProps:p,newChildProps:M,nestedChildren:k});break}}}),p=this.mapArrayTypeChildrenToProps(v,p),p},l.prototype.render=function(){var h=this.props,p=h.children,y=av(h,["children"]),v=xn({},y);return p&&(v=this.mapChildrenToProps(p,v)),nt.createElement(e,v)},b1(l,null,[{key:"canUseDOM",set:function(h){e.canUseDOM=h}}]),l}(nt.Component),t.propTypes={base:pt.object,bodyAttributes:pt.object,children:pt.oneOfType([pt.arrayOf(pt.node),pt.node]),defaultTitle:pt.string,defer:pt.bool,encodeSpecialCharacters:pt.bool,htmlAttributes:pt.object,link:pt.arrayOf(pt.object),meta:pt.arrayOf(pt.object),noscript:pt.arrayOf(pt.object),onChangeClientState:pt.func,script:pt.arrayOf(pt.object),style:pt.arrayOf(pt.object),title:pt.string,titleAttributes:pt.object,titleTemplate:pt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var o=e.rewind();return o||(o=sT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),o},i},X1=function(){return null},J1=T1(F1,$1,sT)(X1),qf=Y1(J1);qf.renderStatic=qf.rewind;function oT({title:r,description:e,image:t="https://bellaabdelouahab.github.io/logo.jpg",url:i,keywords:o,type:l="website",structuredData:c=null}){const h=r?`${r} | Abdelouahab Bella Portfolio`:"Abdelouahab Bella | Data Scientist & Software Engineer",p=e||"Portfolio of Abdelouahab Bella, Data Scientist and Software Engineer with experience in web development, machine learning, and software development.",y=o||"Abdelouahab Bella, Data Scientist, Software Engineer, Web Development, Machine Learning, Portfolio",v=i||typeof window<"u"?window.location.href:"https://bellaabdelouahab.github.io";return w.jsxs(qf,{children:[w.jsx("title",{children:h}),w.jsx("meta",{name:"description",content:p}),w.jsx("meta",{name:"keywords",content:y}),w.jsx("meta",{property:"og:title",content:h}),w.jsx("meta",{property:"og:description",content:p}),w.jsx("meta",{property:"og:image",content:t}),w.jsx("meta",{property:"og:url",content:v}),w.jsx("meta",{property:"og:type",content:l}),w.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),w.jsx("meta",{name:"twitter:title",content:h}),w.jsx("meta",{name:"twitter:description",content:p}),w.jsx("meta",{name:"twitter:image",content:t}),c&&w.jsx("script",{type:"application/ld+json",children:JSON.stringify(c)}),w.jsx("link",{rel:"canonical",href:v})]})}function Z1(){const r=Qf();Z.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(l=>{l.isIntersecting&&l.target.classList.add("visible")})});document.querySelectorAll(".hidden-area").forEach(o=>{t.observe(o)})},[]);const e={"@context":"https://schema.org","@type":"ProfilePage",mainEntity:{"@type":"Person",name:"Abdelouahab Bella",jobTitle:"Data Scientist & Software Engineer",description:"Accomplished data scientist with extensive experience in data science, computer systems engineering, and software development.",url:"https://bellaabdelouahab.github.io",sameAs:["https://github.com/bellaabdelouahab","https://linkedin.com/in/abdelouahab-bella"],knowsAbout:["Data Science","Machine Learning","Web Development","Software Engineering"]}};return w.jsxs(w.Fragment,{children:[w.jsx(oT,{title:"Home",description:"Portfolio of Abdelouahab Bella, a Data Scientist & Software Engineer with expertise in web development and machine learning",keywords:"Abdelouahab Bella, Data Science, Software Engineering, Portfolio, Projects, Machine Learning, Web Development",structuredData:e}),w.jsx(QS,{}),w.jsx(XS,{projectHighlight:r}),w.jsx(tA,{}),w.jsx(JS,{}),w.jsx(ZS,{}),w.jsx(m1,{}),w.jsx(Xx,{}),w.jsx(p1,{}),w.jsx(nA,{})]})}const aT=async()=>{const r=gi(Ur,"projects");return(await ma(r)).docs.map(i=>({_id:i.id,...i.data()})).filter(i=>i.showInOverview===!0)},eN=Object.freeze(Object.defineProperty({__proto__:null,default:Z1,getHighlightedProjects:aT},Symbol.toStringTag,{value:"Module"}));function tN(){const r=Qf(),e=Rv(),[t,i]=Z.useState(!1),[o,l]=Z.useState("All"),[c,h]=Z.useState({}),p={"@context":"https://schema.org","@type":"CollectionPage",name:"Abdelouahab Bella's Projects",description:"A collection of projects developed by Abdelouahab Bella, including web development, machine learning, and data science projects.",mainEntity:{"@type":"ItemList",itemListElement:r.map((O,M)=>({"@type":"ListItem",position:M+1,item:{"@type":"SoftwareSourceCode",name:O.title,description:O.description.substring(0,160),url:`https://bellaabdelouahab.github.io/#/projects/${O.title.replace(/\s/g,"-")}`,codeRepository:O.githubLink}}))}},y=r.reduce((O,M)=>((M.tags||[]).forEach(G=>{O[G]?O[G]+=1:O[G]=1}),O),{}),v=[{All:-1}];Object.entries(y).forEach(([O,M])=>{v.push({[O]:M})});const S=O=>{if(!O.target.dataset.tag)return;const M=O.target.dataset.tag;l(M);const j=document.querySelector(".filters"),G=document.querySelector(".filter");j.classList.add("hidden"),G.innerHTML=M+" ▼",i(!1)},T=O=>{const M=document.querySelector(".filter"),j=document.querySelector(".filters");t?(j.classList.add("hidden"),M.innerHTML=o+" ▼",i(!1)):(j.classList.remove("hidden"),M.innerHTML=o+" ▶",i(!0))};Z.useEffect(()=>{document.getElementById("cards").onmousemove=M=>{for(const j of document.getElementsByClassName("card")){const G=j.getBoundingClientRect(),te=M.clientX-G.left,re=M.clientY-G.top;j.style.setProperty("--mouse-x",`${te}px`),j.style.setProperty("--mouse-y",`${re}px`)}};const O=document.querySelector(".filters");return O==null||O.addEventListener("click",S),()=>{O==null||O.removeEventListener("click",S)}},[]);const k=O=>{h(M=>({...M,[O]:!0}))};return w.jsxs(w.Fragment,{children:[w.jsx(oT,{title:"Projects",description:"Browse through all projects developed by Abdelouahab Bella, including web development, machine learning, and data science projects.",keywords:"Projects, Portfolio, Web Development, Software Engineering, Data Science, Machine Learning",structuredData:p}),w.jsxs("section",{className:"projects-section",children:[w.jsxs("div",{className:"projects-header",children:[w.jsx("h1",{className:"projects-section__title",children:"Projects Library"}),w.jsx("div",{className:"projects-section__filters",children:w.jsxs("label",{onClick:T,children:["Category: ",w.jsxs("span",{className:"filter",children:[o," ▼"]})," "]})})]}),w.jsx("div",{className:"filters-container",children:w.jsx("div",{className:"filters hidden",children:v.map((O,M)=>Object.entries(O).map(([j,G])=>w.jsxs("div",{className:"filter-element","data-tag":j,children:[j," ",G!==-1?"("+G+")":""]},M)))})}),w.jsx("h2",{className:"projects-section__subtitle",children:"Get Access To All My Public Projects"}),w.jsx("div",{id:"cards",children:r&&r.map((O,M)=>{if(o!=="All"&&!(O.tags||[]).includes(o))return null;const j=O.description;let G=j.slice(0,250);const te=G.lastIndexOf(" ");return G=G.slice(0,te),j.length>200&&(G+="..."),w.jsxs("div",{className:"card",onClick:re=>{e("/projects/"+O.title.replace(/\s/g,"-"),{state:O})},"aria-label":`View details of ${O.title} project`,children:[w.jsxs("div",{className:"projects-section__projects__project__img",style:{backgroundImage:c[O._id]?`url(${O.image})`:"none"},children:[!c[O._id]&&w.jsx(Ho,{height:"100%"}),w.jsx("img",{src:`${O.image}`,alt:`Preview of ${O.title} project`,style:{display:"none"},onLoad:()=>k(O._id)})]}),c[O._id]?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"projects-section__projects__project__title",children:O.title}),w.jsx("p",{className:"projects-section__projects__project__description",children:G})]}):w.jsxs("div",{children:[w.jsx("div",{className:"home-projects-section__projects__project__description",style:{display:"flex",justifyContent:"center",width:"100%"},children:w.jsx(Ho,{height:24,width:"10rem",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}})}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Ho,{count:7})})]})]},O._id)})})]})]})}const lT=async()=>{const r=gi(Ur,"projects");return(await ma(r)).docs.map(i=>({_id:i.id,...i.data()}))},nN=Object.freeze(Object.defineProperty({__proto__:null,default:tN,getProjects:lT},Symbol.toStringTag,{value:"Module"}));async function rN(){const r=gi(Ur,"certificates"),e=await ma(r),t=e.docs.map(o=>o.data()),i=e.size;return{allCertificates:t,count:i}}function iN(){const r=Qf();return w.jsx("section",{children:w.jsxs("div",{className:"container1",children:[w.jsx("h2",{className:"heading-section",children:"Reports"}),w.jsxs("table",{className:"table-dark table-hover",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"#"}),w.jsx("th",{children:"Name"}),w.jsx("th",{children:"Date"}),w.jsx("th",{children:"Description"}),w.jsx("th",{children:"Action"})]})}),w.jsx("tbody",{children:r&&r.map((e,t)=>w.jsxs("tr",{children:[w.jsx("th",{scope:"row",children:t+1}),w.jsx("td",{children:e.name}),w.jsx("td",{children:e.date}),w.jsx("td",{children:e.description}),w.jsx("td",{children:w.jsx("a",{className:"btn-download",href:"reports/"+e.name,style:{cursor:"pointer"},children:"Download"})})]},t))})]})]})})}async function uT(){const r=gi(Ur,"reports");return(await ma(r)).docs.map(i=>({_id:i.id,...i.data()}))}const sN=Object.freeze(Object.defineProperty({__proto__:null,default:iN,getReports:uT},Symbol.toStringTag,{value:"Module"})),oN=async()=>{try{const r=await fetch("https://api.ipify.org?format=json"),{ip:e}=await r.json(),t=navigator.userAgent,i=navigator.language,o=`${window.screen.width}x${window.screen.height}`,l=Intl.DateTimeFormat().resolvedOptions().timeZone,c=document.referrer||"direct",h=window.location.pathname,p=navigator.platform,y=aN(t),v=lN(t),S=gi(Ur,"visitors"),T=new Date;T.setDate(T.getDate()-1);const k=HC(S,L_("ip","==",e),L_("timestamp",">",T),qC(1)),O=await ma(k);if(O.empty){const M={ip:e,userAgent:t,language:i,screenResolution:o,timezone:l,referrer:c,path:h,platform:p,browser:y,operatingSystem:v,timestamp:rf(),visitCount:1};await jf(gi(Ur,"visitors"),M),console.log("New visitor tracked")}else{const M=O.docs[0],j=hw(Ur,"visitors",M.id),G=M.data().visitCount||1;await QC(j,{timestamp:rf(),visitCount:G+1,path:h,referrer:c}),console.log("Return visitor within 24 hours - visit updated")}await jf(gi(Ur,"pageViews"),{ip:e,path:h,timestamp:rf()})}catch(r){console.error("Error tracking visitor:",r)}},aN=r=>{const e={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,edge:/edge|edg/i,opera:/opera|opr/i,ie:/msie|trident/i};for(const[t,i]of Object.entries(e))if(i.test(r))return t;return"unknown"},lN=r=>{const e={windows:/windows nt/i,mac:/macintosh|mac os x/i,linux:/linux/i,android:/android/i,ios:/iphone|ipad|ipod/i};for(const[t,i]of Object.entries(e))if(i.test(r))return t;return"unknown"},En=w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('preloader.png')",backgroundSize:"auto 50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"preloader"}),uN=nt.lazy(()=>bn(()=>import("./Root-SKMoXL4b.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),cN=nt.lazy(()=>bn(()=>Promise.resolve().then(()=>eN),void 0,import.meta.url)),dN=nt.lazy(()=>bn(()=>Promise.resolve().then(()=>nN),void 0,import.meta.url)),hN=nt.lazy(()=>bn(()=>import("./Project-Cvz0eLtq.js"),__vite__mapDeps([4,5,1,6]),import.meta.url)),fN=nt.lazy(()=>bn(()=>import("./Certificates-FdIi9-Br.js"),__vite__mapDeps([7,8]),import.meta.url)),pN=nt.lazy(()=>bn(()=>import("./Resume-CHHsspx9.js"),__vite__mapDeps([9,10]),import.meta.url)),mN=nt.lazy(()=>bn(()=>import("./MusicPicks-DeMMZsAB.js"),__vite__mapDeps([11,12]),import.meta.url)),gN=nt.lazy(()=>bn(()=>Promise.resolve().then(()=>sN),void 0,import.meta.url)),yN=nt.lazy(()=>bn(()=>import("./Articles-CxxcnBYl.js"),__vite__mapDeps([13,14]),import.meta.url)),_N=nt.lazy(()=>bn(()=>import("./Team-BzyHMbUB.js"),__vite__mapDeps([15,16]),import.meta.url)),vN=nt.lazy(()=>bn(()=>import("./BackOffice-CGyvIinP.js"),__vite__mapDeps([17,1,2,5,18]),import.meta.url)),EN=nt.lazy(()=>bn(()=>import("./NotFound-CbxwVYPI.js"),[],import.meta.url)),wN=nt.lazy(()=>bn(()=>import("./SiteMap-CpnLUv3o.js"),__vite__mapDeps([19,20,21]),import.meta.url)),TN=nt.lazy(()=>bn(()=>import("./SitemapXml-BB75EgAD.js"),__vite__mapDeps([22,20]),import.meta.url)),IN=HS(_c(w.jsxs(vn,{path:"/",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(uN,{})}),children:[w.jsx(vn,{index:!0,element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(cN,{})}),loader:aT}),w.jsx(vn,{path:"projects",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(dN,{})}),loader:lT}),w.jsx(vn,{path:"projects/:title",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(hN,{})})}),w.jsx(vn,{path:"certificates",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(fN,{})}),loader:rN}),w.jsx(vn,{path:"resume",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(pN,{})})}),w.jsx(vn,{path:"my-team",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(_N,{})})}),w.jsx(vn,{path:"music",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(mN,{})})}),w.jsx(vn,{path:"reports",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(gN,{})}),loader:uT}),w.jsx(vn,{path:"articles",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(yN,{})})}),w.jsx(vn,{path:"fillDB",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(vN,{})})}),w.jsx(vn,{path:"site-map",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(wN,{})})}),w.jsx(vn,{path:"api/sitemap.xml",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(TN,{})})}),w.jsx(vn,{path:"*",element:w.jsx(Z.Suspense,{fallback:En,children:w.jsx(EN,{})})})]})));function SN(){return Z.useEffect(()=>{oN()},[]),w.jsx(MS,{router:IN,fallbackElement:En})}const AN=II.createRoot(document.getElementById("root"));AN.render(w.jsx(AI,{baseColor:"#202020",highlightColor:"#444",children:w.jsx(SN,{})}));export{ON as A,Zi as G,qf as H,GS as L,kN as N,CN as O,pt as P,nt as R,oT as S,PN as a,Rv as b,Ho as c,gi as d,Ur as e,DN as f,ma as g,hw as h,Qf as i,w as j,RN as k,Fc as l,EI as m,_1 as n,aa as o,Kx as p,HC as q,Z as r,bN as s,VN as t,kl as u,LN as v,L_ as w,QC as x,NN as y,qC as z};
