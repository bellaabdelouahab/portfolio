const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-C8zwyygk.js","./index-BUs3KX8x.js","./index-B9RSM9E-.js","./Root-D3hzenOY.css","./Project-C0zQbm0M.js","./index-pQw0SwTF.js","./Project-CdOZGIhs.css","./Certificates-DuBMxPKl.js","./Certificates-DlM67GuP.css","./Resume-BHdkwEmB.js","./Resume-DtU7L1PO.css","./MusicPicks-C7H3xopy.js","./MusicPicks-DUXKN7Ks.css","./Articles-AlBym6Ax.js","./Articles-DJ5AvvuJ.css","./Team-BJZdSFHG.js","./Team-DD6ZGrwr.css","./BackOffice-CmZpJRP9.js","./BackOffice-DMFBBmfH.css","./SiteMap-DfYvEevk.js","./SiteMap-BUGXxyVE.css"])))=>i.map(i=>d[i]);
function f0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function aa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function CN(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Ud={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function p0(){if(ey)return Be;ey=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function T(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function V(k,K,de){this.props=k,this.context=K,this.refs=j,this.updater=de||N}V.prototype.isReactComponent={},V.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=V.prototype;function te(k,K,de){this.props=k,this.context=K,this.refs=j,this.updater=de||N}var re=te.prototype=new G;re.constructor=te,b(re,V.prototype),re.isPureReactComponent=!0;var ie=Array.isArray,Ne=Object.prototype.hasOwnProperty,Ce={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function A(k,K,de){var Ee,Le={},Ge=null,qe=null;if(K!=null)for(Ee in K.ref!==void 0&&(qe=K.ref),K.key!==void 0&&(Ge=""+K.key),K)Ne.call(K,Ee)&&!O.hasOwnProperty(Ee)&&(Le[Ee]=K[Ee]);var Ke=arguments.length-2;if(Ke===1)Le.children=de;else if(1<Ke){for(var Ue=Array(Ke),kt=0;kt<Ke;kt++)Ue[kt]=arguments[kt+2];Le.children=Ue}if(k&&k.defaultProps)for(Ee in Ke=k.defaultProps,Ke)Le[Ee]===void 0&&(Le[Ee]=Ke[Ee]);return{$$typeof:n,type:k,key:Ge,ref:qe,props:Le,_owner:Ce.current}}function C(k,K){return{$$typeof:n,type:k.type,key:K,ref:k.ref,props:k.props,_owner:k._owner}}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function M(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return K[de]})}var F=/\/+/g;function P(k,K){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):K.toString(36)}function gt(k,K,de,Ee,Le){var Ge=typeof k;(Ge==="undefined"||Ge==="boolean")&&(k=null);var qe=!1;if(k===null)qe=!0;else switch(Ge){case"string":case"number":qe=!0;break;case"object":switch(k.$$typeof){case n:case e:qe=!0}}if(qe)return qe=k,Le=Le(qe),k=Ee===""?"."+P(qe,0):Ee,ie(Le)?(de="",k!=null&&(de=k.replace(F,"$&/")+"/"),gt(Le,K,de,"",function(kt){return kt})):Le!=null&&(D(Le)&&(Le=C(Le,de+(!Le.key||qe&&qe.key===Le.key?"":(""+Le.key).replace(F,"$&/")+"/")+k)),K.push(Le)),1;if(qe=0,Ee=Ee===""?".":Ee+":",ie(k))for(var Ke=0;Ke<k.length;Ke++){Ge=k[Ke];var Ue=Ee+P(Ge,Ke);qe+=gt(Ge,K,de,Ue,Le)}else if(Ue=T(k),typeof Ue=="function")for(k=Ue.call(k),Ke=0;!(Ge=k.next()).done;)Ge=Ge.value,Ue=Ee+P(Ge,Ke++),qe+=gt(Ge,K,de,Ue,Le);else if(Ge==="object")throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return qe}function jt(k,K,de){if(k==null)return k;var Ee=[],Le=0;return gt(k,Ee,"","",function(Ge){return K.call(de,Ge,Le++)}),Ee}function Ft(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var De={current:null},oe={transition:null},ve={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Ce};return Be.Children={map:jt,forEach:function(k,K,de){jt(k,function(){K.apply(this,arguments)},de)},count:function(k){var K=0;return jt(k,function(){K++}),K},toArray:function(k){return jt(k,function(K){return K})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Be.Component=V,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=te,Be.StrictMode=i,Be.Suspense=p,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Be.cloneElement=function(k,K,de){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Ee=b({},k.props),Le=k.key,Ge=k.ref,qe=k._owner;if(K!=null){if(K.ref!==void 0&&(Ge=K.ref,qe=Ce.current),K.key!==void 0&&(Le=""+K.key),k.type&&k.type.defaultProps)var Ke=k.type.defaultProps;for(Ue in K)Ne.call(K,Ue)&&!O.hasOwnProperty(Ue)&&(Ee[Ue]=K[Ue]===void 0&&Ke!==void 0?Ke[Ue]:K[Ue])}var Ue=arguments.length-2;if(Ue===1)Ee.children=de;else if(1<Ue){Ke=Array(Ue);for(var kt=0;kt<Ue;kt++)Ke[kt]=arguments[kt+2];Ee.children=Ke}return{$$typeof:n,type:k.type,key:Le,ref:Ge,props:Ee,_owner:qe}},Be.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Be.createElement=A,Be.createFactory=function(k){var K=A.bind(null,k);return K.type=k,K},Be.createRef=function(){return{current:null}},Be.forwardRef=function(k){return{$$typeof:d,render:k}},Be.isValidElement=D,Be.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:Ft}},Be.memo=function(k,K){return{$$typeof:y,type:k,compare:K===void 0?null:K}},Be.startTransition=function(k){var K=oe.transition;oe.transition={};try{k()}finally{oe.transition=K}},Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.useCallback=function(k,K){return De.current.useCallback(k,K)},Be.useContext=function(k){return De.current.useContext(k)},Be.useDebugValue=function(){},Be.useDeferredValue=function(k){return De.current.useDeferredValue(k)},Be.useEffect=function(k,K){return De.current.useEffect(k,K)},Be.useId=function(){return De.current.useId()},Be.useImperativeHandle=function(k,K,de){return De.current.useImperativeHandle(k,K,de)},Be.useInsertionEffect=function(k,K){return De.current.useInsertionEffect(k,K)},Be.useLayoutEffect=function(k,K){return De.current.useLayoutEffect(k,K)},Be.useMemo=function(k,K){return De.current.useMemo(k,K)},Be.useReducer=function(k,K,de){return De.current.useReducer(k,K,de)},Be.useRef=function(k){return De.current.useRef(k)},Be.useState=function(k){return De.current.useState(k)},Be.useSyncExternalStore=function(k,K,de){return De.current.useSyncExternalStore(k,K,de)},Be.useTransition=function(){return De.current.useTransition()},Be.version="18.2.0",Be}var ty;function Fc(){return ty||(ty=1,Ud.exports=p0()),Ud.exports}var J=Fc();const rt=aa(J),pf=f0({__proto__:null,default:rt},[J]);var Bd={exports:{}},Ja={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function m0(){if(ny)return Ja;ny=1;var n=Fc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,S={},T=null,N=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(N=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(S[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)S[_]===void 0&&(S[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:N,props:S,_owner:o.current}}return Ja.Fragment=t,Ja.jsx=c,Ja.jsxs=c,Ja}var ry;function g0(){return ry||(ry=1,Bd.exports=m0()),Bd.exports}var w=g0(),ec={},zd={exports:{}},Pn={},$d={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function y0(){return iy||(iy=1,function(n){function e(oe,ve){var k=oe.length;oe.push(ve);e:for(;0<k;){var K=k-1>>>1,de=oe[K];if(0<o(de,ve))oe[K]=ve,oe[k]=de,k=K;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ve=oe[0],k=oe.pop();if(k!==ve){oe[0]=k;e:for(var K=0,de=oe.length,Ee=de>>>1;K<Ee;){var Le=2*(K+1)-1,Ge=oe[Le],qe=Le+1,Ke=oe[qe];if(0>o(Ge,k))qe<de&&0>o(Ke,Ge)?(oe[K]=Ke,oe[qe]=k,K=qe):(oe[K]=Ge,oe[Le]=k,K=Le);else if(qe<de&&0>o(Ke,k))oe[K]=Ke,oe[qe]=k,K=qe;else break e}}return ve}function o(oe,ve){var k=oe.sortIndex-ve.sortIndex;return k!==0?k:oe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,S=null,T=3,N=!1,b=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(oe){for(var ve=t(y);ve!==null;){if(ve.callback===null)i(y);else if(ve.startTime<=oe)i(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=t(y)}}function ie(oe){if(j=!1,re(oe),!b)if(t(p)!==null)b=!0,Ft(Ne);else{var ve=t(y);ve!==null&&De(ie,ve.startTime-oe)}}function Ne(oe,ve){b=!1,j&&(j=!1,G(A),A=-1),N=!0;var k=T;try{for(re(ve),S=t(p);S!==null&&(!(S.expirationTime>ve)||oe&&!M());){var K=S.callback;if(typeof K=="function"){S.callback=null,T=S.priorityLevel;var de=K(S.expirationTime<=ve);ve=n.unstable_now(),typeof de=="function"?S.callback=de:S===t(p)&&i(p),re(ve)}else i(p);S=t(p)}if(S!==null)var Ee=!0;else{var Le=t(y);Le!==null&&De(ie,Le.startTime-ve),Ee=!1}return Ee}finally{S=null,T=k,N=!1}}var Ce=!1,O=null,A=-1,C=5,D=-1;function M(){return!(n.unstable_now()-D<C)}function F(){if(O!==null){var oe=n.unstable_now();D=oe;var ve=!0;try{ve=O(!0,oe)}finally{ve?P():(Ce=!1,O=null)}}else Ce=!1}var P;if(typeof te=="function")P=function(){te(F)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,jt=gt.port2;gt.port1.onmessage=F,P=function(){jt.postMessage(null)}}else P=function(){V(F,0)};function Ft(oe){O=oe,Ce||(Ce=!0,P())}function De(oe,ve){A=V(function(){oe(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){b||N||(b=!0,Ft(Ne))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var ve=3;break;default:ve=T}var k=T;T=ve;try{return oe()}finally{T=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var k=T;T=oe;try{return ve()}finally{T=k}},n.unstable_scheduleCallback=function(oe,ve,k){var K=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?K+k:K):k=K,oe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=k+de,oe={id:_++,callback:ve,priorityLevel:oe,startTime:k,expirationTime:de,sortIndex:-1},k>K?(oe.sortIndex=k,e(y,oe),t(p)===null&&oe===t(y)&&(j?(G(A),A=-1):j=!0,De(ie,k-K))):(oe.sortIndex=de,e(p,oe),b||N||(b=!0,Ft(Ne))),oe},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(oe){var ve=T;return function(){var k=T;T=ve;try{return oe.apply(this,arguments)}finally{T=k}}}}(Hd)),Hd}var sy;function v0(){return sy||(sy=1,$d.exports=y0()),$d.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function _0(){if(oy)return Pn;oy=1;var n=Fc(),e=v0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function T(r){return p.call(S,r)?!0:p.call(_,r)?!1:y.test(r)?S[r]=!0:(_[r]=!0,!1)}function N(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,a,h){if(s===null||typeof s>"u"||N(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(G,te);V[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(G,te);V[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(G,te);V[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function re(r,s,a,h){var f=V.hasOwnProperty(s)?V[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,f,h)&&(a=null),h||f===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ve(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var k=Object.assign,K;function de(r){if(K===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||""}return`
`+K+r}var Ee=!1;function Le(r,s){if(!r||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,R=g.length-1;1<=E&&0<=R&&f[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(f[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||f[E]!==g[R]){var x=`
`+f[E].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=E&&0<=R);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?de(r):""}function Ge(r){switch(r.tag){case 5:return de(r.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function qe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case Ce:return"Portal";case C:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case gt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case jt:return s=r.displayName||null,s!==null?s:qe(r.type)||"Memo";case Ft:s=r._payload,r=r._init;try{return qe(r(s))}catch{}}return null}function Ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function kt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sr(r){var s=kt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function bn(r){r._valueTracker||(r._valueTracker=Sr(r))}function Ar(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=kt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function On(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Rr(r,s){var a=s.checked;return k({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ii(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Si(r,s){s=s.checked,s!=null&&re(r,"checked",s,!1)}function ys(r,s){Si(r,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?nr(r,s.type,a):s.hasOwnProperty("defaultValue")&&nr(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Pr(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function nr(r,s,a){(s!=="number"||On(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var qn=Array.isArray;function Ln(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function vs(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ai(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(qn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ue(a)}}function Kr(r,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function W(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function q(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?q(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var pe,le=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(pe=pe||document.createElement("div"),pe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pe.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ie(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var we={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys(we).forEach(function(r){je.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),we[s]=we[r]})});function Se(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||we.hasOwnProperty(r)&&we[r]?(""+s).trim():s+"px"}function lt(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Se(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Ve=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(r,s){if(s){if(Ve[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function qt(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function Wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rr=null,Wt=null,Gt=null;function Cr(r){if(r=Ma(r)){if(typeof rr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=mu(s),rr(r.stateNode,r.type,s))}}function it(r){Wt?Gt?Gt.push(r):Gt=[r]:Wt=r}function Nt(){if(Wt){var r=Wt,s=Gt;if(Gt=Wt=null,Cr(r),s)for(r=0;r<s.length;r++)Cr(s[r])}}function fn(r,s){return r(s)}function ir(){}var pn=!1;function _s(r,s,a){if(pn)return r(s,a);pn=!0;try{return fn(r,s,a)}finally{pn=!1,(Wt!==null||Gt!==null)&&(ir(),Nt())}}function yt(r,s){var a=r.stateNode;if(a===null)return null;var h=mu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var rn=!1;if(d)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){rn=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{rn=!1}function kr(r,s,a,h,f,g,E,R,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(ee){this.onError(ee)}}var Qr=!1,eo=null,sr=!1,ya=null,ph={onError:function(r){Qr=!0,eo=r}};function to(r,s,a,h,f,g,E,R,x){Qr=!1,eo=null,kr.apply(ph,arguments)}function Ul(r,s,a,h,f,g,E,R,x){if(to.apply(this,arguments),Qr){if(Qr){var $=eo;Qr=!1,eo=null}else throw Error(t(198));sr||(sr=!0,ya=$)}}function or(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Es(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ar(r){if(or(r)!==r)throw Error(t(188))}function Bl(r){var s=r.alternate;if(!s){if(s=or(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ar(f),r;if(g===h)return ar(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,R=f.child;R;){if(R===a){E=!0,a=f,h=g;break}if(R===h){E=!0,h=f,a=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===a){E=!0,a=g,h=f;break}if(R===h){E=!0,h=g,a=f;break}R=R.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function va(r){return r=Bl(r),r!==null?no(r):null}function no(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=no(r);if(s!==null)return s;r=r.sibling}return null}var ro=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,zl=e.unstable_shouldYield,mh=e.unstable_requestPaint,ot=e.unstable_now,$l=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,Ea=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,Ts=null,Vn=null;function ql(r){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Ts,r,void 0,(r.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Gl,wa=Math.log,Wl=Math.LN2;function Gl(r){return r>>>=0,r===0?32:31-(wa(r)/Wl|0)|0}var io=64,so=4194304;function Pi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Is(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var R=E&~f;R!==0?h=Pi(R):(g&=E,g!==0&&(h=Pi(g)))}else E=a&~f,E!==0?h=Pi(E):g!==0&&(h=Pi(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-mn(s),f=1<<a,h|=r[a],s&=~f;return h}function gh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-mn(g),R=1<<E,x=f[E];x===-1?((R&a)===0||(R&h)!==0)&&(f[E]=gh(R,s)):x<=s&&(r.expiredLanes|=R),g&=~R}}function Mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ss(){var r=io;return io<<=1,(io&4194240)===0&&(io=64),r}function Ci(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ki(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-mn(s),r[s]=a}function st(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-mn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function xi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-mn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var We=0;function Ni(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Kl,oo,Ql,Yl,Xl,Ta=!1,xr=[],Kt=null,lr=null,ur=null,Di=new Map,Kn=new Map,Nr=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(r,s){switch(r){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(s.pointerId)}}function En(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ma(s),s!==null&&oo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function vh(r,s,a,h,f){switch(s){case"focusin":return Kt=En(Kt,r,s,a,h,f),!0;case"dragenter":return lr=En(lr,r,s,a,h,f),!0;case"mouseover":return ur=En(ur,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Di.set(g,En(Di.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Kn.set(g,En(Kn.get(g)||null,r,s,a,h,f)),!0}return!1}function Zl(r){var s=ks(r.target);if(s!==null){var a=or(s);if(a!==null){if(s=a.tag,s===13){if(s=Es(a),s!==null){r.blockedOn=s,Xl(r.priority,function(){Ql(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=ao(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);xt=h,a.target.dispatchEvent(h),xt=null}else return s=Ma(a),s!==null&&oo(s),r.blockedOn=a,!1;s.shift()}return!0}function As(r,s,a){Xr(r)&&a.delete(s)}function eu(){Ta=!1,Kt!==null&&Xr(Kt)&&(Kt=null),lr!==null&&Xr(lr)&&(lr=null),ur!==null&&Xr(ur)&&(ur=null),Di.forEach(As),Kn.forEach(As)}function cr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eu)))}function hr(r){function s(f){return cr(f,r)}if(0<xr.length){cr(xr[0],r);for(var a=1;a<xr.length;a++){var h=xr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Kt!==null&&cr(Kt,r),lr!==null&&cr(lr,r),ur!==null&&cr(ur,r),Di.forEach(s),Kn.forEach(s),a=0;a<Nr.length;a++)h=Nr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)Zl(a),a.blockedOn===null&&Nr.shift()}var Jr=ie.ReactCurrentBatchConfig,bi=!0;function dt(r,s,a,h){var f=We,g=Jr.transition;Jr.transition=null;try{We=1,Ia(r,s,a,h)}finally{We=f,Jr.transition=g}}function _h(r,s,a,h){var f=We,g=Jr.transition;Jr.transition=null;try{We=4,Ia(r,s,a,h)}finally{We=f,Jr.transition=g}}function Ia(r,s,a,h){if(bi){var f=ao(r,s,a,h);if(f===null)xh(r,s,h,Rs,a),Jl(r,h);else if(vh(f,r,s,a,h))h.stopPropagation();else if(Jl(r,h),s&4&&-1<yh.indexOf(r)){for(;f!==null;){var g=Ma(f);if(g!==null&&Kl(g),g=ao(r,s,a,h),g===null&&xh(r,s,h,Rs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else xh(r,s,h,null,a)}}var Rs=null;function ao(r,s,a,h){if(Rs=null,r=Wn(h),r=ks(r),r!==null)if(s=or(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Es(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Rs=r,null}function Sa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case ws:return 1;case Ri:return 4;case Gn:case Ea:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var jn=null,lo=null,wn=null;function Aa(){if(wn)return wn;var r,s=lo,a=s.length,h,f="value"in jn?jn.value:jn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===f[g-h];h++);return wn=f.slice(r,1<h?1-h:void 0)}function uo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Dr(){return!0}function Ra(){return!1}function Qt(r){function s(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Dr:Ra,this.isPropagationStopped=Ra,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),s}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Qt(dr),br=k({},dr,{view:0,detail:0}),Eh=Qt(br),ho,Zr,Oi,Ps=k({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(ho=r.screenX-Oi.screenX,Zr=r.screenY-Oi.screenY):Zr=ho=0,Oi=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:Zr}}),fo=Qt(Ps),Pa=k({},Ps,{dataTransfer:0}),tu=Qt(Pa),po=k({},br,{relatedTarget:0}),mo=Qt(po),nu=k({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ei=Qt(nu),ru=k({},dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iu=Qt(ru),su=k({},dr,{data:0}),Ca=Qt(su),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ou[r])?!!s[r]:!1}function Or(){return au}var u=k({},br,{key:function(r){if(r.key){var s=go[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=uo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(r){return r.type==="keypress"?uo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?uo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Qt(u),v=k({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Qt(v),U=k({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),H=Qt(U),ae=k({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tt=Qt(ae),bt=k({},Ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Qt(bt),Ut=[9,13,27,32],St=d&&"CompositionEvent"in window,Qn=null;d&&"documentMode"in document&&(Qn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Qn,Cs=d&&(!St||Qn&&8<Qn&&11>=Qn),yo=" ",Gp=!1;function Kp(r,s){switch(r){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vo=!1;function cT(r,s){switch(r){case"compositionend":return Qp(s);case"keypress":return s.which!==32?null:(Gp=!0,yo);case"textInput":return r=s.data,r===yo&&Gp?null:r;default:return null}}function hT(r,s){if(vo)return r==="compositionend"||!St&&Kp(r,s)?(r=Aa(),wn=lo=jn=null,vo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cs&&s.locale!=="ko"?null:s.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dT[r.type]:s==="textarea"}function Xp(r,s,a,h){it(h),s=du(s,"onChange"),0<s.length&&(a=new co("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ka=null,xa=null;function fT(r){mm(r,0)}function lu(r){var s=Io(r);if(Ar(s))return r}function pT(r,s){if(r==="change")return s}var Jp=!1;if(d){var wh;if(d){var Th="oninput"in document;if(!Th){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),Th=typeof Zp.oninput=="function"}wh=Th}else wh=!1;Jp=wh&&(!document.documentMode||9<document.documentMode)}function em(){ka&&(ka.detachEvent("onpropertychange",tm),xa=ka=null)}function tm(r){if(r.propertyName==="value"&&lu(xa)){var s=[];Xp(s,xa,r,Wn(r)),_s(fT,s)}}function mT(r,s,a){r==="focusin"?(em(),ka=s,xa=a,ka.attachEvent("onpropertychange",tm)):r==="focusout"&&em()}function gT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lu(xa)}function yT(r,s){if(r==="click")return lu(s)}function vT(r,s){if(r==="input"||r==="change")return lu(s)}function _T(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:_T;function Na(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!fr(r[f],s[f]))return!1}return!0}function nm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rm(r,s){var a=nm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nm(a)}}function im(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?im(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function sm(){for(var r=window,s=On();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=On(r.document)}return s}function Ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ET(r){var s=sm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&im(a.ownerDocument.documentElement,a)){if(h!==null&&Ih(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=rm(a,g);var E=rm(a,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wT=d&&"documentMode"in document&&11>=document.documentMode,_o=null,Sh=null,Da=null,Ah=!1;function om(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ah||_o==null||_o!==On(h)||(h=_o,"selectionStart"in h&&Ih(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Da&&Na(Da,h)||(Da=h,h=du(Sh,"onSelect"),0<h.length&&(s=new co("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=_o)))}function uu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Eo={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},Rh={},am={};d&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function cu(r){if(Rh[r])return Rh[r];if(!Eo[r])return r;var s=Eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in am)return Rh[r]=s[a];return r}var lm=cu("animationend"),um=cu("animationiteration"),cm=cu("animationstart"),hm=cu("transitionend"),dm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(r,s){dm.set(r,s),l(s,[r])}for(var Ph=0;Ph<fm.length;Ph++){var Ch=fm[Ph],TT=Ch.toLowerCase(),IT=Ch[0].toUpperCase()+Ch.slice(1);Li(TT,"on"+IT)}Li(lm,"onAnimationEnd"),Li(um,"onAnimationIteration"),Li(cm,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(hm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function pm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ul(h,s,void 0,r),r.currentTarget=null}function mm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var R=h[E],x=R.instance,$=R.currentTarget;if(R=R.listener,x!==g&&f.isPropagationStopped())break e;pm(f,R,$),g=x}else for(E=0;E<h.length;E++){if(R=h[E],x=R.instance,$=R.currentTarget,R=R.listener,x!==g&&f.isPropagationStopped())break e;pm(f,R,$),g=x}}}if(sr)throw r=ya,sr=!1,ya=null,r}function ut(r,s){var a=s[Vh];a===void 0&&(a=s[Vh]=new Set);var h=r+"__bubble";a.has(h)||(gm(s,r,2,!1),a.add(h))}function kh(r,s,a){var h=0;s&&(h|=4),gm(a,r,h,s)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[hu]){r[hu]=!0,i.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||kh(a,!1,r),kh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[hu]||(s[hu]=!0,kh("selectionchange",!1,s))}}function gm(r,s,a,h){switch(Sa(s)){case 1:var f=dt;break;case 4:f=_h;break;default:f=Ia}a=f.bind(null,s,a,r),f=void 0,!rn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function xh(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;E=E.return}for(;R!==null;){if(E=ks(R),E===null)return;if(x=E.tag,x===5||x===6){h=g=E;continue e}R=R.parentNode}}h=h.return}_s(function(){var $=g,ee=Wn(a),ne=[];e:{var Z=dm.get(r);if(Z!==void 0){var ue=co,me=r;switch(r){case"keypress":if(uo(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":me="focus",ue=mo;break;case"focusout":me="blur",ue=mo;break;case"beforeblur":case"afterblur":ue=mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case lm:case um:case cm:ue=ei;break;case hm:ue=tt;break;case"scroll":ue=Eh;break;case"wheel":ue=Qe;break;case"copy":case"cut":case"paste":ue=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var ge=(s&4)!==0,Tt=!ge&&r==="scroll",B=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var L=$,z;L!==null;){z=L;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,B!==null&&(se=yt(L,B),se!=null&&ge.push(La(L,se,z)))),Tt)break;L=L.return}0<ge.length&&(Z=new ue(Z,me,null,a,ee),ne.push({event:Z,listeners:ge}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",Z&&a!==xt&&(me=a.relatedTarget||a.fromElement)&&(ks(me)||me[ti]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(me=a.relatedTarget||a.toElement,ue=$,me=me?ks(me):null,me!==null&&(Tt=or(me),me!==Tt||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=$),ue!==me)){if(ge=fo,se="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ge=I,se="onPointerLeave",B="onPointerEnter",L="pointer"),Tt=ue==null?Z:Io(ue),z=me==null?Z:Io(me),Z=new ge(se,L+"leave",ue,a,ee),Z.target=Tt,Z.relatedTarget=z,se=null,ks(ee)===$&&(ge=new ge(B,L+"enter",me,a,ee),ge.target=z,ge.relatedTarget=Tt,se=ge),Tt=se,ue&&me)t:{for(ge=ue,B=me,L=0,z=ge;z;z=wo(z))L++;for(z=0,se=B;se;se=wo(se))z++;for(;0<L-z;)ge=wo(ge),L--;for(;0<z-L;)B=wo(B),z--;for(;L--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=wo(ge),B=wo(B)}ge=null}else ge=null;ue!==null&&ym(ne,Z,ue,ge,!1),me!==null&&Tt!==null&&ym(ne,Tt,me,ge,!0)}}e:{if(Z=$?Io($):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ye=pT;else if(Yp(Z))if(Jp)ye=vT;else{ye=gT;var Ae=mT}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=yT);if(ye&&(ye=ye(r,$))){Xp(ne,ye,a,ee);break e}Ae&&Ae(r,Z,$),r==="focusout"&&(Ae=Z._wrapperState)&&Ae.controlled&&Z.type==="number"&&nr(Z,"number",Z.value)}switch(Ae=$?Io($):window,r){case"focusin":(Yp(Ae)||Ae.contentEditable==="true")&&(_o=Ae,Sh=$,Da=null);break;case"focusout":Da=Sh=_o=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,om(ne,a,ee);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":om(ne,a,ee)}var Re;if(St)e:{switch(r){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else vo?Kp(r,a)&&(ke="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Cs&&a.locale!=="ko"&&(vo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&vo&&(Re=Aa()):(jn=ee,lo="value"in jn?jn.value:jn.textContent,vo=!0)),Ae=du($,ke),0<Ae.length&&(ke=new Ca(ke,r,null,a,ee),ne.push({event:ke,listeners:Ae}),Re?ke.data=Re:(Re=Qp(a),Re!==null&&(ke.data=Re)))),(Re=Fn?cT(r,a):hT(r,a))&&($=du($,"onBeforeInput"),0<$.length&&(ee=new Ca("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:$}),ee.data=Re))}mm(ne,s)})}function La(r,s,a){return{instance:r,listener:s,currentTarget:a}}function du(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=yt(r,a),g!=null&&h.unshift(La(r,g,f)),g=yt(r,s),g!=null&&h.push(La(r,g,f))),r=r.return}return h}function wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,s,a,h,f){for(var g=s._reactName,E=[];a!==null&&a!==h;){var R=a,x=R.alternate,$=R.stateNode;if(x!==null&&x===h)break;R.tag===5&&$!==null&&(R=$,f?(x=yt(a,g),x!=null&&E.unshift(La(a,x,R))):f||(x=yt(a,g),x!=null&&E.push(La(a,x,R)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var AT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function vm(r){return(typeof r=="string"?r:""+r).replace(AT,`
`).replace(RT,"")}function fu(r,s,a){if(s=vm(s),vm(r)!==s&&a)throw Error(t(425))}function pu(){}var Nh=null,Dh=null;function bh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(r){return _m.resolve(null).then(r).catch(kT)}:Oh;function kT(r){setTimeout(function(){throw r})}function Lh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),hr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);hr(s)}function Vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Em(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var To=Math.random().toString(36).slice(2),Lr="__reactFiber$"+To,Va="__reactProps$"+To,ti="__reactContainer$"+To,Vh="__reactEvents$"+To,xT="__reactListeners$"+To,NT="__reactHandles$"+To;function ks(r){var s=r[Lr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ti]||a[Lr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Em(r);r!==null;){if(a=r[Lr])return a;r=Em(r)}return s}r=a,a=r.parentNode}return null}function Ma(r){return r=r[Lr]||r[ti],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function mu(r){return r[Va]||null}var Mh=[],So=-1;function Mi(r){return{current:r}}function ct(r){0>So||(r.current=Mh[So],Mh[So]=null,So--)}function at(r,s){So++,Mh[So]=r.current,r.current=s}var ji={},sn=Mi(ji),Tn=Mi(!1),xs=ji;function Ao(r,s){var a=r.type.contextTypes;if(!a)return ji;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function In(r){return r=r.childContextTypes,r!=null}function gu(){ct(Tn),ct(sn)}function wm(r,s,a){if(sn.current!==ji)throw Error(t(168));at(sn,s),at(Tn,a)}function Tm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Ke(r)||"Unknown",f));return k({},a,h)}function yu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ji,xs=sn.current,at(sn,r),at(Tn,Tn.current),!0}function Im(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Tm(r,s,xs),h.__reactInternalMemoizedMergedChildContext=r,ct(Tn),ct(sn),at(sn,r)):ct(Tn),at(Tn,a)}var ni=null,vu=!1,jh=!1;function Sm(r){ni===null?ni=[r]:ni.push(r)}function DT(r){vu=!0,Sm(r)}function Fi(){if(!jh&&ni!==null){jh=!0;var r=0,s=We;try{var a=ni;for(We=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}ni=null,vu=!1}catch(f){throw ni!==null&&(ni=ni.slice(r+1)),ro(ws,Fi),f}finally{We=s,jh=!1}}return null}var Ro=[],Po=0,_u=null,Eu=0,Yn=[],Xn=0,Ns=null,ri=1,ii="";function Ds(r,s){Ro[Po++]=Eu,Ro[Po++]=_u,_u=r,Eu=s}function Am(r,s,a){Yn[Xn++]=ri,Yn[Xn++]=ii,Yn[Xn++]=Ns,Ns=r;var h=ri;r=ii;var f=32-mn(h)-1;h&=~(1<<f),a+=1;var g=32-mn(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,ri=1<<32-mn(s)+f|a<<f|h,ii=g+r}else ri=1<<g|a<<f|h,ii=r}function Fh(r){r.return!==null&&(Ds(r,1),Am(r,1,0))}function Uh(r){for(;r===_u;)_u=Ro[--Po],Ro[Po]=null,Eu=Ro[--Po],Ro[Po]=null;for(;r===Ns;)Ns=Yn[--Xn],Yn[Xn]=null,ii=Yn[--Xn],Yn[Xn]=null,ri=Yn[--Xn],Yn[Xn]=null}var Un=null,Bn=null,ft=!1,pr=null;function Rm(r,s){var a=tr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Pm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Un=r,Bn=Vi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Un=r,Bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ns!==null?{id:ri,overflow:ii}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=tr(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Un=r,Bn=null,!0):!1;default:return!1}}function Bh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zh(r){if(ft){var s=Bn;if(s){var a=s;if(!Pm(r,s)){if(Bh(r))throw Error(t(418));s=Vi(a.nextSibling);var h=Un;s&&Pm(r,s)?Rm(h,a):(r.flags=r.flags&-4097|2,ft=!1,Un=r)}}else{if(Bh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ft=!1,Un=r}}}function Cm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Un=r}function wu(r){if(r!==Un)return!1;if(!ft)return Cm(r),ft=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!bh(r.type,r.memoizedProps)),s&&(s=Bn)){if(Bh(r))throw km(),Error(t(418));for(;s;)Rm(r,s),s=Vi(s.nextSibling)}if(Cm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Bn=Vi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Bn=null}}else Bn=Un?Vi(r.stateNode.nextSibling):null;return!0}function km(){for(var r=Bn;r;)r=Vi(r.nextSibling)}function Co(){Bn=Un=null,ft=!1}function $h(r){pr===null?pr=[r]:pr.push(r)}var bT=ie.ReactCurrentBatchConfig;function mr(r,s){if(r&&r.defaultProps){s=k({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}var Tu=Mi(null),Iu=null,ko=null,Hh=null;function qh(){Hh=ko=Iu=null}function Wh(r){var s=Tu.current;ct(Tu),r._currentValue=s}function Gh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function xo(r,s){Iu=r,Hh=ko=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Sn=!0),r.firstContext=null)}function Jn(r){var s=r._currentValue;if(Hh!==r)if(r={context:r,memoizedValue:s,next:null},ko===null){if(Iu===null)throw Error(t(308));ko=r,Iu.dependencies={lanes:0,firstContext:r}}else ko=ko.next=r;return s}var bs=null;function Kh(r){bs===null?bs=[r]:bs.push(r)}function xm(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,Kh(s)):(a.next=f.next,f.next=a),s.interleaved=a,si(r,h)}function si(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ui=!1;function Qh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function oi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Bi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,si(r,a)}return f=h.interleaved,f===null?(s.next=s,Kh(h)):(s.next=f.next,f.next=s),h.interleaved=s,si(r,a)}function Su(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,xi(r,a)}}function Dm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Au(r,s,a,h){var f=r.updateQueue;Ui=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var x=R,$=x.next;x.next=null,E===null?g=$:E.next=$,E=x;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==E&&(R===null?ee.firstBaseUpdate=$:R.next=$,ee.lastBaseUpdate=x))}if(g!==null){var ne=f.baseState;E=0,ee=$=x=null,R=g;do{var Z=R.lane,ue=R.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=r,ge=R;switch(Z=s,ue=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ne=me.call(ue,ne,Z);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,Z=typeof me=="function"?me.call(ue,ne,Z):me,Z==null)break e;ne=k({},ne,Z);break e;case 2:Ui=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Z=f.effects,Z===null?f.effects=[R]:Z.push(R))}else ue={eventTime:ue,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?($=ee=ue,x=ne):ee=ee.next=ue,E|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ee===null&&(x=ne),f.baseState=x,f.firstBaseUpdate=$,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Vs|=E,r.lanes=E,r.memoizedState=ne}}function bm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Om=new n.Component().refs;function Yh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:k({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ru={isMounted:function(r){return(r=r._reactInternals)?or(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=vn(),f=qi(r),g=oi(h,f);g.payload=s,a!=null&&(g.callback=a),s=Bi(r,g,f),s!==null&&(vr(s,r,f,h),Su(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=vn(),f=qi(r),g=oi(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Bi(r,g,f),s!==null&&(vr(s,r,f,h),Su(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vn(),h=qi(r),f=oi(a,h);f.tag=2,s!=null&&(f.callback=s),s=Bi(r,f,h),s!==null&&(vr(s,r,h,a),Su(s,r,h))}};function Lm(r,s,a,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Na(a,h)||!Na(f,g):!0}function Vm(r,s,a){var h=!1,f=ji,g=s.contextType;return typeof g=="object"&&g!==null?g=Jn(g):(f=In(s)?xs:sn.current,h=s.contextTypes,g=(h=h!=null)?Ao(r,f):ji),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ru,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Mm(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Ru.enqueueReplaceState(s,s.state,null)}function Xh(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs=Om,Qh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Jn(g):(g=In(s)?xs:sn.current,f.context=Ao(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Yh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ru.enqueueReplaceState(f,f.state,null),Au(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ja(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var R=f.refs;R===Om&&(R=f.refs={}),E===null?delete R[g]:R[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Pu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function jm(r){var s=r._init;return s(r._payload)}function Fm(r){function s(B,L){if(r){var z=B.deletions;z===null?(B.deletions=[L],B.flags|=16):z.push(L)}}function a(B,L){if(!r)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function h(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Gi(B,L),B.index=0,B.sibling=null,B}function g(B,L,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<L?(B.flags|=2,L):z):(B.flags|=2,L)):(B.flags|=1048576,L)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function R(B,L,z,se){return L===null||L.tag!==6?(L=Od(z,B.mode,se),L.return=B,L):(L=f(L,z),L.return=B,L)}function x(B,L,z,se){var ye=z.type;return ye===O?ee(B,L,z.props.children,se,z.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ft&&jm(ye)===L.type)?(se=f(L,z.props),se.ref=ja(B,L,z),se.return=B,se):(se=Wu(z.type,z.key,z.props,null,B.mode,se),se.ref=ja(B,L,z),se.return=B,se)}function $(B,L,z,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=Ld(z,B.mode,se),L.return=B,L):(L=f(L,z.children||[]),L.return=B,L)}function ee(B,L,z,se,ye){return L===null||L.tag!==7?(L=Us(z,B.mode,se,ye),L.return=B,L):(L=f(L,z),L.return=B,L)}function ne(B,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Od(""+L,B.mode,z),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ne:return z=Wu(L.type,L.key,L.props,null,B.mode,z),z.ref=ja(B,null,L),z.return=B,z;case Ce:return L=Ld(L,B.mode,z),L.return=B,L;case Ft:var se=L._init;return ne(B,se(L._payload),z)}if(qn(L)||ve(L))return L=Us(L,B.mode,z,null),L.return=B,L;Pu(B,L)}return null}function Z(B,L,z,se){var ye=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:R(B,L,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ne:return z.key===ye?x(B,L,z,se):null;case Ce:return z.key===ye?$(B,L,z,se):null;case Ft:return ye=z._init,Z(B,L,ye(z._payload),se)}if(qn(z)||ve(z))return ye!==null?null:ee(B,L,z,se,null);Pu(B,z)}return null}function ue(B,L,z,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(z)||null,R(L,B,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Ne:return B=B.get(se.key===null?z:se.key)||null,x(L,B,se,ye);case Ce:return B=B.get(se.key===null?z:se.key)||null,$(L,B,se,ye);case Ft:var Ae=se._init;return ue(B,L,z,Ae(se._payload),ye)}if(qn(se)||ve(se))return B=B.get(z)||null,ee(L,B,se,ye,null);Pu(L,se)}return null}function me(B,L,z,se){for(var ye=null,Ae=null,Re=L,ke=L=0,$t=null;Re!==null&&ke<z.length;ke++){Re.index>ke?($t=Re,Re=null):$t=Re.sibling;var Je=Z(B,Re,z[ke],se);if(Je===null){Re===null&&(Re=$t);break}r&&Re&&Je.alternate===null&&s(B,Re),L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je,Re=$t}if(ke===z.length)return a(B,Re),ft&&Ds(B,ke),ye;if(Re===null){for(;ke<z.length;ke++)Re=ne(B,z[ke],se),Re!==null&&(L=g(Re,L,ke),Ae===null?ye=Re:Ae.sibling=Re,Ae=Re);return ft&&Ds(B,ke),ye}for(Re=h(B,Re);ke<z.length;ke++)$t=ue(Re,B,ke,z[ke],se),$t!==null&&(r&&$t.alternate!==null&&Re.delete($t.key===null?ke:$t.key),L=g($t,L,ke),Ae===null?ye=$t:Ae.sibling=$t,Ae=$t);return r&&Re.forEach(function(Ki){return s(B,Ki)}),ft&&Ds(B,ke),ye}function ge(B,L,z,se){var ye=ve(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var Ae=ye=null,Re=L,ke=L=0,$t=null,Je=z.next();Re!==null&&!Je.done;ke++,Je=z.next()){Re.index>ke?($t=Re,Re=null):$t=Re.sibling;var Ki=Z(B,Re,Je.value,se);if(Ki===null){Re===null&&(Re=$t);break}r&&Re&&Ki.alternate===null&&s(B,Re),L=g(Ki,L,ke),Ae===null?ye=Ki:Ae.sibling=Ki,Ae=Ki,Re=$t}if(Je.done)return a(B,Re),ft&&Ds(B,ke),ye;if(Re===null){for(;!Je.done;ke++,Je=z.next())Je=ne(B,Je.value,se),Je!==null&&(L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je);return ft&&Ds(B,ke),ye}for(Re=h(B,Re);!Je.done;ke++,Je=z.next())Je=ue(Re,B,ke,Je.value,se),Je!==null&&(r&&Je.alternate!==null&&Re.delete(Je.key===null?ke:Je.key),L=g(Je,L,ke),Ae===null?ye=Je:Ae.sibling=Je,Ae=Je);return r&&Re.forEach(function(d0){return s(B,d0)}),ft&&Ds(B,ke),ye}function Tt(B,L,z,se){if(typeof z=="object"&&z!==null&&z.type===O&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ne:e:{for(var ye=z.key,Ae=L;Ae!==null;){if(Ae.key===ye){if(ye=z.type,ye===O){if(Ae.tag===7){a(B,Ae.sibling),L=f(Ae,z.props.children),L.return=B,B=L;break e}}else if(Ae.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ft&&jm(ye)===Ae.type){a(B,Ae.sibling),L=f(Ae,z.props),L.ref=ja(B,Ae,z),L.return=B,B=L;break e}a(B,Ae);break}else s(B,Ae);Ae=Ae.sibling}z.type===O?(L=Us(z.props.children,B.mode,se,z.key),L.return=B,B=L):(se=Wu(z.type,z.key,z.props,null,B.mode,se),se.ref=ja(B,L,z),se.return=B,B=se)}return E(B);case Ce:e:{for(Ae=z.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(B,L.sibling),L=f(L,z.children||[]),L.return=B,B=L;break e}else{a(B,L);break}else s(B,L);L=L.sibling}L=Ld(z,B.mode,se),L.return=B,B=L}return E(B);case Ft:return Ae=z._init,Tt(B,L,Ae(z._payload),se)}if(qn(z))return me(B,L,z,se);if(ve(z))return ge(B,L,z,se);Pu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(B,L.sibling),L=f(L,z),L.return=B,B=L):(a(B,L),L=Od(z,B.mode,se),L.return=B,B=L),E(B)):a(B,L)}return Tt}var No=Fm(!0),Um=Fm(!1),Fa={},Vr=Mi(Fa),Ua=Mi(Fa),Ba=Mi(Fa);function Os(r){if(r===Fa)throw Error(t(174));return r}function Jh(r,s){switch(at(Ba,s),at(Ua,r),at(Vr,Fa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Y(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Y(s,r)}ct(Vr),at(Vr,s)}function Do(){ct(Vr),ct(Ua),ct(Ba)}function Bm(r){Os(Ba.current);var s=Os(Vr.current),a=Y(s,r.type);s!==a&&(at(Ua,r),at(Vr,a))}function Zh(r){Ua.current===r&&(ct(Vr),ct(Ua))}var vt=Mi(0);function Cu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ed=[];function td(){for(var r=0;r<ed.length;r++)ed[r]._workInProgressVersionPrimary=null;ed.length=0}var ku=ie.ReactCurrentDispatcher,nd=ie.ReactCurrentBatchConfig,Ls=0,_t=null,Ot=null,Bt=null,xu=!1,za=!1,$a=0,OT=0;function on(){throw Error(t(321))}function rd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!fr(r[a],s[a]))return!1;return!0}function id(r,s,a,h,f,g){if(Ls=g,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ku.current=r===null||r.memoizedState===null?jT:FT,r=a(h,f),za){g=0;do{if(za=!1,$a=0,25<=g)throw Error(t(301));g+=1,Bt=Ot=null,s.updateQueue=null,ku.current=UT,r=a(h,f)}while(za)}if(ku.current=bu,s=Ot!==null&&Ot.next!==null,Ls=0,Bt=Ot=_t=null,xu=!1,s)throw Error(t(300));return r}function sd(){var r=$a!==0;return $a=0,r}function Mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?_t.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Zn(){if(Ot===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=Bt===null?_t.memoizedState:Bt.next;if(s!==null)Bt=s,Ot=r;else{if(r===null)throw Error(t(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?_t.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function Ha(r,s){return typeof s=="function"?s(r):s}function od(r){var s=Zn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Ot,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=E=null,x=null,$=g;do{var ee=$.lane;if((Ls&ee)===ee)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var ne={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(R=x=ne,E=h):x=x.next=ne,_t.lanes|=ee,Vs|=ee}$=$.next}while($!==null&&$!==g);x===null?E=h:x.next=R,fr(h,s.memoizedState)||(Sn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,_t.lanes|=g,Vs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ad(r){var s=Zn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);fr(g,s.memoizedState)||(Sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function zm(){}function $m(r,s){var a=_t,h=Zn(),f=s(),g=!fr(h.memoizedState,f);if(g&&(h.memoizedState=f,Sn=!0),h=h.queue,ld(Wm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Bt!==null&&Bt.memoizedState.tag&1){if(a.flags|=2048,qa(9,qm.bind(null,a,h,f,s),void 0,null),zt===null)throw Error(t(349));(Ls&30)!==0||Hm(a,s,f)}return f}function Hm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function qm(r,s,a,h){s.value=a,s.getSnapshot=h,Gm(s)&&Km(r)}function Wm(r,s,a){return a(function(){Gm(s)&&Km(r)})}function Gm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!fr(r,a)}catch{return!0}}function Km(r){var s=si(r,1);s!==null&&vr(s,r,1,-1)}function Qm(r){var s=Mr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:r},s.queue=r,r=r.dispatch=MT.bind(null,_t,r),[s.memoizedState,r]}function qa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Ym(){return Zn().memoizedState}function Nu(r,s,a,h){var f=Mr();_t.flags|=r,f.memoizedState=qa(1|s,a,void 0,h===void 0?null:h)}function Du(r,s,a,h){var f=Zn();h=h===void 0?null:h;var g=void 0;if(Ot!==null){var E=Ot.memoizedState;if(g=E.destroy,h!==null&&rd(h,E.deps)){f.memoizedState=qa(s,a,g,h);return}}_t.flags|=r,f.memoizedState=qa(1|s,a,g,h)}function Xm(r,s){return Nu(8390656,8,r,s)}function ld(r,s){return Du(2048,8,r,s)}function Jm(r,s){return Du(4,2,r,s)}function Zm(r,s){return Du(4,4,r,s)}function eg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function tg(r,s,a){return a=a!=null?a.concat([r]):null,Du(4,4,eg.bind(null,s,r),a)}function ud(){}function ng(r,s){var a=Zn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&rd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function rg(r,s){var a=Zn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&rd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function ig(r,s,a){return(Ls&21)===0?(r.baseState&&(r.baseState=!1,Sn=!0),r.memoizedState=a):(fr(a,s)||(a=Ss(),_t.lanes|=a,Vs|=a,r.baseState=!0),s)}function LT(r,s){var a=We;We=a!==0&&4>a?a:4,r(!0);var h=nd.transition;nd.transition={};try{r(!1),s()}finally{We=a,nd.transition=h}}function sg(){return Zn().memoizedState}function VT(r,s,a){var h=qi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},og(r))ag(s,a);else if(a=xm(r,s,a,h),a!==null){var f=vn();vr(a,r,h,f),lg(a,s,h)}}function MT(r,s,a){var h=qi(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(og(r))ag(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,R=g(E,a);if(f.hasEagerState=!0,f.eagerState=R,fr(R,E)){var x=s.interleaved;x===null?(f.next=f,Kh(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=xm(r,s,f,h),a!==null&&(f=vn(),vr(a,r,h,f),lg(a,s,h))}}function og(r){var s=r.alternate;return r===_t||s!==null&&s===_t}function ag(r,s){za=xu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function lg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,xi(r,a)}}var bu={readContext:Jn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},jT={readContext:Jn,useCallback:function(r,s){return Mr().memoizedState=[r,s===void 0?null:s],r},useContext:Jn,useEffect:Xm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Nu(4194308,4,eg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Nu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Nu(4,2,r,s)},useMemo:function(r,s){var a=Mr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Mr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=VT.bind(null,_t,r),[h.memoizedState,r]},useRef:function(r){var s=Mr();return r={current:r},s.memoizedState=r},useState:Qm,useDebugValue:ud,useDeferredValue:function(r){return Mr().memoizedState=r},useTransition:function(){var r=Qm(!1),s=r[0];return r=LT.bind(null,r[1]),Mr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=_t,f=Mr();if(ft){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),zt===null)throw Error(t(349));(Ls&30)!==0||Hm(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Xm(Wm.bind(null,h,g,r),[r]),h.flags|=2048,qa(9,qm.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Mr(),s=zt.identifierPrefix;if(ft){var a=ii,h=ri;a=(h&~(1<<32-mn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=$a++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=OT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},FT={readContext:Jn,useCallback:ng,useContext:Jn,useEffect:ld,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:od,useRef:Ym,useState:function(){return od(Ha)},useDebugValue:ud,useDeferredValue:function(r){var s=Zn();return ig(s,Ot.memoizedState,r)},useTransition:function(){var r=od(Ha)[0],s=Zn().memoizedState;return[r,s]},useMutableSource:zm,useSyncExternalStore:$m,useId:sg,unstable_isNewReconciler:!1},UT={readContext:Jn,useCallback:ng,useContext:Jn,useEffect:ld,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:ad,useRef:Ym,useState:function(){return ad(Ha)},useDebugValue:ud,useDeferredValue:function(r){var s=Zn();return Ot===null?s.memoizedState=r:ig(s,Ot.memoizedState,r)},useTransition:function(){var r=ad(Ha)[0],s=Zn().memoizedState;return[r,s]},useMutableSource:zm,useSyncExternalStore:$m,useId:sg,unstable_isNewReconciler:!1};function bo(r,s){try{var a="",h=s;do a+=Ge(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function cd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function hd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function ug(r,s,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Uu||(Uu=!0,Rd=h),hd(r,s)},a}function cg(r,s,a){a=oi(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){hd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){hd(r,s),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function hg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new BT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=t0.bind(null,r,s,a),s.then(r,r))}function dg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function fg(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=oi(-1,1),s.tag=2,Bi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var zT=ie.ReactCurrentOwner,Sn=!1;function yn(r,s,a,h){s.child=r===null?Um(s,null,a,h):No(s,r.child,a,h)}function pg(r,s,a,h,f){a=a.render;var g=s.ref;return xo(s,f),h=id(r,s,a,h,g,f),a=sd(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(ft&&a&&Fh(s),s.flags|=1,yn(r,s,h,f),s.child)}function mg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!bd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,gg(r,s,g,h,f)):(r=Wu(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(E,h)&&r.ref===s.ref)return ai(r,s,f)}return s.flags|=1,r=Gi(g,h),r.ref=s.ref,r.return=s,s.child=r}function gg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Na(g,h)&&r.ref===s.ref)if(Sn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Sn=!0);else return s.lanes=r.lanes,ai(r,s,f)}return dd(r,s,a,h,f)}function yg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Lo,zn),zn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,at(Lo,zn),zn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,at(Lo,zn),zn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,at(Lo,zn),zn|=h;return yn(r,s,f,a),s.child}function vg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function dd(r,s,a,h,f){var g=In(a)?xs:sn.current;return g=Ao(s,g),xo(s,f),a=id(r,s,a,h,g,f),h=sd(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ai(r,s,f)):(ft&&h&&Fh(s),s.flags|=1,yn(r,s,a,f),s.child)}function _g(r,s,a,h,f){if(In(a)){var g=!0;yu(s)}else g=!1;if(xo(s,f),s.stateNode===null)Lu(r,s),Vm(s,a,h),Xh(s,a,h,f),h=!0;else if(r===null){var E=s.stateNode,R=s.memoizedProps;E.props=R;var x=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=Jn($):($=In(a)?xs:sn.current,$=Ao(s,$));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==h||x!==$)&&Mm(s,E,h,$),Ui=!1;var Z=s.memoizedState;E.state=Z,Au(s,h,E,f),x=s.memoizedState,R!==h||Z!==x||Tn.current||Ui?(typeof ee=="function"&&(Yh(s,a,ee,h),x=s.memoizedState),(R=Ui||Lm(s,a,R,h,Z,x,$))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),E.props=h,E.state=x,E.context=$,h=R):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Nm(r,s),R=s.memoizedProps,$=s.type===s.elementType?R:mr(s.type,R),E.props=$,ne=s.pendingProps,Z=E.context,x=a.contextType,typeof x=="object"&&x!==null?x=Jn(x):(x=In(a)?xs:sn.current,x=Ao(s,x));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ne||Z!==x)&&Mm(s,E,h,x),Ui=!1,Z=s.memoizedState,E.state=Z,Au(s,h,E,f);var me=s.memoizedState;R!==ne||Z!==me||Tn.current||Ui?(typeof ue=="function"&&(Yh(s,a,ue,h),me=s.memoizedState),($=Ui||Lm(s,a,$,h,Z,me,x)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,me,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,me,x)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=me),E.props=h,E.state=me,E.context=x,h=$):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),h=!1)}return fd(r,s,a,h,g,f)}function fd(r,s,a,h,f,g){vg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&Im(s,a,!1),ai(r,s,g);h=s.stateNode,zT.current=s;var R=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=No(s,r.child,null,g),s.child=No(s,null,R,g)):yn(r,s,R,g),s.memoizedState=h.state,f&&Im(s,a,!0),s.child}function Eg(r){var s=r.stateNode;s.pendingContext?wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&wm(r,s.context,!1),Jh(r,s.containerInfo)}function wg(r,s,a,h,f){return Co(),$h(f),s.flags|=256,yn(r,s,a,h),s.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(r){return{baseLanes:r,cachePool:null,transitions:null}}function Tg(r,s,a){var h=s.pendingProps,f=vt.current,g=!1,E=(s.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),at(vt,f&1),r===null)return zh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Gu(E,h,0,null),r=Us(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=md(a),s.memoizedState=pd,r):gd(s,E));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return $T(r,s,E,h,R,f,a);if(g){g=h.fallback,E=s.mode,f=r.child,R=f.sibling;var x={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=Gi(f,x),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Gi(R,g):(g=Us(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?md(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=pd,h}return g=r.child,r=g.sibling,h=Gi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function gd(r,s){return s=Gu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ou(r,s,a,h){return h!==null&&$h(h),No(s,r.child,null,a),r=gd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function $T(r,s,a,h,f,g,E){if(a)return s.flags&256?(s.flags&=-257,h=cd(Error(t(422))),Ou(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Gu({mode:"visible",children:h.children},f,0,null),g=Us(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&No(s,r.child,null,E),s.child.memoizedState=md(E),s.memoizedState=pd,g);if((s.mode&1)===0)return Ou(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=cd(g,h,void 0),Ou(r,s,E,h)}if(R=(E&r.childLanes)!==0,Sn||R){if(h=zt,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,si(r,f),vr(h,r,f,-1))}return Dd(),h=cd(Error(t(421))),Ou(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=n0.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Bn=Vi(f.nextSibling),Un=s,ft=!0,pr=null,r!==null&&(Yn[Xn++]=ri,Yn[Xn++]=ii,Yn[Xn++]=Ns,ri=r.id,ii=r.overflow,Ns=s),s=gd(s,h.children),s.flags|=4096,s)}function Ig(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Gh(r.return,s,a)}function yd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Sg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(yn(r,s,h.children,a),h=vt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ig(r,a,s);else if(r.tag===19)Ig(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(at(vt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Cu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),yd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Cu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}yd(s,!0,a,null,g);break;case"together":yd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Vs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Gi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Gi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function HT(r,s,a){switch(s.tag){case 3:Eg(s),Co();break;case 5:Bm(s);break;case 1:In(s.type)&&yu(s);break;case 4:Jh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;at(Tu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Tg(r,s,a):(at(vt,vt.current&1),r=ai(r,s,a),r!==null?r.sibling:null);at(vt,vt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Sg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(vt,vt.current),h)break;return null;case 22:case 23:return s.lanes=0,yg(r,s,a)}return ai(r,s,a)}var Ag,vd,Rg,Pg;Ag=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vd=function(){},Rg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Os(Vr.current);var g=null;switch(a){case"input":f=Rr(r,f),h=Rr(r,h),g=[];break;case"select":f=k({},f,{value:void 0}),h=k({},h,{value:void 0}),g=[];break;case"textarea":f=vs(r,f),h=vs(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=pu)}Ze(a,h);var E;a=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var R=f[$];for(E in R)R.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in h){var x=h[$];if(R=f!=null?f[$]:void 0,h.hasOwnProperty($)&&x!==R&&(x!=null||R!=null))if($==="style")if(R){for(E in R)!R.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in x)x.hasOwnProperty(E)&&R[E]!==x[E]&&(a||(a={}),a[E]=x[E])}else a||(g||(g=[]),g.push($,a)),a=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&ut("scroll",r),g||R===x||(g=[])):(g=g||[]).push($,x))}a&&(g=g||[]).push("style",a);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},Pg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Wa(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function an(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function qT(r,s,a){var h=s.pendingProps;switch(Uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return In(s.type)&&gu(),an(s),null;case 3:return h=s.stateNode,Do(),ct(Tn),ct(sn),td(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(wu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pr!==null&&(kd(pr),pr=null))),vd(r,s),an(s),null;case 5:Zh(s);var f=Os(Ba.current);if(a=s.type,r!==null&&s.stateNode!=null)Rg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(r=Os(Vr.current),wu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Lr]=s,h[Va]=g,r=(s.mode&1)!==0,a){case"dialog":ut("cancel",h),ut("close",h);break;case"iframe":case"object":case"embed":ut("load",h);break;case"video":case"audio":for(f=0;f<ba.length;f++)ut(ba[f],h);break;case"source":ut("error",h);break;case"img":case"image":case"link":ut("error",h),ut("load",h);break;case"details":ut("toggle",h);break;case"input":Ii(h,g),ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},ut("invalid",h);break;case"textarea":Ai(h,g),ut("invalid",h)}Ze(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&fu(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&fu(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&ut("scroll",h)}switch(a){case"input":bn(h),Pr(h,g,!0);break;case"textarea":bn(h),W(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=pu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=q(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[Lr]=s,r[Va]=h,Ag(r,s,!1,!1),s.stateNode=r;e:{switch(E=qt(a,h),a){case"dialog":ut("cancel",r),ut("close",r),f=h;break;case"iframe":case"object":case"embed":ut("load",r),f=h;break;case"video":case"audio":for(f=0;f<ba.length;f++)ut(ba[f],r);f=h;break;case"source":ut("error",r),f=h;break;case"img":case"image":case"link":ut("error",r),ut("load",r),f=h;break;case"details":ut("toggle",r),f=h;break;case"input":Ii(r,h),f=Rr(r,h),ut("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=k({},h,{value:void 0}),ut("invalid",r);break;case"textarea":Ai(r,h),f=vs(r,h),ut("invalid",r);break;default:f=h}Ze(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?lt(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&le(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Ie(r,x):typeof x=="number"&&Ie(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&ut("scroll",r):x!=null&&re(r,g,x,E))}switch(a){case"input":bn(r),Pr(r,h,!1);break;case"textarea":bn(r),W(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Ln(r,!!h.multiple,g,!1):h.defaultValue!=null&&Ln(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=pu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(r&&s.stateNode!=null)Pg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Os(Ba.current),Os(Vr.current),wu(s)){if(h=s.stateNode,a=s.memoizedProps,h[Lr]=s,(g=h.nodeValue!==a)&&(r=Un,r!==null))switch(r.tag){case 3:fu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Lr]=s,s.stateNode=h}return an(s),null;case 13:if(ct(vt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)km(),Co(),s.flags|=98560,g=!1;else if(g=wu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Lr]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),g=!1}else pr!==null&&(kd(pr),pr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(vt.current&1)!==0?Lt===0&&(Lt=3):Dd())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return Do(),vd(r,s),r===null&&Oa(s.stateNode.containerInfo),an(s),null;case 10:return Wh(s.type._context),an(s),null;case 17:return In(s.type)&&gu(),an(s),null;case 19:if(ct(vt),g=s.memoizedState,g===null)return an(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)Wa(g,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Cu(r),E!==null){for(s.flags|=128,Wa(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return at(vt,vt.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>Vo&&(s.flags|=128,h=!0,Wa(g,!1),s.lanes=4194304)}else{if(!h)if(r=Cu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Wa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ft)return an(s),null}else 2*ot()-g.renderingStartTime>Vo&&a!==1073741824&&(s.flags|=128,h=!0,Wa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=vt.current,at(vt,h?a&1|2:a&1),s):(an(s),null);case 22:case 23:return Nd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(zn&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function WT(r,s){switch(Uh(s),s.tag){case 1:return In(s.type)&&gu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Do(),ct(Tn),ct(sn),td(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Zh(s),null;case 13:if(ct(vt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ct(vt),null;case 4:return Do(),null;case 10:return Wh(s.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var Vu=!1,ln=!1,GT=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Oo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){wt(r,s,h)}else a.current=null}function _d(r,s,a){try{a()}catch(h){wt(r,s,h)}}var Cg=!1;function KT(r,s){if(Nh=bi,r=sm(),Ih(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,R=-1,x=-1,$=0,ee=0,ne=r,Z=null;t:for(;;){for(var ue;ne!==a||f!==0&&ne.nodeType!==3||(R=E+f),ne!==g||h!==0&&ne.nodeType!==3||(x=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===r)break t;if(Z===a&&++$===f&&(R=E),Z===g&&++ee===h&&(x=E),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}a=R===-1||x===-1?null:{start:R,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dh={focusedElem:r,selectionRange:a},bi=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Tt=me.memoizedState,B=s.stateNode,L=B.getSnapshotBeforeUpdate(s.elementType===s.type?ge:mr(s.type,ge),Tt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){wt(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=Cg,Cg=!1,me}function Ga(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&_d(s,a,g)}f=f.next}while(f!==h)}}function Mu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Ed(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function kg(r){var s=r.alternate;s!==null&&(r.alternate=null,kg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Lr],delete s[Va],delete s[Vh],delete s[xT],delete s[NT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xg(r){return r.tag===5||r.tag===3||r.tag===4}function Ng(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pu));else if(h!==4&&(r=r.child,r!==null))for(wd(r,s,a),r=r.sibling;r!==null;)wd(r,s,a),r=r.sibling}function Td(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Td(r,s,a),r=r.sibling;r!==null;)Td(r,s,a),r=r.sibling}var Yt=null,gr=!1;function zi(r,s,a){for(a=a.child;a!==null;)Dg(r,s,a),a=a.sibling}function Dg(r,s,a){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Ts,a)}catch{}switch(a.tag){case 5:ln||Oo(a,s);case 6:var h=Yt,f=gr;Yt=null,zi(r,s,a),Yt=h,gr=f,Yt!==null&&(gr?(r=Yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(gr?(r=Yt,a=a.stateNode,r.nodeType===8?Lh(r.parentNode,a):r.nodeType===1&&Lh(r,a),hr(r)):Lh(Yt,a.stateNode));break;case 4:h=Yt,f=gr,Yt=a.stateNode.containerInfo,gr=!0,zi(r,s,a),Yt=h,gr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&_d(a,s,E),f=f.next}while(f!==h)}zi(r,s,a);break;case 1:if(!ln&&(Oo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){wt(a,s,R)}zi(r,s,a);break;case 21:zi(r,s,a);break;case 22:a.mode&1?(ln=(h=ln)||a.memoizedState!==null,zi(r,s,a),ln=h):zi(r,s,a);break;default:zi(r,s,a)}}function bg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new GT),s.forEach(function(h){var f=r0.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function yr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 5:Yt=R.stateNode,gr=!1;break e;case 3:Yt=R.stateNode.containerInfo,gr=!0;break e;case 4:Yt=R.stateNode.containerInfo,gr=!0;break e}R=R.return}if(Yt===null)throw Error(t(160));Dg(g,E,f),Yt=null,gr=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch($){wt(f,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Og(s,r),s=s.sibling}function Og(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(s,r),jr(r),h&4){try{Ga(3,r,r.return),Mu(3,r)}catch(ge){wt(r,r.return,ge)}try{Ga(5,r,r.return)}catch(ge){wt(r,r.return,ge)}}break;case 1:yr(s,r),jr(r),h&512&&a!==null&&Oo(a,a.return);break;case 5:if(yr(s,r),jr(r),h&512&&a!==null&&Oo(a,a.return),r.flags&32){var f=r.stateNode;try{Ie(f,"")}catch(ge){wt(r,r.return,ge)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,R=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Si(f,g),qt(R,E);var $=qt(R,g);for(E=0;E<x.length;E+=2){var ee=x[E],ne=x[E+1];ee==="style"?lt(f,ne):ee==="dangerouslySetInnerHTML"?le(f,ne):ee==="children"?Ie(f,ne):re(f,ee,ne,$)}switch(R){case"input":ys(f,g);break;case"textarea":Kr(f,g);break;case"select":var Z=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Ln(f,!!g.multiple,ue,!1):Z!==!!g.multiple&&(g.defaultValue!=null?Ln(f,!!g.multiple,g.defaultValue,!0):Ln(f,!!g.multiple,g.multiple?[]:"",!1))}f[Va]=g}catch(ge){wt(r,r.return,ge)}}break;case 6:if(yr(s,r),jr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ge){wt(r,r.return,ge)}}break;case 3:if(yr(s,r),jr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{hr(s.containerInfo)}catch(ge){wt(r,r.return,ge)}break;case 4:yr(s,r),jr(r);break;case 13:yr(s,r),jr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Ad=ot())),h&4&&bg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(ln=($=ln)||ee,yr(s,r),ln=$):yr(s,r),jr(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!ee&&(r.mode&1)!==0)for(fe=r,ee=r.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(Z=fe,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ga(4,Z,Z.return);break;case 1:Oo(Z,Z.return);var me=Z.stateNode;if(typeof me.componentWillUnmount=="function"){h=Z,a=Z.return;try{s=h,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){wt(h,a,ge)}}break;case 5:Oo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Mg(ne);continue}}ue!==null?(ue.return=Z,fe=ue):Mg(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,$?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,x=ne.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Se("display",E))}catch(ge){wt(r,r.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=$?"":ne.memoizedProps}catch(ge){wt(r,r.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:yr(s,r),jr(r),h&4&&bg(r);break;case 21:break;default:yr(s,r),jr(r)}}function jr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(xg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Ie(f,""),h.flags&=-33);var g=Ng(r);Td(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,R=Ng(r);wd(r,R,E);break;default:throw Error(t(161))}}catch(x){wt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function QT(r,s,a){fe=r,Lg(r)}function Lg(r,s,a){for(var h=(r.mode&1)!==0;fe!==null;){var f=fe,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||Vu;if(!E){var R=f.alternate,x=R!==null&&R.memoizedState!==null||ln;R=Vu;var $=ln;if(Vu=E,(ln=x)&&!$)for(fe=f;fe!==null;)E=fe,x=E.child,E.tag===22&&E.memoizedState!==null?jg(f):x!==null?(x.return=E,fe=x):jg(f);for(;g!==null;)fe=g,Lg(g),g=g.sibling;fe=f,Vu=R,ln=$}Vg(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,fe=g):Vg(r)}}function Vg(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||Mu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!ln)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:mr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&bm(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}bm(s,E,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&hr(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&Ed(s)}catch(Z){wt(s,s.return,Z)}}if(s===r){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Mg(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function jg(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Mu(4,s)}catch(x){wt(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){wt(s,f,x)}}var g=s.return;try{Ed(s)}catch(x){wt(s,g,x)}break;case 5:var E=s.return;try{Ed(s)}catch(x){wt(s,E,x)}}}catch(x){wt(s,s.return,x)}if(s===r){fe=null;break}var R=s.sibling;if(R!==null){R.return=s.return,fe=R;break}fe=s.return}}var YT=Math.ceil,ju=ie.ReactCurrentDispatcher,Id=ie.ReactCurrentOwner,er=ie.ReactCurrentBatchConfig,Xe=0,zt=null,At=null,Xt=0,zn=0,Lo=Mi(0),Lt=0,Ka=null,Vs=0,Fu=0,Sd=0,Qa=null,An=null,Ad=0,Vo=1/0,li=null,Uu=!1,Rd=null,$i=null,Bu=!1,Hi=null,zu=0,Ya=0,Pd=null,$u=-1,Hu=0;function vn(){return(Xe&6)!==0?ot():$u!==-1?$u:$u=ot()}function qi(r){return(r.mode&1)===0?1:(Xe&2)!==0&&Xt!==0?Xt&-Xt:bT.transition!==null?(Hu===0&&(Hu=Ss()),Hu):(r=We,r!==0||(r=window.event,r=r===void 0?16:Sa(r.type)),r)}function vr(r,s,a,h){if(50<Ya)throw Ya=0,Pd=null,Error(t(185));ki(r,a,h),((Xe&2)===0||r!==zt)&&(r===zt&&((Xe&2)===0&&(Fu|=a),Lt===4&&Wi(r,Xt)),Rn(r,h),a===1&&Xe===0&&(s.mode&1)===0&&(Vo=ot()+500,vu&&Fi()))}function Rn(r,s){var a=r.callbackNode;Yr(r,s);var h=Is(r,r===zt?Xt:0);if(h===0)a!==null&&_a(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&_a(a),s===1)r.tag===0?DT(Ug.bind(null,r)):Sm(Ug.bind(null,r)),CT(function(){(Xe&6)===0&&Fi()}),a=null;else{switch(Ni(h)){case 1:a=ws;break;case 4:a=Ri;break;case 16:a=Gn;break;case 536870912:a=Hl;break;default:a=Gn}a=Kg(a,Fg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Fg(r,s){if($u=-1,Hu=0,(Xe&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Mo()&&r.callbackNode!==a)return null;var h=Is(r,r===zt?Xt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=qu(r,h);else{s=h;var f=Xe;Xe|=2;var g=zg();(zt!==r||Xt!==s)&&(li=null,Vo=ot()+500,js(r,s));do try{ZT();break}catch(R){Bg(r,R)}while(!0);qh(),ju.current=g,Xe=f,At!==null?s=0:(zt=null,Xt=0,s=Lt)}if(s!==0){if(s===2&&(f=Mn(r),f!==0&&(h=f,s=Cd(r,f))),s===1)throw a=Ka,js(r,0),Wi(r,h),Rn(r,ot()),a;if(s===6)Wi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!XT(f)&&(s=qu(r,h),s===2&&(g=Mn(r),g!==0&&(h=g,s=Cd(r,g))),s===1))throw a=Ka,js(r,0),Wi(r,h),Rn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Fs(r,An,li);break;case 3:if(Wi(r,h),(h&130023424)===h&&(s=Ad+500-ot(),10<s)){if(Is(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Oh(Fs.bind(null,r,An,li),s);break}Fs(r,An,li);break;case 4:if(Wi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-mn(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*YT(h/1960))-h,10<h){r.timeoutHandle=Oh(Fs.bind(null,r,An,li),h);break}Fs(r,An,li);break;case 5:Fs(r,An,li);break;default:throw Error(t(329))}}}return Rn(r,ot()),r.callbackNode===a?Fg.bind(null,r):null}function Cd(r,s){var a=Qa;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=qu(r,s),r!==2&&(s=An,An=a,s!==null&&kd(s)),r}function kd(r){An===null?An=r:An.push.apply(An,r)}function XT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!fr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wi(r,s){for(s&=~Sd,s&=~Fu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-mn(s),h=1<<a;r[a]=-1,s&=~h}}function Ug(r){if((Xe&6)!==0)throw Error(t(327));Mo();var s=Is(r,0);if((s&1)===0)return Rn(r,ot()),null;var a=qu(r,s);if(r.tag!==0&&a===2){var h=Mn(r);h!==0&&(s=h,a=Cd(r,h))}if(a===1)throw a=Ka,js(r,0),Wi(r,s),Rn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Fs(r,An,li),Rn(r,ot()),null}function xd(r,s){var a=Xe;Xe|=1;try{return r(s)}finally{Xe=a,Xe===0&&(Vo=ot()+500,vu&&Fi())}}function Ms(r){Hi!==null&&Hi.tag===0&&(Xe&6)===0&&Mo();var s=Xe;Xe|=1;var a=er.transition,h=We;try{if(er.transition=null,We=1,r)return r()}finally{We=h,er.transition=a,Xe=s,(Xe&6)===0&&Fi()}}function Nd(){zn=Lo.current,ct(Lo)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,PT(a)),At!==null)for(a=At.return;a!==null;){var h=a;switch(Uh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&gu();break;case 3:Do(),ct(Tn),ct(sn),td();break;case 5:Zh(h);break;case 4:Do();break;case 13:ct(vt);break;case 19:ct(vt);break;case 10:Wh(h.type._context);break;case 22:case 23:Nd()}a=a.return}if(zt=r,At=r=Gi(r.current,null),Xt=zn=s,Lt=0,Ka=null,Sd=Fu=Vs=0,An=Qa=null,bs!==null){for(s=0;s<bs.length;s++)if(a=bs[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}bs=null}return r}function Bg(r,s){do{var a=At;try{if(qh(),ku.current=bu,xu){for(var h=_t.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}xu=!1}if(Ls=0,Bt=Ot=_t=null,za=!1,$a=0,Id.current=null,a===null||a.return===null){Lt=1,Ka=s,At=null;break}e:{var g=r,E=a.return,R=a,x=s;if(s=Xt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,ee=R,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=dg(E);if(ue!==null){ue.flags&=-257,fg(ue,E,R,g,s),ue.mode&1&&hg(g,$,s),s=ue,x=$;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(x),s.updateQueue=ge}else me.add(x);break e}else{if((s&1)===0){hg(g,$,s),Dd();break e}x=Error(t(426))}}else if(ft&&R.mode&1){var Tt=dg(E);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),fg(Tt,E,R,g,s),$h(bo(x,R));break e}}g=x=bo(x,R),Lt!==4&&(Lt=2),Qa===null?Qa=[g]:Qa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=ug(g,x,s);Dm(g,B);break e;case 1:R=x;var L=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&($i===null||!$i.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=cg(g,R,s);Dm(g,se);break e}}g=g.return}while(g!==null)}Hg(a)}catch(ye){s=ye,At===a&&a!==null&&(At=a=a.return);continue}break}while(!0)}function zg(){var r=ju.current;return ju.current=bu,r===null?bu:r}function Dd(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||(Vs&268435455)===0&&(Fu&268435455)===0||Wi(zt,Xt)}function qu(r,s){var a=Xe;Xe|=2;var h=zg();(zt!==r||Xt!==s)&&(li=null,js(r,s));do try{JT();break}catch(f){Bg(r,f)}while(!0);if(qh(),Xe=a,ju.current=h,At!==null)throw Error(t(261));return zt=null,Xt=0,Lt}function JT(){for(;At!==null;)$g(At)}function ZT(){for(;At!==null&&!zl();)$g(At)}function $g(r){var s=Gg(r.alternate,r,zn);r.memoizedProps=r.pendingProps,s===null?Hg(r):At=s,Id.current=null}function Hg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=qT(a,s,zn),a!==null){At=a;return}}else{if(a=WT(a,s),a!==null){a.flags&=32767,At=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=r}while(s!==null);Lt===0&&(Lt=5)}function Fs(r,s,a){var h=We,f=er.transition;try{er.transition=null,We=1,e0(r,s,a,h)}finally{er.transition=f,We=h}return null}function e0(r,s,a,h){do Mo();while(Hi!==null);if((Xe&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(st(r,g),r===zt&&(At=zt=null,Xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Bu||(Bu=!0,Kg(Gn,function(){return Mo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=er.transition,er.transition=null;var E=We;We=1;var R=Xe;Xe|=4,Id.current=null,KT(r,a),Og(a,r),ET(Dh),bi=!!Nh,Dh=Nh=null,r.current=a,QT(a),mh(),Xe=R,We=E,er.transition=g}else r.current=a;if(Bu&&(Bu=!1,Hi=r,zu=f),g=r.pendingLanes,g===0&&($i=null),ql(a.stateNode),Rn(r,ot()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Uu)throw Uu=!1,r=Rd,Rd=null,r;return(zu&1)!==0&&r.tag!==0&&Mo(),g=r.pendingLanes,(g&1)!==0?r===Pd?Ya++:(Ya=0,Pd=r):Ya=0,Fi(),null}function Mo(){if(Hi!==null){var r=Ni(zu),s=er.transition,a=We;try{if(er.transition=null,We=16>r?16:r,Hi===null)var h=!1;else{if(r=Hi,Hi=null,zu=0,(Xe&6)!==0)throw Error(t(331));var f=Xe;for(Xe|=4,fe=r.current;fe!==null;){var g=fe,E=g.child;if((fe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var $=R[x];for(fe=$;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:Ga(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var Z=ee.sibling,ue=ee.return;if(kg(ee),ee===$){fe=null;break}if(Z!==null){Z.return=ue,fe=Z;break}fe=ue}}}var me=g.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Tt=ge.sibling;ge.sibling=null,ge=Tt}while(ge!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ga(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,fe=B;break e}fe=g.return}}var L=r.current;for(fe=L;fe!==null;){E=fe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,fe=z;else e:for(E=L;fe!==null;){if(R=fe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Mu(9,R)}}catch(ye){wt(R,R.return,ye)}if(R===E){fe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,fe=se;break e}fe=R.return}}if(Xe=f,Fi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Ts,r)}catch{}h=!0}return h}finally{We=a,er.transition=s}}return!1}function qg(r,s,a){s=bo(a,s),s=ug(r,s,1),r=Bi(r,s,1),s=vn(),r!==null&&(ki(r,1,s),Rn(r,s))}function wt(r,s,a){if(r.tag===3)qg(r,r,a);else for(;s!==null;){if(s.tag===3){qg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($i===null||!$i.has(h))){r=bo(a,r),r=cg(s,r,1),s=Bi(s,r,1),r=vn(),s!==null&&(ki(s,1,r),Rn(s,r));break}}s=s.return}}function t0(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=vn(),r.pingedLanes|=r.suspendedLanes&a,zt===r&&(Xt&a)===a&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>ot()-Ad?js(r,0):Sd|=a),Rn(r,s)}function Wg(r,s){s===0&&((r.mode&1)===0?s=1:(s=so,so<<=1,(so&130023424)===0&&(so=4194304)));var a=vn();r=si(r,s),r!==null&&(ki(r,s,a),Rn(r,a))}function n0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Wg(r,a)}function r0(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Wg(r,a)}var Gg;Gg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Tn.current)Sn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Sn=!1,HT(r,s,a);Sn=(r.flags&131072)!==0}else Sn=!1,ft&&(s.flags&1048576)!==0&&Am(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Lu(r,s),r=s.pendingProps;var f=Ao(s,sn.current);xo(s,a),f=id(null,s,h,r,f,a);var g=sd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,In(h)?(g=!0,yu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Qh(s),f.updater=Ru,s.stateNode=f,f._reactInternals=s,Xh(s,h,r,a),s=fd(null,s,h,!0,g,a)):(s.tag=0,ft&&g&&Fh(s),yn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Lu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=s0(h),r=mr(h,r),f){case 0:s=dd(null,s,h,r,a);break e;case 1:s=_g(null,s,h,r,a);break e;case 11:s=pg(null,s,h,r,a);break e;case 14:s=mg(null,s,h,mr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:mr(h,f),dd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:mr(h,f),_g(r,s,h,f,a);case 3:e:{if(Eg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Nm(r,s),Au(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=bo(Error(t(423)),s),s=wg(r,s,h,a,f);break e}else if(h!==f){f=bo(Error(t(424)),s),s=wg(r,s,h,a,f);break e}else for(Bn=Vi(s.stateNode.containerInfo.firstChild),Un=s,ft=!0,pr=null,a=Um(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Co(),h===f){s=ai(r,s,a);break e}yn(r,s,h,a)}s=s.child}return s;case 5:return Bm(s),r===null&&zh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,bh(h,f)?E=null:g!==null&&bh(h,g)&&(s.flags|=32),vg(r,s),yn(r,s,E,a),s.child;case 6:return r===null&&zh(s),null;case 13:return Tg(r,s,a);case 4:return Jh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=No(s,null,h,a):yn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:mr(h,f),pg(r,s,h,f,a);case 7:return yn(r,s,s.pendingProps,a),s.child;case 8:return yn(r,s,s.pendingProps.children,a),s.child;case 12:return yn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,at(Tu,h._currentValue),h._currentValue=E,g!==null)if(fr(g.value,E)){if(g.children===f.children&&!Tn.current){s=ai(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var x=R.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=oi(-1,a&-a),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?x.next=x:(x.next=ee.next,ee.next=x),$.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Gh(g.return,a,s),R.lanes|=a;break}x=x.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,R=E.alternate,R!==null&&(R.lanes|=a),Gh(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}yn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,xo(s,a),f=Jn(f),h=h(f),s.flags|=1,yn(r,s,h,a),s.child;case 14:return h=s.type,f=mr(h,s.pendingProps),f=mr(h.type,f),mg(r,s,h,f,a);case 15:return gg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:mr(h,f),Lu(r,s),s.tag=1,In(h)?(r=!0,yu(s)):r=!1,xo(s,a),Vm(s,h,f),Xh(s,h,f,a),fd(null,s,h,!0,r,a);case 19:return Sg(r,s,a);case 22:return yg(r,s,a)}throw Error(t(156,s.tag))};function Kg(r,s){return ro(r,s)}function i0(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(r,s,a,h){return new i0(r,s,a,h)}function bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function s0(r){if(typeof r=="function")return bd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===jt)return 14}return 2}function Gi(r,s){var a=r.alternate;return a===null?(a=tr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Wu(r,s,a,h,f,g){var E=2;if(h=r,typeof r=="function")bd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case O:return Us(a.children,f,g,s);case A:E=8,f|=8;break;case C:return r=tr(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case P:return r=tr(13,a,s,f),r.elementType=P,r.lanes=g,r;case gt:return r=tr(19,a,s,f),r.elementType=gt,r.lanes=g,r;case De:return Gu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case M:E=9;break e;case F:E=11;break e;case jt:E=14;break e;case Ft:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=tr(E,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Us(r,s,a,h){return r=tr(7,r,h,s),r.lanes=a,r}function Gu(r,s,a,h){return r=tr(22,r,h,s),r.elementType=De,r.lanes=a,r.stateNode={isHidden:!1},r}function Od(r,s,a){return r=tr(6,r,null,s),r.lanes=a,r}function Ld(r,s,a){return s=tr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function o0(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Vd(r,s,a,h,f,g,E,R,x){return r=new o0(r,s,a,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=tr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(g),r}function a0(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Qg(r){if(!r)return ji;r=r._reactInternals;e:{if(or(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(In(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(In(a))return Tm(r,a,s)}return s}function Yg(r,s,a,h,f,g,E,R,x){return r=Vd(a,h,!0,r,f,g,E,R,x),r.context=Qg(null),a=r.current,h=vn(),f=qi(a),g=oi(h,f),g.callback=s??null,Bi(a,g,f),r.current.lanes=f,ki(r,f,h),Rn(r,h),r}function Ku(r,s,a,h){var f=s.current,g=vn(),E=qi(f);return a=Qg(a),s.context===null?s.context=a:s.pendingContext=a,s=oi(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Bi(f,s,E),r!==null&&(vr(r,f,E,g),Su(r,f,E)),E}function Qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Xg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Md(r,s){Xg(r,s),(r=r.alternate)&&Xg(r,s)}function l0(){return null}var Jg=typeof reportError=="function"?reportError:function(r){console.error(r)};function jd(r){this._internalRoot=r}Yu.prototype.render=jd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Ku(r,s,null,null)},Yu.prototype.unmount=jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ms(function(){Ku(null,r,null,null)}),s[ti]=null}};function Yu(r){this._internalRoot=r}Yu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Nr.length&&s!==0&&s<Nr[a].priority;a++);Nr.splice(a,0,r),a===0&&Zl(r)}};function Fd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Xu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function u0(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var $=Qu(E);g.call($)}}var E=Yg(s,h,r,0,null,!1,!1,"",Zg);return r._reactRootContainer=E,r[ti]=E.current,Oa(r.nodeType===8?r.parentNode:r),Ms(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var $=Qu(x);R.call($)}}var x=Vd(r,0,!1,null,null,!1,!1,"",Zg);return r._reactRootContainer=x,r[ti]=x.current,Oa(r.nodeType===8?r.parentNode:r),Ms(function(){Ku(s,x,a,h)}),x}function Ju(r,s,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var R=f;f=function(){var x=Qu(E);R.call(x)}}Ku(s,E,r,f)}else E=u0(a,s,r,f,h);return Qu(E)}Kl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Pi(s.pendingLanes);a!==0&&(xi(s,a|1),Rn(s,ot()),(Xe&6)===0&&(Vo=ot()+500,Fi()))}break;case 13:Ms(function(){var h=si(r,1);if(h!==null){var f=vn();vr(h,r,1,f)}}),Md(r,1)}},oo=function(r){if(r.tag===13){var s=si(r,134217728);if(s!==null){var a=vn();vr(s,r,134217728,a)}Md(r,134217728)}},Ql=function(r){if(r.tag===13){var s=qi(r),a=si(r,s);if(a!==null){var h=vn();vr(a,r,s,h)}Md(r,s)}},Yl=function(){return We},Xl=function(r,s){var a=We;try{return We=r,s()}finally{We=a}},rr=function(r,s,a){switch(s){case"input":if(ys(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=mu(h);if(!f)throw Error(t(90));Ar(h),ys(h,f)}}}break;case"textarea":Kr(r,a);break;case"select":s=a.value,s!=null&&Ln(r,!!a.multiple,s,!1)}},fn=xd,ir=Ms;var c0={usingClientEntryPoint:!1,Events:[Ma,Io,mu,it,Nt,xd]},Xa={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},h0={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=va(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Ts=Zu.inject(h0),Vn=Zu}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0,Pn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(s))throw Error(t(200));return a0(r,s,null,a)},Pn.createRoot=function(r,s){if(!Fd(r))throw Error(t(299));var a=!1,h="",f=Jg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Vd(r,1,!1,null,null,a,!1,h,f),r[ti]=s.current,Oa(r.nodeType===8?r.parentNode:r),new jd(s)},Pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=va(s),r=r===null?null:r.stateNode,r},Pn.flushSync=function(r){return Ms(r)},Pn.hydrate=function(r,s,a){if(!Xu(s))throw Error(t(200));return Ju(null,r,s,!0,a)},Pn.hydrateRoot=function(r,s,a){if(!Fd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=Jg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Yg(s,null,r,1,a??null,f,!1,g,E),r[ti]=s.current,Oa(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Yu(s)},Pn.render=function(r,s,a){if(!Xu(s))throw Error(t(200));return Ju(null,r,s,!1,a)},Pn.unmountComponentAtNode=function(r){if(!Xu(r))throw Error(t(40));return r._reactRootContainer?(Ms(function(){Ju(null,null,r,!1,function(){r._reactRootContainer=null,r[ti]=null})}),!0):!1},Pn.unstable_batchedUpdates=xd,Pn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Xu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ju(r,s,a,!1,h)},Pn.version="18.2.0-next-9e3b772b8-20220608",Pn}var ay;function E0(){if(ay)return zd.exports;ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zd.exports=_0(),zd.exports}var ly;function w0(){if(ly)return ec;ly=1;var n=E0();return ec.createRoot=n.createRoot,ec.hydrateRoot=n.hydrateRoot,ec}var T0=w0();const I0=aa(T0),c_=rt.createContext({}),h_=!0;function S0({baseColor:n,highlightColor:e,width:t,height:i,borderRadius:o,circle:l,direction:c,duration:d,enableAnimation:p=h_}){const y={};return c==="rtl"&&(y["--animation-direction"]="reverse"),typeof d=="number"&&(y["--animation-duration"]=`${d}s`),p||(y["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(y.width=t),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof o=="string"||typeof o=="number")&&(y.borderRadius=o),l&&(y.borderRadius="50%"),typeof n<"u"&&(y["--base-color"]=n),typeof e<"u"&&(y["--highlight-color"]=e),y}function Ho({count:n=1,wrapper:e,className:t,containerClassName:i,containerTestId:o,circle:l=!1,style:c,...d}){var p,y,_;const S=rt.useContext(c_),T={...d};for(const[re,ie]of Object.entries(d))typeof ie>"u"&&delete T[re];const N={...S,...T,circle:l},b={...c,...S0(N)};let j="react-loading-skeleton";t&&(j+=` ${t}`);const V=(p=N.inline)!==null&&p!==void 0?p:!1,G=[],te=Math.ceil(n);for(let re=0;re<te;re++){let ie=b;if(te>n&&re===te-1){const Ce=(y=ie.width)!==null&&y!==void 0?y:"100%",O=n%1,A=typeof Ce=="number"?Ce*O:`calc(${Ce} * ${O})`;ie={...ie,width:A}}const Ne=rt.createElement("span",{className:j,style:ie,key:re},"‌");V?G.push(Ne):G.push(rt.createElement(rt.Fragment,{key:re},Ne,rt.createElement("br",null)))}return rt.createElement("span",{className:i,"data-testid":o,"aria-live":"polite","aria-busy":(_=N.enableAnimation)!==null&&_!==void 0?_:h_},e?G.map((re,ie)=>rt.createElement(e,{key:ie},re)):G)}function A0({children:n,...e}){return rt.createElement(c_.Provider,{value:e},n)}const R0="modulepreload",P0=function(n,e){return new URL(n,e).href},uy={},Hn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(_){return Promise.all(_.map(S=>Promise.resolve(S).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const d=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=c(t.map(_=>{if(_=P0(_,i),_ in uy)return;uy[_]=!0;const S=_.endsWith(".css"),T=S?'[rel="stylesheet"]':"";if(!!i)for(let j=d.length-1;j>=0;j--){const V=d[j];if(V.href===_&&(!S||V.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${_}"]${T}`))return;const b=document.createElement("link");if(b.rel=S?"stylesheet":R0,S||(b.as="script"),b.crossOrigin="",b.href=_,y&&b.setAttribute("nonce",y),document.head.appendChild(b),S)return new Promise((j,V)=>{b.addEventListener("load",j),b.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nt.apply(this,arguments)}var Pt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pt||(Pt={}));const cy="popstate";function C0(n){n===void 0&&(n={});function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=Gr(o.location.hash.substr(1));return pl("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof l=="string"?l:yi(l))}function i(o,l){d_(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return x0(e,t,i,n)}function Fe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function d_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k0(){return Math.random().toString(36).substr(2,8)}function hy(n,e){return{usr:n.state,key:n.key,idx:e}}function pl(n,e,t,i){return t===void 0&&(t=null),nt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Gr(e):e,{state:t,key:e&&e.key||i||k0()})}function yi(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Gr(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function x0(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=Pt.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(nt({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function S(){let V=Pt.Pop,G=_();if(G!=null){let te=G-y;d=V,y=G,p&&p({action:d,location:j.location,delta:te})}else d_(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function T(V,G){d=Pt.Push;let te=pl(j.location,V,G);t&&t(te,V),y=_()+1;let re=hy(te,y),ie=j.createHref(te);try{c.pushState(re,"",ie)}catch{o.location.assign(ie)}l&&p&&p({action:d,location:j.location,delta:1})}function N(V,G){d=Pt.Replace;let te=pl(j.location,V,G);t&&t(te,V),y=_();let re=hy(te,y),ie=j.createHref(te);c.replaceState(re,"",ie),l&&p&&p({action:d,location:j.location,delta:0})}function b(V){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof V=="string"?V:yi(V);return Fe(G,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,G)}let j={get action(){return d},get location(){return n(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cy,S),p=V,()=>{o.removeEventListener(cy,S),p=null}},createHref(V){return e(o,V)},createURL:b,encodeLocation(V){let G=b(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:N,go(V){return c.go(V)}};return j}var Jt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Jt||(Jt={}));function N0(n){return n.index===!0}function f_(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((i,o)=>{let l=[...e,o],c=typeof i.id=="string"?i.id:l.join("-");return Fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fe(!t.has(c),'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),t.add(c),N0(i)?nt({},i,{id:c}):nt({},i,{id:c,children:i.children?f_(i.children,l,t):void 0})})}function rl(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Gr(e):e,o=g_(i.pathname||"/",t);if(o==null)return null;let l=p_(n);D0(l);let c=null;for(let d=0;c==null&&d<l.length;++d)c=B0(l[d],H0(o));return c}function p_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Fe(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=pi([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Fe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),p_(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:F0(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of m_(l.path))o(l,c,p)}),e}function m_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=m_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function D0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:U0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const b0=/^:\w+$/,O0=3,L0=2,V0=1,M0=10,j0=-2,dy=n=>n==="*";function F0(n,e){let t=n.split("/"),i=t.length;return t.some(dy)&&(i+=j0),e&&(i+=L0),t.filter(o=>!dy(o)).reduce((o,l)=>o+(b0.test(l)?O0:l===""?V0:M0),i)}function U0(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function B0(n,e){let{routesMeta:t}=n,i={},o="/",l=[];for(let c=0;c<t.length;++c){let d=t[c],p=c===t.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=z0({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y);if(!_)return null;Object.assign(i,_.params);let S=d.route;l.push({params:i,pathname:pi([o,_.pathname]),pathnameBase:K0(pi([o,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(o=pi([o,_.pathnameBase]))}return l}function z0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=$0(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,S)=>{if(_==="*"){let T=d[S]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}return y[_]=q0(d[S]||"",_),y},{}),pathname:l,pathnameBase:c,pattern:n}}function $0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Uc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,d)=>(i.push(d),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function H0(n){try{return decodeURI(n)}catch(e){return Uc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function q0(n,e){try{return decodeURIComponent(n)}catch(t){return Uc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function g_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Uc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W0(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Gr(n):n;return{pathname:t?t.startsWith("/")?t:G0(t,e):e,search:Q0(i),hash:Y0(o)}}function G0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qd(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bc(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wf(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Gr(n):(o=nt({},n),Fe(!o.pathname||!o.pathname.includes("?"),qd("?","pathname","search",o)),Fe(!o.pathname||!o.pathname.includes("#"),qd("#","pathname","hash",o)),Fe(!o.search||!o.search.includes("#"),qd("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(i||c==null)d=t;else{let S=e.length-1;if(c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}d=S>=0?e[S]:"/"}let p=W0(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const pi=n=>n.join("/").replace(/\/\/+/g,"/"),K0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Q0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Y0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class fy extends Error{}class X0{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Fe(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((l,c)=>i=c),this.controller=new AbortController;let o=()=>i(new fy("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",o),this.controller.signal.addEventListener("abort",o),this.data=Object.entries(e).reduce((l,c)=>{let[d,p]=c;return Object.assign(l,{[d]:this.trackPromise(d,p)})},{}),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(o=>this.onSettle(i,e,null,o),o=>this.onSettle(i,e,o));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,o){return this.controller.signal.aborted&&i instanceof fy?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>o}),this.emit(!1,t),o))}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(o=>{this.subscribe(l=>{e.removeEventListener("abort",i),(l||this.done)&&o(l)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Fe(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,o]=t;return Object.assign(e,{[i]:Z0(o)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function J0(n){return n instanceof Promise&&n._tracked===!0}function Z0(n){if(!J0(n))return n;if(n._error)throw n._error;return n._data}class zc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function y_(n){return n instanceof zc}const v_=["post","put","patch","delete"],eI=new Set(v_),tI=["get",...v_],nI=new Set(tI),rI=new Set([301,302,303,307,308]),iI=new Set([307,308]),Wd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},sI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},py={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},__=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oI=!__;function aI(n){Fe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=f_(n.routes),t=null,i=new Set,o=null,l=null,c=null,d=n.hydrationData!=null,p=rl(e,n.history.location,n.basename),y=null;if(p==null){let W=ci(404,{pathname:n.history.location.pathname}),{matches:q,route:Y}=Ey(e);p=q,y={[Y.id]:W}}let _=!p.some(W=>W.route.loader)||n.hydrationData!=null,S,T={historyAction:n.history.action,location:n.history.location,matches:p,initialized:_,navigation:Wd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||y,fetchers:new Map,blockers:new Map},N=Pt.Pop,b=!1,j,V=!1,G=!1,te=[],re=[],ie=new Map,Ne=0,Ce=-1,O=new Map,A=new Set,C=new Map,D=new Map,M=null,F=new Map,P=!1;function gt(){return t=n.history.listen(W=>{let{action:q,location:Y,delta:pe}=W;if(P){P=!1;return}let le=qn({currentLocation:T.location,nextLocation:Y,historyAction:q});if(le){P=!0,n.history.go(pe*-1),nr(le,{state:"blocked",location:Y,proceed(){nr(le,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),n.history.go(pe)},reset(){Pr(le),De({blockers:new Map(S.state.blockers)})}});return}return K(q,Y)}),T.initialized||K(Pt.Pop,T.location),S}function jt(){t&&t(),i.clear(),j&&j.abort(),T.fetchers.forEach((W,q)=>Ar(q)),T.blockers.forEach((W,q)=>Pr(q))}function Ft(W){return i.add(W),()=>i.delete(W)}function De(W){T=nt({},T,W),i.forEach(q=>q(T))}function oe(W,q){var Y,pe;let le=T.actionData!=null&&T.navigation.formMethod!=null&&Yi(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Y=W.state)==null?void 0:Y._isRedirect)!==!0,Ie;q.actionData?Object.keys(q.actionData).length>0?Ie=q.actionData:Ie=null:le?Ie=T.actionData:Ie=null;let we=q.loaderData?_y(T.loaderData,q.loaderData,q.matches||[],q.errors):T.loaderData;for(let[Se]of F)Pr(Se);let je=b===!0||T.navigation.formMethod!=null&&Yi(T.navigation.formMethod)&&((pe=W.state)==null?void 0:pe._isRedirect)!==!0;De(nt({},q,{actionData:Ie,loaderData:we,historyAction:N,location:W,initialized:!0,navigation:Wd,revalidation:"idle",restoreScrollPosition:Kr(W,q.matches||T.matches),preventScrollReset:je,blockers:new Map(T.blockers)})),V||N===Pt.Pop||(N===Pt.Push?n.history.push(W,W.state):N===Pt.Replace&&n.history.replace(W,W.state)),N=Pt.Pop,b=!1,V=!1,G=!1,te=[],re=[]}async function ve(W,q){if(typeof W=="number"){n.history.go(W);return}let{path:Y,submission:pe,error:le}=my(W,q),Ie=T.location,we=pl(T.location,Y,q&&q.state);we=nt({},we,n.history.encodeLocation(we));let je=q&&q.replace!=null?q.replace:void 0,Se=Pt.Push;je===!0?Se=Pt.Replace:je===!1||pe!=null&&Yi(pe.formMethod)&&pe.formAction===T.location.pathname+T.location.search&&(Se=Pt.Replace);let lt=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ve=qn({currentLocation:Ie,nextLocation:we,historyAction:Se});if(Ve){nr(Ve,{state:"blocked",location:we,proceed(){nr(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),ve(W,q)},reset(){Pr(Ve),De({blockers:new Map(T.blockers)})}});return}return await K(Se,we,{submission:pe,pendingError:le,preventScrollReset:lt,replace:q&&q.replace})}function k(){if(Sr(),De({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){K(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}K(N||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function K(W,q,Y){j&&j.abort(),j=null,N=W,V=(Y&&Y.startUninterruptedRevalidation)===!0,Ai(T.location,T.matches),b=(Y&&Y.preventScrollReset)===!0;let pe=Y&&Y.overrideNavigation,le=rl(e,q,n.basename);if(!le){let Ze=ci(404,{pathname:q.pathname}),{matches:qt,route:xt}=Ey(e);Ln(),oe(q,{matches:qt,loaderData:{},errors:{[xt.id]:Ze}});return}if(dI(T.location,q)){oe(q,{matches:le});return}j=new AbortController;let Ie=el(n.history,q,j.signal,Y&&Y.submission),we,je;if(Y&&Y.pendingError)je={[$o(le).route.id]:Y.pendingError};else if(Y&&Y.submission&&Yi(Y.submission.formMethod)){let Ze=await de(Ie,q,Y.submission,le,{replace:Y.replace});if(Ze.shortCircuited)return;we=Ze.pendingActionData,je=Ze.pendingActionError,pe=nt({state:"loading",location:q},Y.submission),Ie=new Request(Ie.url,{signal:Ie.signal})}let{shortCircuited:Se,loaderData:lt,errors:Ve}=await Ee(Ie,q,le,pe,Y&&Y.submission,Y&&Y.replace,we,je);Se||(j=null,oe(q,nt({matches:le},we?{actionData:we}:{},{loaderData:lt,errors:Ve})))}async function de(W,q,Y,pe,le){Sr();let Ie=nt({state:"submitting",location:q},Y);De({navigation:Ie});let we,je=Sy(pe,q);if(!je.route.action)we={type:Jt.error,error:ci(405,{method:W.method,pathname:q.pathname,routeId:je.route.id})};else if(we=await Za("action",W,je,pe,S.basename),W.signal.aborted)return{shortCircuited:!0};if(qo(we)){let Se;return le&&le.replace!=null?Se=le.replace:Se=we.location===T.location.pathname+T.location.search,await Ue(T,we,{submission:Y,replace:Se}),{shortCircuited:!0}}if(ll(we)){let Se=$o(pe,je.route.id);return(le&&le.replace)!==!0&&(N=Pt.Push),{pendingActionData:{},pendingActionError:{[Se.route.id]:we.error}}}if($s(we))throw ci(400,{type:"defer-action"});return{pendingActionData:{[je.route.id]:we.data}}}async function Ee(W,q,Y,pe,le,Ie,we,je){let Se=pe;Se||(Se=nt({state:"loading",location:q,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let lt=le||(Se.formMethod&&Se.formAction&&Se.formData&&Se.formEncType?{formMethod:Se.formMethod,formAction:Se.formAction,formData:Se.formData,formEncType:Se.formEncType}:void 0),[Ve,Ze]=gy(n.history,T,Y,lt,q,G,te,re,we,je,C);if(Ln(it=>!(Y&&Y.some(Nt=>Nt.route.id===it))||Ve&&Ve.some(Nt=>Nt.route.id===it)),Ve.length===0&&Ze.length===0)return oe(q,nt({matches:Y,loaderData:{},errors:je||null},we?{actionData:we}:{})),{shortCircuited:!0};if(!V){Ze.forEach(Nt=>{let[fn]=Nt,ir=T.fetchers.get(fn),pn={state:"loading",data:ir&&ir.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(fn,pn)});let it=we||T.actionData;De(nt({navigation:Se},it?Object.keys(it).length===0?{actionData:null}:{actionData:it}:{},Ze.length>0?{fetchers:new Map(T.fetchers)}:{}))}Ce=++Ne,Ze.forEach(it=>{let[Nt]=it;return ie.set(Nt,j)});let{results:qt,loaderResults:xt,fetcherResults:Wn}=await kt(T.matches,Y,Ve,Ze,W);if(W.signal.aborted)return{shortCircuited:!0};Ze.forEach(it=>{let[Nt]=it;return ie.delete(Nt)});let rr=wy(qt);if(rr)return await Ue(T,rr,{replace:Ie}),{shortCircuited:!0};let{loaderData:Wt,errors:Gt}=vy(T,Y,Ve,xt,je,Ze,Wn,D);D.forEach((it,Nt)=>{it.subscribe(fn=>{(fn||it.done)&&D.delete(Nt)})}),Ii();let Cr=Si(Ce);return nt({loaderData:Wt,errors:Gt},Cr||Ze.length>0?{fetchers:new Map(T.fetchers)}:{})}function Le(W){return T.fetchers.get(W)||sI}function Ge(W,q,Y,pe){if(oI)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ie.has(W)&&On(W);let le=rl(e,Y,n.basename);if(!le){bn(W,q,ci(404,{pathname:Y}));return}let{path:Ie,submission:we}=my(Y,pe,!0),je=Sy(le,Ie);if(we&&Yi(we.formMethod)){qe(W,q,Ie,je,le,we);return}C.set(W,[Ie,je,le]),Ke(W,q,Ie,je,le,we)}async function qe(W,q,Y,pe,le,Ie){if(Sr(),C.delete(W),!pe.route.action){let rn=ci(405,{method:Ie.formMethod,pathname:Y,routeId:q});bn(W,q,rn);return}let we=T.fetchers.get(W),je=nt({state:"submitting"},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});T.fetchers.set(W,je),De({fetchers:new Map(T.fetchers)});let Se=new AbortController,lt=el(n.history,Y,Se.signal,Ie);ie.set(W,Se);let Ve=await Za("action",lt,pe,le,S.basename);if(lt.signal.aborted){ie.get(W)===Se&&ie.delete(W);return}if(qo(Ve)){ie.delete(W),A.add(W);let rn=nt({state:"loading"},Ie,{data:void 0," _hasFetcherDoneAnything ":!0});return T.fetchers.set(W,rn),De({fetchers:new Map(T.fetchers)}),Ue(T,Ve,{isFetchActionRedirect:!0})}if(ll(Ve)){bn(W,q,Ve.error);return}if($s(Ve))throw ci(400,{type:"defer-action"});let Ze=T.navigation.location||T.location,qt=el(n.history,Ze,Se.signal),xt=T.navigation.state!=="idle"?rl(e,T.navigation.location,n.basename):T.matches;Fe(xt,"Didn't find any matches after fetcher action");let Wn=++Ne;O.set(W,Wn);let rr=nt({state:"loading",data:Ve.data},Ie,{" _hasFetcherDoneAnything ":!0});T.fetchers.set(W,rr);let[Wt,Gt]=gy(n.history,T,xt,Ie,Ze,G,te,re,{[pe.route.id]:Ve.data},void 0,C);Gt.filter(rn=>{let[Dt]=rn;return Dt!==W}).forEach(rn=>{let[Dt]=rn,kr=T.fetchers.get(Dt),Qr={state:"loading",data:kr&&kr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(Dt,Qr),ie.set(Dt,Se)}),De({fetchers:new Map(T.fetchers)});let{results:Cr,loaderResults:it,fetcherResults:Nt}=await kt(T.matches,xt,Wt,Gt,qt);if(Se.signal.aborted)return;O.delete(W),ie.delete(W),Gt.forEach(rn=>{let[Dt]=rn;return ie.delete(Dt)});let fn=wy(Cr);if(fn)return Ue(T,fn);let{loaderData:ir,errors:pn}=vy(T,T.matches,Wt,it,void 0,Gt,Nt,D),_s={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(W,_s);let yt=Si(Wn);T.navigation.state==="loading"&&Wn>Ce?(Fe(N,"Expected pending action"),j&&j.abort(),oe(T.navigation.location,{matches:xt,loaderData:ir,errors:pn,fetchers:new Map(T.fetchers)})):(De(nt({errors:pn,loaderData:_y(T.loaderData,ir,xt,pn)},yt?{fetchers:new Map(T.fetchers)}:{})),G=!1)}async function Ke(W,q,Y,pe,le,Ie){let we=T.fetchers.get(W),je=nt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ie,{data:we&&we.data," _hasFetcherDoneAnything ":!0});T.fetchers.set(W,je),De({fetchers:new Map(T.fetchers)});let Se=new AbortController,lt=el(n.history,Y,Se.signal);ie.set(W,Se);let Ve=await Za("loader",lt,pe,le,S.basename);if($s(Ve)&&(Ve=await I_(Ve,lt.signal,!0)||Ve),ie.get(W)===Se&&ie.delete(W),lt.signal.aborted)return;if(qo(Ve)){await Ue(T,Ve);return}if(ll(Ve)){let qt=$o(T.matches,q);T.fetchers.delete(W),De({fetchers:new Map(T.fetchers),errors:{[qt.route.id]:Ve.error}});return}Fe(!$s(Ve),"Unhandled fetcher deferred data");let Ze={state:"idle",data:Ve.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(W,Ze),De({fetchers:new Map(T.fetchers)})}async function Ue(W,q,Y){var pe;let{submission:le,replace:Ie,isFetchActionRedirect:we}=Y===void 0?{}:Y;q.revalidate&&(G=!0);let je=pl(W.location,q.location,nt({_isRedirect:!0},we?{_isFetchActionRedirect:!0}:{}));if(Fe(je,"Expected a location on the redirect navigation"),__&&typeof((pe=window)==null?void 0:pe.location)<"u"){let xt=n.history.createURL(q.location).origin;if(window.location.origin!==xt){Ie?window.location.replace(q.location):window.location.assign(q.location);return}}j=null;let Se=Ie===!0?Pt.Replace:Pt.Push,{formMethod:lt,formAction:Ve,formEncType:Ze,formData:qt}=W.navigation;!le&&lt&&Ve&&qt&&Ze&&(le={formMethod:lt,formAction:Ve,formEncType:Ze,formData:qt}),iI.has(q.status)&&le&&Yi(le.formMethod)?await K(Se,je,{submission:nt({},le,{formAction:q.location}),preventScrollReset:b}):await K(Se,je,{overrideNavigation:{state:"loading",location:je,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:b})}async function kt(W,q,Y,pe,le){let Ie=await Promise.all([...Y.map(Se=>Za("loader",le,Se,q,S.basename)),...pe.map(Se=>{let[,lt,Ve,Ze]=Se;return Za("loader",el(n.history,lt,le.signal),Ve,Ze,S.basename)})]),we=Ie.slice(0,Y.length),je=Ie.slice(Y.length);return await Promise.all([Ty(W,Y,we,le.signal,!1,T.loaderData),Ty(W,pe.map(Se=>{let[,,lt]=Se;return lt}),je,le.signal,!0)]),{results:Ie,loaderResults:we,fetcherResults:je}}function Sr(){G=!0,te.push(...Ln()),C.forEach((W,q)=>{ie.has(q)&&(re.push(q),On(q))})}function bn(W,q,Y){let pe=$o(T.matches,q);Ar(W),De({errors:{[pe.route.id]:Y},fetchers:new Map(T.fetchers)})}function Ar(W){ie.has(W)&&On(W),C.delete(W),O.delete(W),A.delete(W),T.fetchers.delete(W)}function On(W){let q=ie.get(W);Fe(q,"Expected fetch controller: "+W),q.abort(),ie.delete(W)}function Rr(W){for(let q of W){let pe={state:"idle",data:Le(q).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};T.fetchers.set(q,pe)}}function Ii(){let W=[];for(let q of A){let Y=T.fetchers.get(q);Fe(Y,"Expected fetcher: "+q),Y.state==="loading"&&(A.delete(q),W.push(q))}Rr(W)}function Si(W){let q=[];for(let[Y,pe]of O)if(pe<W){let le=T.fetchers.get(Y);Fe(le,"Expected fetcher: "+Y),le.state==="loading"&&(On(Y),O.delete(Y),q.push(Y))}return Rr(q),q.length>0}function ys(W,q){let Y=T.blockers.get(W)||py;return F.get(W)!==q&&(F.set(W,q),M==null?M=W:W!==M&&Uc(!1,"A router only supports one blocker at a time")),Y}function Pr(W){T.blockers.delete(W),F.delete(W),M===W&&(M=null)}function nr(W,q){let Y=T.blockers.get(W)||py;Fe(Y.state==="unblocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="blocked"||Y.state==="blocked"&&q.state==="proceeding"||Y.state==="blocked"&&q.state==="unblocked"||Y.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+q.state),T.blockers.set(W,q),De({blockers:new Map(T.blockers)})}function qn(W){let{currentLocation:q,nextLocation:Y,historyAction:pe}=W;if(M==null)return;let le=F.get(M);Fe(le,"Could not find a function for the active blocker");let Ie=T.blockers.get(M);if(!(Ie&&Ie.state==="proceeding")&&le({currentLocation:q,nextLocation:Y,historyAction:pe}))return M}function Ln(W){let q=[];return D.forEach((Y,pe)=>{(!W||W(pe))&&(Y.cancel(),q.push(pe),D.delete(pe))}),q}function vs(W,q,Y){if(o=W,c=q,l=Y||(pe=>pe.key),!d&&T.navigation===Wd){d=!0;let pe=Kr(T.location,T.matches);pe!=null&&De({restoreScrollPosition:pe})}return()=>{o=null,c=null,l=null}}function Ai(W,q){if(o&&l&&c){let Y=q.map(le=>Iy(le,T.loaderData)),pe=l(W,Y)||W.key;o[pe]=c()}}function Kr(W,q){if(o&&l&&c){let Y=q.map(Ie=>Iy(Ie,T.loaderData)),pe=l(W,Y)||W.key,le=o[pe];if(typeof le=="number")return le}return null}return S={get basename(){return n.basename},get state(){return T},get routes(){return e},initialize:gt,subscribe:Ft,enableScrollRestoration:vs,navigate:ve,fetch:Ge,revalidate:k,createHref:W=>n.history.createHref(W),encodeLocation:W=>n.history.encodeLocation(W),getFetcher:Le,deleteFetcher:Ar,dispose:jt,getBlocker:ys,deleteBlocker:Pr,_internalFetchControllers:ie,_internalActiveDeferreds:D},S}function lI(n){return n!=null&&"formData"in n}function my(n,e,t){t===void 0&&(t=!1);let i=typeof n=="string"?n:yi(n);if(!e||!lI(e))return{path:i};if(e.formMethod&&!pI(e.formMethod))return{path:i,error:ci(405,{method:e.formMethod})};let o;if(e.formData&&(o={formMethod:e.formMethod||"get",formAction:T_(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Yi(o.formMethod)))return{path:i,submission:o};let l=Gr(i);try{let c=w_(e.formData);t&&l.search&&S_(l.search)&&c.append("index",""),l.search="?"+c}catch{return{path:i,error:ci(400)}}return{path:yi(l),submission:o}}function uI(n,e){let t=n;if(e){let i=n.findIndex(o=>o.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function gy(n,e,t,i,o,l,c,d,p,y,_){let S=y?Object.values(y)[0]:p?Object.values(p)[0]:void 0,T=y?Object.keys(y)[0]:void 0,b=uI(t,T).filter((V,G)=>V.route.loader!=null&&(cI(e.loaderData,e.matches[G],V)||c.some(te=>te===V.route.id)||yy(n,e.location,e.matches[G],i,o,V,l,S))),j=[];return _&&_.forEach((V,G)=>{let[te,re,ie]=V;d.includes(G)?j.push([G,te,re,ie]):l&&yy(n,te,re,i,te,re,l,S)&&j.push([G,te,re,ie])}),[b,j]}function cI(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function E_(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function yy(n,e,t,i,o,l,c,d){let p=n.createURL(e),y=t.params,_=n.createURL(o),S=l.params,T=E_(t,l)||p.toString()===_.toString()||p.search!==_.search||c;if(l.route.shouldRevalidate){let N=l.route.shouldRevalidate(nt({currentUrl:p,currentParams:y,nextUrl:_,nextParams:S},i,{actionResult:d,defaultShouldRevalidate:T}));if(typeof N=="boolean")return N}return T}async function Za(n,e,t,i,o,l,c,d){o===void 0&&(o="/"),l===void 0&&(l=!1),c===void 0&&(c=!1);let p,y,_,S=new Promise((N,b)=>_=b),T=()=>_();e.signal.addEventListener("abort",T);try{let N=t.route[n];Fe(N,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),y=await Promise.race([N({request:e,params:t.params,context:d}),S]),Fe(y!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(N){p=Jt.error,y=N}finally{e.signal.removeEventListener("abort",T)}if(fI(y)){let N=y.status;if(rI.has(N)){let V=y.headers.get("Location");if(Fe(V,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(V)){if(!l){let te=new URL(e.url),re=V.startsWith("//")?new URL(te.protocol+V):new URL(V);re.origin===te.origin&&(V=re.pathname+re.search+re.hash)}}else{let te=i.slice(0,i.indexOf(t)+1),re=Bc(te).map(Ne=>Ne.pathnameBase),ie=Wf(V,re,new URL(e.url).pathname);if(Fe(yi(ie),"Unable to resolve redirect location: "+V),o){let Ne=ie.pathname;ie.pathname=Ne==="/"?o:pi([o,Ne])}V=yi(ie)}if(l)throw y.headers.set("Location",V),y;return{type:Jt.redirect,status:N,location:V,revalidate:y.headers.get("X-Remix-Revalidate")!==null}}if(c)throw{type:p||Jt.data,response:y};let b,j=y.headers.get("Content-Type");return j&&/\bapplication\/json\b/.test(j)?b=await y.json():b=await y.text(),p===Jt.error?{type:p,error:new zc(N,y.statusText,b),headers:y.headers}:{type:Jt.data,data:b,statusCode:y.status,headers:y.headers}}return p===Jt.error?{type:p,error:y}:y instanceof X0?{type:Jt.deferred,deferredData:y}:{type:Jt.data,data:y}}function el(n,e,t,i){let o=n.createURL(T_(e)).toString(),l={signal:t};if(i&&Yi(i.formMethod)){let{formMethod:c,formEncType:d,formData:p}=i;l.method=c.toUpperCase(),l.body=d==="application/x-www-form-urlencoded"?w_(p):p}return new Request(o,l)}function w_(n){let e=new URLSearchParams;for(let[t,i]of n.entries())Fe(typeof i=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,i);return e}function hI(n,e,t,i,o){let l={},c=null,d,p=!1,y={};return t.forEach((_,S)=>{let T=e[S].route.id;if(Fe(!qo(_),"Cannot handle redirect results in processLoaderData"),ll(_)){let N=$o(n,T),b=_.error;i&&(b=Object.values(i)[0],i=void 0),c=c||{},c[N.route.id]==null&&(c[N.route.id]=b),l[T]=void 0,p||(p=!0,d=y_(_.error)?_.error.status:500),_.headers&&(y[T]=_.headers)}else $s(_)?(o.set(T,_.deferredData),l[T]=_.deferredData.data):l[T]=_.data,_.statusCode!=null&&_.statusCode!==200&&!p&&(d=_.statusCode),_.headers&&(y[T]=_.headers)}),i&&(c=i,l[Object.keys(i)[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:y}}function vy(n,e,t,i,o,l,c,d){let{loaderData:p,errors:y}=hI(e,t,i,o,d);for(let _=0;_<l.length;_++){let[S,,T]=l[_];Fe(c!==void 0&&c[_]!==void 0,"Did not find corresponding fetcher result");let N=c[_];if(ll(N)){let b=$o(n.matches,T.route.id);y&&y[b.route.id]||(y=nt({},y,{[b.route.id]:N.error})),n.fetchers.delete(S)}else if(qo(N))Fe(!1,"Unhandled fetcher revalidation redirect");else if($s(N))Fe(!1,"Unhandled fetcher deferred data");else{let b={state:"idle",data:N.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};n.fetchers.set(S,b)}}return{loaderData:p,errors:y}}function _y(n,e,t,i){let o=nt({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):n[c]!==void 0&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function $o(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Ey(n){let e=n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ci(n,e){let{pathname:t,routeId:i,method:o,type:l}=e===void 0?{}:e,c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",o&&t&&i?d="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?d="defer() is not supported in actions":d="Cannot submit binary form data using GET"):n===403?(c="Forbidden",d='Route "'+i+'" does not match URL "'+t+'"'):n===404?(c="Not Found",d='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",o&&t&&i?d="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(d='Invalid request method "'+o.toUpperCase()+'"')),new zc(n||500,c,new Error(d),!0)}function wy(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(qo(t))return t}}function T_(n){let e=typeof n=="string"?Gr(n):n;return yi(nt({},e,{hash:""}))}function dI(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function $s(n){return n.type===Jt.deferred}function ll(n){return n.type===Jt.error}function qo(n){return(n&&n.type)===Jt.redirect}function fI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function pI(n){return nI.has(n)}function Yi(n){return eI.has(n)}async function Ty(n,e,t,i,o,l){for(let c=0;c<t.length;c++){let d=t[c],p=e[c],y=n.find(S=>S.route.id===p.route.id),_=y!=null&&!E_(y,p)&&(l&&l[p.route.id])!==void 0;$s(d)&&(o||_)&&await I_(d,i,o).then(S=>{S&&(t[c]=S||t[c])})}}async function I_(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Jt.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Jt.error,error:o}}return{type:Jt.data,data:n.deferredData.data}}}function S_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Iy(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Sy(n,e){let t=typeof e=="string"?Gr(e).search:e.search;if(n[n.length-1].route.index&&S_(t||""))return n[n.length-1];let i=Bc(n);return i[i.length-1]}/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yc.apply(this,arguments)}function mI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const gI=typeof Object.is=="function"?Object.is:mI,{useState:yI,useEffect:vI,useLayoutEffect:_I,useDebugValue:EI}=pf;function wI(n,e,t){const i=e(),[{inst:o},l]=yI({inst:{value:i,getSnapshot:e}});return _I(()=>{o.value=i,o.getSnapshot=e,Gd(o)&&l({inst:o})},[n,i,e]),vI(()=>(Gd(o)&&l({inst:o}),n(()=>{Gd(o)&&l({inst:o})})),[n]),EI(i),i}function Gd(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!gI(t,i)}catch{return!0}}function TI(n,e,t){return e()}const II=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SI=!II,AI=SI?TI:wI,RI="useSyncExternalStore"in pf?(n=>n.useSyncExternalStore)(pf):AI,Gf=J.createContext(null),$c=J.createContext(null),Pl=J.createContext(null),Hc=J.createContext(null),fs=J.createContext({outlet:null,matches:[]}),A_=J.createContext(null);function PI(n,e){let{relative:t}=e===void 0?{}:e;Cl()||Fe(!1);let{basename:i,navigator:o}=J.useContext(Pl),{hash:l,pathname:c,search:d}=Kf(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:pi([i,c])),o.createHref({pathname:p,search:d,hash:l})}function Cl(){return J.useContext(Hc)!=null}function kl(){return Cl()||Fe(!1),J.useContext(Hc).location}function R_(){Cl()||Fe(!1);let{basename:n,navigator:e}=J.useContext(Pl),{matches:t}=J.useContext(fs),{pathname:i}=kl(),o=JSON.stringify(Bc(t).map(d=>d.pathnameBase)),l=J.useRef(!1);return J.useEffect(()=>{l.current=!0}),J.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){e.go(d);return}let y=Wf(d,JSON.parse(o),i,p.relative==="path");n!=="/"&&(y.pathname=y.pathname==="/"?n:pi([n,y.pathname])),(p.replace?e.replace:e.push)(y,p.state,p)},[n,e,o,i])}const CI=J.createContext(null);function kI(n){let e=J.useContext(fs).outlet;return e&&J.createElement(CI.Provider,{value:n},e)}function kN(){let{matches:n}=J.useContext(fs),e=n[n.length-1];return e?e.params:{}}function Kf(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=J.useContext(fs),{pathname:o}=kl(),l=JSON.stringify(Bc(i).map(c=>c.pathnameBase));return J.useMemo(()=>Wf(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function xI(n,e){Cl()||Fe(!1);let{navigator:t}=J.useContext(Pl),i=J.useContext($c),{matches:o}=J.useContext(fs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=kl(),y;if(e){var _;let j=typeof e=="string"?Gr(e):e;d==="/"||(_=j.pathname)!=null&&_.startsWith(d)||Fe(!1),y=j}else y=p;let S=y.pathname||"/",T=d==="/"?S:S.slice(d.length)||"/",N=rl(n,{pathname:T}),b=OI(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:pi([d,t.encodeLocation?t.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:pi([d,t.encodeLocation?t.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,i||void 0);return e&&b?J.createElement(Hc.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Pt.Pop}},b):b}function NI(){let n=VI(),e=y_(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unhandled Thrown Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"errorElement")," props on ",J.createElement("code",{style:l},"<Route>")))}class DI extends J.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?J.createElement(fs.Provider,{value:this.props.routeContext},J.createElement(A_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bI(n){let{routeContext:e,match:t,children:i}=n,o=J.useContext(Gf);return o&&o.static&&o.staticContext&&t.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(fs.Provider,{value:e},i)}function OI(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let i=n,o=t==null?void 0:t.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||Fe(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,c,d)=>{let p=c.route.id?o==null?void 0:o[c.route.id]:null,y=t?c.route.errorElement||J.createElement(NI,null):null,_=e.concat(i.slice(0,d+1)),S=()=>J.createElement(bI,{match:c,routeContext:{outlet:l,matches:_}},p?y:c.route.element!==void 0?c.route.element:l);return t&&(c.route.errorElement||d===0)?J.createElement(DI,{location:t.location,component:y,error:p,children:S(),routeContext:{outlet:null,matches:_}}):S()},null)}var Ay;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(Ay||(Ay={}));var Xo;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(Xo||(Xo={}));function P_(n){let e=J.useContext($c);return e||Fe(!1),e}function LI(n){let e=J.useContext(fs);return e||Fe(!1),e}function C_(n){let e=LI(),t=e.matches[e.matches.length-1];return t.route.id||Fe(!1),t.route.id}function Qf(){let n=P_(Xo.UseLoaderData),e=C_(Xo.UseLoaderData);if(n.errors&&n.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return n.loaderData[e]}function VI(){var n;let e=J.useContext(A_),t=P_(Xo.UseRouteError),i=C_(Xo.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function MI(n){let{fallbackElement:e,router:t}=n,i=RI(t.subscribe,()=>t.state,()=>t.state),o=J.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:c=>t.navigate(c),push:(c,d,p)=>t.navigate(c,{state:d,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(c,d,p)=>t.navigate(c,{replace:!0,state:d,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[t]),l=t.basename||"/";return J.createElement(J.Fragment,null,J.createElement(Gf.Provider,{value:{router:t,navigator:o,static:!1,basename:l}},J.createElement($c.Provider,{value:i},J.createElement(jI,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:o},t.state.initialized?J.createElement(FI,null):e))),null)}function xN(n){return kI(n.context)}function Cn(n){Fe(!1)}function jI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Pt.Pop,navigator:l,static:c=!1}=n;Cl()&&Fe(!1);let d=e.replace(/^\/*/,"/"),p=J.useMemo(()=>({basename:d,navigator:l,static:c}),[d,l,c]);typeof i=="string"&&(i=Gr(i));let{pathname:y="/",search:_="",hash:S="",state:T=null,key:N="default"}=i,b=J.useMemo(()=>{let j=g_(y,d);return j==null?null:{pathname:j,search:_,hash:S,state:T,key:N}},[d,y,_,S,T,N]);return b==null?null:J.createElement(Pl.Provider,{value:p},J.createElement(Hc.Provider,{children:t,value:{location:b,navigationType:o}}))}function FI(n){let{children:e,location:t}=n,i=J.useContext(Gf),o=i&&!e?i.router.routes:vc(e);return xI(o,t)}var Ry;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(Ry||(Ry={}));new Promise(()=>{});function vc(n,e){e===void 0&&(e=[]);let t=[];return J.Children.forEach(n,(i,o)=>{if(!J.isValidElement(i))return;if(i.type===J.Fragment){t.push.apply(t,vc(i.props.children,e));return}i.type!==Cn&&Fe(!1),!i.props.index||!i.props.children||Fe(!1);let l=[...e,o],c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(c.children=vc(i.props.children,l)),t.push(c)}),t}function k_(n){return n.map(e=>{let t=yc({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=k_(t.children)),t})}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ml.apply(this,arguments)}function x_(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BI(n,e){return n.button===0&&(!e||e==="_self")&&!UI(n)}const zI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],$I=["aria-current","caseSensitive","className","end","style","to","children"];function HI(n,e){return aI({basename:void 0,history:C0({window:void 0}),hydrationData:qI(),routes:k_(n)}).initialize()}function qI(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=ml({},e,{errors:WI(e.errors)})),e}function WI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new zc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){let l=new Error(o.message);l.stack="",t[i]=l}else t[i]=o;return t}const GI=J.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_}=e,S=x_(e,zI),T=PI(y,{relative:o}),N=KI(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o});function b(j){i&&i(j),j.defaultPrevented||N(j)}return J.createElement("a",ml({},S,{href:T,onClick:l?i:b,ref:t,target:p}))}),NN=J.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:p,children:y}=e,_=x_(e,$I),S=Kf(p,{relative:_.relative}),T=kl(),N=J.useContext($c),{navigator:b}=J.useContext(Pl),j=b.encodeLocation?b.encodeLocation(S).pathname:S.pathname,V=T.pathname,G=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(V=V.toLowerCase(),G=G?G.toLowerCase():null,j=j.toLowerCase());let te=V===j||!c&&V.startsWith(j)&&V.charAt(j.length)==="/",re=G!=null&&(G===j||!c&&G.startsWith(j)&&G.charAt(j.length)==="/"),ie=te?i:void 0,Ne;typeof l=="function"?Ne=l({isActive:te,isPending:re}):Ne=[l,te?"active":null,re?"pending":null].filter(Boolean).join(" ");let Ce=typeof d=="function"?d({isActive:te,isPending:re}):d;return J.createElement(GI,ml({},_,{"aria-current":ie,className:Ne,ref:t,style:Ce,to:p}),typeof y=="function"?y({isActive:te,isPending:re}):y)});var Py;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(Py||(Py={}));var Cy;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Cy||(Cy={}));function KI(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c}=e===void 0?{}:e,d=R_(),p=kl(),y=Kf(n,{relative:c});return J.useCallback(_=>{if(BI(_,t)){_.preventDefault();let S=i!==void 0?i:yi(p)===yi(y);d(n,{replace:S,state:o,preventScrollReset:l,relative:c})}},[p,d,y,i,o,t,n,l,c])}function QI(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=null;return J.useEffect(()=>{const t=o=>{let l=0;clearInterval(e),e=setInterval(()=>{o.target.innerText=o.target.innerText.split("").map((c,d)=>d<l?o.target.dataset.value[d]:o.target.dataset.value[d]===" "?" ":n[Math.floor(Math.random()*26)]).join(""),l>=o.target.dataset.value.length&&clearInterval(e),l+=.3333333333333333},25)},i=document.querySelector(".animated-intro-text");return i.addEventListener("mouseover",t),t({target:i}),()=>{clearInterval(e),i.removeEventListener("mouseover",t)}},[e,n]),w.jsxs("section",{className:"home-introduction-section",children:[w.jsx("div",{className:"home-introduction-section__title",children:w.jsx("h1",{className:"animated-intro-text","data-value":"Hi, I'm Abdelouahab",children:"Hi, I'm Abdelouahab"})}),w.jsxs("h2",{className:"home-introduction-section__subtitle",children:[" ","⟫⟫ a Data Scientist & Software Engineer"]}),w.jsxs("a",{className:"home-introduction-section__button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/bellaabdelouahab",children:["Buy Me A Coffee ",w.jsx("span",{children:">"})," "]}),w.jsx("div",{className:"home-introduction-section__img",style:{backgroundImage:"url(./code.png)"}})]})}function YI({project:n}){const{title:e,description:t,image:i,githubLink:o,highlighted:l}=n,[c,d]=J.useState(!1);let p=t.slice(0,250);const y=p.lastIndexOf(" ");return p=p.slice(0,y),J.useEffect(()=>{const _=new Image;_.src=`${i}`,_.onload=()=>d(!0)},[i]),w.jsxs("div",{className:"home-projects-section__projects__project",style:{border:l==="star"?"4px solid #c39a3b":"none"},children:[w.jsx("div",{className:"home-projects-section__projects__project__img",style:{backgroundImage:c?`url(${i})`:"none",backgroundSize:"100.5% 100%"},children:!c&&w.jsx(Ho,{height:"100%"})}),c?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"home-projects-section__projects__project__title",children:e}),w.jsxs("p",{className:"home-projects-section__projects__project__description",children:[p,"..."]})]}):w.jsxs("div",{children:[w.jsx(Ho,{height:24,width:"60%",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Ho,{count:7})})]}),w.jsxs("div",{className:"home-projects-section__projects__project__buttons",children:[w.jsx("a",{className:"home-projects-section__projects__project__buttons__view",target:"_blank",rel:"noopener noreferrer",href:o,children:"View Project"}),l==="star"&&w.jsx("a",{className:"home-projects-section__projects__project__buttons__sponsor",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/bellaabdelouahab/",children:"1$/Sponsor"})]})]})}function XI({projectHighlight:n}){return w.jsxs("section",{className:"home-projects-section hidden-area",children:[w.jsx("h2",{className:"home-projects-section__title",children:"❤️ Projects Highlights"}),w.jsx("hr",{className:"home-projects-section__hr"}),w.jsx("div",{className:"home-projects-section__projects",children:n&&n.map(e=>w.jsx(YI,{project:e},e._id))})]})}function JI(){return w.jsxs("section",{className:"github-progress-section hidden-area",children:[w.jsxs("h2",{className:"home-sections-title",children:[w.jsx("span",{children:"03. "}),"Github Progress"]}),w.jsx("hr",{className:"github-progress-section__hr"}),w.jsx("div",{className:"github-progress-section__img"})]})}function ZI(){const[n,e]=J.useState([{title:"S-maint Website [Smart Maintenance]",description:"Smart Maintenance is a Moroccan company that offersa wide range of services in the field of maintenance. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service. The website various features such as a blog, services, staff management, and digital resources management.",link:"https://s-maint.com",image:"./internshipes/smart-maint.jpg",technologies:["Angular","Spring Boot","Mongodb","Docker","Nginx","Plausible","SendGrid"]},{title:"NidInnovation Website",description:"Nid Innovation is a Moroccan company that offers a wide range of services in the field of innovation. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service.",link:"https://nidinnovation.com",image:"./internshipes/nidinnovation.png",technologies:["React","PHP","Node.js","Express","MongoDB","Docker","SendGrid"]},{title:"E-khsab: A Connected Cow Monitoring System [Agri4.0]",description:"Development of e-services to monitor in real-time the health status and well-being of cows, plan artificial inseminations, enhance herd reproduction, and implement a heat detection system within a core group of breeders, which will be extended to a larger number of breeders on a national scale.",link:"https://poledigital.ma/projets/projets-elevage-4-0/e-khsab",image:"./internshipes/agri4.0.png",technologies:["Spring Boot","JHipster","React","PostgreSQL","RabbitMQ","WebSockets","Arduino"]},{title:"CRJEA Website : Reference Center for Young Entrepreneurs [UM6P & CRJEA]",description:"The CRJEA is a reference center that offers tailored support to young project holders or newly created companies and cooperatives. in the field of agriculture. The website is a platform that provides a full tracking system for the projects and the project holders.",link:"http://crjea-rsk.com",image:"./internshipes/crjea.jpg",technologies:["Django","React","Bootstrap","MongoDB","Docker","Nginx"]},{title:"Desktop application for managing package sending for special clients",description:"During this internship, I created a desktop application using JavaFX as a UI library and Oracle as a database. The application is used to manage the sending of packages for special clients (Lawyers, Journalists, Writers). This application was created to make it easy for them to send packages instead of waiting in lines. The application is used by the post office employees.",image:"./internshipes/1200px-GBAM_LOGO.png",technologies:["JavaFX","Oracle - Cloud","XML","CSS","Python","SMTP"]},{title:"A Web Site For Envelope Database Management",description:"During this internship, I worked on a website for the management of the envelopes database. The workflow of the application is as follows: a customer brings a package or an envelope to the post office, the post office employee will register the envelope and scan its code, and the system will automatically generate a tracking number for the envelope which the customer will receive a receipt with.",image:"./internshipes/PosteMaroc.jpg",technologies:["HTML","CSS","JavaScript","Flask"]}]),t=J.useRef(null),[i,o]=J.useState(3),l=()=>{o(n.length)};return J.useEffect(()=>{const c=new IntersectionObserver(y=>{y.forEach(_=>{_.isIntersecting&&_.target.classList.add("is-visible")})},{root:null,rootMargin:"0px",threshold:.1}),d=t.current.querySelectorAll(".animatable");return d.forEach(y=>c.observe(y)),document.querySelectorAll(".internship-project").forEach((y,_)=>{const S=y.clientHeight;document.querySelectorAll(`.gradientLine-${_*2}, .gradientLine-${_*2+1}`).forEach(N=>N.style.height=`${S/2}px`)}),()=>d.forEach(y=>c.unobserve(y))},[i,n]),w.jsxs("section",{className:"internship-projects-section",ref:t,children:[w.jsx("div",{className:"experience",children:w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"04. "}),w.jsx("h2",{children:"Professional Experience"})]})}),w.jsxs("div",{className:"internship-projects-section__projects",children:[n.slice(0,i).map((c,d)=>w.jsx(eS,{project:c,index:d},d)),w.jsx("div",{className:"lineAnimation",children:n.slice(0,i).map((c,d)=>w.jsxs("div",{className:"animatable",children:[w.jsx("div",{className:`gradientLine-start gradientLine-${d*2}`}),w.jsx("div",{className:"iconContainer",children:w.jsx("img",{src:"./icons/calendar.png",alt:"Professional experience timeline marker",width:"30",height:"30"})}),w.jsx("div",{className:`gradientLine-end gradientLine-${d*2+1}`})]},d))}),i<n.length?w.jsx("div",{className:"show-more-button",children:w.jsxs("button",{onClick:l,"aria-label":"Show more professional experience entries",children:["View More Experience (",n.length-i,")"]})}):w.jsx("div",{className:"show-more-button"})]})]})}function eS({project:n}){return w.jsxs("div",{className:"internship-project ",children:[w.jsx("div",{className:"internship-project__img",children:w.jsx("img",{src:n.image,alt:n.title})}),w.jsxs("div",{className:"internship-project__content",children:[w.jsx("h1",{children:n.title}),w.jsx("p",{children:n.description}),n.link&&w.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"internship-project__content__link","aria-label":`Visit ${n.title} project website`,children:[w.jsx("img",{src:"./icons/site.png",alt:"External website link",width:"20",height:"20"}),"Visit project website for detailed portfolio showcase"]}),w.jsx("ul",{className:"internship-project__content__list",children:n.technologies.map((e,t)=>w.jsx("li",{children:e},t))})]})]})}function tS(){return w.jsx("section",{className:"home-about-section",children:w.jsxs("div",{className:"hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"02. "}),"About Me"]}),w.jsxs("div",{className:"about-content",children:[w.jsxs("div",{className:"about-content-text",children:[w.jsxs("p",{children:["I am Bella Abdelouahab, an accomplished data scientist with ten months of extensive experience. My educational foundation encompasses robust training in decision-making, data science, computer systems engineering, and software development. Proficient in both web development and machine learning, I am deeply passionate about my profession. I actively pursue new challenges to enhance my skills and expand my expertise.",w.jsx("br",{}),"In addition to my technical proficiency, I excel as a communicator and thrive in collaborative team environments, dedicated to achieving shared objectives."]}),w.jsx("span",{className:"about-content-skills_title",children:"Skills:"}),w.jsx("div",{className:"about-skills-list",children:w.jsxs("ul",{children:[w.jsx("li",{children:"Python(advanced), Java(advanced), C, C++"}),w.jsx("li",{children:"Machine learning/deep learning"}),w.jsx("li",{children:"Oracle SQL/PLSQL"}),w.jsx("li",{children:"MongoDB"}),w.jsx("li",{children:"Back-end (Django-Node-SpringBoot)"}),w.jsx("li",{children:"Front-end (ReactJS, NextJs, ViewJs)"}),w.jsx("li",{children:"JavaFX & Swing"}),w.jsx("li",{children:"Tkinter & Pyglet"}),w.jsx("li",{children:"Microsoft Power BI"}),w.jsx("li",{children:"Data warehousing"})]})})]}),w.jsx("div",{className:"about-content-image",children:w.jsx("div",{id:"about-content-img_flow",style:{backgroundImage:"url('./Personal Picture.jpg')"}})})]})]})})}function nS(){return w.jsxs("div",{className:"get-in-touch hidden-area",style:{backgroundColor:"#1e1e1e"},children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"08. "}),"Get in Touch"]}),w.jsx("p",{className:"get-in-touch-content",children:"I am actively seeking new career opportunities and my inbox is open for potential job offers. Feel free to reach out with any relevant job opportunities or to connect for potential future collaborations. I look forward to hearing from you!"}),w.jsx("div",{className:"get-in-touch-btn",children:w.jsx("a",{href:"mailto:",children:w.jsx("button",{style:{marginBottom:"5rem"},children:"Get in Touch"})})})]})}const rS=({isOpen:n,onClose:e,title:t,children:i})=>(J.useEffect(()=>{const o=l=>{l.key==="Escape"&&n&&e()};return document.addEventListener("keydown",o),n?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.removeEventListener("keydown",o),document.body.style.overflow="auto"}},[n,e]),n?w.jsx("div",{className:"modal-overlay",onClick:e,children:w.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:t}),w.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"})]}),w.jsx("div",{className:"modal-content",children:i})]})}):null);var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,S=(l&3)<<4|d>>4;let T=(d&15)<<2|y>>6,N=y&63;p||(N=64,c||(T=64)),i.push(t[_],t[S],t[T],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(N_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||S==null)throw new sS;const T=l<<2|d>>4;if(i.push(T),y!==64){const N=d<<4&240|y>>2;if(i.push(N),S!==64){const b=y<<6&192|S;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(n){const e=N_(n);return D_.encodeByteArray(e,!0)},_c=function(n){return oS(n).replace(/\./g,"")},b_=function(n){try{return D_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=()=>aS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof ky>"u")return;const n=ky.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&b_(n[1]);return e&&JSON.parse(e)},qc=()=>{try{return lS()||uS()||cS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O_=n=>{var e,t;return(t=(e=qc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hS=n=>{const e=O_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},L_=()=>{var n;return(n=qc())===null||n===void 0?void 0:n.config},V_=n=>{var e;return(e=qc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_c(JSON.stringify(t)),_c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function mS(){var n;const e=(n=qc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ES(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class Ti extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=IS,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?SS(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ti(o,d,i)}}function SS(n,e){return n.replace(AS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const AS=/\{\$([^}]+)}/g;function RS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(xy(l)&&xy(c)){if(!Ec(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function PS(n,e){const t=new CS(n,e);return t.subscribe.bind(t)}class CS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class Ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new dS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(n){return n===zs?void 0:n}function DS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const OS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},LS=ze.INFO,VS={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},MS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=VS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yf{constructor(e){this.name=e,this._logLevel=LS,this._logHandler=MS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const jS=(n,e)=>e.some(t=>n instanceof t);let Ny,Dy;function FS(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M_=new WeakMap,mf=new WeakMap,j_=new WeakMap,Qd=new WeakMap,Xf=new WeakMap;function BS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ns(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&M_.set(t,n)}).catch(()=>{}),Xf.set(e,n),e}function zS(n){if(mf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});mf.set(n,e)}let gf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||j_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $S(n){gf=n(gf)}function HS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Yd(this),e,...t);return j_.set(i,e.sort?e.sort():[e]),ns(i)}:US().includes(n)?function(...e){return n.apply(Yd(this),e),ns(M_.get(this))}:function(...e){return ns(n.apply(Yd(this),e))}}function qS(n){return typeof n=="function"?HS(n):(n instanceof IDBTransaction&&zS(n),jS(n,FS())?new Proxy(n,gf):n)}function ns(n){if(n instanceof IDBRequest)return BS(n);if(Qd.has(n))return Qd.get(n);const e=qS(n);return e!==n&&(Qd.set(n,e),Xf.set(e,n)),e}const Yd=n=>Xf.get(n);function WS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ns(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ns(c.result),p.oldVersion,p.newVersion,ns(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Xd=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=KS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Xd.set(e,l),l}$S(n=>({...n,get:(e,t,i)=>by(e,t)||n.get(e,t,i),has:(e,t)=>!!by(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yf="@firebase/app",Oy="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Yf("@firebase/app"),XS="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",eA="@firebase/app-check-compat",tA="@firebase/app-check",nA="@firebase/auth",rA="@firebase/auth-compat",iA="@firebase/database",sA="@firebase/data-connect",oA="@firebase/database-compat",aA="@firebase/functions",lA="@firebase/functions-compat",uA="@firebase/installations",cA="@firebase/installations-compat",hA="@firebase/messaging",dA="@firebase/messaging-compat",fA="@firebase/performance",pA="@firebase/performance-compat",mA="@firebase/remote-config",gA="@firebase/remote-config-compat",yA="@firebase/storage",vA="@firebase/storage-compat",_A="@firebase/firestore",EA="@firebase/vertexai",wA="@firebase/firestore-compat",TA="firebase",IA="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]",SA={[yf]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[tA]:"fire-app-check",[eA]:"fire-app-check-compat",[nA]:"fire-auth",[rA]:"fire-auth-compat",[iA]:"fire-rtdb",[sA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[aA]:"fire-fn",[lA]:"fire-fn-compat",[uA]:"fire-iid",[cA]:"fire-iid-compat",[hA]:"fire-fcm",[dA]:"fire-fcm-compat",[fA]:"fire-perf",[pA]:"fire-perf-compat",[mA]:"fire-rc",[gA]:"fire-rc-compat",[yA]:"fire-gcs",[vA]:"fire-gcs-compat",[_A]:"fire-fst",[wA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,AA=new Map,_f=new Map;function Ly(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(_f.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;_f.set(e,n);for(const t of wc.values())Ly(t,n);for(const t of AA.values())Ly(t,n);return!0}function Jf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _r(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new xl("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=IA;function F_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:vf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(t||(t=L_()),!t)throw rs.create("no-options");const l=wc.get(o);if(l){if(Ec(t,l.options)&&Ec(i,l.config))return l;throw rs.create("duplicate-app",{appName:o})}const c=new bS(o);for(const p of _f.values())c.addComponent(p);const d=new PA(t,i,c);return wc.set(o,d),d}function U_(n=vf){const e=wc.get(n);if(!e&&n===vf&&L_())return F_();if(!e)throw rs.create("no-app",{appName:n});return e}function is(n,e,t){var i;let o=(i=SA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}Jo(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",kA=1,gl="firebase-heartbeat-store";let Jd=null;function B_(){return Jd||(Jd=WS(CA,kA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw rs.create("idb-open",{originalErrorMessage:n.message})})),Jd}async function xA(n){try{const t=(await B_()).transaction(gl),i=await t.objectStore(gl).get(z_(n));return await t.done,i}catch(e){if(e instanceof Ti)vi.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function Vy(n,e){try{const i=(await B_()).transaction(gl,"readwrite");await i.objectStore(gl).put(e,z_(n)),await i.done}catch(t){if(t instanceof Ti)vi.warn(t.message);else{const i=rs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(i.message)}}}function z_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1024,DA=30;class bA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>DA){const c=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=My(),{heartbeatsToSend:i,unsentEntries:o}=OA(this._heartbeatsCache.heartbeats),l=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vi.warn(t),""}}}function My(){return new Date().toISOString().substring(0,10)}function OA(n,e=NA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),jy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),jy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(n){return _c(JSON.stringify({version:2,heartbeats:n})).length}function VA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){Jo(new Ks("platform-logger",e=>new QS(e),"PRIVATE")),Jo(new Ks("heartbeat",e=>new bA(e),"PRIVATE")),is(yf,Oy,n),is(yf,Oy,"esm2017"),is("fire-js","")}MA("");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,$_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(D,M,F){for(var P=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)P[gt-2]=arguments[gt];return A.prototype[M].apply(D,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,C){C||(C=0);var D=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)D[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;16>M;++M)D[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],M=O.g[2];var F=O.g[3],P=A+(F^C&(M^F))+D[0]+3614090360&4294967295;A=C+(P<<7&4294967295|P>>>25),P=F+(M^A&(C^M))+D[1]+3905402710&4294967295,F=A+(P<<12&4294967295|P>>>20),P=M+(C^F&(A^C))+D[2]+606105819&4294967295,M=F+(P<<17&4294967295|P>>>15),P=C+(A^M&(F^A))+D[3]+3250441966&4294967295,C=M+(P<<22&4294967295|P>>>10),P=A+(F^C&(M^F))+D[4]+4118548399&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(M^A&(C^M))+D[5]+1200080426&4294967295,F=A+(P<<12&4294967295|P>>>20),P=M+(C^F&(A^C))+D[6]+2821735955&4294967295,M=F+(P<<17&4294967295|P>>>15),P=C+(A^M&(F^A))+D[7]+4249261313&4294967295,C=M+(P<<22&4294967295|P>>>10),P=A+(F^C&(M^F))+D[8]+1770035416&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(M^A&(C^M))+D[9]+2336552879&4294967295,F=A+(P<<12&4294967295|P>>>20),P=M+(C^F&(A^C))+D[10]+4294925233&4294967295,M=F+(P<<17&4294967295|P>>>15),P=C+(A^M&(F^A))+D[11]+2304563134&4294967295,C=M+(P<<22&4294967295|P>>>10),P=A+(F^C&(M^F))+D[12]+1804603682&4294967295,A=C+(P<<7&4294967295|P>>>25),P=F+(M^A&(C^M))+D[13]+4254626195&4294967295,F=A+(P<<12&4294967295|P>>>20),P=M+(C^F&(A^C))+D[14]+2792965006&4294967295,M=F+(P<<17&4294967295|P>>>15),P=C+(A^M&(F^A))+D[15]+1236535329&4294967295,C=M+(P<<22&4294967295|P>>>10),P=A+(M^F&(C^M))+D[1]+4129170786&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^M&(A^C))+D[6]+3225465664&4294967295,F=A+(P<<9&4294967295|P>>>23),P=M+(A^C&(F^A))+D[11]+643717713&4294967295,M=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(M^F))+D[0]+3921069994&4294967295,C=M+(P<<20&4294967295|P>>>12),P=A+(M^F&(C^M))+D[5]+3593408605&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^M&(A^C))+D[10]+38016083&4294967295,F=A+(P<<9&4294967295|P>>>23),P=M+(A^C&(F^A))+D[15]+3634488961&4294967295,M=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(M^F))+D[4]+3889429448&4294967295,C=M+(P<<20&4294967295|P>>>12),P=A+(M^F&(C^M))+D[9]+568446438&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^M&(A^C))+D[14]+3275163606&4294967295,F=A+(P<<9&4294967295|P>>>23),P=M+(A^C&(F^A))+D[3]+4107603335&4294967295,M=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(M^F))+D[8]+1163531501&4294967295,C=M+(P<<20&4294967295|P>>>12),P=A+(M^F&(C^M))+D[13]+2850285829&4294967295,A=C+(P<<5&4294967295|P>>>27),P=F+(C^M&(A^C))+D[2]+4243563512&4294967295,F=A+(P<<9&4294967295|P>>>23),P=M+(A^C&(F^A))+D[7]+1735328473&4294967295,M=F+(P<<14&4294967295|P>>>18),P=C+(F^A&(M^F))+D[12]+2368359562&4294967295,C=M+(P<<20&4294967295|P>>>12),P=A+(C^M^F)+D[5]+4294588738&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^M)+D[8]+2272392833&4294967295,F=A+(P<<11&4294967295|P>>>21),P=M+(F^A^C)+D[11]+1839030562&4294967295,M=F+(P<<16&4294967295|P>>>16),P=C+(M^F^A)+D[14]+4259657740&4294967295,C=M+(P<<23&4294967295|P>>>9),P=A+(C^M^F)+D[1]+2763975236&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^M)+D[4]+1272893353&4294967295,F=A+(P<<11&4294967295|P>>>21),P=M+(F^A^C)+D[7]+4139469664&4294967295,M=F+(P<<16&4294967295|P>>>16),P=C+(M^F^A)+D[10]+3200236656&4294967295,C=M+(P<<23&4294967295|P>>>9),P=A+(C^M^F)+D[13]+681279174&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^M)+D[0]+3936430074&4294967295,F=A+(P<<11&4294967295|P>>>21),P=M+(F^A^C)+D[3]+3572445317&4294967295,M=F+(P<<16&4294967295|P>>>16),P=C+(M^F^A)+D[6]+76029189&4294967295,C=M+(P<<23&4294967295|P>>>9),P=A+(C^M^F)+D[9]+3654602809&4294967295,A=C+(P<<4&4294967295|P>>>28),P=F+(A^C^M)+D[12]+3873151461&4294967295,F=A+(P<<11&4294967295|P>>>21),P=M+(F^A^C)+D[15]+530742520&4294967295,M=F+(P<<16&4294967295|P>>>16),P=C+(M^F^A)+D[2]+3299628645&4294967295,C=M+(P<<23&4294967295|P>>>9),P=A+(M^(C|~F))+D[0]+4096336452&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~M))+D[7]+1126891415&4294967295,F=A+(P<<10&4294967295|P>>>22),P=M+(A^(F|~C))+D[14]+2878612391&4294967295,M=F+(P<<15&4294967295|P>>>17),P=C+(F^(M|~A))+D[5]+4237533241&4294967295,C=M+(P<<21&4294967295|P>>>11),P=A+(M^(C|~F))+D[12]+1700485571&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~M))+D[3]+2399980690&4294967295,F=A+(P<<10&4294967295|P>>>22),P=M+(A^(F|~C))+D[10]+4293915773&4294967295,M=F+(P<<15&4294967295|P>>>17),P=C+(F^(M|~A))+D[1]+2240044497&4294967295,C=M+(P<<21&4294967295|P>>>11),P=A+(M^(C|~F))+D[8]+1873313359&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~M))+D[15]+4264355552&4294967295,F=A+(P<<10&4294967295|P>>>22),P=M+(A^(F|~C))+D[6]+2734768916&4294967295,M=F+(P<<15&4294967295|P>>>17),P=C+(F^(M|~A))+D[13]+1309151649&4294967295,C=M+(P<<21&4294967295|P>>>11),P=A+(M^(C|~F))+D[4]+4149444226&4294967295,A=C+(P<<6&4294967295|P>>>26),P=F+(C^(A|~M))+D[11]+3174756917&4294967295,F=A+(P<<10&4294967295|P>>>22),P=M+(A^(F|~C))+D[2]+718787259&4294967295,M=F+(P<<15&4294967295|P>>>17),P=C+(F^(M|~A))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+F&4294967295}i.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,D=this.B,M=this.h,F=0;F<A;){if(M==0)for(;F<=C;)o(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<A;)if(D[M++]=O.charCodeAt(F++),M==this.blockSize){o(this,D),M=0;break}}else for(;F<A;)if(D[M++]=O[F++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=A},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var D=0;32>D;D+=8)O[C++]=this.g[A]>>>D&255;return O};function l(O,A){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function c(O,A){this.h=A;for(var C=[],D=!0,M=O.length-1;0<=M;M--){var F=O[M]|0;D&&F==A||(C[M]=F,D=!1)}this.g=C}var d={};function p(O){return-128<=O&&128>O?l(O,function(A){return new c([A|0],0>A?-1:0)}):new c([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return V(y(-O));for(var A=[],C=1,D=0;O>=C;D++)A[D]=O/C|0,C*=4294967296;return new c(A,0)}function _(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return V(_(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(A,8)),D=S,M=0;M<O.length;M+=8){var F=Math.min(8,O.length-M),P=parseInt(O.substring(M,M+F),A);8>F?(F=y(Math.pow(A,F)),D=D.j(F).add(y(P))):(D=D.j(C),D=D.add(y(P)))}return D}var S=p(0),T=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-V(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var D=this.i(C);O+=(0<=D?D:4294967296+D)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(j(this))return"-"+V(this).toString(O);for(var A=y(Math.pow(O,6)),C=this,D="";;){var M=ie(C,A).g;C=G(C,M.j(A));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=M,b(C))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function j(O){return O.h==-1}n.l=function(O){return O=G(this,O),j(O)?-1:b(O)?0:1};function V(O){for(var A=O.g.length,C=[],D=0;D<A;D++)C[D]=~O.g[D];return new c(C,~O.h).add(T)}n.abs=function(){return j(this)?V(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],D=0,M=0;M<=A;M++){var F=D+(this.i(M)&65535)+(O.i(M)&65535),P=(F>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=P>>>16,F&=65535,P&=65535,C[M]=P<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function G(O,A){return O.add(V(A))}n.j=function(O){if(b(this)||b(O))return S;if(j(this))return j(O)?V(this).j(V(O)):V(V(this).j(O));if(j(O))return V(this.j(V(O)));if(0>this.l(N)&&0>O.l(N))return y(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var F=this.i(D)>>>16,P=this.i(D)&65535,gt=O.i(M)>>>16,jt=O.i(M)&65535;C[2*D+2*M]+=P*jt,te(C,2*D+2*M),C[2*D+2*M+1]+=F*jt,te(C,2*D+2*M+1),C[2*D+2*M+1]+=P*gt,te(C,2*D+2*M+1),C[2*D+2*M+2]+=F*gt,te(C,2*D+2*M+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new c(C,0)};function te(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function re(O,A){this.g=O,this.h=A}function ie(O,A){if(b(A))throw Error("division by zero");if(b(O))return new re(S,S);if(j(O))return A=ie(V(O),A),new re(V(A.g),V(A.h));if(j(A))return A=ie(O,V(A)),new re(V(A.g),A.h);if(30<O.g.length){if(j(O)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,D=A;0>=D.l(O);)C=Ne(C),D=Ne(D);var M=Ce(C,1),F=Ce(D,1);for(D=Ce(D,2),C=Ce(C,2);!b(D);){var P=F.add(D);0>=P.l(O)&&(M=M.add(C),F=P),D=Ce(D,1),C=Ce(C,1)}return A=G(O,M.j(A)),new re(M,A)}for(M=S;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=y(C),P=F.j(A);j(P)||0<P.l(O);)C-=D,F=y(C),P=F.j(A);b(F)&&(F=T),M=M.add(F),O=G(O,P)}return new re(M,O)}n.A=function(O){return ie(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)&O.i(D);return new c(C,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)|O.i(D);return new c(C,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)^O.i(D);return new c(C,this.h^O.h)};function Ne(O){for(var A=O.g.length+1,C=[],D=0;D<A;D++)C[D]=O.i(D)<<1|O.i(D-1)>>>31;return new c(C,O.h)}function Ce(O,A){var C=A>>5;A%=32;for(var D=O.g.length-C,M=[],F=0;F<D;F++)M[F]=0<A?O.i(F+C)>>>A|O.i(F+C+1)<<32-A:O.i(F+C);return new c(M,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,ss=c}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H_,il,q_,ac,Ef,W_,G_,K_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in v))break e;v=v[U]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,I=!1,U={next:function(){if(!I&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,T.apply(null,arguments)}function N(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,U,H){for(var ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ae[tt-2]=arguments[tt];return m.prototype[U].apply(I,ae)}}function j(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function V(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const U=u.length||0,H=I.length||0;u.length=U+H;for(let ae=0;ae<H;ae++)u[U+ae]=I[ae]}else u.push(I)}}class G{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var Ne=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ce(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(v in I)u[v]=I[v];for(let H=0;H<C.length;H++)v=C[H],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){d.setTimeout(()=>{throw u},0)}function P(){var u=ve;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const I=jt.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var jt=new G(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,oe=!1,ve=new gt,k=()=>{const u=d.Promise.resolve(void 0);De=()=>{u.then(K)}};var K=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){F(v)}var m=jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Ge(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ne){e:{try{ie(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:qe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ge.aa.h.call(this)}}b(Ge,Ee);var qe={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function kt(u,m,v,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Sr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bn(u){this.src=u,this.g={},this.h=0}bn.prototype.add=function(u,m,v,I,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ae=On(u,m,I,U);return-1<ae?(m=u[ae],v||(m.fa=!1)):(m=new kt(m,this.src,H,!!I,U),m.fa=v,u.push(m)),m};function Ar(u,m){var v=m.type;if(v in u.g){var I=u.g[v],U=Array.prototype.indexOf.call(I,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(I,U,1),H&&(Sr(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function On(u,m,v,I){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==I)return U}return-1}var Rr="closure_lm_"+(1e6*Math.random()|0),Ii={};function Si(u,m,v,I,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Si(u,m[H],v,I,U);return null}return v=W(v),u&&u[Ke]?u.K(m,v,y(I)?!!I.capture:!1,U):ys(u,m,v,!1,I,U)}function ys(u,m,v,I,U,H){if(!m)throw Error("Invalid event type");var ae=y(U)?!!U.capture:!!U,tt=Ai(u);if(tt||(u[Rr]=tt=new bn(u)),v=tt.add(m,v,I,ae,H),v.proxy)return v;if(I=Pr(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Le||(U=ae),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pr(){function u(v){return m.call(u.src,u.listener,v)}const m=vs;return u}function nr(u,m,v,I,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)nr(u,m[H],v,I,U);else I=y(I)?!!I.capture:!!I,v=W(v),u&&u[Ke]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=On(H,v,I,U),-1<v&&(Sr(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ai(u))&&(m=u.g[m.toString()],u=-1,m&&(u=On(m,v,I,U)),(v=-1<u?m[u]:null)&&qn(v))}function qn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])Ar(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(Ln(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=Ai(m))?(Ar(v,u),v.h==0&&(v.src=null,m[Rr]=null)):Sr(u)}}}function Ln(u){return u in Ii?Ii[u]:Ii[u]="on"+u}function vs(u,m){if(u.da)u=!0;else{m=new Ge(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&qn(u),u=v.call(I,m)}return u}function Ai(u){return u=u[Rr],u instanceof bn?u:null}var Kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function W(u){return typeof u=="function"?u:(u[Kr]||(u[Kr]=function(m){return u.handleEvent(m)}),u[Kr])}function q(){de.call(this),this.i=new bn(this),this.M=this,this.F=null}b(q,de),q.prototype[Ke]=!0,q.prototype.removeEventListener=function(u,m,v,I){nr(this,u,m,v,I)};function Y(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var U=m;m=new Ee(I,u),D(m,U)}if(U=!0,v)for(var H=v.length-1;0<=H;H--){var ae=m.g=v[H];U=pe(ae,I,!0,m)&&U}if(ae=m.g=u,U=pe(ae,I,!0,m)&&U,U=pe(ae,I,!1,m)&&U,v)for(H=0;H<v.length;H++)ae=m.g=v[H],U=pe(ae,I,!1,m)&&U}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)Sr(v[I]);delete u.g[m],u.h--}}this.F=null},q.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},q.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function pe(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var ae=m[H];if(ae&&!ae.da&&ae.capture==v){var tt=ae.listener,bt=ae.ha||ae.src;ae.fa&&Ar(u.i,ae),U=tt.call(bt,I)!==!1&&U}}return U&&!I.defaultPrevented}function le(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Ie(u){u.g=le(()=>{u.g=null,u.i&&(u.i=!1,Ie(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class we extends de{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(u){de.call(this),this.h=u,this.g={}}b(je,de);var Se=[];function lt(u){Ce(u.g,function(m,v){this.g.hasOwnProperty(v)&&qn(m)},u),u.g={}}je.prototype.N=function(){je.aa.N.call(this),lt(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=d.JSON.stringify,Ze=d.JSON.parse,qt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xt(){}xt.prototype.h=null;function Wn(u){return u.h||(u.h=u.i())}function rr(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){Ee.call(this,"d")}b(Gt,Ee);function Cr(){Ee.call(this,"c")}b(Cr,Ee);var it={},Nt=null;function fn(){return Nt=Nt||new q}it.La="serverreachability";function ir(u){Ee.call(this,it.La,u)}b(ir,Ee);function pn(u){const m=fn();Y(m,new ir(m))}it.STAT_EVENT="statevent";function _s(u,m){Ee.call(this,it.STAT_EVENT,u),this.stat=m}b(_s,Ee);function yt(u){const m=fn();Y(m,new _s(m,u))}it.Ma="timingevent";function rn(u,m){Ee.call(this,it.Ma,u),this.size=m}b(rn,Ee);function Dt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function Qr(u,m,v,I,U,H){u.info(function(){if(u.g)if(H)for(var ae="",tt=H.split("&"),bt=0;bt<tt.length;bt++){var Qe=tt[bt].split("=");if(1<Qe.length){var Ut=Qe[0];Qe=Qe[1];var St=Ut.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Ut+"="+Qe+"&"):ae+(Ut+"=redacted&")}}else ae=null;else ae=H;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+v+`
`+ae})}function eo(u,m,v,I,U,H,ae){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+ae})}function sr(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ph(u,v)+(I?" "+I:"")})}function ya(u,m){u.info(function(){return"TIMEOUT: "+m})}kr.prototype.info=function(){};function ph(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Ve(v)}catch{return m}}var to={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function Es(){}b(Es,xt),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},or=new Es;function ar(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new je(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}var va={},no={};function ro(u,m,v){u.L=1,u.v=xi(Mn(m)),u.m=v,u.P=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),ot(u),u.A=Mn(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Di(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Bl,u.g=su(u.j,v?m:null,!u.m),0<u.O&&(u.M=new we(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Se[0]=U.toString()),U=Se);for(var H=0;H<U.length;H++){var ae=Si(v,U[H],I||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pn(),Qr(u.i,u.u,u.A,u.l,u.R,u.m)}ar.prototype.ca=function(u){u=u.target;const m=this.M;m&&wn(u)==3?m.j():this.Y(u)},ar.prototype.Y=function(u){try{if(u==this.g)e:{const St=wn(this.g);var m=this.g.Ba();const Qn=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||St!=4||m==7||(m==8||0>=Qn?pn(3):pn(2)),ws(this);var v=this.g.Z();this.X=v;t:if(zl(this)){var I=Aa(this.g);u="";var U=I.length,H=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),Ri(this);var ae="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(H&&m==U-1)});I.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,eo(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,bt=this.g;if((tt=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(tt)){var Qe=tt;break t}}Qe=null}if(v=Qe)sr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,v);else{this.o=!1,this.s=3,yt(12),Gn(this),Ri(this);break e}}if(this.P){v=!0;let Fn;for(;!this.J&&this.C<ae.length;)if(Fn=mh(this,ae),Fn==no){St==4&&(this.s=4,yt(14),v=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==va){this.s=4,yt(15),sr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else sr(this.i,this.l,Fn,null),Ea(this,Fn);if(zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)sr(this.i,this.l,ae,"[Invalid Chunked Response]"),Gn(this),Ri(this);else if(0<ae.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Pa(Ut),Ut.M=!0,yt(11))}}else sr(this.i,this.l,ae,null),Ea(this,ae);St==4&&Gn(this),this.o&&!this.J&&(St==4?mo(this.j,this):(this.o=!1,ot(this)))}else uo(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Gn(this),Ri(this)}}}catch{}finally{}};function zl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mh(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?no:(v=Number(m.substring(v,I)),isNaN(v)?va:(I+=1,I+v>m.length?no:(m=m.slice(I,I+v),u.C=I+v,m)))}ar.prototype.cancel=function(){this.J=!0,Gn(this)};function ot(u){u.S=Date.now()+u.I,$l(u,u.I)}function $l(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dt(T(u.ba,u),m)}function ws(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ya(this.i,this.A),this.L!=2&&(pn(),yt(17)),Gn(this),this.s=2,Ri(this)):$l(this,this.S-u)};function Ri(u){u.j.G==0||u.J||mo(u.j,u)}function Gn(u){ws(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,lt(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ea(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||mn(v.h,u))){if(!u.K&&mn(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)po(v),dr(v);else break e;fo(v),yt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Dt(T(v.Za,v),6e3));if(1>=ql(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ei(v,11)}else if((u.K||v.g==u)&&po(v),!te(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Qe=U[m];if(v.T=Qe[0],Qe=Qe[1],v.G==2)if(Qe[0]=="c"){v.K=Qe[1],v.ia=Qe[2];const Ut=Qe[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const St=Qe[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const Qn=Qe[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(I=1.5*Qn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Fn=u.g;if(Fn){const Cs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var H=I.h;H.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wa(H,H.h),H.h=null))}if(I.D){const yo=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(I.ya=yo,st(I.I,I.D,yo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ae=u;if(I.qa=iu(I,I.J?I.ia:null,I.W),ae.K){Wl(I.h,ae);var tt=ae,bt=I.L;bt&&(tt.I=bt),tt.B&&(ws(tt),ot(tt)),I.g=ae}else Ps(I);0<v.i.length&&br(v)}else Qe[0]!="stop"&&Qe[0]!="close"||ei(v,7);else v.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ei(v,7):Qt(v):Qe[0]!="noop"&&v.l&&v.l.ta(Qe),v.v=0)}}pn(4)}catch{}}var Hl=class{constructor(u,m){this.g=u,this.map=m}};function Ts(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ql(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wa(u,m){u.g?u.g.add(m):u.h=m}function Wl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ts.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return j(u.i)}function io(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function so(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function Pi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=so(u),I=io(u),U=I.length,H=0;H<U;H++)m.call(void 0,I[H],v&&v[H],u)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),U=null;if(0<=I){var H=u[v].substring(0,I);U=u[v].substring(I+1)}else H=u[v];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Yr){this.h=u.h,Ss(this,u.j),this.o=u.o,this.g=u.g,Ci(this,u.s),this.l=u.l;var m=u.i,v=new xr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ki(this,v),this.m=u.m}else u&&(m=String(u).match(Is))?(this.h=!1,Ss(this,m[1]||"",!0),this.o=We(m[2]||""),this.g=We(m[3]||"",!0),Ci(this,m[4]),this.l=We(m[5]||"",!0),ki(this,m[6]||"",!0),this.m=We(m[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ni(m,oo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ni(m,oo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ni(v,v.charAt(0)=="/"?Yl:Ql,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ni(v,Ta)),u.join("")};function Mn(u){return new Yr(u)}function Ss(u,m,v){u.j=v?We(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ki(u,m,v){m instanceof xr?(u.i=m,Nr(u.i,u.h)):(v||(m=Ni(m,Xl)),u.i=new xr(m,u.h))}function st(u,m,v){u.i.set(m,v)}function xi(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ni(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Kl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,Ql=/[#\?:]/g,Yl=/[#\?]/g,Xl=/[#\?@]/g,Ta=/#/g;function xr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Kt(u){u.g||(u.g=new Map,u.h=0,u.i&&gh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=xr.prototype,n.add=function(u,m){Kt(this),this.i=null,u=Kn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lr(u,m){Kt(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ur(u,m){return Kt(u),m=Kn(u,m),u.g.has(m)}n.forEach=function(u,m){Kt(this),this.g.forEach(function(v,I){v.forEach(function(U){u.call(m,U,I,this)},this)},this)},n.na=function(){Kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const U=u[I];for(let H=0;H<U.length;H++)v.push(m[I])}return v},n.V=function(u){Kt(this);let m=[];if(typeof u=="string")ur(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Kt(this),this.i=null,u=Kn(this,u),ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Di(u,m,v){lr(u,m),0<v.length&&(u.i=null,u.g.set(Kn(u,m),j(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const H=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var U=H;ae[I]!==""&&(U+="="+encodeURIComponent(String(ae[I]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Nr(u,m){m&&!u.j&&(Kt(u),u.i=null,u.g.forEach(function(v,I){var U=I.toLowerCase();I!=U&&(lr(this,I),Di(this,U,v))},u)),u.j=m}function yh(u,m){const v=new kr;if(d.Image){const I=new Image;I.onload=N(En,v,"TestLoadImage: loaded",!0,m,I),I.onerror=N(En,v,"TestLoadImage: error",!1,m,I),I.onabort=N(En,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=N(En,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Jl(u,m){const v=new kr,I=new AbortController,U=setTimeout(()=>{I.abort(),En(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(H=>{clearTimeout(U),H.ok?En(v,"TestPingServer: ok",!0,m):En(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(v,"TestPingServer: error",!1,m)})}function En(u,m,v,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(v)}catch{}}function vh(){this.g=new qt}function Zl(u,m,v){const I=v||"";try{Pi(u,function(U,H){let ae=U;y(U)&&(ae=Ve(U)),m.push(I+H+"="+encodeURIComponent(ae))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Xr,xt),Xr.prototype.g=function(){return new As(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function As(u,m){q.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(As,q),n=As.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,hr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):hr(this),this.readyState==3&&eu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,cr(this))},n.Qa=function(u){this.g&&(this.response=u,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,hr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jr(u){let m="";return Ce(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function bi(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Jr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):st(u,m,v))}function dt(u){q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(dt,q);var _h=/^https?$/i,Ia=["POST","PUT"];n=dt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Wn(this.o):Wn(or),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Rs(this,H);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)v.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())v.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ia,m,void 0))||I||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of v)this.g.setRequestHeader(H,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Rs(this,H)}};function Rs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ao(u),jn(u)}function ao(u){u.A||(u.A=!0,Y(u,"complete"),Y(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Y(this,"complete"),Y(this,"abort"),jn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},n.bb=function(){Sa(this)};function Sa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)le(u.Ea,0,u);else if(Y(u,"readystatechange"),wn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ae===0){var U=String(u.D).match(Is)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),I=!_h.test(U?U.toLowerCase():"")}v=I}if(v)Y(u,"complete"),Y(u,"success");else{u.m=6;try{var H=2<wn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ao(u)}}finally{jn(u)}}}}function jn(u,m){if(u.g){lo(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Y(u,"ready");try{v.onreadystatechange=I}catch{}}}function lo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ze(m)}};function Aa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(u){const m={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(te(u[I]))continue;var v=M(u[I]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}O(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ra(u){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,u),this.cb=Dr("retryDelaySeedMs",1e4,u),this.Wa=Dr("forwardChannelMaxRetries",2,u),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(u&&u.concurrentRequestLimit),this.Da=new vh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,I){yt(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=iu(this,null,this.W),br(this)};function Qt(u){if(co(u),u.G==3){var m=u.U++,v=Mn(u.I);if(st(v,"SID",u.K),st(v,"RID",m),st(v,"TYPE","terminate"),Zr(u,v),m=new ar(u,u.j,m),m.L=2,m.v=xi(Mn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}ru(u)}function dr(u){u.g&&(Pa(u),u.g.cancel(),u.g=null)}function co(u){dr(u),u.u&&(d.clearTimeout(u.u),u.u=null),po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function br(u){if(!Vn(u.h)&&!u.s){u.s=!0;var m=u.Ga;De||k(),oe||(De(),oe=!0),ve.add(m,u),u.B=0}}function Eh(u,m){return ql(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dt(T(u.Ga,u,m),nu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new ar(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Oi(this,U,m),v=Mn(this.I),st(v,"RID",u),st(v,"CVER",22),this.D&&st(v,"X-HTTP-Session-Id",this.D),Zr(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(Jr(H)))+"&"+m:this.m&&bi(v,this.m,H)),wa(this.h,U),this.Ua&&st(v,"TYPE","init"),this.P?(st(v,"$req",m),st(v,"SID","null"),U.T=!0,ro(U,v,null)):ro(U,v,m),this.G=2}}else this.G==3&&(u?ho(this,u):this.i.length==0||Vn(this.h)||ho(this))};function ho(u,m){var v;m?v=m.l:v=u.U++;const I=Mn(u.I);st(I,"SID",u.K),st(I,"RID",v),st(I,"AID",u.T),Zr(u,I),u.m&&u.o&&bi(I,u.m,u.o),v=new ar(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Oi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wa(u.h,v),ro(v,I,m)}function Zr(u,m){u.H&&Ce(u.H,function(v,I){st(m,I,v)}),u.l&&Pi({},function(v,I){st(m,I,v)})}function Oi(u,m,v){v=Math.min(u.i.length,v);var I=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const ae=["count="+v];H==-1?0<v?(H=U[0].g,ae.push("ofs="+H)):H=0:ae.push("ofs="+H);let tt=!0;for(let bt=0;bt<v;bt++){let Qe=U[bt].g;const Ut=U[bt].map;if(Qe-=H,0>Qe)H=Math.max(0,U[bt].g-100),tt=!1;else try{Zl(Ut,ae,"req"+Qe+"_")}catch{I&&I(Ut)}}if(tt){I=ae.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function Ps(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;De||k(),oe||(De(),oe=!0),ve.add(m,u),u.v=0}}function fo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dt(T(u.Fa,u),nu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dt(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),dr(this),tu(this))};function Pa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Mn(u.qa);st(m,"RID","rpc"),st(m,"SID",u.K),st(m,"AID",u.T),st(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(m,"TO",u.ja),st(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&bi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=xi(Mn(m)),v.m=null,v.P=!0,_a(v,u)}n.Za=function(){this.C!=null&&(this.C=null,dr(this),fo(this),yt(19))};function po(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mo(u,m){var v=null;if(u.g==m){po(u),Pa(u),u.g=null;var I=2}else if(mn(u.h,m))v=m.D,Wl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;I=fn(),Y(I,new rn(I,v)),br(u)}else Ps(u);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&Eh(u,m)||I==2&&fo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function nu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ei(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),I=u.Xa;const U=!I;I=new Yr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ss(I,"https"),xi(I),U?yh(I.toString(),v):Jl(I.toString(),v)}else yt(2);u.G=0,u.l&&u.l.sa(m),ru(u),co(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=Gl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,v){var I=v instanceof Yr?Mn(v):new Yr(v);if(I.g!="")m&&(I.g=m+"."+I.g),Ci(I,I.s);else{var U=d.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new Yr(null);I&&Ss(H,I),m&&(H.g=m),U&&Ci(H,U),v&&(H.l=v),I=H}return v=u.D,m=u.ya,v&&m&&st(I,v,m),st(I,"VER",u.la),Zr(u,I),I}function su(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new dt(new Xr({eb:v})):new dt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}n=Ca.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){q.call(this),this.g=new Ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Or(this)}b(gn,q),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ve(u),u=v);m.i.push(new Hl(m.Ya++,u)),m.G==3&&br(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)};function ou(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(ou,Gt);function au(){Cr.call(this),this.status=1}b(au,Cr);function Or(u){this.g=u}b(Or,Ca),Or.prototype.ua=function(){Y(this.g,"a")},Or.prototype.ta=function(u){Y(this.g,new ou(u))},Or.prototype.sa=function(u){Y(this.g,new au)},Or.prototype.ra=function(){Y(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,K_=function(){return new go},G_=function(){return fn()},W_=it,Ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,ac=to,Ul.COMPLETE="complete",q_=Ul,rr.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",q.prototype.listen=q.prototype.K,il=rr,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,H_=dt}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",By="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Yf("@firebase/firestore");function Fo(){return Qs.logLevel}function ce(n,...e){if(Qs.logLevel<=ze.DEBUG){const t=e.map(Zf);Qs.debug(`Firestore (${ua}): ${n}`,...t)}}function _i(n,...e){if(Qs.logLevel<=ze.ERROR){const t=e.map(Zf);Qs.error(`Firestore (${ua}): ${n}`,...t)}}function Zo(n,...e){if(Qs.logLevel<=ze.WARN){const t=e.map(Zf);Qs.warn(`Firestore (${ua}): ${n}`,...t)}}function Zf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+n;throw _i(e),new Error(e)}function et(n,e){n||Pe()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class FA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UA{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et(typeof i.accessToken=="string"),new Q_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new cn(e)}}class BA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new BA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $A{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_r(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new zy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new zy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=HA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function Tf(n,e){const t=wf().encode(n),i=wf().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const l=$e(t[o],i[o]);if(l!==0)return l}return $e(t.length,i.length)}function ea(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Hy=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Hy);return new Vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$y)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Vt(0,0))}static max(){return new be(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class Fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return $e(e.length,t.length)}static compareSegments(e,t){const i=Fr.isNumericId(e),o=Fr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Tf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class ht extends Fr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const qA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fr{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return qA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new en([qy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new he(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function WA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new Vt(t+1,0):new Vt(t,i));return new as(o,_e.empty(),e)}function GA(n){return new as(n.readTime,n.key,yl)}class as{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new as(be.min(),_e.empty(),yl)}static max(){return new as(be.max(),_e.empty(),yl)}}function KA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==QA)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(o=>o?X.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new X((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new X((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function XA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function Gc(n){return n==null}function Tc(n){return n===0&&1/n==-1/0}function JA(n){return typeof n=="number"&&Number.isInteger(n)&&!Tc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="";function ZA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wy(e)),e=eR(n.get(t),e);return Wy(e)}function eR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case X_:t+="";break;default:t+=l}}return t}function Wy(n){return n+X_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Mt(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Z_("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(et(!!n),typeof n=="string"){let e=0;const t=tR.exec(n);if(et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function us(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function tp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||t===void 0?void 0:t.stringValue)===eE}function Kc(n){const e=n.mapValue.fields[nE];return tp(e)?Kc(e):e}function vl(n){const e=ls(n.mapValue.fields[rE].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,i,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const Ic="(default)";class _l{constructor(e,t){this.projectId=e,this.database=t||Ic}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",rR="__max__",rc={mapValue:{}},sE="__vector__",Sc="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tp(n)?4:sR(n)?9007199254740991:iR(n)?10:11:Pe()}function Hr(n,e){if(n===e)return!0;const t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vl(n).isEqual(vl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ls(o.timestampValue),d=ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return us(o.bytesValue).isEqual(us(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),d=It(l.doubleValue);return c===d?Tc(c)===Tc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Gy(c)!==Gy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hr(c[p],d[p])))return!1;return!0}(n,e);default:return Pe()}}function El(n,e){return(n.values||[]).find(t=>Hr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=cs(n),i=cs(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Qy(n.timestampValue,e.timestampValue);case 4:return Qy(vl(n),vl(e));case 5:return Tf(n.stringValue,e.stringValue);case 6:return function(l,c){const d=us(l),p=us(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=$e(d[y],p[y]);if(_!==0)return _}return $e(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=$e(It(l.latitude),It(c.latitude));return d!==0?d:$e(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Yy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const S=l.fields||{},T=c.fields||{},N=(d=S[Sc])===null||d===void 0?void 0:d.arrayValue,b=(p=T[Sc])===null||p===void 0?void 0:p.arrayValue,j=$e(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:Yy(N,b)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===rc.mapValue&&c===rc.mapValue)return 0;if(l===rc.mapValue)return 1;if(c===rc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const T=Tf(p[S],_[S]);if(T!==0)return T;const N=ta(d[p[S]],y[_[S]]);if(N!==0)return N}return $e(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function Qy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=ls(n),i=ls(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function Yy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ta(t[o],i[o]);if(l)return l}return $e(t.length,i.length)}function na(n){return If(n)}function If(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ls(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=If(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${If(t.fields[c])}`;return o+"}"}(n.mapValue):Pe()}function lc(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(n);return e?16+lc(e):16;case 5:return 2*n.stringValue.length;case 6:return us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+lc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ps(i.fields,(l,c)=>{o+=l.length+lc(c)}),o}(n.mapValue);default:throw Pe()}}function Xy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sf(n){return!!n&&"integerValue"in n}function np(n){return!!n&&"arrayValue"in n}function Jy(n){return!!n&&"nullValue"in n}function Zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uc(n){return!!n&&"mapValue"in n}function iR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||t===void 0?void 0:t.stringValue)===sE}function ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ps(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ul(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=en.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=ul(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ps(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Dn(ul(this.value))}}function oE(n){const e=[];return ps(n.fields,(t,i)=>{const o=new en([t]);if(uc(i)){const l=oE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new hn(e,0,be.min(),be.min(),be.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,o){return new hn(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new hn(e,2,t,be.min(),be.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,be.min(),be.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.position=e,this.inclusive=t}}function ev(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=ta(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function oR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Ct extends aE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new lR(e,t,i):t==="array-contains"?new hR(e,i):t==="in"?new dR(e,i):t==="not-in"?new fR(e,i):t==="array-contains-any"?new pR(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new uR(e,i):new cR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ta(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ir(e,t)}matches(e){return lE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lE(n){return n.op==="and"}function uE(n){return aR(n)&&lE(n)}function aR(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function Af(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+na(n.value);if(uE(n))return n.filters.map(e=>Af(e)).join(",");{const e=n.filters.map(t=>Af(t)).join(",");return`${n.op}(${e})`}}function cE(n,e){return n instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Hr(i.value,o.value)}(n,e):n instanceof Ir?function(i,o){return o instanceof Ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&cE(c,o.filters[d]),!0):!1}(n,e):void Pe()}function hE(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(hE).join(" ,")+"}"}(n):"Filter"}class lR extends Ct{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class uR extends Ct{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cR extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class hR extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&El(t.arrayValue,this.value)}}class dR extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&El(this.value.arrayValue,t)}}class fR extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!El(this.value.arrayValue,t)}}class pR extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>El(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function nv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new mR(n,e,t,i,o,l,c)}function rp(n){const e=Oe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Af(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>na(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>na(i)).join(",")),e.le=t}return e.le}function ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tv(n.startAt,e.startAt)&&tv(n.endAt,e.endAt)}function Rf(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gR(n,e,t,i,o,l,c,d){return new da(n,e,t,i,o,l,c,d)}function sp(n){return new da(n)}function rv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fE(n){return n.collectionGroup!==null}function cl(n){const e=Oe(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Mt(en.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new wl(l,i))}),t.has(en.keyField().canonicalString())||e.he.push(new wl(en.keyField(),i))}return e.he}function Br(n){const e=Oe(n);return e.Pe||(e.Pe=yR(e,cl(n))),e.Pe}function yR(n,e){if(n.limitType==="F")return nv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new wl(o.field,l)});const t=n.endAt?new Ac(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ac(n.startAt.position,n.startAt.inclusive):null;return nv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Pf(n,e){const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rc(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qc(n,e){return ip(Br(n),Br(e))&&n.limitType===e.limitType}function pE(n){return`${rp(Br(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>hE(o)).join(", ")}]`),Gc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${i})`}(Br(n))}; limitType=${n.limitType})`}function Yc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of cl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=ev(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,cl(i),o)||i.endAt&&!function(c,d,p){const y=ev(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,cl(i),o))}(n,e)}function vR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mE(n){return(e,t)=>{let i=!1;for(const o of cl(n)){const l=_R(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function _R(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?ta(p,y):Pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Et(_e.comparator);function Ei(){return ER}const gE=new Et(_e.comparator);function sl(...n){let e=gE;for(const t of n)e=e.insert(t.key,t);return e}function yE(n){let e=gE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Hs(){return hl()}function vE(){return hl()}function hl(){return new Js(n=>n.toString(),(n,e)=>n.isEqual(e))}const wR=new Et(_e.comparator),TR=new Mt(_e.comparator);function He(...n){let e=TR;for(const t of n)e=e.add(t);return e}const IR=new Mt($e);function SR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function _E(n){return{integerValue:""+n}}function AR(n,e){return JA(e)?_E(e):op(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function RR(n,e,t){return n instanceof Tl?function(o,l){const c={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&tp(l)&&(l=Kc(l)),l&&(c.fields[nE]=l),{mapValue:c}}(t,e):n instanceof Il?wE(n,e):n instanceof Sl?TE(n,e):function(o,l){const c=EE(o,l),d=iv(c)+iv(o.Ie);return Sf(c)&&Sf(o.Ie)?_E(d):op(o.serializer,d)}(n,e)}function PR(n,e,t){return n instanceof Il?wE(n,e):n instanceof Sl?TE(n,e):t}function EE(n,e){return n instanceof Pc?function(i){return Sf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Tl extends Xc{}class Il extends Xc{constructor(e){super(),this.elements=e}}function wE(n,e){const t=IE(e);for(const i of n.elements)t.some(o=>Hr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Sl extends Xc{constructor(e){super(),this.elements=e}}function TE(n,e){let t=IE(e);for(const i of n.elements)t=t.filter(o=>!Hr(o,i));return{arrayValue:{values:t}}}class Pc extends Xc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function iv(n){return It(n.integerValue||n.doubleValue)}function IE(n){return np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.field=e,this.transform=t}}function kR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Il&&o instanceof Il||i instanceof Sl&&o instanceof Sl?ea(i.elements,o.elements,Hr):i instanceof Pc&&o instanceof Pc?Hr(i.Ie,o.Ie):i instanceof Tl&&o instanceof Tl}(n.transform,e.transform)}class xR{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jc{}function SE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new RE(n.key,wr.none()):new Dl(n.key,n.data,wr.none());{const t=n.data,i=Dn.empty();let o=new Mt(en.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new ms(n.key,i,new $n(o.toArray()),wr.none())}}function NR(n,e,t){n instanceof Dl?function(o,l,c){const d=o.value.clone(),p=ov(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ms?function(o,l,c){if(!cc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ov(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(AE(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function dl(n,e,t,i){return n instanceof Dl?function(l,c,d,p){if(!cc(l.precondition,c))return d;const y=l.value.clone(),_=av(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ms?function(l,c,d,p){if(!cc(l.precondition,c))return d;const y=av(l.fieldTransforms,p,c),_=c.data;return _.setAll(AE(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,c,d){return cc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function DR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=EE(i.transform,o||null);l!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,l))}return t||null}function sv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ea(i,o,(l,c)=>kR(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dl extends Jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ov(n,e,t){const i=new Map;et(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,PR(c,d,t[o]))}return i}function av(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,RR(l,c,e))}return i}class RE extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&NR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vE();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=SE(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,i)=>sv(t,i))&&ea(this.baseMutations,e.baseMutations,(t,i)=>sv(t,i))}}class ap{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){et(e.mutations.length===i.length);let o=function(){return wR}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new ap(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ye;function MR(n){switch(n){case Q.OK:return Pe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Pe()}}function PE(n){if(n===void 0)return _i("GRPC error has no .code"),Q.UNKNOWN;switch(n){case Rt.OK:return Q.OK;case Rt.CANCELLED:return Q.CANCELLED;case Rt.UNKNOWN:return Q.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Q.INTERNAL;case Rt.UNAVAILABLE:return Q.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Q.NOT_FOUND;case Rt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Rt.ABORTED:return Q.ABORTED;case Rt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Rt.DATA_LOSS:return Q.DATA_LOSS;default:return Pe()}}(Ye=Rt||(Rt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ss([4294967295,4294967295],0);function lv(n){const e=wf().encode(n),t=new $_;return t.update(e),new Uint8Array(t.digest())}function uv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ss([t,i],0),new ss([o,l],0)]}class lp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ol(`Invalid padding: ${t}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ol(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ss.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(ss.fromNumber(i)));return o.compare(jR)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=lv(e),[i,o]=uv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new lp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=lv(e),[i,o]=uv(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zc(be.min(),o,new Et($e),Ei(),He())}}class bl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bl(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class CE{constructor(e,t){this.targetId=e,this.ge=t}}class kE{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class cv{constructor(){this.pe=0,this.ye=hv(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),t=He(),i=He();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}}),new bl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=hv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class FR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ei(),this.$e=ic(),this.Ue=ic(),this.Ke=new Et($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Rf(l))if(i===0){const c=new _e(l.path);this.ze(t,c,hn.newNoDocument(c,be.min()))}else et(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=us(i).toUint8Array()}catch(p){if(p instanceof Z_)return Zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new lp(c,o,l)}catch(p){return Zo(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Rf(d.target)){const p=new _e(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,hn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=He();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new Zc(e,t,this.Ke,this.Qe,i);return this.Qe=Ei(),this.$e=ic(),this.Ue=ic(),this.Ke=new Et($e),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new cv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt($e),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ic(){return new Et(_e.comparator)}function hv(){return new Et(_e.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},BR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cf(n,e){return n.useProto3Json||Gc(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HR(n,e){return Cc(n,e.toTimestamp())}function zr(n){return et(!!n),be.fromTimestamp(function(t){const i=ls(t);return new Vt(i.seconds,i.nanos)}(n))}function up(n,e){return kf(n,e).canonicalString()}function kf(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function NE(n){const e=ht.fromString(n);return et(VE(e)),e}function xf(n,e){return up(n.databaseId,e.path)}function Zd(n,e){const t=NE(e);if(t.get(1)!==n.databaseId.projectId)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(bE(t))}function DE(n,e){return up(n.databaseId,e)}function qR(n){const e=NE(n);return e.length===4?ht.emptyPath():bE(e)}function Nf(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bE(n){return et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dv(n,e,t){return{name:xf(n,e),fields:t.value.mapValue.fields}}function WR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(et(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?Q.UNKNOWN:PE(y.code);return new he(_,y.message||"")}(c);t=new kE(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Zd(n,i.document.name),l=zr(i.document.updateTime),c=i.document.createTime?zr(i.document.createTime):be.min(),d=new Dn({mapValue:{fields:i.document.fields}}),p=hn.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new hc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Zd(n,i.document),l=i.readTime?zr(i.readTime):be.min(),c=hn.newNoDocument(o,l),d=i.removedTargetIds||[];t=new hc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Zd(n,i.document),l=i.removedTargetIds||[];t=new hc([],l,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new VR(o,l),d=i.targetId;t=new CE(d,c)}}return t}function GR(n,e){let t;if(e instanceof Dl)t={update:dv(n,e.key,e.value)};else if(e instanceof RE)t={delete:xf(n,e.key)};else if(e instanceof ms)t={update:dv(n,e.key,e.data),updateMask:nP(e.fieldMask)};else{if(!(e instanceof bR))return Pe();t={verify:xf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pc)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Pe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:HR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe()}(n,e.precondition)),t}function KR(n,e){return n&&n.length>0?(et(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?zr(o.updateTime):zr(l);return c.isEqual(be.min())&&(c=zr(l)),new xR(c,o.transformResults||[])}(t,e))):[]}function QR(n,e){return{documents:[DE(n,e.path)]}}function YR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=DE(n,o);const l=function(y){if(y.length!==0)return LE(Ir.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:Bo(T.field),direction:ZR(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Cf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function XR(n){let e=qR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){et(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(S){const T=OE(S);return T instanceof Ir&&uE(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(S){return S.map(T=>function(b){return new wl(zo(b.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(S){let T;return T=typeof S=="object"?S.value:S,Gc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(S){const T=!!S.before,N=S.values||[];return new Ac(N,T)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const T=!S.before,N=S.values||[];return new Ac(N,T)}(t.endAt)),gR(e,o,c,l,d,"F",p,y)}function JR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>OE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function ZR(n){return UR[n]}function eP(n){return BR[n]}function tP(n){return zR[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function zo(n){return en.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof Ct?function(t){if(t.op==="=="){if(Zy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(Jy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(Jy(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:eP(t.op),value:t.value}}}(n):n instanceof Ir?function(t){const i=t.getFilters().map(o=>LE(o));return i.length===1?i[0]:{compositeFilter:{op:tP(t.op),filters:i}}}(n):Pe()}function nP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,i,o,l=be.min(),c=be.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.Tt=e}}function iP(n){const e=XR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.Tn=new oP}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(as.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class oP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(ht.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(ME,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ra(0)}static Kn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LruGarbageCollector",aP=1048576;function mv([n,e],[t,i]){const o=$e(n,t);return o===0?$e(e,i):o}class lP{constructor(e){this.Hn=e,this.buffer=new Mt(mv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();mv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(pv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?ce(pv,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.er(3e5)})}}class cP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Wc.ae);const i=new lP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(fv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),Fo()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function hP(n,e){return new cP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&dl(i.mutation,o,$n.empty(),Vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=sl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=Ei();const c=hl(),d=function(){return hl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ms)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),dl(_.mutation,y,_.mutation.getFieldMask(),Vt.now())):c.set(y.key,$n.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var S;return d.set(y,new fP(_,(S=c.get(y))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=hl();let o=new Et((c,d)=>c-d),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||$n.empty();_=d.applyToLocalView(y,_),i.set(p,_);const S=(o.get(d.batchId)||He()).add(p);o=o.insert(d.batchId,S)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,S=vE();_.forEach(T=>{if(!l.has(T)){const N=SE(t.get(T),i.get(T));N!==null&&S.set(T,N),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(Hs());let d=yl,p=l;return c.next(y=>X.forEach(y,(_,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(_=>({batchId:d,changes:yE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=sl();return this.indexManager.getCollectionParents(e,l).next(d=>X.forEach(d,p=>{const y=function(S,T){return new da(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,hn.newInvalidDocument(_)))});let d=sl();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&dl(_.mutation,y,$n.empty(),Vt.now()),Yc(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:zr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:iP(o.bundledQuery),readTime:zr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new Et(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Hs();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=Hs(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Et((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=Hs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Hs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return X.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LR(t,i));let l=this.Rr.get(t);l===void 0&&(l=He(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Vr=new Mt(Ht.mr),this.gr=new Mt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ht(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new _e(new ht([])),i=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ht([])),i=new Ht(t,e),o=new Ht(t,e+1);let l=He();return this.gr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Ht.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OR(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ep:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);l.push(d)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt($e);return t.forEach(o=>{const l=new Ht(o,0),c=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),X.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new _e(l),0);let d=new Mt($e);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Cr)),!0)},c),X.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return X.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ht(t,0),o=this.Mr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.kr=e,this.docs=function(){return new Et(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=Ei();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():hn.newInvalidDocument(o))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ei();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||KA(GA(_),i)<=0||(o.has(_.key)||Yc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Pe()}qr(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new EP(this)}getSize(e){return X.resolve(this.size)}}class EP extends dP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.persistence=e,this.Qr=new Js(t=>rp(t),ip),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cp,this.targetCount=0,this.Kr=ra.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Wc(0),this.zr=!1,this.zr=!0,this.jr=new yP,this.referenceDelegate=e(this),this.Hr=new wP(this),this.indexManager=new sP,this.remoteDocumentCache=function(o){return new _P(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new rP(t),this.Yr=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new vP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new TP(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return X.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class TP extends YA{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.ti=new cp,this.ni=null}static ri(e){return new hp(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,i=>{const o=_e.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class kc{constructor(e,t){this.persistence=e,this.oi=new Js(i=>ZA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=hP(this,t)}static ri(e,t){return new kc(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lc(e.data.value)),t}ar(e,t,i){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new dp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ES()?8:XA(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new IP;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Fo()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Fo()<=ze.DEBUG&&ce("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Fo()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):X.resolve())}rs(e,t){if(rv(t))return X.resolve(null);let i=Br(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Rc(t,null,"F"),i=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,d);return this.ls(t,y,c,p.readTime)?this.rs(e,Rc(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return rv(t)||o.isEqual(be.min())?X.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,o)?X.resolve(null):(Fo()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(t)),this.hs(e,c,t,WA(o,yl)).next(d=>d))})}cs(e,t){let i=new Mt(mE(e));return t.forEach((o,l)=>{Yc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return Fo()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ns.getDocumentsMatchingQuery(e,t,as.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",AP=3e8;class RP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Et($e),this.Is=new Js(l=>rp(l),ip),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function PP(n,e,t,i){return new RP(n,e,t,i)}async function FE(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=He();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function CP(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const S=y.batch,T=S.keys();let N=X.resolve();return T.forEach(b=>{N=N.next(()=>_.getEntry(p,b)).next(j=>{const V=y.docVersions.get(b);et(V!==null),j.version.compareTo(V)<0&&(S.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),_.addEntry(j)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=He();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function UE(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function kP(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,S)=>{const T=o.get(S);if(!T)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,S)));let N=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(nn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),o=o.insert(S,N),function(j,V,G){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=AP?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(T,N,_)&&d.push(t.Hr.updateTargetData(l,N))});let p=Ei(),y=He();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(xP(l,c,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!i.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return X.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function xP(n,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ei();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce(fp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function NP(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ep),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function DP(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,X.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ts(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Df(n,e,t){const i=Oe(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ha(c))throw c;ce(fp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function gv(n,e,t){const i=Oe(n);let o=be.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const S=Oe(p),T=S.Is.get(_);return T!==void 0?X.resolve(S.Ts.get(T)):S.Hr.getTargetData(y,_)}(i,c,Br(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?l:He())).next(d=>(bP(i,vR(e),d),{documents:d,gs:l})))}function bP(n,e,t){let i=n.Es.get(e)||be.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class yv{constructor(){this.activeTargetIds=SR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.ho=new yv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="ConnectivityMonitor";class _v{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(vv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function bf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="RestConnection",VP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const c=bf(),d=this.bo(e,t.toUriEncodedString());ce(ef,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,i).then(y=>(ce(ef,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Zo(ef,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,l,c){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=VP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class FP extends MP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=bf();return new Promise((c,d)=>{const p=new H_;p.setWithCredentials(!0),p.listenOnce(q_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ac.NO_ERROR:const _=p.getResponseJson();ce(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case ac.TIMEOUT:ce(un,`RPC '${e}' ${l} timed out`),d(new he(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const S=p.getStatus();if(ce(un,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const b=function(V){const G=V.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(G)>=0?G:Q.UNKNOWN}(N.status);d(new he(b,N.message))}else d(new he(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new he(Q.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ce(un,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ce(un,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=bf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=K_(),d=G_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ce(un,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=c.createWebChannel(_,p);let T=!1,N=!1;const b=new jP({Fo:V=>{N?ce(un,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(T||(ce(un,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),ce(un,`RPC '${e}' stream ${o} sending:`,V),S.send(V))},Mo:()=>S.close()}),j=(V,G,te)=>{V.listen(G,re=>{try{te(re)}catch(ie){setTimeout(()=>{throw ie},0)}})};return j(S,il.EventType.OPEN,()=>{N||(ce(un,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),j(S,il.EventType.CLOSE,()=>{N||(N=!0,ce(un,`RPC '${e}' stream ${o} transport closed`),b.Uo())}),j(S,il.EventType.ERROR,V=>{N||(N=!0,Zo(un,`RPC '${e}' stream ${o} transport errored:`,V),b.Uo(new he(Q.UNAVAILABLE,"The operation could not be completed")))}),j(S,il.EventType.MESSAGE,V=>{var G;if(!N){const te=V.data[0];et(!!te);const re=te,ie=(re==null?void 0:re.error)||((G=re[0])===null||G===void 0?void 0:G.error);if(ie){ce(un,`RPC '${e}' stream ${o} received error:`,ie);const Ne=ie.status;let Ce=function(C){const D=Rt[C];if(D!==void 0)return PE(D)}(Ne),O=ie.message;Ce===void 0&&(Ce=Q.INTERNAL,O="Unknown error status: "+Ne+" with message "+ie.message),N=!0,b.Uo(new he(Ce,O)),S.close()}else ce(un,`RPC '${e}' stream ${o} received:`,te),b.Ko(te)}}),j(d,W_.STAT_EVENT,V=>{V.stat===Ef.PROXY?ce(un,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Ef.NOPROXY&&ce(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="PersistentStream";class zE{constructor(e,t,i,o,l,c,d,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new he(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UP extends zE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WR(this.serializer,e),i=function(l){if(!("targetChange"in l))return be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?zr(c.readTime):be.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Nf(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Rf(p)?{documents:QR(l,p)}:{query:YR(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xE(l,c.resumeToken);const y=Cf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(be.min())>0){d.readTime=Cc(l,c.snapshotVersion.toTimestamp());const y=Cf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=JR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Nf(this.serializer),t.removeTarget=e,this.I_(t)}}class BP extends zE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=KR(e.writeResults,e.commitTime),i=zr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Nf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>GR(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{}class $P extends zP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,kf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Q.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,kf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Q.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_i(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class qP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Zs(this)&&(ce(Ys,"Restarting streams for network reachability change."),await async function(p){const y=Oe(p);y.W_.add(4),await Ol(y),y.j_.set("Unknown"),y.W_.delete(4),await th(y)}(this))})}),this.j_=new HP(i,o)}}async function th(n){if(Zs(n))for(const e of n.G_)await e(!0)}async function Ol(n){for(const e of n.G_)await e(!1)}function $E(n,e){const t=Oe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),yp(t)?gp(t):fa(t).c_()&&mp(t,e))}function pp(n,e){const t=Oe(n),i=fa(t);t.K_.delete(e),i.c_()&&HE(t,e),t.K_.size===0&&(i.c_()?i.P_():Zs(t)&&t.j_.set("Unknown"))}function mp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).y_(e)}function HE(n,e){n.H_.Ne(e),fa(n).w_(e)}function gp(n){n.H_=new FR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.j_.B_()}function yp(n){return Zs(n)&&!fa(n).u_()&&n.K_.size>0}function Zs(n){return Oe(n).W_.size===0}function qE(n){n.H_=void 0}async function WP(n){n.j_.set("Online")}async function GP(n){n.K_.forEach((e,t)=>{mp(n,e)})}async function KP(n,e){qE(n),yp(n)?(n.j_.q_(e),gp(n)):n.j_.set("Unknown")}async function QP(n,e,t){if(n.j_.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.K_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){ce(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xc(n,i)}else if(e instanceof hc?n.H_.We(e):e instanceof CE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const i=await UE(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.K_.get(y);_&&l.K_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.K_.get(p);if(!_)return;l.K_.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),HE(l,p);const S=new ts(_.target,p,y,_.sequenceNumber);mp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce(Ys,"Failed to raise snapshot:",i),await xc(n,i)}}async function xc(n,e,t){if(!ha(e))throw e;n.W_.add(1),await Ol(n),n.j_.set("Offline"),t||(t=()=>UE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ys,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await th(n)})}function WE(n,e){return e().catch(t=>xc(n,t,e))}async function nh(n){const e=Oe(n),t=hs(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:ep;for(;YP(e);)try{const o=await NP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,XP(e,o)}catch(o){await xc(e,o)}GE(e)&&KE(e)}function YP(n){return Zs(n)&&n.U_.length<10}function XP(n,e){n.U_.push(e);const t=hs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function GE(n){return Zs(n)&&!hs(n).u_()&&n.U_.length>0}function KE(n){hs(n).start()}async function JP(n){hs(n).C_()}async function ZP(n){const e=hs(n);for(const t of n.U_)e.b_(t.mutations)}async function eC(n,e,t){const i=n.U_.shift(),o=ap.from(i,e,t);await WE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await nh(n)}async function tC(n,e){e&&hs(n).S_&&await async function(i,o){if(function(c){return MR(c)&&c!==Q.ABORTED}(o.code)){const l=i.U_.shift();hs(i).h_(),await WE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await nh(i)}}(n,e),GE(n)&&KE(n)}async function wv(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ce(Ys,"RemoteStore received new credentials");const i=Zs(t);t.W_.add(3),await Ol(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await th(t)}async function nC(n,e){const t=Oe(n);e?(t.W_.delete(2),await th(t)):e||(t.W_.add(2),await Ol(t),t.j_.set("Unknown"))}function fa(n){return n.J_||(n.J_=function(t,i,o){const l=Oe(t);return l.M_(),new UP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:WP.bind(null,n),No:GP.bind(null,n),Lo:KP.bind(null,n),p_:QP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),yp(n)?gp(n):n.j_.set("Unknown")):(await n.J_.stop(),qE(n))})),n.J_}function hs(n){return n.Y_||(n.Y_=function(t,i,o){const l=Oe(t);return l.M_(),new BP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:JP.bind(null,n),Lo:tC.bind(null,n),D_:ZP.bind(null,n),v_:eC.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await nh(n)):(await n.Y_.stop(),n.U_.length>0&&(ce(Ys,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new vp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(n,e){if(_i("AsyncQueue",`${e}: ${n}`),ha(n))return new he(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=sl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Z_=new Et(_e.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ia{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ia(e,t,Wo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iC{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Oe(t),l=o.queries;o.queries=Iv(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new he(Q.ABORTED,"Firestore shutting down"))}}function Iv(){return new Js(n=>pE(n),Qc)}async function QE(n,e){const t=Oe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new rC,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=_p(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Ep(t)}async function YE(n,e){const t=Oe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function sC(n,e){const t=Oe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&Ep(t)}function oC(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function Ep(n){n.ia.forEach(e=>{e.next()})}var Of,Sv;(Sv=Of||(Of={}))._a="default",Sv.Cache="cache";class XE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.key=e}}class ZE{constructor(e){this.key=e}}class aC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=mE(e),this.wa=new Wo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Tv,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const T=o.get(_),N=Yc(this.query,S)?S:null,b=!!T&&this.mutatedKeys.has(T.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;T&&N?T.data.isEqual(N.data)?b!==j&&(i.track({type:3,doc:N}),V=!0):this.va(T,N)||(i.track({type:2,doc:N}),V=!0,(p&&this.ya(N,p)>0||y&&this.ya(N,y)<0)&&(d=!0)):!T&&N?(i.track({type:0,doc:N}),V=!0):T&&!N&&(i.track({type:1,doc:T}),V=!0,(p||y)&&(d=!0)),V&&(N?(c=c.add(N),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,S)=>function(N,b){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return j(N)-j(b)}(_.type,S.type)||this.ya(_.doc,S.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new ia(this.query,e.wa,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Tv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new ZE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new JE(i))}),t}Oa(e){this.fa=e.gs,this.pa=He();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ia.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wp="SyncEngine";class lC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class uC{constructor(e){this.key=e,this.Ba=!1}}class cC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Js(d=>pE(d),Qc),this.qa=new Map,this.Qa=new Set,this.$a=new Et(_e.comparator),this.Ua=new Map,this.Ka=new cp,this.Wa={},this.Ga=new Map,this.za=ra.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hC(n,e,t=!0){const i=sw(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await ew(i,e,t,!0),o}async function dC(n,e){const t=sw(n);await ew(t,e,!0,!1)}async function ew(n,e,t,i){const o=await DP(n.localStore,Br(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await fC(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&$E(n.remoteStore,o),d}async function fC(n,e,t,i,o){n.Ha=(S,T,N)=>async function(j,V,G,te){let re=V.view.ba(G);re.ls&&(re=await gv(j.localStore,V.query,!1).then(({documents:O})=>V.view.ba(O,re)));const ie=te&&te.targetChanges.get(V.targetId),Ne=te&&te.targetMismatches.get(V.targetId)!=null,Ce=V.view.applyChanges(re,j.isPrimaryClient,ie,Ne);return Rv(j,V.targetId,Ce.Ma),Ce.snapshot}(n,S,T,N);const l=await gv(n.localStore,e,!0),c=new aC(e,l.gs),d=c.ba(l.documents),p=bl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);Rv(n,t,y.Ma);const _=new lC(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function pC(n,e,t){const i=Oe(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(c=>!Qc(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Df(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&pp(i.remoteStore,o.targetId),Lf(i,o.targetId)}).catch(ca)):(Lf(i,o.targetId),await Df(i.localStore,o.targetId,!0))}async function mC(n,e){const t=Oe(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),pp(t.remoteStore,i.targetId))}async function gC(n,e,t){const i=IC(n);try{const o=await function(c,d){const p=Oe(c),y=Vt.now(),_=d.reduce((N,b)=>N.add(b.key),He());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let b=Ei(),j=He();return p.ds.getEntries(N,_).next(V=>{b=V,b.forEach((G,te)=>{te.isValidDocument()||(j=j.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,b)).next(V=>{S=V;const G=[];for(const te of d){const re=DR(te,S.get(te.key).overlayedDocument);re!=null&&G.push(new ms(te.key,re,oE(re.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,G,d)}).next(V=>{T=V;const G=V.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(N,V.batchId,G)})}).then(()=>({batchId:T.batchId,changes:yE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.Wa[c.currentUser.toKey()];y||(y=new Et($e)),y=y.insert(d,p),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Ll(i,o.changes),await nh(i.remoteStore)}catch(o){const l=_p(o,"Failed to persist write");t.reject(l)}}async function tw(n,e){const t=Oe(n);try{const i=await kP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ua.get(l);c&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?et(c.Ba):o.removedDocuments.size>0&&(et(c.Ba),c.Ba=!1))}),await Ll(t,i,e)}catch(i){await ca(i)}}function Av(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Oe(c);p.onlineState=d;let y=!1;p.queries.forEach((_,S)=>{for(const T of S.ta)T.sa(d)&&(y=!0)}),y&&Ep(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yC(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),l=o&&o.key;if(l){let c=new Et(_e.comparator);c=c.insert(l,hn.newNoDocument(l,be.min()));const d=He().add(l),p=new Zc(be.min(),new Map,new Et($e),c,d);await tw(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),Tp(i)}else await Df(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(ca)}async function vC(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await CP(t.localStore,e);rw(t,i,null),nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await ca(o)}}async function _C(n,e,t){const i=Oe(n);try{const o=await function(c,d){const p=Oe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(S=>(et(S!==null),_=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);rw(i,e,t),nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await ca(o)}}function nw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rw(n,e,t){const i=Oe(n);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||iw(n,i)})}function iw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(pp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Tp(n))}function Rv(n,e,t){for(const i of t)i instanceof JE?(n.Ka.addReference(i.key,e),EC(n,i)):i instanceof ZE?(ce(wp,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||iw(n,i.key)):Pe()}function EC(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ce(wp,"New document in limbo: "+t),n.Qa.add(i),Tp(n))}function Tp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(ht.fromString(e)),i=n.za.next();n.Ua.set(i,new uC(t)),n.$a=n.$a.insert(t,i),$E(n.remoteStore,new ts(Br(sp(t.path)),i,"TargetPurposeLimboResolution",Wc.ae))}}async function Ll(n,e,t){const i=Oe(n),o=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=dp.Yi(p.targetId,y);l.push(S)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,y){const _=Oe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,T=>X.forEach(T.Hi,N=>_.persistence.referenceDelegate.addReference(S,T.targetId,N)).next(()=>X.forEach(T.Ji,N=>_.persistence.referenceDelegate.removeReference(S,T.targetId,N)))))}catch(S){if(!ha(S))throw S;ce(fp,"Failed to update sequence numbers: "+S)}for(const S of y){const T=S.targetId;if(!S.fromCache){const N=_.Ts.get(T),b=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(b);_.Ts=_.Ts.insert(T,j)}}}(i.localStore,l))}async function wC(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ce(wp,"User change. New user:",e.toKey());const i=await FE(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new he(Q.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.Rs)}}function TC(n,e){const t=Oe(n),i=t.Ua.get(e);if(i&&i.Ba)return He().add(i.key);{let o=He();const l=t.qa.get(e);if(!l)return o;for(const c of l){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function sw(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yC.bind(null,e),e.La.p_=sC.bind(null,e.eventManager),e.La.Ja=oC.bind(null,e.eventManager),e}function IC(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_C.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return PP(this.persistence,new SP,e.initialUser,this.serializer)}Xa(e){return new jE(hp.ri,this.serializer)}Za(e){return new OP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class SC extends Nc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof kc);const i=this.persistence.referenceDelegate.garbageCollector;return new uP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new jE(i=>kc.ri(i,t),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Av(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iC}()}createDatastore(e){const t=eh(e.databaseInfo.databaseId),i=function(l){return new FP(l)}(e.databaseInfo);return function(l,c,d,p){return new $P(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new qP(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Av(this.syncEngine,t,0),function(){return _v.D()?new _v:new LP}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const S=new cC(o,l,c,d,p,y);return _&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Oe(o);ce(Ys,"RemoteStore shutting down."),l.W_.add(5),await Ol(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class AC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ce(ds,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce(ds,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=_p(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await FE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Pv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RC(n);ce(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>wv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>wv(e.remoteStore,o)),n._onlineComponents=e}async function RC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(ds,"Using user provided OfflineComponentProvider");try{await nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await nf(n,new Nc)}}else ce(ds,"Using default OfflineComponentProvider"),await nf(n,new SC(void 0));return n._offlineComponents}async function aw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(ds,"Using user provided OnlineComponentProvider"),await Pv(n,n._uninitializedComponentsProvider._online)):(ce(ds,"Using default OnlineComponentProvider"),await Pv(n,new Vf))),n._onlineComponents}function PC(n){return aw(n).then(e=>e.syncEngine)}async function lw(n){const e=await aw(n),t=e.eventManager;return t.onListen=hC.bind(null,e.syncEngine),t.onUnlisten=pC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mC.bind(null,e.syncEngine),t}function CC(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new ow({next:T=>{_.su(),c.enqueueAndForget(()=>YE(l,S));const N=T.docs.has(d);!N&&T.fromCache?y.reject(new he(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&p&&p.source==="server"?y.reject(new he(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new XE(sp(d.path),_,{includeMetadataChanges:!0,Ta:!0});return QE(l,S)}(await lw(n),n.asyncQueue,e,t,i)),i.promise}function kC(n,e,t={}){const i=new mi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new ow({next:T=>{_.su(),c.enqueueAndForget(()=>YE(l,S)),T.fromCache&&p.source==="server"?y.reject(new he(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new XE(d,_,{includeMetadataChanges:!0,Ta:!0});return QE(l,S)}(await lw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e,t){if(!t)throw new he(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xC(n,e,t,i){if(e===!0&&i===!0)throw new he(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kv(n){if(!_e.isDocumentKey(n))throw new he(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xv(n){if(_e.isDocumentKey(n))throw new he(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rh(n);throw new he(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firestore.googleapis.com",Nv=!0;class Dv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hw,this.ssl=Nv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Nv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aP)throw new he(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jA;switch(i.type){case"firstParty":return new zA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Cv.get(t);i&&(ce("ComponentProvider","Removing Datastore"),Cv.delete(t),i.terminate())}(this),Promise.resolve()}}function NC(n,e,t,i={}){var o;const l=(n=qr(n,ih))._getSettings(),c=`${e}:${t}`;if(l.host!==hw&&l.host!==c&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=cn.MOCK_USER;else{d=fS(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new he(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new cn(y)}n._authCredentials=new FA(new Q_(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class os extends gs{constructor(e,t,i){super(e,t,sp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function gi(n,e,...t){if(n=tn(n),cw("collection","path",e),n instanceof ih){const i=ht.fromString(e,...t);return xv(i),new os(n,null,i)}{if(!(n instanceof _n||n instanceof os))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return xv(i),new os(n.firestore,null,i)}}function dw(n,e,...t){if(n=tn(n),arguments.length===1&&(e=Y_.newId()),cw("doc","path",e),n instanceof ih){const i=ht.fromString(e,...t);return kv(i),new _n(n,null,new _e(i))}{if(!(n instanceof _n||n instanceof os))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return kv(i),new _n(n.firestore,n instanceof os?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class Ov{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BE(this,"async_queue_retry"),this.Su=()=>{const i=tf();i&&ce(bv,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new mi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ha(e))throw e;ce(bv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw _i("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=vp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class pa extends ih{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Ov,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ov(e),this._firestoreClient=void 0,await e}}}function DC(n,e){const t=typeof n=="object"?n:U_(),i=typeof n=="string"?n:Ic,o=Jf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=hS("firestore");l&&NC(o,...l)}return o}function Ip(n){if(n._terminated)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bC(n),n._firestoreClient}function bC(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new nR(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,uw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new AC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(nn.fromBase64String(e))}catch(t){throw new he(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=/^__.*__$/;class LC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)}}class fw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Rp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(pw(this.Lu)&&OC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||eh(e)}ju(e,t,i,o=!1){return new Rp({Lu:e,methodName:t,zu:i,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(n){const e=n._freezeSettings(),t=eh(n._databaseId);return new VC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mw(n,e,t,i,o,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,o);Cp("Data must be an object, but it was:",c,i);const d=gw(i,c);let p,y;if(l.merge)p=new $n(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const S of l.mergeFields){const T=Mf(e,S,t);if(!c.contains(T))throw new he(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);vw(_,T)||_.push(T)}p=new $n(_),y=c.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=c.fieldTransforms;return new LC(new Dn(d),p,y)}class lh extends oh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lh}}class Pp extends oh{_toFieldTransform(e){return new CR(e.path,new Tl)}isEqual(e){return e instanceof Pp}}function MC(n,e,t,i){const o=n.ju(1,e,t);Cp("Data must be an object, but it was:",o,i);const l=[],c=Dn.empty();ps(i,(p,y)=>{const _=kp(e,p,t);y=tn(y);const S=o.Uu(_);if(y instanceof lh)l.push(_);else{const T=Vl(y,S);T!=null&&(l.push(_),c.set(_,T))}});const d=new $n(l);return new fw(c,d,o.fieldTransforms)}function jC(n,e,t,i,o,l){const c=n.ju(1,e,t),d=[Mf(e,i,t)],p=[o];if(l.length%2!=0)throw new he(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Mf(e,l[T])),p.push(l[T+1]);const y=[],_=Dn.empty();for(let T=d.length-1;T>=0;--T)if(!vw(y,d[T])){const N=d[T];let b=p[T];b=tn(b);const j=c.Uu(N);if(b instanceof lh)y.push(N);else{const V=Vl(b,j);V!=null&&(y.push(N),_.set(N,V))}}const S=new $n(y);return new fw(_,S,c.fieldTransforms)}function FC(n,e,t,i=!1){return Vl(t,n.ju(i?4:3,e))}function Vl(n,e){if(yw(n=tn(n)))return Cp("Unsupported field value:",e,n),gw(n,e);if(n instanceof oh)return function(i,o){if(!pw(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let p=Vl(d,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return AR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Vt.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Vt){const l=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Sp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:xE(o.serializer,i._byteString)};if(i instanceof _n){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:up(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ap)return function(c,d){return{mapValue:{fields:{[iE]:{stringValue:sE},[Sc]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return op(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${rh(i)}`)}(n,e)}function gw(n,e){const t={};return J_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(n,(i,o)=>{const l=Vl(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function yw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Sp||n instanceof sa||n instanceof _n||n instanceof oh||n instanceof Ap)}function Cp(n,e,t){if(!yw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=rh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Mf(n,e,t){if((e=tn(e))instanceof sh)return e._internalPath;if(typeof e=="string")return kp(n,e);throw Dc("Field path arguments must be of type string or ",n,!1,void 0,t)}const UC=new RegExp("[~\\*/\\[\\]]");function kp(n,e,t){if(e.search(UC)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sh(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new he(Q.INVALID_ARGUMENT,d+n+p)}function vw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BC extends _w{data(){return super.data()}}function uh(n,e){return typeof e=="string"?kp(n,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Np extends xp{}function $C(n,e,...t){let i=[];e instanceof xp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Dp).length,d=l.filter(p=>p instanceof ch).length;if(c>1||c>0&&d>0)throw new he(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class ch extends Np{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ch(e,t,i)}_apply(e){const t=this._parse(e);return Ew(e._query,t),new gs(e.firestore,e.converter,Pf(e._query,t))}_parse(e){const t=ah(e.firestore);return function(l,c,d,p,y,_,S){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Mv(S,_);const b=[];for(const j of S)b.push(Vv(p,l,j));T={arrayValue:{values:b}}}else T=Vv(p,l,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Mv(S,_),T=FC(d,c,S,_==="in"||_==="not-in");return Ct.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lv(n,e,t){const i=e,o=uh("where",n);return ch._create(o,i,t)}class Dp extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)Ew(c,p),c=Pf(c,p)}(e._query,t),new gs(e.firestore,e.converter,Pf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends Np{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new he(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(l,c)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new da(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function bN(n,e="asc"){const t=e,i=uh("orderBy",n);return bp._create(i,t)}class Op extends Np{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Op(e,t,i)}_apply(e){return new gs(e.firestore,e.converter,Rc(e._query,this._limit,this._limitType))}}function HC(n){return Op._create("limit",n,"F")}function Vv(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new he(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fE(e)&&t.indexOf("/")!==-1)throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!_e.isDocumentKey(i))throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xy(n,new _e(i))}if(t instanceof _n)return Xy(n,t._key);throw new he(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(t)}.`)}function Mv(n,e){if(!Array.isArray(n)||n.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qC{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ps(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>It(c.doubleValue));return new Ap(l)}convertGeoPoint(e){return new Sp(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const t=ls(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);et(VE(i));const o=new _l(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||_i(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tw extends _w{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class dc extends Tw{data(e={}){return super.data(e)}}class WC{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new dc(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new dc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new dc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new al(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:GC(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){n=qr(n,_n);const e=qr(n.firestore,pa);return CC(Ip(e),n._key).then(t=>QC(e,n,t))}class Iw extends qC{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function ma(n){n=qr(n,gs);const e=qr(n.firestore,pa),t=Ip(e),i=new Iw(e);return zC(n._query),kC(t,n._query).then(o=>new WC(e,i,n,o))}function LN(n,e,t){n=qr(n,_n);const i=qr(n.firestore,pa),o=ww(n.converter,e);return Lp(i,[mw(ah(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,wr.none())])}function KC(n,e,t,...i){n=qr(n,_n);const o=qr(n.firestore,pa),l=ah(o);let c;return c=typeof(e=tn(e))=="string"||e instanceof sh?jC(l,"updateDoc",n._key,e,t,i):MC(l,"updateDoc",n._key,e),Lp(o,[c.toMutation(n._key,wr.exists(!0))])}function jf(n,e){const t=qr(n.firestore,pa),i=dw(n),o=ww(n.converter,e);return Lp(t,[mw(ah(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function Lp(n,e){return function(i,o){const l=new mi;return i.asyncQueue.enqueueAndForget(async()=>gC(await PC(i),o,l)),l.promise}(Ip(n),e)}function QC(n,e,t){const i=t.docs.get(e._key),o=new Iw(n);return new Tw(n,o,e._key,i,new al(t.hasPendingWrites,t.fromCache),e.converter)}function rf(){return new Pp("serverTimestamp")}(function(e,t=!0){(function(o){ua=o})(la),Jo(new Ks("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new pa(new UA(i.getProvider("auth-internal")),new $A(c,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),is(Uy,By,e),is(Uy,By,"esm2017")})();var YC="firebase",XC="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(YC,XC,"app");function Vp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JC=Sw,Aw=new xl("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Yf("@firebase/auth");function ZC(n,...e){bc.logLevel<=ze.WARN&&bc.warn(`Auth (${la}): ${n}`,...e)}function fc(n,...e){bc.logLevel<=ze.ERROR&&bc.error(`Auth (${la}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(n,...e){throw jp(n,...e)}function Tr(n,...e){return jp(n,...e)}function Mp(n,e,t){const i=Object.assign(Object.assign({},JC()),{[e]:t});return new xl("auth","Firebase",i).create(e,{appName:n.name})}function Ws(n){return Mp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ek(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Wr(n,"argument-error"),Mp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Aw.create(n,...e)}function xe(n,e,...t){if(!n)throw jp(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fc(e),new Error(e)}function wi(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tk(){return jv()==="http:"||jv()==="https:"}function jv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tk()||yS()||"connection"in navigator)?navigator.onLine:!0}function rk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=pS()||vS()}get(){return nk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Ml(3e4,6e4);function Up(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ga(n,e,t,i,o={}){return Pw(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Nl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return gS()||(y.referrerPolicy="no-referrer"),Rw.fetch()(Cw(n,n.config.apiHost,t,d),y)})}async function Pw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ik),e);try{const o=new ak(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw oc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw oc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mp(n,_,y);Wr(n,_)}}catch(o){if(o instanceof Ti)throw o;Wr(n,"network-request-failed",{message:String(o)})}}async function ok(n,e,t,i,o={}){const l=await ga(n,e,t,i,o);return"mfaPendingCredential"in l&&Wr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Cw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Fp(n.config,o):`${n.config.apiScheme}://${o}`}class ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Tr(this.auth,"network-request-failed")),sk.get())})}}function oc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Tr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n,e){return ga(n,"POST","/v1/accounts:delete",e)}async function kw(n,e){return ga(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uk(n,e=!1){const t=tn(n),i=await t.getIdToken(e),o=Bp(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:fl(sf(o.auth_time)),issuedAtTime:fl(sf(o.iat)),expirationTime:fl(sf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function sf(n){return Number(n)*1e3}function Bp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=b_(t);return o?JSON.parse(o):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fv(n){const e=Bp(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ti&&ck(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ck({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Al(n,kw(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?xw(l.providerUserInfo):[],d=fk(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Uf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,S)}async function dk(n){const e=tn(n);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fk(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xw(n){return n.map(e=>{var{providerId:t}=e,i=Vp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e){const t=await Pw(n,{},async()=>{const i=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=Cw(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Rw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mk(n,e){return ga(n,"POST","/v2/accounts:revokeToken",Up(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Fv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await pk(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Go;return i&&(xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Uf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uk(this,e)}reload(){return dk(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Al(this,lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:re,emailVerified:ie,isAnonymous:Ne,providerData:Ce,stsTokenManager:O}=t;xe(re&&O,e,"internal-error");const A=Go.fromJSON(this.name,O);xe(typeof re=="string",e,"internal-error"),Qi(S,e.name),Qi(T,e.name),xe(typeof ie=="boolean",e,"internal-error"),xe(typeof Ne=="boolean",e,"internal-error"),Qi(N,e.name),Qi(b,e.name),Qi(j,e.name),Qi(V,e.name),Qi(G,e.name),Qi(te,e.name);const C=new di({uid:re,auth:e,email:T,emailVerified:ie,displayName:S,isAnonymous:Ne,photoURL:b,phoneNumber:N,tenantId:j,stsTokenManager:A,createdAt:G,lastLoginAt:te});return Ce&&Array.isArray(Ce)&&(C.providerData=Ce.map(D=>Object.assign({},D))),V&&(C._redirectEventId=V),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Go;o.updateFromServerResponse(t);const l=new di({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Oc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?xw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Go;d.updateFromIdToken(i);const p=new di({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Uf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function fi(n){wi(n instanceof Function,"Expected a class definition");let e=Uv.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nw.type="NONE";const Bv=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,l),this.fullPersistenceKey=pc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ko(fi(Bv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||fi(Bv);const c=pc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const S=di._fromJSON(e,_);y!==l&&(d=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ko(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Ko(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mw(e))return"Blackberry";if(jw(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||Ow(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Dw(n=dn()){return/firefox\//i.test(n)}function bw(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ow(n=dn()){return/crios\//i.test(n)}function Lw(n=dn()){return/iemobile/i.test(n)}function Vw(n=dn()){return/android/i.test(n)}function Mw(n=dn()){return/blackberry/i.test(n)}function jw(n=dn()){return/webos/i.test(n)}function zp(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gk(n=dn()){var e;return zp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yk(){return _S()&&document.documentMode===10}function Fw(n=dn()){return zp(n)||Vw(n)||jw(n)||Mw(n)||/windows phone/i.test(n)||Lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n,e=[]){let t;switch(n){case"Browser":t=zv(dn());break;case"Worker":t=`${zv(dn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e={}){return ga(n,"GET","/v2/passwordPolicy",Up(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=6;class wk{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Ek,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kw(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(Ws(this));const t=e?tn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _k(this),t=new wk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await mk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hh(n){return tn(n)}class $v{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ik(n){$p=n}function Sk(n){return $p.loadJS(n)}function Ak(){return $p.gapiScript}function Rk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e){const t=Jf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ec(l,e??{}))return o;Wr(o,"already-initialized")}return t.initialize({options:e})}function Ck(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kk(n,e,t){const i=hh(n);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=Bw(e),{host:c,port:d}=xk(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),Nk()}function Bw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xk(n){const e=Bw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Hv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Hv(c)}}}function Hv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Nk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return ok(n,"POST","/v1/accounts:signInWithIdp",Up(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="http://localhost";class Xs extends zw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Vp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Xs(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:Dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends jl{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ji.credential(t,i)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends jl{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends jl{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return es.credential(t,i)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await di._fromIdTokenResponse(e,i,o),c=qv(i);return new oa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=qv(i);return new oa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function qv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Ti{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Lc(e,t,i,o)}}function $w(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(n,l,e,i):l})}async function bk(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return oa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e,t=!1){const{auth:i}=n;if(_r(i.app))return Promise.reject(Ws(i));const o="reauthenticate";try{const l=await Al(n,$w(i,o,e,n),t);xe(l.idToken,i,"internal-error");const c=Bp(l.idToken);xe(c,i,"internal-error");const{sub:d}=c;return xe(n.uid===d,i,"user-mismatch"),oa._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,e,t=!1){if(_r(n.app))return Promise.reject(Ws(n));const i="signIn",o=await $w(n,i,e),l=await oa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function Vk(n,e,t,i){return tn(n).onIdTokenChanged(e,t,i)}function Mk(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function VN(n,e,t,i){return tn(n).onAuthStateChanged(e,t,i)}function MN(n){return tn(n).signOut()}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1e3,Fk=10;class qw extends Hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);yk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Fk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qw.type="LOCAL";const Uk=qw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ww.type="SESSION";const Gw=Ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new dh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await Bk(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=qp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function $k(n){$r().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function Hk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Wk(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebaseLocalStorageDb",Gk=1,Mc="firebaseLocalStorage",Yw="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fh(n,e){return n.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function Kk(){const n=indexedDB.deleteDatabase(Qw);return new Fl(n).toPromise()}function Bf(){const n=indexedDB.open(Qw,Gk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mc,{keyPath:Yw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mc)?e(i):(i.close(),await Kk(),e(await Bf()))})})}async function Wv(n,e,t){const i=fh(n,!0).put({[Yw]:e,value:t});return new Fl(i).toPromise()}async function Qk(n,e){const t=fh(n,!1).get(e),i=await new Fl(t).toPromise();return i===void 0?null:i.value}function Gv(n,e){const t=fh(n,!0).delete(e);return new Fl(t).toPromise()}const Yk=800,Xk=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Xk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Wk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Hk(),!this.activeServiceWorker)return;this.sender=new zk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bf();return await Wv(e,Vc,"1"),await Gv(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Wv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Qk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=fh(o,!1).getAll();return new Fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const Jk=Xw;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n,e){return e?fi(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends zw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zk(n){return Lk(n.auth,new Wp(n),n.bypassAuthState)}function ex(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),Ok(t,new Wp(n),n.bypassAuthState)}async function tx(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),bk(t,new Wp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zk;case"linkViaPopup":case"linkViaRedirect":return tx;case"reauthViaPopup":case"reauthViaRedirect":return ex;default:Wr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Ml(2e3,1e4);async function jN(n,e,t){if(_r(n.app))return Promise.reject(Tr(n,"operation-not-supported-in-this-environment"));const i=hh(n);ek(n,e,Hp);const o=Jw(i,t);return new qs(i,"signInViaPopup",e,o).executeNotNull()}class qs extends Zw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nx.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",mc=new Map;class ix extends Zw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const i=await sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sx(n,e){const t=lx(e),i=ax(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ox(n,e){mc.set(n._key(),e)}function ax(n){return fi(n._redirectPersistence)}function lx(n){return pc(rx,n.config.apiKey,n.name)}async function ux(n,e,t=!1){if(_r(n.app))return Promise.reject(Ws(n));const i=hh(n),o=Jw(i,e),c=await new ix(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=10*60*1e3;class hx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!eT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(e))}saveEventToCache(e){this.cachedEventUids.add(Kv(e)),this.lastProcessedEventTime=Date.now()}}function Kv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(n,e={}){return ga(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mx=/^https?/;async function gx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fx(n);for(const t of e)try{if(yx(t))return}catch{}Wr(n,"unauthorized-domain")}function yx(n){const e=Ff(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!mx.test(t))return!1;if(px.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Ml(3e4,6e4);function Qv(){const n=$r().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _x(n){return new Promise((e,t)=>{var i,o,l;function c(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),t(Tr(n,"network-request-failed"))},timeout:vx.get()})}if(!((o=(i=$r().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=$r().gapi)===null||l===void 0)&&l.load)c();else{const d=Rk("iframefcb");return $r()[d]=()=>{gapi.load?c():t(Tr(n,"network-request-failed"))},Sk(`${Ak()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw gc=null,e})}let gc=null;function Ex(n){return gc=gc||_x(n),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Ml(5e3,15e3),Tx="__/auth/iframe",Ix="emulator/auth/iframe",Sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rx(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fp(e,Ix):`https://${n.config.authDomain}/${Tx}`,i={apiKey:e.apiKey,appName:n.name,v:la},o=Ax.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Nl(i).slice(1)}`}async function Px(n){const e=await Ex(n),t=$r().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:Rx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sx,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Tr(n,"network-request-failed"),d=$r().setTimeout(()=>{l(c)},wx.get());function p(){$r().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,xx=600,Nx="_blank",Dx="http://localhost";class Yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(n,e,t,i=kx,o=xx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Cx),{width:i.toString(),height:o.toString(),top:l,left:c}),y=dn().toLowerCase();t&&(d=Ow(y)?Nx:t),Dw(y)&&(e=e||Dx,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[N,b])=>`${T}${N}=${b},`,"");if(gk(y)&&d!=="_self")return Ox(e||"",d),new Yv(null);const S=window.open(e||"",d,_);xe(S,n,"popup-blocked");try{S.focus()}catch{}return new Yv(S)}function Ox(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__/auth/handler",Vx="emulator/auth/handler",Mx=encodeURIComponent("fac");async function Xv(n,e,t,i,o,l){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof Hp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",RS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))c[_]=S}if(e instanceof jl){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${Mx}=${encodeURIComponent(p)}`:"";return`${jx(n)}?${Nl(d).slice(1)}${y}`}function jx({config:n}){return n.emulator?Fp(n,Vx):`https://${n.authDomain}/${Lx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class Fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=ux,this._overrideRedirectResult=ox}async _openPopup(e,t,i,o){var l;wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Xv(e,t,i,Ff(),o);return bx(e,c,qp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Xv(e,t,i,Ff(),o);return $k(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Px(e),i=new hx(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(of,{type:of},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[of];c!==void 0&&t(!!c),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fw()||bw()||zp()}}const Ux=Fx;var Jv="@firebase/auth",Zv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $x(n){Jo(new Ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(n)},y=new Tk(i,o,l,p);return Ck(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ks("auth-internal",e=>{const t=hh(e.getProvider("auth").getImmediate());return(i=>new Bx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Jv,Zv,zx(n)),is(Jv,Zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=5*60,qx=V_("authIdTokenMaxAge")||Hx;let e_=null;const Wx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>qx)return;const o=t==null?void 0:t.token;e_!==o&&(e_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Gx(n=U_()){const e=Jf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Pk(n,{popupRedirectResolver:Ux,persistence:[Jk,Uk,Gw]}),i=V_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Wx(l.toString());Mk(t,c,()=>c(t.currentUser)),Vk(t,d=>c(d))}}const o=O_("auth");return o&&kk(t,`http://${o}`),t}function Kx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ik({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Tr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Kx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$x("Browser");var Bs={VITE_FIREBASE_API_KEY:"AIzaSyC_S3ogmaZ9laLIetOD6eWO8HESZ7OFXEU",VITE_FIREBASE_AUTH_DOMAIN:"portfolio-d0eff.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"portfolio-d0eff",VITE_FIREBASE_STORAGE_BUCKET:"portfolio-d0eff.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"68887099400",VITE_FIREBASE_APP_ID:"1:68887099400:web:a697b208557cd1eed2f9bd",VITE_FIREBASE_MEASUREMENT_ID:"G-D8JLXQDMXF"};const Qx={apiKey:Bs.VITE_FIREBASE_API_KEY,authDomain:Bs.VITE_FIREBASE_AUTH_DOMAIN,projectId:Bs.VITE_FIREBASE_PROJECT_ID,storageBucket:Bs.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Bs.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Bs.VITE_FIREBASE_APP_ID,measurementId:Bs.VITE_FIREBASE_MEASUREMENT_ID},tT=F_(Qx),Ur=DC(tT),FN=Gx(tT);function Yx(){const[n,e]=J.useState([]),[t,i]=J.useState(!1);J.useEffect(()=>{(async()=>{try{const d=(await ma(gi(Ur,"clients"))).docs.map(p=>p.data());e(d)}catch(c){console.error(c)}})()},[]);const o=()=>{i(!t)};return w.jsxs("div",{className:"happy-clients-section hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"06. "}),"What My Clients Say"]}),w.jsxs("div",{className:"happy-clients-content",children:[n==null?void 0:n.map((l,c)=>w.jsxs("div",{className:"happy-clients-card",children:[w.jsx("img",{className:"client-pic",src:`${l.image}`,alt:"client"}),w.jsx("img",{className:"quotes-pic",src:"./icons/quotes.png",alt:"quotes"}),w.jsx("h3",{children:l.name}),w.jsx("p",{children:l.description}),w.jsxs("div",{className:"client-profession",children:[w.jsx("p",{children:l.profession}),w.jsx("p",{children:l.company})]})]},c)),w.jsx("div",{className:"add-testimonial-container",children:w.jsx("button",{className:"add-testimonial-btn",onClick:o,children:"Share Your Experience"})})]}),w.jsx(rS,{isOpen:t,onClose:o,title:"Share Your Experience",children:w.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSff6tzcnt1lN26FklbTZtNm2DvUFy5iAS9Pggxz0U8dN83VsA/viewform?embedded=true",title:"Client Testimonial Form",frameBorder:"0",marginHeight:"0",marginWidth:"0",children:"Loading form..."})})]})}const Xx="_servicesSection_18is4_1",Jx="_servicesContainer_18is4_7",Zx="_cardsWrapper_18is4_14",e1="_slideOut_18is4_18",t1="_cards_18is4_14",n1="_card_18is4_14",r1="_cardTitle_18is4_48",i1="_cardText_18is4_54",s1="_cardButton_18is4_61",o1="_formWrapper_18is4_79",a1="_slideIn_18is4_88",l1="_formContent_18is4_93",u1="_formHeader_18is4_118",c1="_backButton_18is4_126",h1="_formGroup_18is4_145",d1="_submitButton_18is4_176",Te={servicesSection:Xx,servicesContainer:Jx,cardsWrapper:Zx,slideOut:e1,cards:t1,card:n1,cardTitle:r1,cardText:i1,cardButton:s1,formWrapper:o1,slideIn:a1,formContent:l1,formHeader:u1,backButton:c1,formGroup:h1,submitButton:d1};function f1(){const[n,e]=J.useState(null),[t,i]=J.useState({name:"",email:""}),[o,l]=J.useState(!1),c=p=>{i({...t,[p.target.name]:p.target.value})},d=async(p,y={})=>{try{l(!0);const _={...t,...y,service:p,timestamp:new Date};await jf(gi(Ur,"offers"),_),alert("Thank you! Your request has been submitted. I will be in touch shortly."),e(null),i({name:"",email:""})}catch(_){console.error("Error submitting request:",_),alert("Error submitting your request. Please try again.")}finally{l(!1)}};return w.jsxs("div",{className:Te.servicesSection,children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"07. "}),"Services"]}),w.jsxs("div",{className:Te.servicesContainer,children:[w.jsx("div",{className:`${Te.cardsWrapper} ${n?Te.slideOut:""}`,children:w.jsxs("div",{className:Te.cards,children:[w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/AI.png",alt:"",width:"75",height:"75"}),w.jsx("h3",{className:Te.cardTitle,children:"AI solutions"}),w.jsx("p",{className:Te.cardText,children:"Leverage my cutting-edge AI solutions to transform your business operations and gain valuable insights. With my expertise spanning chatbots, predictive analytics, and automation, I empower you to stay ahead in today's data-centric environment. Harness the power of AI with me to unlock new opportunities and drive innovation in your organization."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("ai"),children:"Learn More"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/web-dev.png",alt:"",width:"75",height:"75"}),w.jsx("h3",{className:Te.cardTitle,children:"Web Development"}),w.jsx("p",{className:Te.cardText,children:"Embark on your online journey with me. My website development services blend creativity and functionality to deliver visually stunning websites. I have worked on more than 100+ websites Specializing in both front-end and back-end development,I guarantee seamless performance and an intuitive user interface. Let us lay the groundwork for your digital success."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("web"),children:"Hire Me"})]}),w.jsxs("div",{className:Te.card,children:[w.jsx("img",{src:"icons/online-learning.png",alt:"",width:"75",height:"75"}),w.jsx("h3",{className:Te.cardTitle,children:"Online Learning"}),w.jsx("p",{className:Te.cardText,children:"I offer personalized online tutoring services to help you master programming languages and frameworks. Whether you're a beginner or an experienced coder, I provide tailored lessons to suit your learning style. With my guidance, you can enhance your skills and achieve your learning goals. Let's embark on a learning journey together."}),w.jsx("button",{className:Te.cardButton,onClick:()=>e("learning"),children:"Contact Me"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${n==="ai"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"AI Solutions"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={company:p.target.company.value,projectDescription:p.target.projectDescription.value,budget:p.target.budget.value,timeline:p.target.timeline.value};d("ai",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Company/Organization"}),w.jsx("input",{type:"text",name:"company",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Description"}),w.jsx("textarea",{name:"projectDescription",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $250",children:"Less than $250"}),w.jsx("option",{value:"$250 - $1,000",children:"$250 - $1,000"}),w.jsx("option",{value:"$1,000 - $2,500",children:"$1,000 - $2,500"}),w.jsx("option",{value:"> $2,500",children:"More than $2,500"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 1 month",children:"Less than 1 month"}),w.jsx("option",{value:"1-3 months",children:"1-3 months"}),w.jsx("option",{value:"3-6 months",children:"3-6 months"}),w.jsx("option",{value:"> 6 months",children:"More than 6 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${n==="web"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Web Development"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={projectType:p.target.projectType.value,features:p.target.features.value,budget:p.target.budget.value,timeline:p.target.timeline.value};d("web",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Project Type"}),w.jsxs("select",{name:"projectType",required:!0,children:[w.jsx("option",{value:"",children:"Select Project Type"}),w.jsx("option",{value:"E-commerce",children:"E-commerce"}),w.jsx("option",{value:"Portfolio",children:"Portfolio"}),w.jsx("option",{value:"Blog",children:"Blog"}),w.jsx("option",{value:"Corporate",children:"Corporate Website"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Features Needed"}),w.jsx("textarea",{name:"features",placeholder:"Describe the features you need...",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $1,000",children:"Less than $1,000"}),w.jsx("option",{value:"$1,000 - $3,000",children:"$1,000 - $3,000"}),w.jsx("option",{value:"$3,000 - $5,000",children:"$3,000 - $5,000"}),w.jsx("option",{value:"> $5,000",children:"More than $5,000"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 2 weeks",children:"Less than 2 weeks"}),w.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),w.jsx("option",{value:"1-2 months",children:"1-2 months"}),w.jsx("option",{value:"> 2 months",children:"More than 2 months"})]})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${Te.formWrapper} ${n==="learning"?Te.slideIn:""}`,children:w.jsxs("div",{className:Te.formContent,children:[w.jsxs("div",{className:Te.formHeader,children:[w.jsx("button",{className:Te.backButton,onClick:()=>e(null),children:"← Back to Services"}),w.jsx("h2",{children:"Online Learning"})]}),w.jsxs("form",{onSubmit:p=>{p.preventDefault();const y={technology:p.target.technology.value,skillLevel:p.target.skillLevel.value,learningGoals:p.target.learningGoals.value,schedule:p.target.schedule.value};d("learning",y)},children:[w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:c,required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Technology Interested In"}),w.jsxs("select",{name:"technology",required:!0,children:[w.jsx("option",{value:"",children:"Select Technology"}),w.jsx("option",{value:"JavaScript",children:"JavaScript"}),w.jsx("option",{value:"Python",children:"Python"}),w.jsx("option",{value:"React",children:"React"}),w.jsx("option",{value:"Node.js",children:"Node.js"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Current Skill Level"}),w.jsxs("select",{name:"skillLevel",required:!0,children:[w.jsx("option",{value:"",children:"Select Skill Level"}),w.jsx("option",{value:"Beginner",children:"Beginner"}),w.jsx("option",{value:"Intermediate",children:"Intermediate"}),w.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Learning Goals"}),w.jsx("textarea",{name:"learningGoals",placeholder:"What do you want to achieve?",required:!0})]}),w.jsxs("div",{className:Te.formGroup,children:[w.jsx("label",{children:"Preferred Schedule"}),w.jsx("textarea",{name:"schedule",placeholder:"What days/times work best for you?",required:!0})]}),w.jsx("button",{type:"submit",className:Te.submitButton,children:o?"Submitting...":"Submit Request"})]})]})})]})]})}function p1(){return J.useEffect(()=>{const n=document.querySelectorAll(".scroller");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e();function e(){n.forEach(t=>{t.setAttribute("data-animated",!0);const i=t.querySelector(".scroller__inner");Array.from(i.children).forEach(l=>{const c=l.cloneNode(!0);c.setAttribute("aria-hidden",!0),i.appendChild(c)})})}},[]),w.jsxs("div",{className:"collaborations hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"05. "}),"Collaborations"]}),w.jsx("div",{className:"scroller","data-direction":"right","data-speed":"fast",children:w.jsxs("div",{className:"scroller__inner",children:[w.jsx("img",{src:"network/agri4.0_logo.png",alt:"Agri 4.0 Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/ensak.png",alt:"ENSAK Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/um6p_logo.png",alt:"UM6P Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:"Postmaroc Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:"NID Innovation Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:"Smart Maint Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/agri4.0_logo.png",alt:"Agri 4.0 Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/ensak.png",alt:"ENSAK Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/um6p_logo.png",alt:"UM6P Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:"Postmaroc Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:"NID Innovation Logo",width:"200",height:"150"}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:"Smart Maint Logo",width:"200",height:"150"})]})})]})}var af={exports:{}},lf,t_;function m1(){if(t_)return lf;t_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lf=n,lf}var uf,n_;function g1(){if(n_)return uf;n_=1;var n=m1();function e(){}function t(){}return t.resetWarningCache=e,uf=function(){function i(c,d,p,y,_,S){if(S!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},uf}var r_;function y1(){return r_||(r_=1,af.exports=g1()()),af.exports}var v1=y1();const pt=aa(v1);var cf,i_;function _1(){if(i_)return cf;i_=1;function n(d){return d&&typeof d=="object"&&"default"in d?d.default:d}var e=Fc(),t=n(e);function i(d,p,y){return p in d?Object.defineProperty(d,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[p]=y,d}function o(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var l=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(d,p,y){if(typeof d!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof p!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof y<"u"&&typeof y!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function _(S){return S.displayName||S.name||"Component"}return function(T){if(typeof T!="function")throw new Error("Expected WrappedComponent to be a React component.");var N=[],b;function j(){b=d(N.map(function(G){return G.props})),V.canUseDOM?p(b):y&&(b=y(b))}var V=function(G){o(te,G);function te(){return G.apply(this,arguments)||this}te.peek=function(){return b},te.rewind=function(){if(te.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var Ne=b;return b=void 0,N=[],Ne};var re=te.prototype;return re.UNSAFE_componentWillMount=function(){N.push(this),j()},re.componentDidUpdate=function(){j()},re.componentWillUnmount=function(){var Ne=N.indexOf(this);N.splice(Ne,1),j()},re.render=function(){return t.createElement(T,this.props)},te}(e.PureComponent);return i(V,"displayName","SideEffect("+_(T)+")"),i(V,"canUseDOM",l),V}}return cf=c,cf}var E1=_1();const w1=aa(E1);var hf,s_;function T1(){if(s_)return hf;s_=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){if(l.constructor!==c.constructor)return!1;var d,p,y;if(Array.isArray(l)){if(d=l.length,d!=c.length)return!1;for(p=d;p--!==0;)if(!o(l[p],c[p]))return!1;return!0}var _;if(e&&l instanceof Map&&c instanceof Map){if(l.size!==c.size)return!1;for(_=l.entries();!(p=_.next()).done;)if(!c.has(p.value[0]))return!1;for(_=l.entries();!(p=_.next()).done;)if(!o(p.value[1],c.get(p.value[0])))return!1;return!0}if(t&&l instanceof Set&&c instanceof Set){if(l.size!==c.size)return!1;for(_=l.entries();!(p=_.next()).done;)if(!c.has(p.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(c)){if(d=l.length,d!=c.length)return!1;for(p=d;p--!==0;)if(l[p]!==c[p])return!1;return!0}if(l.constructor===RegExp)return l.source===c.source&&l.flags===c.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof c.valueOf=="function")return l.valueOf()===c.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof c.toString=="function")return l.toString()===c.toString();if(y=Object.keys(l),d=y.length,d!==Object.keys(c).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(c,y[p]))return!1;if(n&&l instanceof Element)return!1;for(p=d;p--!==0;)if(!((y[p]==="_owner"||y[p]==="__v"||y[p]==="__o")&&l.$$typeof)&&!o(l[y[p]],c[y[p]]))return!1;return!0}return l!==l&&c!==c}return hf=function(c,d){try{return o(c,d)}catch(p){if((p.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw p}},hf}var I1=T1();const S1=aa(I1);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var df,o_;function A1(){if(o_)return df;o_=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function o(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},d=0;d<10;d++)c["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(c).map(function(_){return c[_]});if(p.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(_){y[_]=_}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return df=o()?Object.assign:function(l,c){for(var d,p=i(l),y,_=1;_<arguments.length;_++){d=Object(arguments[_]);for(var S in d)e.call(d,S)&&(p[S]=d[S]);if(n){y=n(d);for(var T=0;T<y.length;T++)t.call(d,y[T])&&(p[y[T]]=d[y[T]])}}return p},df}var R1=A1();const P1=aa(R1);var Gs={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Me={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Me).map(function(n){return Me[n]});var mt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},jc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Rl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},C1=Object.keys(jc).reduce(function(n,e){return n[jc[e]]=e,n},{}),k1=[Me.NOSCRIPT,Me.SCRIPT,Me.STYLE],Er="data-react-helmet",x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N1=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},D1=function(){function n(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),kn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},b1=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},a_=function(n,e){var t={};for(var i in n)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},O1=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},zf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},L1=function(e){var t=Yo(e,Me.TITLE),i=Yo(e,Rl.TITLE_TEMPLATE);if(i&&t)return i.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var o=Yo(e,Rl.DEFAULT_TITLE);return t||o||void 0},V1=function(e){return Yo(e,Rl.ON_CHANGE_CLIENT_STATE)||function(){}},ff=function(e,t){return t.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,o){return kn({},i,o)},{})},M1=function(e,t){return t.filter(function(i){return typeof i[Me.BASE]<"u"}).map(function(i){return i[Me.BASE]}).reverse().reduce(function(i,o){if(!i.length)for(var l=Object.keys(o),c=0;c<l.length;c++){var d=l[c],p=d.toLowerCase();if(e.indexOf(p)!==-1&&o[p])return i.concat(o)}return i},[])},tl=function(e,t,i){var o={};return i.filter(function(l){return Array.isArray(l[e])?!0:(typeof l[e]<"u"&&B1("Helmet: "+e+' should be of type "Array". Instead found type "'+x1(l[e])+'"'),!1)}).map(function(l){return l[e]}).reverse().reduce(function(l,c){var d={};c.filter(function(T){for(var N=void 0,b=Object.keys(T),j=0;j<b.length;j++){var V=b[j],G=V.toLowerCase();t.indexOf(G)!==-1&&!(N===mt.REL&&T[N].toLowerCase()==="canonical")&&!(G===mt.REL&&T[G].toLowerCase()==="stylesheet")&&(N=G),t.indexOf(V)!==-1&&(V===mt.INNER_HTML||V===mt.CSS_TEXT||V===mt.ITEM_PROP)&&(N=V)}if(!N||!T[N])return!1;var te=T[N].toLowerCase();return o[N]||(o[N]={}),d[N]||(d[N]={}),o[N][te]?!1:(d[N][te]=!0,!0)}).reverse().forEach(function(T){return l.push(T)});for(var p=Object.keys(d),y=0;y<p.length;y++){var _=p[y],S=P1({},o[_],d[_]);o[_]=S}return l},[]).reverse()},Yo=function(e,t){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.hasOwnProperty(t))return o[t]}return null},j1=function(e){return{baseTag:M1([mt.HREF,mt.TARGET],e),bodyAttributes:ff(Gs.BODY,e),defer:Yo(e,Rl.DEFER),encode:Yo(e,Rl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ff(Gs.HTML,e),linkTags:tl(Me.LINK,[mt.REL,mt.HREF],e),metaTags:tl(Me.META,[mt.NAME,mt.CHARSET,mt.HTTPEQUIV,mt.PROPERTY,mt.ITEM_PROP],e),noscriptTags:tl(Me.NOSCRIPT,[mt.INNER_HTML],e),onChangeClientState:V1(e),scriptTags:tl(Me.SCRIPT,[mt.SRC,mt.INNER_HTML],e),styleTags:tl(Me.STYLE,[mt.CSS_TEXT],e),title:L1(e),titleAttributes:ff(Gs.TITLE,e)}},$f=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){$f(e)},0)}}(),l_=function(e){return clearTimeout(e)},F1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$f:global.requestAnimationFrame||$f,U1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||l_:global.cancelAnimationFrame||l_,B1=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},nl=null,z1=function(e){nl&&U1(nl),e.defer?nl=F1(function(){u_(e,function(){nl=null})}):(u_(e),nl=null)},u_=function(e,t){var i=e.baseTag,o=e.bodyAttributes,l=e.htmlAttributes,c=e.linkTags,d=e.metaTags,p=e.noscriptTags,y=e.onChangeClientState,_=e.scriptTags,S=e.styleTags,T=e.title,N=e.titleAttributes;Hf(Me.BODY,o),Hf(Me.HTML,l),$1(T,N);var b={baseTag:jo(Me.BASE,i),linkTags:jo(Me.LINK,c),metaTags:jo(Me.META,d),noscriptTags:jo(Me.NOSCRIPT,p),scriptTags:jo(Me.SCRIPT,_),styleTags:jo(Me.STYLE,S)},j={},V={};Object.keys(b).forEach(function(G){var te=b[G],re=te.newTags,ie=te.oldTags;re.length&&(j[G]=re),ie.length&&(V[G]=b[G].oldTags)}),t&&t(),y(e,j,V)},nT=function(e){return Array.isArray(e)?e.join(""):e},$1=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=nT(e)),Hf(Me.TITLE,t)},Hf=function(e,t){var i=document.getElementsByTagName(e)[0];if(i){for(var o=i.getAttribute(Er),l=o?o.split(","):[],c=[].concat(l),d=Object.keys(t),p=0;p<d.length;p++){var y=d[p],_=t[y]||"";i.getAttribute(y)!==_&&i.setAttribute(y,_),l.indexOf(y)===-1&&l.push(y);var S=c.indexOf(y);S!==-1&&c.splice(S,1)}for(var T=c.length-1;T>=0;T--)i.removeAttribute(c[T]);l.length===c.length?i.removeAttribute(Er):i.getAttribute(Er)!==d.join(",")&&i.setAttribute(Er,d.join(","))}},jo=function(e,t){var i=document.head||document.querySelector(Me.HEAD),o=i.querySelectorAll(e+"["+Er+"]"),l=Array.prototype.slice.call(o),c=[],d=void 0;return t&&t.length&&t.forEach(function(p){var y=document.createElement(e);for(var _ in p)if(p.hasOwnProperty(_))if(_===mt.INNER_HTML)y.innerHTML=p.innerHTML;else if(_===mt.CSS_TEXT)y.styleSheet?y.styleSheet.cssText=p.cssText:y.appendChild(document.createTextNode(p.cssText));else{var S=typeof p[_]>"u"?"":p[_];y.setAttribute(_,S)}y.setAttribute(Er,"true"),l.some(function(T,N){return d=N,y.isEqualNode(T)})?l.splice(d,1):c.push(y)}),l.forEach(function(p){return p.parentNode.removeChild(p)}),c.forEach(function(p){return i.appendChild(p)}),{oldTags:l,newTags:c}},rT=function(e){return Object.keys(e).reduce(function(t,i){var o=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return t?t+" "+o:o},"")},H1=function(e,t,i,o){var l=rT(i),c=nT(t);return l?"<"+e+" "+Er+'="true" '+l+">"+zf(c,o)+"</"+e+">":"<"+e+" "+Er+'="true">'+zf(c,o)+"</"+e+">"},q1=function(e,t,i){return t.reduce(function(o,l){var c=Object.keys(l).filter(function(y){return!(y===mt.INNER_HTML||y===mt.CSS_TEXT)}).reduce(function(y,_){var S=typeof l[_]>"u"?_:_+'="'+zf(l[_],i)+'"';return y?y+" "+S:S},""),d=l.innerHTML||l.cssText||"",p=k1.indexOf(e)===-1;return o+"<"+e+" "+Er+'="true" '+c+(p?"/>":">"+d+"</"+e+">")},"")},iT=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[jc[o]||o]=e[o],i},t)},W1=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,o){return i[C1[o]||o]=e[o],i},t)},G1=function(e,t,i){var o,l=(o={key:t},o[Er]=!0,o),c=iT(i,l);return[rt.createElement(Me.TITLE,c,t)]},K1=function(e,t){return t.map(function(i,o){var l,c=(l={key:o},l[Er]=!0,l);return Object.keys(i).forEach(function(d){var p=jc[d]||d;if(p===mt.INNER_HTML||p===mt.CSS_TEXT){var y=i.innerHTML||i.cssText;c.dangerouslySetInnerHTML={__html:y}}else c[p]=i[d]}),rt.createElement(e,c)})},ui=function(e,t,i){switch(e){case Me.TITLE:return{toComponent:function(){return G1(e,t.title,t.titleAttributes)},toString:function(){return H1(e,t.title,t.titleAttributes,i)}};case Gs.BODY:case Gs.HTML:return{toComponent:function(){return iT(t)},toString:function(){return rT(t)}};default:return{toComponent:function(){return K1(e,t)},toString:function(){return q1(e,t,i)}}}},sT=function(e){var t=e.baseTag,i=e.bodyAttributes,o=e.encode,l=e.htmlAttributes,c=e.linkTags,d=e.metaTags,p=e.noscriptTags,y=e.scriptTags,_=e.styleTags,S=e.title,T=S===void 0?"":S,N=e.titleAttributes;return{base:ui(Me.BASE,t,o),bodyAttributes:ui(Gs.BODY,i,o),htmlAttributes:ui(Gs.HTML,l,o),link:ui(Me.LINK,c,o),meta:ui(Me.META,d,o),noscript:ui(Me.NOSCRIPT,p,o),script:ui(Me.SCRIPT,y,o),style:ui(Me.STYLE,_,o),title:ui(Me.TITLE,{title:T,titleAttributes:N},o)}},Q1=function(e){var t,i;return i=t=function(o){b1(l,o);function l(){return N1(this,l),O1(this,o.apply(this,arguments))}return l.prototype.shouldComponentUpdate=function(d){return!S1(this.props,d)},l.prototype.mapNestedChildrenToProps=function(d,p){if(!p)return null;switch(d.type){case Me.SCRIPT:case Me.NOSCRIPT:return{innerHTML:p};case Me.STYLE:return{cssText:p}}throw new Error("<"+d.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},l.prototype.flattenArrayTypeChildren=function(d){var p,y=d.child,_=d.arrayTypeChildren,S=d.newChildProps,T=d.nestedChildren;return kn({},_,(p={},p[y.type]=[].concat(_[y.type]||[],[kn({},S,this.mapNestedChildrenToProps(y,T))]),p))},l.prototype.mapObjectTypeChildren=function(d){var p,y,_=d.child,S=d.newProps,T=d.newChildProps,N=d.nestedChildren;switch(_.type){case Me.TITLE:return kn({},S,(p={},p[_.type]=N,p.titleAttributes=kn({},T),p));case Me.BODY:return kn({},S,{bodyAttributes:kn({},T)});case Me.HTML:return kn({},S,{htmlAttributes:kn({},T)})}return kn({},S,(y={},y[_.type]=kn({},T),y))},l.prototype.mapArrayTypeChildrenToProps=function(d,p){var y=kn({},p);return Object.keys(d).forEach(function(_){var S;y=kn({},y,(S={},S[_]=d[_],S))}),y},l.prototype.warnOnInvalidChildren=function(d,p){return!0},l.prototype.mapChildrenToProps=function(d,p){var y=this,_={};return rt.Children.forEach(d,function(S){if(!(!S||!S.props)){var T=S.props,N=T.children,b=a_(T,["children"]),j=W1(b);switch(y.warnOnInvalidChildren(S,N),S.type){case Me.LINK:case Me.META:case Me.NOSCRIPT:case Me.SCRIPT:case Me.STYLE:_=y.flattenArrayTypeChildren({child:S,arrayTypeChildren:_,newChildProps:j,nestedChildren:N});break;default:p=y.mapObjectTypeChildren({child:S,newProps:p,newChildProps:j,nestedChildren:N});break}}}),p=this.mapArrayTypeChildrenToProps(_,p),p},l.prototype.render=function(){var d=this.props,p=d.children,y=a_(d,["children"]),_=kn({},y);return p&&(_=this.mapChildrenToProps(p,_)),rt.createElement(e,_)},D1(l,null,[{key:"canUseDOM",set:function(d){e.canUseDOM=d}}]),l}(rt.Component),t.propTypes={base:pt.object,bodyAttributes:pt.object,children:pt.oneOfType([pt.arrayOf(pt.node),pt.node]),defaultTitle:pt.string,defer:pt.bool,encodeSpecialCharacters:pt.bool,htmlAttributes:pt.object,link:pt.arrayOf(pt.object),meta:pt.arrayOf(pt.object),noscript:pt.arrayOf(pt.object),onChangeClientState:pt.func,script:pt.arrayOf(pt.object),style:pt.arrayOf(pt.object),title:pt.string,titleAttributes:pt.object,titleTemplate:pt.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var o=e.rewind();return o||(o=sT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),o},i},Y1=function(){return null},X1=w1(j1,z1,sT)(Y1),qf=Q1(X1);qf.renderStatic=qf.rewind;function oT({title:n,description:e,image:t="https://abdelouahab.xyz/logo.jpg",url:i,keywords:o,type:l="website",structuredData:c=null}){const d=n?`${n} | Abdelouahab Bella Portfolio`:"Abdelouahab Bella | Data Scientist & Software Engineer Portfolio 2025",p=e||"portfolio of Abdelouahab Bella, Data Scientist and Software Engineer. Featuring best projects in web development, machine learning, and innovative software solutions for 2025.",y=o||"Abdelouahab Bella, Best Portfolio 2025, Data Scientist Portfolio, Software Engineer Portfolio, Web Development Projects, Machine Learning Portfolio, Top Software Engineer, React Portfolio, Professional Developer Website",_=i||(typeof window<"u"?window.location.href:"https://abdelouahab.xyz"),T=c||{"@context":"https://schema.org","@type":"ProfilePage",name:d,description:p,url:_,image:t,mainEntity:{"@type":"Person",name:"Abdelouahab Bella",url:"https://abdelouahab.xyz",jobTitle:"Data Scientist & Software Engineer",knowsAbout:["Data Science","Machine Learning","React","Web Development","Software Engineering"]}};return w.jsxs(qf,{children:[w.jsx("title",{children:d}),w.jsx("meta",{name:"description",content:p}),w.jsx("meta",{name:"keywords",content:y}),w.jsx("meta",{property:"og:title",content:d}),w.jsx("meta",{property:"og:description",content:p}),w.jsx("meta",{property:"og:image",content:t}),w.jsx("meta",{property:"og:url",content:_}),w.jsx("meta",{property:"og:type",content:l}),w.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),w.jsx("meta",{name:"twitter:title",content:d}),w.jsx("meta",{name:"twitter:description",content:p}),w.jsx("meta",{name:"twitter:image",content:t}),w.jsx("meta",{name:"robots",content:"index, follow, max-image-preview:large"}),w.jsx("meta",{name:"author",content:"Abdelouahab Bella"}),w.jsx("meta",{name:"copyright",content:`© ${new Date().getFullYear()} Abdelouahab Bella`}),w.jsx("script",{type:"application/ld+json",children:JSON.stringify(T)}),w.jsx("link",{rel:"canonical",href:_})]})}function J1(){const n=Qf();J.useEffect(()=>{const t=new IntersectionObserver(o=>{o.forEach(l=>{l.isIntersecting&&l.target.classList.add("visible")})});document.querySelectorAll(".hidden-area").forEach(o=>{t.observe(o)})},[]);const e={"@context":"https://schema.org","@type":"ProfilePage",mainEntity:{"@type":"Person",name:"Abdelouahab Bella",jobTitle:"Data Scientist & Software Engineer",description:"Accomplished data scientist with extensive experience in data science, computer systems engineering, and software development.",url:"https://abdelouahab.xyz",sameAs:["https://github.com/bellaabdelouahab","https://linkedin.com/in/abdelouahab-bella"],knowsAbout:["Data Science","Machine Learning","Web Development","Software Engineering"]}};return w.jsxs(w.Fragment,{children:[w.jsx(oT,{title:"Home",description:"Portfolio of Abdelouahab Bella, a Data Scientist & Software Engineer with expertise in web development and machine learning",keywords:"Abdelouahab Bella, Data Science, Software Engineering, Portfolio, Projects, Machine Learning, Web Development",structuredData:e}),w.jsx(QI,{}),w.jsx(XI,{projectHighlight:n}),w.jsx(tS,{}),w.jsx(JI,{}),w.jsx(ZI,{}),w.jsx(p1,{}),w.jsx(Yx,{}),w.jsx(f1,{}),w.jsx(nS,{})]})}const aT=async()=>{const n=gi(Ur,"projects");return(await ma(n)).docs.map(i=>({_id:i.id,...i.data()})).filter(i=>i.showInOverview===!0)},Z1=Object.freeze(Object.defineProperty({__proto__:null,default:J1,getHighlightedProjects:aT},Symbol.toStringTag,{value:"Module"}));function eN(){const n=Qf(),e=R_(),[t,i]=J.useState(!1),[o,l]=J.useState("All"),[c,d]=J.useState({}),p={"@context":"https://schema.org","@type":"CollectionPage",name:"Abdelouahab Bella's Projects",description:"A collection of projects developed by Abdelouahab Bella, including web development, machine learning, and data science projects.",mainEntity:{"@type":"ItemList",itemListElement:n.map((b,j)=>({"@type":"ListItem",position:j+1,item:{"@type":"SoftwareSourceCode",name:b.title,description:b.description.substring(0,160),url:`https://abdelouahab.xyz/#/projects/${b.title.replace(/\s/g,"-")}`,codeRepository:b.githubLink}}))}},y=n.reduce((b,j)=>((j.tags||[]).forEach(G=>{b[G]?b[G]+=1:b[G]=1}),b),{}),_=[{All:-1}];Object.entries(y).forEach(([b,j])=>{_.push({[b]:j})});const S=b=>{if(!b.target.dataset.tag)return;const j=b.target.dataset.tag;l(j);const V=document.querySelector(".filters"),G=document.querySelector(".filter");V.classList.add("hidden"),G.innerHTML=j+" ▼",i(!1)},T=b=>{const j=document.querySelector(".filter"),V=document.querySelector(".filters");t?(V.classList.add("hidden"),j.innerHTML=o+" ▼",i(!1)):(V.classList.remove("hidden"),j.innerHTML=o+" ▶",i(!0))};J.useEffect(()=>{document.getElementById("cards").onmousemove=j=>{for(const V of document.getElementsByClassName("card")){const G=V.getBoundingClientRect(),te=j.clientX-G.left,re=j.clientY-G.top;V.style.setProperty("--mouse-x",`${te}px`),V.style.setProperty("--mouse-y",`${re}px`)}};const b=document.querySelector(".filters");return b==null||b.addEventListener("click",S),()=>{b==null||b.removeEventListener("click",S)}},[]);const N=b=>{d(j=>({...j,[b]:!0}))};return w.jsxs(w.Fragment,{children:[w.jsx(oT,{title:"Projects",description:"Browse through all projects developed by Abdelouahab Bella, including web development, machine learning, and data science projects.",keywords:"Projects, Portfolio, Web Development, Software Engineering, Data Science, Machine Learning",structuredData:p}),w.jsxs("section",{className:"projects-section",children:[w.jsxs("div",{className:"projects-header",children:[w.jsx("h1",{className:"projects-section__title",children:"Projects Library"}),w.jsx("div",{className:"projects-section__filters",children:w.jsxs("label",{onClick:T,children:["Category: ",w.jsxs("span",{className:"filter",children:[o," ▼"]})," "]})})]}),w.jsx("div",{className:"filters-container",children:w.jsx("div",{className:"filters hidden",children:_.map((b,j)=>Object.entries(b).map(([V,G])=>w.jsxs("div",{className:"filter-element","data-tag":V,children:[V," ",G!==-1?"("+G+")":""]},j)))})}),w.jsx("h2",{className:"projects-section__subtitle",children:"Get Access To All My Public Projects"}),w.jsx("div",{id:"cards",children:n&&n.map((b,j)=>{if(o!=="All"&&!(b.tags||[]).includes(o))return null;const V=b.description;let G=V.slice(0,150);const te=G.lastIndexOf(" ");return G=G.slice(0,te),V.length>200&&(G+="..."),w.jsxs("div",{className:"card",onClick:re=>{e("/projects/"+b.title.replace(/\s/g,"-"),{state:b})},"aria-label":`View details of ${b.title} project`,children:[w.jsxs("div",{className:"projects-section__projects__project__img",style:{backgroundImage:c[b._id]?`url(${b.image})`:"none"},children:[!c[b._id]&&w.jsx(Ho,{height:"100%"}),w.jsx("img",{src:`${b.image}`,alt:`Preview of ${b.title} project`,style:{display:"none"},onLoad:()=>N(b._id)})]}),c[b._id]?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"projects-section__projects__project__title",children:b.title}),w.jsx("p",{className:"projects-section__projects__project__description",children:G})]}):w.jsxs("div",{children:[w.jsx("div",{className:"home-projects-section__projects__project__description",style:{display:"flex",justifyContent:"center",width:"100%"},children:w.jsx(Ho,{height:24,width:"10rem",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}})}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(Ho,{count:7})})]})]},b._id)})})]})]})}const lT=async()=>{const n=gi(Ur,"projects");return(await ma(n)).docs.map(i=>({_id:i.id,...i.data()}))},tN=Object.freeze(Object.defineProperty({__proto__:null,default:eN,getProjects:lT},Symbol.toStringTag,{value:"Module"}));async function nN(){const n=gi(Ur,"certificates"),e=await ma(n),t=e.docs.map(o=>o.data()),i=e.size;return{allCertificates:t,count:i}}const rN=n=>{if(!n)return"N/A";try{return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return n}},iN=n=>{if(!n)return"N/A";try{return(n.toDate?n.toDate():new Date(n)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}},sN=n=>{if(!n)return!1;try{const e=n.toDate?n.toDate():new Date(n);return(new Date-e)/(1e3*3600*24)<=7}catch{return!1}},oN=n=>{const e=n.replace(/\.[^/.]+$/,"");return e.length>30?e.substring(0,30)+"...":e};function aN(){const n=Qf(),[e,t]=J.useState(!1),i="https://via.placeholder.com/175x250/121820/ffffff?text=No+Cover",o=[...n].sort((l,c)=>{var y,_;const d=(y=l.createdAt)!=null&&y.toDate?l.createdAt.toDate():new Date(l.createdAt||0);return((_=c.createdAt)!=null&&_.toDate?c.createdAt.toDate():new Date(c.createdAt||0))-d});return J.useEffect(()=>{setTimeout(()=>{t(!0),document.querySelectorAll(".report-card").forEach((c,d)=>{setTimeout(()=>{c.style.opacity=1,c.style.transform="translateY(0)"},100*d)})},300)},[]),w.jsx("section",{style:{background:"transparent",minHeight:"100vh",paddingBottom:"40px"},children:w.jsxs("div",{className:"container1",children:[w.jsxs("h2",{className:"heading-section",children:[w.jsx("span",{style:{color:"#48bb78"},children:"Reports"})," & Documents"]}),o&&o.length>0?w.jsx("div",{className:`reports-grid ${e?"fade-in":""}`,children:o.map(l=>w.jsxs("div",{className:"report-card",style:{opacity:0,transform:"translateY(20px)",transition:"all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[sN(l.createdAt)&&w.jsx("div",{className:"report-badge",children:"NEW"}),w.jsx("div",{className:"card-cover-container",children:w.jsx("img",{src:l.coverImage||i,alt:l.name,className:"report-cover",loading:"lazy",onError:c=>{c.target.src=i}})}),w.jsxs("div",{className:"card-content",children:[w.jsx("h3",{className:"card-title",children:oN(l.name)}),w.jsxs("span",{className:"report-date",children:[rN(l.date),w.jsxs("span",{className:"report-created",children:["Created: ",iN(l.createdAt)]})]}),w.jsx("p",{className:"report-description",children:l.description||"No description available"})]}),w.jsx("div",{className:"card-footer",children:w.jsx("a",{className:"btn-download",href:l.pdfPath,target:"_blank",rel:"noopener noreferrer",download:!0,children:"Download"})})]},l._id))}):w.jsx("div",{className:"no-reports",children:w.jsx("p",{children:"No reports available at this time."})})]})})}async function uT(){const n=gi(Ur,"reports");return(await ma(n)).docs.map(i=>({_id:i.id,...i.data()}))}const lN=Object.freeze(Object.defineProperty({__proto__:null,default:aN,getReports:uT},Symbol.toStringTag,{value:"Module"})),uN=async()=>{try{const n=await fetch("https://api.ipify.org?format=json"),{ip:e}=await n.json(),t=navigator.userAgent,i=navigator.language,o=`${window.screen.width}x${window.screen.height}`,l=Intl.DateTimeFormat().resolvedOptions().timeZone,c=document.referrer||"direct",d=window.location.pathname,p=navigator.platform,y=cN(t),_=hN(t),S=gi(Ur,"visitors"),T=new Date;T.setDate(T.getDate()-1);const N=$C(S,Lv("ip","==",e),Lv("timestamp",">",T),HC(1)),b=await ma(N);if(b.empty){const j={ip:e,userAgent:t,language:i,screenResolution:o,timezone:l,referrer:c,path:d,platform:p,browser:y,operatingSystem:_,timestamp:rf(),visitCount:1};await jf(gi(Ur,"visitors"),j),console.log("New visitor tracked")}else{const j=b.docs[0],V=dw(Ur,"visitors",j.id),G=j.data().visitCount||1;await KC(V,{timestamp:rf(),visitCount:G+1,path:d,referrer:c}),console.log("Return visitor within 24 hours - visit updated")}await jf(gi(Ur,"pageViews"),{ip:e,path:d,timestamp:rf()})}catch(n){console.error("Error tracking visitor:",n)}},cN=n=>{const e={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,edge:/edge|edg/i,opera:/opera|opr/i,ie:/msie|trident/i};for(const[t,i]of Object.entries(e))if(i.test(n))return t;return"unknown"},hN=n=>{const e={windows:/windows nt/i,mac:/macintosh|mac os x/i,linux:/linux/i,android:/android/i,ios:/iphone|ipad|ipod/i};for(const[t,i]of Object.entries(e))if(i.test(n))return t;return"unknown"},xn=w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('preloader.png')",backgroundSize:"auto 50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"preloader"}),dN=rt.lazy(()=>Hn(()=>import("./Root-C8zwyygk.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),fN=rt.lazy(()=>Hn(()=>Promise.resolve().then(()=>Z1),void 0,import.meta.url)),pN=rt.lazy(()=>Hn(()=>Promise.resolve().then(()=>tN),void 0,import.meta.url)),mN=rt.lazy(()=>Hn(()=>import("./Project-C0zQbm0M.js"),__vite__mapDeps([4,5,1,6]),import.meta.url)),gN=rt.lazy(()=>Hn(()=>import("./Certificates-DuBMxPKl.js"),__vite__mapDeps([7,8]),import.meta.url)),yN=rt.lazy(()=>Hn(()=>import("./Resume-BHdkwEmB.js"),__vite__mapDeps([9,10]),import.meta.url)),vN=rt.lazy(()=>Hn(()=>import("./MusicPicks-C7H3xopy.js"),__vite__mapDeps([11,12]),import.meta.url)),_N=rt.lazy(()=>Hn(()=>Promise.resolve().then(()=>lN),void 0,import.meta.url)),EN=rt.lazy(()=>Hn(()=>import("./Articles-AlBym6Ax.js"),__vite__mapDeps([13,14]),import.meta.url)),wN=rt.lazy(()=>Hn(()=>import("./Team-BJZdSFHG.js"),__vite__mapDeps([15,16]),import.meta.url)),TN=rt.lazy(()=>Hn(()=>import("./BackOffice-CmZpJRP9.js"),__vite__mapDeps([17,1,2,5,18]),import.meta.url)),IN=rt.lazy(()=>Hn(()=>import("./NotFound-_mA6YOB5.js"),[],import.meta.url)),SN=rt.lazy(()=>Hn(()=>import("./SiteMap-DfYvEevk.js"),__vite__mapDeps([19,20]),import.meta.url)),AN=HI(vc(w.jsxs(Cn,{path:"/",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(dN,{})}),children:[w.jsx(Cn,{index:!0,element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(fN,{})}),loader:aT}),w.jsx(Cn,{path:"projects",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(pN,{})}),loader:lT}),w.jsx(Cn,{path:"projects/:title",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(mN,{})})}),w.jsx(Cn,{path:"certificates",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(gN,{})}),loader:nN}),w.jsx(Cn,{path:"resume",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(yN,{})})}),w.jsx(Cn,{path:"my-team",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(wN,{})})}),w.jsx(Cn,{path:"music",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(vN,{})})}),w.jsx(Cn,{path:"reports",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(_N,{})}),loader:uT}),w.jsx(Cn,{path:"articles",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(EN,{})})}),w.jsx(Cn,{path:"fill-db",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(TN,{})})}),w.jsx(Cn,{path:"site-map",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(SN,{})})}),w.jsx(Cn,{path:"*",element:w.jsx(J.Suspense,{fallback:xn,children:w.jsx(IN,{})})})]})));function RN(){return J.useEffect(()=>{uN()},[]),w.jsx(MI,{router:AN,fallbackElement:xn})}const PN=I0.createRoot(document.getElementById("root"));PN.render(w.jsx(A0,{baseColor:"#202020",highlightColor:"#444",children:w.jsx(RN,{})}));export{MN as A,KC as B,bN as C,Zi as G,qf as H,GI as L,NN as N,xN as O,pt as P,rt as R,oT as S,FN as a,kl as b,kN as c,Ho as d,gi as e,Ur as f,ma as g,ON as h,dw as i,w as j,Qf as k,CN as l,Fc as m,E0 as n,VN as o,y1 as p,$C as q,J as r,aa as s,LN as t,R_ as u,rf as v,Lv as w,jf as x,Gx as y,jN as z};
