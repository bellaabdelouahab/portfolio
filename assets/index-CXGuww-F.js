const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-Bfc5YpNB.js","./index-Bh9ZN1ZB.js","./index-Chjiymov.js","./index-CH9pj7N8.js","./Root-D3hzenOY.css","./Project-DMH1mCIv.js","./index-CL-ltQTw.js","./Project-DoEP67Rf.css","./Certificates-kYzf9Vcs.js","./Certificates-DlM67GuP.css","./Resume-D8i8Ifms.js","./Resume-DtU7L1PO.css","./MusicPicks-CdNqp6-S.js","./MusicPicks-DUXKN7Ks.css","./Articles-eMA1eWQi.js","./Articles-DJ5AvvuJ.css","./Team-BGfhAZwN.js","./Team-DD6ZGrwr.css","./BackOffice-DyffPZOR.js","./BackOffice-DB--jGZ8.css"])))=>i.map(i=>d[i]);
function sT(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function f_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function D1(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var vd={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function oT(){if(gg)return Ue;gg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function M(k,K,he){this.props=k,this.context=K,this.refs=j,this.updater=he||N}M.prototype.isReactComponent={},M.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function te(){}te.prototype=M.prototype;function ne(k,K,he){this.props=k,this.context=K,this.refs=j,this.updater=he||N}var oe=ne.prototype=new te;oe.constructor=ne,z(oe,M.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray,je=Object.prototype.hasOwnProperty,Pe={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(k,K,he){var ve,Oe={},qe=null,He=null;if(K!=null)for(ve in K.ref!==void 0&&(He=K.ref),K.key!==void 0&&(qe=""+K.key),K)je.call(K,ve)&&!b.hasOwnProperty(ve)&&(Oe[ve]=K[ve]);var Ke=arguments.length-2;if(Ke===1)Oe.children=he;else if(1<Ke){for(var Fe=Array(Ke),At=0;At<Ke;At++)Fe[At]=arguments[At+2];Oe.children=Fe}if(k&&k.defaultProps)for(ve in Ke=k.defaultProps,Ke)Oe[ve]===void 0&&(Oe[ve]=Ke[ve]);return{$$typeof:r,type:k,key:qe,ref:He,props:Oe,_owner:Pe.current}}function P(k,K){return{$$typeof:r,type:k.type,key:K,ref:k.ref,props:k.props,_owner:k._owner}}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function L(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return K[he]})}var V=/\/+/g;function C(k,K){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):K.toString(36)}function dt(k,K,he,ve,Oe){var qe=typeof k;(qe==="undefined"||qe==="boolean")&&(k=null);var He=!1;if(k===null)He=!0;else switch(qe){case"string":case"number":He=!0;break;case"object":switch(k.$$typeof){case r:case e:He=!0}}if(He)return He=k,Oe=Oe(He),k=ve===""?"."+C(He,0):ve,ae(Oe)?(he="",k!=null&&(he=k.replace(V,"$&/")+"/"),dt(Oe,K,he,"",function(At){return At})):Oe!=null&&(D(Oe)&&(Oe=P(Oe,he+(!Oe.key||He&&He.key===Oe.key?"":(""+Oe.key).replace(V,"$&/")+"/")+k)),K.push(Oe)),1;if(He=0,ve=ve===""?".":ve+":",ae(k))for(var Ke=0;Ke<k.length;Ke++){qe=k[Ke];var Fe=ve+C(qe,Ke);He+=dt(qe,K,he,Fe,Oe)}else if(Fe=I(k),typeof Fe=="function")for(k=Fe.call(k),Ke=0;!(qe=k.next()).done;)qe=qe.value,Fe=ve+C(qe,Ke++),He+=dt(qe,K,he,Fe,Oe);else if(qe==="object")throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return He}function Lt(k,K,he){if(k==null)return k;var ve=[],Oe=0;return dt(k,ve,"","",function(qe){return K.call(he,qe,Oe++)}),ve}function Vt(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Ne={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Pe};return Ue.Children={map:Lt,forEach:function(k,K,he){Lt(k,function(){K.apply(this,arguments)},he)},count:function(k){var K=0;return Lt(k,function(){K++}),K},toArray:function(k){return Lt(k,function(K){return K})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ue.Component=M,Ue.Fragment=t,Ue.Profiler=o,Ue.PureComponent=ne,Ue.StrictMode=i,Ue.Suspense=m,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ue.cloneElement=function(k,K,he){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ve=z({},k.props),Oe=k.key,qe=k.ref,He=k._owner;if(K!=null){if(K.ref!==void 0&&(qe=K.ref,He=Pe.current),K.key!==void 0&&(Oe=""+K.key),k.type&&k.type.defaultProps)var Ke=k.type.defaultProps;for(Fe in K)je.call(K,Fe)&&!b.hasOwnProperty(Fe)&&(ve[Fe]=K[Fe]===void 0&&Ke!==void 0?Ke[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)ve.children=he;else if(1<Fe){Ke=Array(Fe);for(var At=0;At<Fe;At++)Ke[At]=arguments[At+2];ve.children=Ke}return{$$typeof:r,type:k.type,key:Oe,ref:qe,props:ve,_owner:He}},Ue.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ue.createElement=A,Ue.createFactory=function(k){var K=A.bind(null,k);return K.type=k,K},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(k){return{$$typeof:f,render:k}},Ue.isValidElement=D,Ue.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:Vt}},Ue.memo=function(k,K){return{$$typeof:y,type:k,compare:K===void 0?null:K}},Ue.startTransition=function(k){var K=ie.transition;ie.transition={};try{k()}finally{ie.transition=K}},Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.useCallback=function(k,K){return Ne.current.useCallback(k,K)},Ue.useContext=function(k){return Ne.current.useContext(k)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(k){return Ne.current.useDeferredValue(k)},Ue.useEffect=function(k,K){return Ne.current.useEffect(k,K)},Ue.useId=function(){return Ne.current.useId()},Ue.useImperativeHandle=function(k,K,he){return Ne.current.useImperativeHandle(k,K,he)},Ue.useInsertionEffect=function(k,K){return Ne.current.useInsertionEffect(k,K)},Ue.useLayoutEffect=function(k,K){return Ne.current.useLayoutEffect(k,K)},Ue.useMemo=function(k,K){return Ne.current.useMemo(k,K)},Ue.useReducer=function(k,K,he){return Ne.current.useReducer(k,K,he)},Ue.useRef=function(k){return Ne.current.useRef(k)},Ue.useState=function(k){return Ne.current.useState(k)},Ue.useSyncExternalStore=function(k,K,he){return Ne.current.useSyncExternalStore(k,K,he)},Ue.useTransition=function(){return Ne.current.useTransition()},Ue.version="18.2.0",Ue}var yg;function df(){return yg||(yg=1,vd.exports=oT()),vd.exports}var J=df();const _t=f_(J),jd=sT({__proto__:null,default:_t},[J]);var Ed={exports:{}},ja={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function aT(){if(_g)return ja;_g=1;var r=df(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,y){var E,S={},I=null,N=null;y!==void 0&&(I=""+y),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(N=m.ref);for(E in m)i.call(m,E)&&!l.hasOwnProperty(E)&&(S[E]=m[E]);if(f&&f.defaultProps)for(E in m=f.defaultProps,m)S[E]===void 0&&(S[E]=m[E]);return{$$typeof:e,type:f,key:I,ref:N,props:S,_owner:o.current}}return ja.Fragment=t,ja.jsx=h,ja.jsxs=h,ja}var vg;function lT(){return vg||(vg=1,Ed.exports=aT()),Ed.exports}var w=lT(),Lu={},wd={exports:{}},In={},Td={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function uT(){return Eg||(Eg=1,function(r){function e(ie,ye){var k=ie.length;ie.push(ye);e:for(;0<k;){var K=k-1>>>1,he=ie[K];if(0<o(he,ye))ie[K]=ye,ie[k]=he,k=K;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ye=ie[0],k=ie.pop();if(k!==ye){ie[0]=k;e:for(var K=0,he=ie.length,ve=he>>>1;K<ve;){var Oe=2*(K+1)-1,qe=ie[Oe],He=Oe+1,Ke=ie[He];if(0>o(qe,k))He<he&&0>o(Ke,qe)?(ie[K]=Ke,ie[He]=k,K=He):(ie[K]=qe,ie[Oe]=k,K=Oe);else if(He<he&&0>o(Ke,k))ie[K]=Ke,ie[He]=k,K=He;else break e}}return ye}function o(ie,ye){var k=ie.sortIndex-ye.sortIndex;return k!==0?k:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var m=[],y=[],E=1,S=null,I=3,N=!1,z=!1,j=!1,M=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ie)i(y),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(y)}}function ae(ie){if(j=!1,oe(ie),!z)if(t(m)!==null)z=!0,Vt(je);else{var ye=t(y);ye!==null&&Ne(ae,ye.startTime-ie)}}function je(ie,ye){z=!1,j&&(j=!1,te(A),A=-1),N=!0;var k=I;try{for(oe(ye),S=t(m);S!==null&&(!(S.expirationTime>ye)||ie&&!L());){var K=S.callback;if(typeof K=="function"){S.callback=null,I=S.priorityLevel;var he=K(S.expirationTime<=ye);ye=r.unstable_now(),typeof he=="function"?S.callback=he:S===t(m)&&i(m),oe(ye)}else i(m);S=t(m)}if(S!==null)var ve=!0;else{var Oe=t(y);Oe!==null&&Ne(ae,Oe.startTime-ye),ve=!1}return ve}finally{S=null,I=k,N=!1}}var Pe=!1,b=null,A=-1,P=5,D=-1;function L(){return!(r.unstable_now()-D<P)}function V(){if(b!==null){var ie=r.unstable_now();D=ie;var ye=!0;try{ye=b(!0,ie)}finally{ye?C():(Pe=!1,b=null)}}else Pe=!1}var C;if(typeof ne=="function")C=function(){ne(V)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Lt=dt.port2;dt.port1.onmessage=V,C=function(){Lt.postMessage(null)}}else C=function(){M(V,0)};function Vt(ie){b=ie,Pe||(Pe=!0,C())}function Ne(ie,ye){A=M(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){z||N||(z=!0,Vt(je))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var k=I;I=ye;try{return ie()}finally{I=k}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var k=I;I=ie;try{return ye()}finally{I=k}},r.unstable_scheduleCallback=function(ie,ye,k){var K=r.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?K+k:K):k=K,ie){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=k+he,ie={id:E++,callback:ye,priorityLevel:ie,startTime:k,expirationTime:he,sortIndex:-1},k>K?(ie.sortIndex=k,e(y,ie),t(m)===null&&ie===t(y)&&(j?(te(A),A=-1):j=!0,Ne(ae,k-K))):(ie.sortIndex=he,e(m,ie),z||N||(z=!0,Vt(je))),ie},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(ie){var ye=I;return function(){var k=I;I=ye;try{return ie.apply(this,arguments)}finally{I=k}}}}(Id)),Id}var wg;function cT(){return wg||(wg=1,Td.exports=uT()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function hT(){if(Tg)return In;Tg=1;var r=df(),e=cT();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function I(n){return m.call(S,n)?!0:m.call(E,n)?!1:y.test(n)?S[n]=!0:(E[n]=!0,!1)}function N(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function z(n,s,a,c){if(s===null||typeof s>"u"||N(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(n,s,a,c,d,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){M[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];M[s]=new j(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){M[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){M[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){M[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){M[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){M[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){M[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){M[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(te,ne);M[s]=new j(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(te,ne);M[s]=new j(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(te,ne);M[s]=new j(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){M[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),M.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){M[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function oe(n,s,a,c){var d=M.hasOwnProperty(s)?M[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(z(s,a,d,c)&&(a=null),c||d===null?I(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var ae=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var k=Object.assign,K;function he(n){if(K===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||""}return`
`+K+n}var ve=!1;function Oe(n,s){if(!n||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var c=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){c=$}n.call(s.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),v=d.length-1,R=g.length-1;1<=v&&0<=R&&d[v]!==g[R];)R--;for(;1<=v&&0<=R;v--,R--)if(d[v]!==g[R]){if(v!==1||R!==1)do if(v--,R--,0>R||d[v]!==g[R]){var x=`
`+d[v].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=v&&0<=R);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?he(n):""}function qe(n){switch(n.tag){case 5:return he(n.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return n=Oe(n.type,!1),n;case 11:return n=Oe(n.type.render,!1),n;case 1:return n=Oe(n.type,!0),n;default:return""}}function He(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case Pe:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case dt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Lt:return s=n.displayName||null,s!==null?s:He(n.type)||"Memo";case Vt:s=n._payload,n=n._init;try{return He(n(s))}catch{}}return null}function Ke(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function At(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _r(n){var s=At(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Rn(n){n._valueTracker||(n._valueTracker=_r(n))}function vr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=At(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Cn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Er(n,s){var a=s.checked;return k({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function fi(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function pi(n,s){s=s.checked,s!=null&&oe(n,"checked",s,!1)}function as(n,s){pi(n,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Yn(n,s.type,a):s.hasOwnProperty("defaultValue")&&Yn(n,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function wr(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Yn(n,s,a){(s!=="number"||Cn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Un=Array.isArray;function Pn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function ls(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function mi(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Un(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Fe(a)}}function Br(n,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function q(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function W(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?W(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fe,le=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(fe=fe||document.createElement("div"),fe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Te(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(Ee).forEach(function(n){Ve.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ee[s]=Ee[n]})});function Ie(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ee.hasOwnProperty(n)&&Ee[n]?(""+s).trim():s+"px"}function ot(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Ie(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Le=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(n,s){if(s){if(Le[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zt(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zn=null,$t=null,Ht=null;function Tr(n){if(n=Ia(n)){if(typeof Zn!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Xl(s),Zn(n.stateNode,n.type,s))}}function nt(n){$t?Ht?Ht.push(n):Ht=[n]:$t=n}function Ct(){if($t){var n=$t,s=Ht;if(Ht=$t=null,Tr(n),s)for(n=0;n<s.length;n++)Tr(s[n])}}function cn(n,s){return n(s)}function er(){}var hn=!1;function us(n,s,a){if(hn)return n(s,a);hn=!0;try{return cn(n,s,a)}finally{hn=!1,($t!==null||Ht!==null)&&(er(),Ct())}}function ft(n,s){var a=n.stateNode;if(a===null)return null;var c=Xl(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Zt=!1;if(f)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Zt=!1}function Ir(n,s,a,c,d,g,v,R,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Y){this.onError(Y)}}var zr=!1,Hs=null,tr=!1,ra=null,Kc={onError:function(n){zr=!0,Hs=n}};function Ws(n,s,a,c,d,g,v,R,x){zr=!1,Hs=null,Ir.apply(Kc,arguments)}function wl(n,s,a,c,d,g,v,R,x){if(Ws.apply(this,arguments),zr){if(zr){var $=Hs;zr=!1,Hs=null}else throw Error(t(198));tr||(tr=!0,ra=$)}}function nr(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function cs(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function rr(n){if(nr(n)!==n)throw Error(t(188))}function Tl(n){var s=n.alternate;if(!s){if(s=nr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return rr(d),n;if(g===c)return rr(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var v=!1,R=d.child;R;){if(R===a){v=!0,a=d,c=g;break}if(R===c){v=!0,c=d,a=g;break}R=R.sibling}if(!v){for(R=g.child;R;){if(R===a){v=!0,a=g,c=d;break}if(R===c){v=!0,c=g,a=d;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function ia(n){return n=Tl(n),n!==null?qs(n):null}function qs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=qs(n);if(s!==null)return s;n=n.sibling}return null}var Ks=e.unstable_scheduleCallback,sa=e.unstable_cancelCallback,Il=e.unstable_shouldYield,Gc=e.unstable_requestPaint,it=e.unstable_now,Sl=e.unstable_getCurrentPriorityLevel,hs=e.unstable_ImmediatePriority,gi=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,oa=e.unstable_LowPriority,Al=e.unstable_IdlePriority,ds=null,kn=null;function Rl(n){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ds,n,void 0,(n.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Pl,aa=Math.log,Cl=Math.LN2;function Pl(n){return n>>>=0,n===0?32:31-(aa(n)/Cl|0)|0}var Gs=64,Qs=4194304;function yi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fs(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,v=a&268435455;if(v!==0){var R=v&~d;R!==0?c=yi(R):(g&=v,g!==0&&(c=yi(g)))}else v=a&~d,v!==0?c=yi(v):g!==0&&(c=yi(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-dn(s),d=1<<a,c|=n[a],s&=~d;return c}function Qc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var v=31-dn(g),R=1<<v,x=d[v];x===-1?((R&a)===0||(R&c)!==0)&&(d[v]=Qc(R,s)):x<=s&&(n.expiredLanes|=R),g&=~R}}function xn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ps(){var n=Gs;return Gs<<=1,(Gs&4194240)===0&&(Gs=64),n}function _i(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function vi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-dn(s),n[s]=a}function rt(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-dn(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Ei(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-dn(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var We=0;function wi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var kl,Xs,xl,Nl,Dl,la=!1,Sr=[],Wt=null,ir=null,sr=null,Ti=new Map,$n=new Map,Ar=[],Xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bl(n,s){switch(n){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(s.pointerId)}}function gn(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Ia(s),s!==null&&Xs(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function Jc(n,s,a,c,d){switch(s){case"focusin":return Wt=gn(Wt,n,s,a,c,d),!0;case"dragenter":return ir=gn(ir,n,s,a,c,d),!0;case"mouseover":return sr=gn(sr,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Ti.set(g,gn(Ti.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,$n.set(g,gn($n.get(g)||null,n,s,a,c,d)),!0}return!1}function Ol(n){var s=vs(n.target);if(s!==null){var a=nr(s);if(a!==null){if(s=a.tag,s===13){if(s=cs(a),s!==null){n.blockedOn=s,Dl(n.priority,function(){xl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Js(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Rt=c,a.target.dispatchEvent(c),Rt=null}else return s=Ia(a),s!==null&&Xs(s),n.blockedOn=a,!1;s.shift()}return!0}function ms(n,s,a){Hr(n)&&a.delete(s)}function Ll(){la=!1,Wt!==null&&Hr(Wt)&&(Wt=null),ir!==null&&Hr(ir)&&(ir=null),sr!==null&&Hr(sr)&&(sr=null),Ti.forEach(ms),$n.forEach(ms)}function or(n,s){n.blockedOn===s&&(n.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ll)))}function ar(n){function s(d){return or(d,n)}if(0<Sr.length){or(Sr[0],n);for(var a=1;a<Sr.length;a++){var c=Sr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Wt!==null&&or(Wt,n),ir!==null&&or(ir,n),sr!==null&&or(sr,n),Ti.forEach(s),$n.forEach(s),a=0;a<Ar.length;a++)c=Ar[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)Ol(a),a.blockedOn===null&&Ar.shift()}var Wr=ae.ReactCurrentBatchConfig,Ii=!0;function ut(n,s,a,c){var d=We,g=Wr.transition;Wr.transition=null;try{We=1,ua(n,s,a,c)}finally{We=d,Wr.transition=g}}function Yc(n,s,a,c){var d=We,g=Wr.transition;Wr.transition=null;try{We=4,ua(n,s,a,c)}finally{We=d,Wr.transition=g}}function ua(n,s,a,c){if(Ii){var d=Js(n,s,a,c);if(d===null)uh(n,s,c,gs,a),bl(n,c);else if(Jc(d,n,s,a,c))c.stopPropagation();else if(bl(n,c),s&4&&-1<Xc.indexOf(n)){for(;d!==null;){var g=Ia(d);if(g!==null&&kl(g),g=Js(n,s,a,c),g===null&&uh(n,s,c,gs,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else uh(n,s,c,null,a)}}var gs=null;function Js(n,s,a,c){if(gs=null,n=Bn(c),n=vs(n),n!==null)if(s=nr(n),s===null)n=null;else if(a=s.tag,a===13){if(n=cs(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return gs=n,null}function ca(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sl()){case hs:return 1;case gi:return 4;case zn:case oa:return 16;case Al:return 536870912;default:return 16}default:return 16}}var Nn=null,Ys=null,yn=null;function ha(){if(yn)return yn;var n,s=Ys,a=s.length,c,d="value"in Nn?Nn.value:Nn.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&s[a-c]===d[g-c];c++);return yn=d.slice(n,1<c?1-c:void 0)}function Zs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function da(){return!1}function qt(n){function s(a,c,d,g,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Rr:da,this.isPropagationStopped=da,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=qt(lr),Cr=k({},lr,{view:0,detail:0}),Zc=qt(Cr),to,qr,Si,ys=k({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Si&&(Si&&n.type==="mousemove"?(to=n.screenX-Si.screenX,qr=n.screenY-Si.screenY):qr=to=0,Si=n),to)},movementY:function(n){return"movementY"in n?n.movementY:qr}}),no=qt(ys),fa=k({},ys,{dataTransfer:0}),Vl=qt(fa),ro=k({},Cr,{relatedTarget:0}),io=qt(ro),Ml=k({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=qt(Ml),jl=k({},lr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fl=qt(jl),Ul=k({},lr,{data:0}),pa=qt(Ul),so={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Bl[n])?!!s[n]:!1}function Pr(){return zl}var u=k({},Cr,{key:function(n){if(n.key){var s=so[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Zs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(n){return n.type==="keypress"?Zs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=qt(u),_=k({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=qt(_),F=k({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),H=qt(F),se=k({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=qt(se),kt=k({},ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=qt(kt),Mt=[9,13,27,32],wt=f&&"CompositionEvent"in window,Hn=null;f&&"documentMode"in document&&(Hn=document.documentMode);var Dn=f&&"TextEvent"in window&&!Hn,_s=f&&(!wt||Hn&&8<Hn&&11>=Hn),oo=" ",up=!1;function cp(n,s){switch(n){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ao=!1;function nw(n,s){switch(n){case"compositionend":return hp(s);case"keypress":return s.which!==32?null:(up=!0,oo);case"textInput":return n=s.data,n===oo&&up?null:n;default:return null}}function rw(n,s){if(ao)return n==="compositionend"||!wt&&cp(n,s)?(n=ha(),yn=Ys=Nn=null,ao=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _s&&s.locale!=="ko"?null:s.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!iw[n.type]:s==="textarea"}function fp(n,s,a,c){nt(c),s=Kl(s,"onChange"),0<s.length&&(a=new eo("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var ma=null,ga=null;function sw(n){Np(n,0)}function $l(n){var s=fo(n);if(vr(s))return n}function ow(n,s){if(n==="change")return s}var pp=!1;if(f){var eh;if(f){var th="oninput"in document;if(!th){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),th=typeof mp.oninput=="function"}eh=th}else eh=!1;pp=eh&&(!document.documentMode||9<document.documentMode)}function gp(){ma&&(ma.detachEvent("onpropertychange",yp),ga=ma=null)}function yp(n){if(n.propertyName==="value"&&$l(ga)){var s=[];fp(s,ga,n,Bn(n)),us(sw,s)}}function aw(n,s,a){n==="focusin"?(gp(),ma=s,ga=a,ma.attachEvent("onpropertychange",yp)):n==="focusout"&&gp()}function lw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $l(ga)}function uw(n,s){if(n==="click")return $l(s)}function cw(n,s){if(n==="input"||n==="change")return $l(s)}function hw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ur=typeof Object.is=="function"?Object.is:hw;function ya(n,s){if(ur(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!m.call(s,d)||!ur(n[d],s[d]))return!1}return!0}function _p(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vp(n,s){var a=_p(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function Ep(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ep(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function wp(){for(var n=window,s=Cn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Cn(n.document)}return s}function nh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function dw(n){var s=wp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Ep(a.ownerDocument.documentElement,a)){if(c!==null&&nh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=vp(a,g);var v=vp(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fw=f&&"documentMode"in document&&11>=document.documentMode,lo=null,rh=null,_a=null,ih=!1;function Tp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||lo==null||lo!==Cn(c)||(c=lo,"selectionStart"in c&&nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_a&&ya(_a,c)||(_a=c,c=Kl(rh,"onSelect"),0<c.length&&(s=new eo("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=lo)))}function Hl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var uo={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},sh={},Ip={};f&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Wl(n){if(sh[n])return sh[n];if(!uo[n])return n;var s=uo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ip)return sh[n]=s[a];return n}var Sp=Wl("animationend"),Ap=Wl("animationiteration"),Rp=Wl("animationstart"),Cp=Wl("transitionend"),Pp=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(n,s){Pp.set(n,s),l(s,[n])}for(var oh=0;oh<kp.length;oh++){var ah=kp[oh],pw=ah.toLowerCase(),mw=ah[0].toUpperCase()+ah.slice(1);Ai(pw,"on"+mw)}Ai(Sp,"onAnimationEnd"),Ai(Ap,"onAnimationIteration"),Ai(Rp,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Cp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gw=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function xp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,wl(c,s,void 0,n),n.currentTarget=null}function Np(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var v=c.length-1;0<=v;v--){var R=c[v],x=R.instance,$=R.currentTarget;if(R=R.listener,x!==g&&d.isPropagationStopped())break e;xp(d,R,$),g=x}else for(v=0;v<c.length;v++){if(R=c[v],x=R.instance,$=R.currentTarget,R=R.listener,x!==g&&d.isPropagationStopped())break e;xp(d,R,$),g=x}}}if(tr)throw n=ra,tr=!1,ra=null,n}function at(n,s){var a=s[mh];a===void 0&&(a=s[mh]=new Set);var c=n+"__bubble";a.has(c)||(Dp(s,n,2,!1),a.add(c))}function lh(n,s,a){var c=0;s&&(c|=4),Dp(a,n,c,s)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Ea(n){if(!n[ql]){n[ql]=!0,i.forEach(function(a){a!=="selectionchange"&&(gw.has(a)||lh(a,!1,n),lh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ql]||(s[ql]=!0,lh("selectionchange",!1,s))}}function Dp(n,s,a,c){switch(ca(s)){case 1:var d=ut;break;case 4:d=Yc;break;default:d=ua}a=d.bind(null,s,a,n),d=void 0,!Zt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function uh(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;v=v.return}for(;R!==null;){if(v=vs(R),v===null)return;if(x=v.tag,x===5||x===6){c=g=v;continue e}R=R.parentNode}}c=c.return}us(function(){var $=g,Y=Bn(a),ee=[];e:{var X=Pp.get(n);if(X!==void 0){var ue=eo,pe=n;switch(n){case"keypress":if(Zs(a)===0)break e;case"keydown":case"keyup":ue=p;break;case"focusin":pe="focus",ue=io;break;case"focusout":pe="blur",ue=io;break;case"beforeblur":case"afterblur":ue=io;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case Sp:case Ap:case Rp:ue=Kr;break;case Cp:ue=et;break;case"scroll":ue=Zc;break;case"wheel":ue=Ge;break;case"copy":case"cut":case"paste":ue=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=T}var me=(s&4)!==0,vt=!me&&n==="scroll",U=me?X!==null?X+"Capture":null:X;me=[];for(var O=$,B;O!==null;){B=O;var re=B.stateNode;if(B.tag===5&&re!==null&&(B=re,U!==null&&(re=ft(O,U),re!=null&&me.push(wa(O,re,B)))),vt)break;O=O.return}0<me.length&&(X=new ue(X,pe,null,a,Y),ee.push({event:X,listeners:me}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",X&&a!==Rt&&(pe=a.relatedTarget||a.fromElement)&&(vs(pe)||pe[Gr]))break e;if((ue||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ue?(pe=a.relatedTarget||a.toElement,ue=$,pe=pe?vs(pe):null,pe!==null&&(vt=nr(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=$),ue!==pe)){if(me=no,re="onMouseLeave",U="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(me=T,re="onPointerLeave",U="onPointerEnter",O="pointer"),vt=ue==null?X:fo(ue),B=pe==null?X:fo(pe),X=new me(re,O+"leave",ue,a,Y),X.target=vt,X.relatedTarget=B,re=null,vs(Y)===$&&(me=new me(U,O+"enter",pe,a,Y),me.target=B,me.relatedTarget=vt,re=me),vt=re,ue&&pe)t:{for(me=ue,U=pe,O=0,B=me;B;B=co(B))O++;for(B=0,re=U;re;re=co(re))B++;for(;0<O-B;)me=co(me),O--;for(;0<B-O;)U=co(U),B--;for(;O--;){if(me===U||U!==null&&me===U.alternate)break t;me=co(me),U=co(U)}me=null}else me=null;ue!==null&&bp(ee,X,ue,me,!1),pe!==null&&vt!==null&&bp(ee,vt,pe,me,!0)}}e:{if(X=$?fo($):window,ue=X.nodeName&&X.nodeName.toLowerCase(),ue==="select"||ue==="input"&&X.type==="file")var ge=ow;else if(dp(X))if(pp)ge=cw;else{ge=lw;var Se=aw}else(ue=X.nodeName)&&ue.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ge=uw);if(ge&&(ge=ge(n,$))){fp(ee,ge,a,Y);break e}Se&&Se(n,X,$),n==="focusout"&&(Se=X._wrapperState)&&Se.controlled&&X.type==="number"&&Yn(X,"number",X.value)}switch(Se=$?fo($):window,n){case"focusin":(dp(Se)||Se.contentEditable==="true")&&(lo=Se,rh=$,_a=null);break;case"focusout":_a=rh=lo=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Tp(ee,a,Y);break;case"selectionchange":if(fw)break;case"keydown":case"keyup":Tp(ee,a,Y)}var Ae;if(wt)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ao?cp(n,a)&&(ke="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(_s&&a.locale!=="ko"&&(ao||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ao&&(Ae=ha()):(Nn=Y,Ys="value"in Nn?Nn.value:Nn.textContent,ao=!0)),Se=Kl($,ke),0<Se.length&&(ke=new pa(ke,n,null,a,Y),ee.push({event:ke,listeners:Se}),Ae?ke.data=Ae:(Ae=hp(a),Ae!==null&&(ke.data=Ae)))),(Ae=Dn?nw(n,a):rw(n,a))&&($=Kl($,"onBeforeInput"),0<$.length&&(Y=new pa("onBeforeInput","beforeinput",null,a,Y),ee.push({event:Y,listeners:$}),Y.data=Ae))}Np(ee,s)})}function wa(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Kl(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ft(n,a),g!=null&&c.unshift(wa(n,g,d)),g=ft(n,s),g!=null&&c.push(wa(n,g,d))),n=n.return}return c}function co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bp(n,s,a,c,d){for(var g=s._reactName,v=[];a!==null&&a!==c;){var R=a,x=R.alternate,$=R.stateNode;if(x!==null&&x===c)break;R.tag===5&&$!==null&&(R=$,d?(x=ft(a,g),x!=null&&v.unshift(wa(a,x,R))):d||(x=ft(a,g),x!=null&&v.push(wa(a,x,R)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var yw=/\r\n?/g,_w=/\u0000|\uFFFD/g;function Op(n){return(typeof n=="string"?n:""+n).replace(yw,`
`).replace(_w,"")}function Gl(n,s,a){if(s=Op(s),Op(n)!==s&&a)throw Error(t(425))}function Ql(){}var ch=null,hh=null;function dh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,vw=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(n){return Lp.resolve(null).then(n).catch(ww)}:fh;function ww(n){setTimeout(function(){throw n})}function ph(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),ar(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);ar(s)}function Ri(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Vp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var ho=Math.random().toString(36).slice(2),kr="__reactFiber$"+ho,Ta="__reactProps$"+ho,Gr="__reactContainer$"+ho,mh="__reactEvents$"+ho,Tw="__reactListeners$"+ho,Iw="__reactHandles$"+ho;function vs(n){var s=n[kr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Gr]||a[kr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Vp(n);n!==null;){if(a=n[kr])return a;n=Vp(n)}return s}n=a,a=n.parentNode}return null}function Ia(n){return n=n[kr]||n[Gr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Xl(n){return n[Ta]||null}var gh=[],po=-1;function Ci(n){return{current:n}}function lt(n){0>po||(n.current=gh[po],gh[po]=null,po--)}function st(n,s){po++,gh[po]=n.current,n.current=s}var Pi={},en=Ci(Pi),_n=Ci(!1),Es=Pi;function mo(n,s){var a=n.type.contextTypes;if(!a)return Pi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function vn(n){return n=n.childContextTypes,n!=null}function Jl(){lt(_n),lt(en)}function Mp(n,s,a){if(en.current!==Pi)throw Error(t(168));st(en,s),st(_n,a)}function jp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Ke(n)||"Unknown",d));return k({},a,c)}function Yl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pi,Es=en.current,st(en,n),st(_n,_n.current),!0}function Fp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=jp(n,s,Es),c.__reactInternalMemoizedMergedChildContext=n,lt(_n),lt(en),st(en,n)):lt(_n),st(_n,a)}var Qr=null,Zl=!1,yh=!1;function Up(n){Qr===null?Qr=[n]:Qr.push(n)}function Sw(n){Zl=!0,Up(n)}function ki(){if(!yh&&Qr!==null){yh=!0;var n=0,s=We;try{var a=Qr;for(We=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Qr=null,Zl=!1}catch(d){throw Qr!==null&&(Qr=Qr.slice(n+1)),Ks(hs,ki),d}finally{We=s,yh=!1}}return null}var go=[],yo=0,eu=null,tu=0,Wn=[],qn=0,ws=null,Xr=1,Jr="";function Ts(n,s){go[yo++]=tu,go[yo++]=eu,eu=n,tu=s}function Bp(n,s,a){Wn[qn++]=Xr,Wn[qn++]=Jr,Wn[qn++]=ws,ws=n;var c=Xr;n=Jr;var d=32-dn(c)-1;c&=~(1<<d),a+=1;var g=32-dn(s)+d;if(30<g){var v=d-d%5;g=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Xr=1<<32-dn(s)+d|a<<d|c,Jr=g+n}else Xr=1<<g|a<<d|c,Jr=n}function _h(n){n.return!==null&&(Ts(n,1),Bp(n,1,0))}function vh(n){for(;n===eu;)eu=go[--yo],go[yo]=null,tu=go[--yo],go[yo]=null;for(;n===ws;)ws=Wn[--qn],Wn[qn]=null,Jr=Wn[--qn],Wn[qn]=null,Xr=Wn[--qn],Wn[qn]=null}var bn=null,On=null,ct=!1,cr=null;function zp(n,s){var a=Xn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function $p(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,bn=n,On=Ri(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,bn=n,On=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ws!==null?{id:Xr,overflow:Jr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Xn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,bn=n,On=null,!0):!1;default:return!1}}function Eh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wh(n){if(ct){var s=On;if(s){var a=s;if(!$p(n,s)){if(Eh(n))throw Error(t(418));s=Ri(a.nextSibling);var c=bn;s&&$p(n,s)?zp(c,a):(n.flags=n.flags&-4097|2,ct=!1,bn=n)}}else{if(Eh(n))throw Error(t(418));n.flags=n.flags&-4097|2,ct=!1,bn=n}}}function Hp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;bn=n}function nu(n){if(n!==bn)return!1;if(!ct)return Hp(n),ct=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!dh(n.type,n.memoizedProps)),s&&(s=On)){if(Eh(n))throw Wp(),Error(t(418));for(;s;)zp(n,s),s=Ri(s.nextSibling)}if(Hp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){On=Ri(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}On=null}}else On=bn?Ri(n.stateNode.nextSibling):null;return!0}function Wp(){for(var n=On;n;)n=Ri(n.nextSibling)}function _o(){On=bn=null,ct=!1}function Th(n){cr===null?cr=[n]:cr.push(n)}var Aw=ae.ReactCurrentBatchConfig;function hr(n,s){if(n&&n.defaultProps){s=k({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}var ru=Ci(null),iu=null,vo=null,Ih=null;function Sh(){Ih=vo=iu=null}function Ah(n){var s=ru.current;lt(ru),n._currentValue=s}function Rh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Eo(n,s){iu=n,Ih=vo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(En=!0),n.firstContext=null)}function Kn(n){var s=n._currentValue;if(Ih!==n)if(n={context:n,memoizedValue:s,next:null},vo===null){if(iu===null)throw Error(t(308));vo=n,iu.dependencies={lanes:0,firstContext:n}}else vo=vo.next=n;return s}var Is=null;function Ch(n){Is===null?Is=[n]:Is.push(n)}function qp(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Ch(s)):(a.next=d.next,d.next=a),s.interleaved=a,Yr(n,c)}function Yr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var xi=!1;function Ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Zr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ni(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Yr(n,a)}return d=c.interleaved,d===null?(s.next=s,Ch(c)):(s.next=d.next,d.next=s),c.interleaved=s,Yr(n,a)}function su(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ei(n,a)}}function Gp(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function ou(n,s,a,c){var d=n.updateQueue;xi=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var x=R,$=x.next;x.next=null,v===null?g=$:v.next=$,v=x;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,R=Y.lastBaseUpdate,R!==v&&(R===null?Y.firstBaseUpdate=$:R.next=$,Y.lastBaseUpdate=x))}if(g!==null){var ee=d.baseState;v=0,Y=$=x=null,R=g;do{var X=R.lane,ue=R.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=n,me=R;switch(X=s,ue=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ee=pe.call(ue,ee,X);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,X=typeof pe=="function"?pe.call(ue,ee,X):pe,X==null)break e;ee=k({},ee,X);break e;case 2:xi=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[R]:X.push(R))}else ue={eventTime:ue,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Y===null?($=Y=ue,x=ee):Y=Y.next=ue,v|=X;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;X=R,R=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Y===null&&(x=ee),d.baseState=x,d.firstBaseUpdate=$,d.lastBaseUpdate=Y,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Rs|=v,n.lanes=v,n.memoizedState=ee}}function Qp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Xp=new r.Component().refs;function kh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:k({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var au={isMounted:function(n){return(n=n._reactInternals)?nr(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=mn(),d=Li(n),g=Zr(c,d);g.payload=s,a!=null&&(g.callback=a),s=Ni(n,g,d),s!==null&&(pr(s,n,d,c),su(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=mn(),d=Li(n),g=Zr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Ni(n,g,d),s!==null&&(pr(s,n,d,c),su(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=mn(),c=Li(n),d=Zr(a,c);d.tag=2,s!=null&&(d.callback=s),s=Ni(n,d,c),s!==null&&(pr(s,n,c,a),su(s,n,c))}};function Jp(n,s,a,c,d,g,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,v):s.prototype&&s.prototype.isPureReactComponent?!ya(a,c)||!ya(d,g):!0}function Yp(n,s,a){var c=!1,d=Pi,g=s.contextType;return typeof g=="object"&&g!==null?g=Kn(g):(d=vn(s)?Es:en.current,c=s.contextTypes,g=(c=c!=null)?mo(n,d):Pi),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=au,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function Zp(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&au.enqueueReplaceState(s,s.state,null)}function xh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs=Xp,Ph(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=Kn(g):(g=vn(s)?Es:en.current,d.context=mo(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(kh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&au.enqueueReplaceState(d,d.state,null),ou(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Sa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var R=d.refs;R===Xp&&(R=d.refs={}),v===null?delete R[g]:R[g]=v},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function lu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function em(n){var s=n._init;return s(n._payload)}function tm(n){function s(U,O){if(n){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function a(U,O){if(!n)return null;for(;O!==null;)s(U,O),O=O.sibling;return null}function c(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function d(U,O){return U=Mi(U,O),U.index=0,U.sibling=null,U}function g(U,O,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=2,O):B):(U.flags|=2,O)):(U.flags|=1048576,O)}function v(U){return n&&U.alternate===null&&(U.flags|=2),U}function R(U,O,B,re){return O===null||O.tag!==6?(O=fd(B,U.mode,re),O.return=U,O):(O=d(O,B),O.return=U,O)}function x(U,O,B,re){var ge=B.type;return ge===b?Y(U,O,B.props.children,re,B.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Vt&&em(ge)===O.type)?(re=d(O,B.props),re.ref=Sa(U,O,B),re.return=U,re):(re=Cu(B.type,B.key,B.props,null,U.mode,re),re.ref=Sa(U,O,B),re.return=U,re)}function $(U,O,B,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=pd(B,U.mode,re),O.return=U,O):(O=d(O,B.children||[]),O.return=U,O)}function Y(U,O,B,re,ge){return O===null||O.tag!==7?(O=xs(B,U.mode,re,ge),O.return=U,O):(O=d(O,B),O.return=U,O)}function ee(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=fd(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case je:return B=Cu(O.type,O.key,O.props,null,U.mode,B),B.ref=Sa(U,null,O),B.return=U,B;case Pe:return O=pd(O,U.mode,B),O.return=U,O;case Vt:var re=O._init;return ee(U,re(O._payload),B)}if(Un(O)||ye(O))return O=xs(O,U.mode,B,null),O.return=U,O;lu(U,O)}return null}function X(U,O,B,re){var ge=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ge!==null?null:R(U,O,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case je:return B.key===ge?x(U,O,B,re):null;case Pe:return B.key===ge?$(U,O,B,re):null;case Vt:return ge=B._init,X(U,O,ge(B._payload),re)}if(Un(B)||ye(B))return ge!==null?null:Y(U,O,B,re,null);lu(U,B)}return null}function ue(U,O,B,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(B)||null,R(O,U,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case je:return U=U.get(re.key===null?B:re.key)||null,x(O,U,re,ge);case Pe:return U=U.get(re.key===null?B:re.key)||null,$(O,U,re,ge);case Vt:var Se=re._init;return ue(U,O,B,Se(re._payload),ge)}if(Un(re)||ye(re))return U=U.get(B)||null,Y(O,U,re,ge,null);lu(O,re)}return null}function pe(U,O,B,re){for(var ge=null,Se=null,Ae=O,ke=O=0,Ut=null;Ae!==null&&ke<B.length;ke++){Ae.index>ke?(Ut=Ae,Ae=null):Ut=Ae.sibling;var Je=X(U,Ae,B[ke],re);if(Je===null){Ae===null&&(Ae=Ut);break}n&&Ae&&Je.alternate===null&&s(U,Ae),O=g(Je,O,ke),Se===null?ge=Je:Se.sibling=Je,Se=Je,Ae=Ut}if(ke===B.length)return a(U,Ae),ct&&Ts(U,ke),ge;if(Ae===null){for(;ke<B.length;ke++)Ae=ee(U,B[ke],re),Ae!==null&&(O=g(Ae,O,ke),Se===null?ge=Ae:Se.sibling=Ae,Se=Ae);return ct&&Ts(U,ke),ge}for(Ae=c(U,Ae);ke<B.length;ke++)Ut=ue(Ae,U,ke,B[ke],re),Ut!==null&&(n&&Ut.alternate!==null&&Ae.delete(Ut.key===null?ke:Ut.key),O=g(Ut,O,ke),Se===null?ge=Ut:Se.sibling=Ut,Se=Ut);return n&&Ae.forEach(function(ji){return s(U,ji)}),ct&&Ts(U,ke),ge}function me(U,O,B,re){var ge=ye(B);if(typeof ge!="function")throw Error(t(150));if(B=ge.call(B),B==null)throw Error(t(151));for(var Se=ge=null,Ae=O,ke=O=0,Ut=null,Je=B.next();Ae!==null&&!Je.done;ke++,Je=B.next()){Ae.index>ke?(Ut=Ae,Ae=null):Ut=Ae.sibling;var ji=X(U,Ae,Je.value,re);if(ji===null){Ae===null&&(Ae=Ut);break}n&&Ae&&ji.alternate===null&&s(U,Ae),O=g(ji,O,ke),Se===null?ge=ji:Se.sibling=ji,Se=ji,Ae=Ut}if(Je.done)return a(U,Ae),ct&&Ts(U,ke),ge;if(Ae===null){for(;!Je.done;ke++,Je=B.next())Je=ee(U,Je.value,re),Je!==null&&(O=g(Je,O,ke),Se===null?ge=Je:Se.sibling=Je,Se=Je);return ct&&Ts(U,ke),ge}for(Ae=c(U,Ae);!Je.done;ke++,Je=B.next())Je=ue(Ae,U,ke,Je.value,re),Je!==null&&(n&&Je.alternate!==null&&Ae.delete(Je.key===null?ke:Je.key),O=g(Je,O,ke),Se===null?ge=Je:Se.sibling=Je,Se=Je);return n&&Ae.forEach(function(iT){return s(U,iT)}),ct&&Ts(U,ke),ge}function vt(U,O,B,re){if(typeof B=="object"&&B!==null&&B.type===b&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case je:e:{for(var ge=B.key,Se=O;Se!==null;){if(Se.key===ge){if(ge=B.type,ge===b){if(Se.tag===7){a(U,Se.sibling),O=d(Se,B.props.children),O.return=U,U=O;break e}}else if(Se.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Vt&&em(ge)===Se.type){a(U,Se.sibling),O=d(Se,B.props),O.ref=Sa(U,Se,B),O.return=U,U=O;break e}a(U,Se);break}else s(U,Se);Se=Se.sibling}B.type===b?(O=xs(B.props.children,U.mode,re,B.key),O.return=U,U=O):(re=Cu(B.type,B.key,B.props,null,U.mode,re),re.ref=Sa(U,O,B),re.return=U,U=re)}return v(U);case Pe:e:{for(Se=B.key;O!==null;){if(O.key===Se)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(U,O.sibling),O=d(O,B.children||[]),O.return=U,U=O;break e}else{a(U,O);break}else s(U,O);O=O.sibling}O=pd(B,U.mode,re),O.return=U,U=O}return v(U);case Vt:return Se=B._init,vt(U,O,Se(B._payload),re)}if(Un(B))return pe(U,O,B,re);if(ye(B))return me(U,O,B,re);lu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(a(U,O.sibling),O=d(O,B),O.return=U,U=O):(a(U,O),O=fd(B,U.mode,re),O.return=U,U=O),v(U)):a(U,O)}return vt}var wo=tm(!0),nm=tm(!1),Aa={},xr=Ci(Aa),Ra=Ci(Aa),Ca=Ci(Aa);function Ss(n){if(n===Aa)throw Error(t(174));return n}function Nh(n,s){switch(st(Ca,s),st(Ra,n),st(xr,Aa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:G(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=G(s,n)}lt(xr),st(xr,s)}function To(){lt(xr),lt(Ra),lt(Ca)}function rm(n){Ss(Ca.current);var s=Ss(xr.current),a=G(s,n.type);s!==a&&(st(Ra,n),st(xr,a))}function Dh(n){Ra.current===n&&(lt(xr),lt(Ra))}var pt=Ci(0);function uu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bh=[];function Oh(){for(var n=0;n<bh.length;n++)bh[n]._workInProgressVersionPrimary=null;bh.length=0}var cu=ae.ReactCurrentDispatcher,Lh=ae.ReactCurrentBatchConfig,As=0,mt=null,xt=null,jt=null,hu=!1,Pa=!1,ka=0,Rw=0;function tn(){throw Error(t(321))}function Vh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!ur(n[a],s[a]))return!1;return!0}function Mh(n,s,a,c,d,g){if(As=g,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,cu.current=n===null||n.memoizedState===null?xw:Nw,n=a(c,d),Pa){g=0;do{if(Pa=!1,ka=0,25<=g)throw Error(t(301));g+=1,jt=xt=null,s.updateQueue=null,cu.current=Dw,n=a(c,d)}while(Pa)}if(cu.current=pu,s=xt!==null&&xt.next!==null,As=0,jt=xt=mt=null,hu=!1,s)throw Error(t(300));return n}function jh(){var n=ka!==0;return ka=0,n}function Nr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=n:jt=jt.next=n,jt}function Gn(){if(xt===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var s=jt===null?mt.memoizedState:jt.next;if(s!==null)jt=s,xt=n;else{if(n===null)throw Error(t(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},jt===null?mt.memoizedState=jt=n:jt=jt.next=n}return jt}function xa(n,s){return typeof s=="function"?s(n):s}function Fh(n){var s=Gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=xt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=v=null,x=null,$=g;do{var Y=$.lane;if((As&Y)===Y)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var ee={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(R=x=ee,v=c):x=x.next=ee,mt.lanes|=Y,Rs|=Y}$=$.next}while($!==null&&$!==g);x===null?v=c:x.next=R,ur(c,s.memoizedState)||(En=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,mt.lanes|=g,Rs|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Uh(n){var s=Gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do g=n(g,v.action),v=v.next;while(v!==d);ur(g,s.memoizedState)||(En=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function im(){}function sm(n,s){var a=mt,c=Gn(),d=s(),g=!ur(c.memoizedState,d);if(g&&(c.memoizedState=d,En=!0),c=c.queue,Bh(lm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,Na(9,am.bind(null,a,c,d,s),void 0,null),Ft===null)throw Error(t(349));(As&30)!==0||om(a,s,d)}return d}function om(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function am(n,s,a,c){s.value=a,s.getSnapshot=c,um(s)&&cm(n)}function lm(n,s,a){return a(function(){um(s)&&cm(n)})}function um(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!ur(n,a)}catch{return!0}}function cm(n){var s=Yr(n,1);s!==null&&pr(s,n,1,-1)}function hm(n){var s=Nr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:n},s.queue=n,n=n.dispatch=kw.bind(null,mt,n),[s.memoizedState,n]}function Na(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function dm(){return Gn().memoizedState}function du(n,s,a,c){var d=Nr();mt.flags|=n,d.memoizedState=Na(1|s,a,void 0,c===void 0?null:c)}function fu(n,s,a,c){var d=Gn();c=c===void 0?null:c;var g=void 0;if(xt!==null){var v=xt.memoizedState;if(g=v.destroy,c!==null&&Vh(c,v.deps)){d.memoizedState=Na(s,a,g,c);return}}mt.flags|=n,d.memoizedState=Na(1|s,a,g,c)}function fm(n,s){return du(8390656,8,n,s)}function Bh(n,s){return fu(2048,8,n,s)}function pm(n,s){return fu(4,2,n,s)}function mm(n,s){return fu(4,4,n,s)}function gm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ym(n,s,a){return a=a!=null?a.concat([n]):null,fu(4,4,gm.bind(null,s,n),a)}function zh(){}function _m(n,s){var a=Gn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Vh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function vm(n,s){var a=Gn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Vh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Em(n,s,a){return(As&21)===0?(n.baseState&&(n.baseState=!1,En=!0),n.memoizedState=a):(ur(a,s)||(a=ps(),mt.lanes|=a,Rs|=a,n.baseState=!0),s)}function Cw(n,s){var a=We;We=a!==0&&4>a?a:4,n(!0);var c=Lh.transition;Lh.transition={};try{n(!1),s()}finally{We=a,Lh.transition=c}}function wm(){return Gn().memoizedState}function Pw(n,s,a){var c=Li(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Tm(n))Im(s,a);else if(a=qp(n,s,a,c),a!==null){var d=mn();pr(a,n,c,d),Sm(a,s,c)}}function kw(n,s,a){var c=Li(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tm(n))Im(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,R=g(v,a);if(d.hasEagerState=!0,d.eagerState=R,ur(R,v)){var x=s.interleaved;x===null?(d.next=d,Ch(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=qp(n,s,d,c),a!==null&&(d=mn(),pr(a,n,c,d),Sm(a,s,c))}}function Tm(n){var s=n.alternate;return n===mt||s!==null&&s===mt}function Im(n,s){Pa=hu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Sm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Ei(n,a)}}var pu={readContext:Kn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},xw={readContext:Kn,useCallback:function(n,s){return Nr().memoizedState=[n,s===void 0?null:s],n},useContext:Kn,useEffect:fm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,du(4194308,4,gm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return du(4194308,4,n,s)},useInsertionEffect:function(n,s){return du(4,2,n,s)},useMemo:function(n,s){var a=Nr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Nr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Pw.bind(null,mt,n),[c.memoizedState,n]},useRef:function(n){var s=Nr();return n={current:n},s.memoizedState=n},useState:hm,useDebugValue:zh,useDeferredValue:function(n){return Nr().memoizedState=n},useTransition:function(){var n=hm(!1),s=n[0];return n=Cw.bind(null,n[1]),Nr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=mt,d=Nr();if(ct){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ft===null)throw Error(t(349));(As&30)!==0||om(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,fm(lm.bind(null,c,g,n),[n]),c.flags|=2048,Na(9,am.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Nr(),s=Ft.identifierPrefix;if(ct){var a=Jr,c=Xr;a=(c&~(1<<32-dn(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=ka++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Rw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Nw={readContext:Kn,useCallback:_m,useContext:Kn,useEffect:Bh,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:vm,useReducer:Fh,useRef:dm,useState:function(){return Fh(xa)},useDebugValue:zh,useDeferredValue:function(n){var s=Gn();return Em(s,xt.memoizedState,n)},useTransition:function(){var n=Fh(xa)[0],s=Gn().memoizedState;return[n,s]},useMutableSource:im,useSyncExternalStore:sm,useId:wm,unstable_isNewReconciler:!1},Dw={readContext:Kn,useCallback:_m,useContext:Kn,useEffect:Bh,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:vm,useReducer:Uh,useRef:dm,useState:function(){return Uh(xa)},useDebugValue:zh,useDeferredValue:function(n){var s=Gn();return xt===null?s.memoizedState=n:Em(s,xt.memoizedState,n)},useTransition:function(){var n=Uh(xa)[0],s=Gn().memoizedState;return[n,s]},useMutableSource:im,useSyncExternalStore:sm,useId:wm,unstable_isNewReconciler:!1};function Io(n,s){try{var a="",c=s;do a+=qe(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function $h(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Hh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var bw=typeof WeakMap=="function"?WeakMap:Map;function Am(n,s,a){a=Zr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){wu||(wu=!0,sd=c),Hh(n,s)},a}function Rm(n,s,a){a=Zr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Hh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Hh(n,s),typeof c!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function Cm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new bw;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=Kw.bind(null,n,s,a),s.then(n,n))}function Pm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function km(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Zr(-1,1),s.tag=2,Ni(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var Ow=ae.ReactCurrentOwner,En=!1;function pn(n,s,a,c){s.child=n===null?nm(s,null,a,c):wo(s,n.child,a,c)}function xm(n,s,a,c,d){a=a.render;var g=s.ref;return Eo(s,d),c=Mh(n,s,a,c,g,d),a=jh(),n!==null&&!En?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ei(n,s,d)):(ct&&a&&_h(s),s.flags|=1,pn(n,s,c,d),s.child)}function Nm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!dd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Dm(n,s,g,c,d)):(n=Cu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(v,c)&&n.ref===s.ref)return ei(n,s,d)}return s.flags|=1,n=Mi(g,c),n.ref=s.ref,n.return=s,s.child=n}function Dm(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(ya(g,c)&&n.ref===s.ref)if(En=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(En=!0);else return s.lanes=n.lanes,ei(n,s,d)}return Wh(n,s,a,c,d)}function bm(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ao,Ln),Ln|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,st(Ao,Ln),Ln|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,st(Ao,Ln),Ln|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,st(Ao,Ln),Ln|=c;return pn(n,s,d,a),s.child}function Om(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wh(n,s,a,c,d){var g=vn(a)?Es:en.current;return g=mo(s,g),Eo(s,d),a=Mh(n,s,a,c,g,d),c=jh(),n!==null&&!En?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,ei(n,s,d)):(ct&&c&&_h(s),s.flags|=1,pn(n,s,a,d),s.child)}function Lm(n,s,a,c,d){if(vn(a)){var g=!0;Yl(s)}else g=!1;if(Eo(s,d),s.stateNode===null)gu(n,s),Yp(s,a,c),xh(s,a,c,d),c=!0;else if(n===null){var v=s.stateNode,R=s.memoizedProps;v.props=R;var x=v.context,$=a.contextType;typeof $=="object"&&$!==null?$=Kn($):($=vn(a)?Es:en.current,$=mo(s,$));var Y=a.getDerivedStateFromProps,ee=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||x!==$)&&Zp(s,v,c,$),xi=!1;var X=s.memoizedState;v.state=X,ou(s,c,v,d),x=s.memoizedState,R!==c||X!==x||_n.current||xi?(typeof Y=="function"&&(kh(s,a,Y,c),x=s.memoizedState),(R=xi||Jp(s,a,R,c,X,x,$))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),v.props=c,v.state=x,v.context=$,c=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Kp(n,s),R=s.memoizedProps,$=s.type===s.elementType?R:hr(s.type,R),v.props=$,ee=s.pendingProps,X=v.context,x=a.contextType,typeof x=="object"&&x!==null?x=Kn(x):(x=vn(a)?Es:en.current,x=mo(s,x));var ue=a.getDerivedStateFromProps;(Y=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==ee||X!==x)&&Zp(s,v,c,x),xi=!1,X=s.memoizedState,v.state=X,ou(s,c,v,d);var pe=s.memoizedState;R!==ee||X!==pe||_n.current||xi?(typeof ue=="function"&&(kh(s,a,ue,c),pe=s.memoizedState),($=xi||Jp(s,a,$,c,X,pe,x)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,pe,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,pe,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=pe),v.props=c,v.state=pe,v.context=x,c=$):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return qh(n,s,a,c,g,d)}function qh(n,s,a,c,d,g){Om(n,s);var v=(s.flags&128)!==0;if(!c&&!v)return d&&Fp(s,a,!1),ei(n,s,g);c=s.stateNode,Ow.current=s;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&v?(s.child=wo(s,n.child,null,g),s.child=wo(s,null,R,g)):pn(n,s,R,g),s.memoizedState=c.state,d&&Fp(s,a,!0),s.child}function Vm(n){var s=n.stateNode;s.pendingContext?Mp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Mp(n,s.context,!1),Nh(n,s.containerInfo)}function Mm(n,s,a,c,d){return _o(),Th(d),s.flags|=256,pn(n,s,a,c),s.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Gh(n){return{baseLanes:n,cachePool:null,transitions:null}}function jm(n,s,a){var c=s.pendingProps,d=pt.current,g=!1,v=(s.flags&128)!==0,R;if((R=v)||(R=n!==null&&n.memoizedState===null?!1:(d&2)!==0),R?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),st(pt,d&1),n===null)return wh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,n=c.fallback,g?(c=s.mode,g=s.child,v={mode:"hidden",children:v},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=v):g=Pu(v,c,0,null),n=xs(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Gh(a),s.memoizedState=Kh,n):Qh(s,v));if(d=n.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return Lw(n,s,v,c,R,d,a);if(g){g=c.fallback,v=s.mode,d=n.child,R=d.sibling;var x={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=Mi(d,x),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=Mi(R,g):(g=xs(g,v,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,v=n.child.memoizedState,v=v===null?Gh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=n.childLanes&~a,s.memoizedState=Kh,c}return g=n.child,n=g.sibling,c=Mi(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Qh(n,s){return s=Pu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function mu(n,s,a,c){return c!==null&&Th(c),wo(s,n.child,null,a),n=Qh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Lw(n,s,a,c,d,g,v){if(a)return s.flags&256?(s.flags&=-257,c=$h(Error(t(422))),mu(n,s,v,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Pu({mode:"visible",children:c.children},d,0,null),g=xs(g,d,v,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&wo(s,n.child,null,v),s.child.memoizedState=Gh(v),s.memoizedState=Kh,g);if((s.mode&1)===0)return mu(n,s,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=$h(g,c,void 0),mu(n,s,v,c)}if(R=(v&n.childLanes)!==0,En||R){if(c=Ft,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Yr(n,d),pr(c,n,d,-1))}return hd(),c=$h(Error(t(421))),mu(n,s,v,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=Gw.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,On=Ri(d.nextSibling),bn=s,ct=!0,cr=null,n!==null&&(Wn[qn++]=Xr,Wn[qn++]=Jr,Wn[qn++]=ws,Xr=n.id,Jr=n.overflow,ws=s),s=Qh(s,c.children),s.flags|=4096,s)}function Fm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Rh(n.return,s,a)}function Xh(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Um(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(pn(n,s,c.children,a),c=pt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fm(n,a,s);else if(n.tag===19)Fm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(st(pt,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&uu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Xh(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&uu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Xh(s,!0,a,null,g);break;case"together":Xh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ei(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Rs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Mi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Mi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Vw(n,s,a){switch(s.tag){case 3:Vm(s),_o();break;case 5:rm(s);break;case 1:vn(s.type)&&Yl(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;st(ru,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(st(pt,pt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?jm(n,s,a):(st(pt,pt.current&1),n=ei(n,s,a),n!==null?n.sibling:null);st(pt,pt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Um(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),st(pt,pt.current),c)break;return null;case 22:case 23:return s.lanes=0,bm(n,s,a)}return ei(n,s,a)}var Bm,Jh,zm,$m;Bm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jh=function(){},zm=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Ss(xr.current);var g=null;switch(a){case"input":d=Er(n,d),c=Er(n,c),g=[];break;case"select":d=k({},d,{value:void 0}),c=k({},c,{value:void 0}),g=[];break;case"textarea":d=ls(n,d),c=ls(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ql)}Ye(a,c);var v;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var R=d[$];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var x=c[$];if(R=d!=null?d[$]:void 0,c.hasOwnProperty($)&&x!==R&&(x!=null||R!=null))if($==="style")if(R){for(v in R)!R.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in x)x.hasOwnProperty(v)&&R[v]!==x[v]&&(a||(a={}),a[v]=x[v])}else a||(g||(g=[]),g.push($,a)),a=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&at("scroll",n),g||R===x||(g=[])):(g=g||[]).push($,x))}a&&(g=g||[]).push("style",a);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},$m=function(n,s,a,c){a!==c&&(s.flags|=4)};function Da(n,s){if(!ct)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function nn(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Mw(n,s,a){var c=s.pendingProps;switch(vh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return vn(s.type)&&Jl(),nn(s),null;case 3:return c=s.stateNode,To(),lt(_n),lt(en),Oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(nu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,cr!==null&&(ld(cr),cr=null))),Jh(n,s),nn(s),null;case 5:Dh(s);var d=Ss(Ca.current);if(a=s.type,n!==null&&s.stateNode!=null)zm(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return nn(s),null}if(n=Ss(xr.current),nu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[kr]=s,c[Ta]=g,n=(s.mode&1)!==0,a){case"dialog":at("cancel",c),at("close",c);break;case"iframe":case"object":case"embed":at("load",c);break;case"video":case"audio":for(d=0;d<va.length;d++)at(va[d],c);break;case"source":at("error",c);break;case"img":case"image":case"link":at("error",c),at("load",c);break;case"details":at("toggle",c);break;case"input":fi(c,g),at("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},at("invalid",c);break;case"textarea":mi(c,g),at("invalid",c)}Ye(a,g),d=null;for(var v in g)if(g.hasOwnProperty(v)){var R=g[v];v==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&Gl(c.textContent,R,n),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Gl(c.textContent,R,n),d=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&at("scroll",c)}switch(a){case"input":Rn(c),wr(c,g,!0);break;case"textarea":Rn(c),q(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Ql)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=W(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[kr]=s,n[Ta]=c,Bm(n,s,!1,!1),s.stateNode=n;e:{switch(v=zt(a,c),a){case"dialog":at("cancel",n),at("close",n),d=c;break;case"iframe":case"object":case"embed":at("load",n),d=c;break;case"video":case"audio":for(d=0;d<va.length;d++)at(va[d],n);d=c;break;case"source":at("error",n),d=c;break;case"img":case"image":case"link":at("error",n),at("load",n),d=c;break;case"details":at("toggle",n),d=c;break;case"input":fi(n,c),d=Er(n,c),at("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=k({},c,{value:void 0}),at("invalid",n);break;case"textarea":mi(n,c),d=ls(n,c),at("invalid",n);break;default:d=c}Ye(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?ot(n,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&le(n,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Te(n,x):typeof x=="number"&&Te(n,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&at("scroll",n):x!=null&&oe(n,g,x,v))}switch(a){case"input":Rn(n),wr(n,c,!1);break;case"textarea":Rn(n),q(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?Pn(n,!!c.multiple,g,!1):c.defaultValue!=null&&Pn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ql)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return nn(s),null;case 6:if(n&&s.stateNode!=null)$m(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ss(Ca.current),Ss(xr.current),nu(s)){if(c=s.stateNode,a=s.memoizedProps,c[kr]=s,(g=c.nodeValue!==a)&&(n=bn,n!==null))switch(n.tag){case 3:Gl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Gl(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kr]=s,s.stateNode=c}return nn(s),null;case 13:if(lt(pt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ct&&On!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Wp(),_o(),s.flags|=98560,g=!1;else if(g=nu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[kr]=s}else _o(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nn(s),g=!1}else cr!==null&&(ld(cr),cr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(pt.current&1)!==0?Nt===0&&(Nt=3):hd())),s.updateQueue!==null&&(s.flags|=4),nn(s),null);case 4:return To(),Jh(n,s),n===null&&Ea(s.stateNode.containerInfo),nn(s),null;case 10:return Ah(s.type._context),nn(s),null;case 17:return vn(s.type)&&Jl(),nn(s),null;case 19:if(lt(pt),g=s.memoizedState,g===null)return nn(s),null;if(c=(s.flags&128)!==0,v=g.rendering,v===null)if(c)Da(g,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=uu(n),v!==null){for(s.flags|=128,Da(g,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,n=v.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return st(pt,pt.current&1|2),s.child}n=n.sibling}g.tail!==null&&it()>Ro&&(s.flags|=128,c=!0,Da(g,!1),s.lanes=4194304)}else{if(!c)if(n=uu(v),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Da(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ct)return nn(s),null}else 2*it()-g.renderingStartTime>Ro&&a!==1073741824&&(s.flags|=128,c=!0,Da(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=it(),s.sibling=null,a=pt.current,st(pt,c?a&1|2:a&1),s):(nn(s),null);case 22:case 23:return cd(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function jw(n,s){switch(vh(s),s.tag){case 1:return vn(s.type)&&Jl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return To(),lt(_n),lt(en),Oh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Dh(s),null;case 13:if(lt(pt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));_o()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return lt(pt),null;case 4:return To(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var yu=!1,rn=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,de=null;function So(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){yt(n,s,c)}else a.current=null}function Yh(n,s,a){try{a()}catch(c){yt(n,s,c)}}var Hm=!1;function Uw(n,s){if(ch=Ii,n=wp(),nh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,R=-1,x=-1,$=0,Y=0,ee=n,X=null;t:for(;;){for(var ue;ee!==a||d!==0&&ee.nodeType!==3||(R=v+d),ee!==g||c!==0&&ee.nodeType!==3||(x=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)X=ee,ee=ue;for(;;){if(ee===n)break t;if(X===a&&++$===d&&(R=v),X===g&&++Y===c&&(x=v),(ue=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ue}a=R===-1||x===-1?null:{start:R,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:n,selectionRange:a},Ii=!1,de=s;de!==null;)if(s=de,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,de=n;else for(;de!==null;){s=de;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,vt=pe.memoizedState,U=s.stateNode,O=U.getSnapshotBeforeUpdate(s.elementType===s.type?me:hr(s.type,me),vt);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){yt(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,de=n;break}de=s.return}return pe=Hm,Hm=!1,pe}function ba(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&Yh(s,a,g)}d=d.next}while(d!==c)}}function _u(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Zh(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Wm(n){var s=n.alternate;s!==null&&(n.alternate=null,Wm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[kr],delete s[Ta],delete s[mh],delete s[Tw],delete s[Iw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function qm(n){return n.tag===5||n.tag===3||n.tag===4}function Km(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||qm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ed(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ql));else if(c!==4&&(n=n.child,n!==null))for(ed(n,s,a),n=n.sibling;n!==null;)ed(n,s,a),n=n.sibling}function td(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(td(n,s,a),n=n.sibling;n!==null;)td(n,s,a),n=n.sibling}var Kt=null,dr=!1;function Di(n,s,a){for(a=a.child;a!==null;)Gm(n,s,a),a=a.sibling}function Gm(n,s,a){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ds,a)}catch{}switch(a.tag){case 5:rn||So(a,s);case 6:var c=Kt,d=dr;Kt=null,Di(n,s,a),Kt=c,dr=d,Kt!==null&&(dr?(n=Kt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Kt.removeChild(a.stateNode));break;case 18:Kt!==null&&(dr?(n=Kt,a=a.stateNode,n.nodeType===8?ph(n.parentNode,a):n.nodeType===1&&ph(n,a),ar(n)):ph(Kt,a.stateNode));break;case 4:c=Kt,d=dr,Kt=a.stateNode.containerInfo,dr=!0,Di(n,s,a),Kt=c,dr=d;break;case 0:case 11:case 14:case 15:if(!rn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,v=g.destroy;g=g.tag,v!==void 0&&((g&2)!==0||(g&4)!==0)&&Yh(a,s,v),d=d.next}while(d!==c)}Di(n,s,a);break;case 1:if(!rn&&(So(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){yt(a,s,R)}Di(n,s,a);break;case 21:Di(n,s,a);break;case 22:a.mode&1?(rn=(c=rn)||a.memoizedState!==null,Di(n,s,a),rn=c):Di(n,s,a);break;default:Di(n,s,a)}}function Qm(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Fw),s.forEach(function(c){var d=Qw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function fr(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,v=s,R=v;e:for(;R!==null;){switch(R.tag){case 5:Kt=R.stateNode,dr=!1;break e;case 3:Kt=R.stateNode.containerInfo,dr=!0;break e;case 4:Kt=R.stateNode.containerInfo,dr=!0;break e}R=R.return}if(Kt===null)throw Error(t(160));Gm(g,v,d),Kt=null,dr=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch($){yt(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xm(s,n),s=s.sibling}function Xm(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fr(s,n),Dr(n),c&4){try{ba(3,n,n.return),_u(3,n)}catch(me){yt(n,n.return,me)}try{ba(5,n,n.return)}catch(me){yt(n,n.return,me)}}break;case 1:fr(s,n),Dr(n),c&512&&a!==null&&So(a,a.return);break;case 5:if(fr(s,n),Dr(n),c&512&&a!==null&&So(a,a.return),n.flags&32){var d=n.stateNode;try{Te(d,"")}catch(me){yt(n,n.return,me)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,v=a!==null?a.memoizedProps:g,R=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&pi(d,g),zt(R,v);var $=zt(R,g);for(v=0;v<x.length;v+=2){var Y=x[v],ee=x[v+1];Y==="style"?ot(d,ee):Y==="dangerouslySetInnerHTML"?le(d,ee):Y==="children"?Te(d,ee):oe(d,Y,ee,$)}switch(R){case"input":as(d,g);break;case"textarea":Br(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Pn(d,!!g.multiple,ue,!1):X!==!!g.multiple&&(g.defaultValue!=null?Pn(d,!!g.multiple,g.defaultValue,!0):Pn(d,!!g.multiple,g.multiple?[]:"",!1))}d[Ta]=g}catch(me){yt(n,n.return,me)}}break;case 6:if(fr(s,n),Dr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(me){yt(n,n.return,me)}}break;case 3:if(fr(s,n),Dr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ar(s.containerInfo)}catch(me){yt(n,n.return,me)}break;case 4:fr(s,n),Dr(n);break;case 13:fr(s,n),Dr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(id=it())),c&4&&Qm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(rn=($=rn)||Y,fr(s,n),rn=$):fr(s,n),Dr(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!Y&&(n.mode&1)!==0)for(de=n,Y=n.child;Y!==null;){for(ee=de=Y;de!==null;){switch(X=de,ue=X.child,X.tag){case 0:case 11:case 14:case 15:ba(4,X,X.return);break;case 1:So(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){yt(c,a,me)}}break;case 5:So(X,X.return);break;case 22:if(X.memoizedState!==null){Zm(ee);continue}}ue!==null?(ue.return=X,de=ue):Zm(ee)}Y=Y.sibling}e:for(Y=null,ee=n;;){if(ee.tag===5){if(Y===null){Y=ee;try{d=ee.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ee.stateNode,x=ee.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=Ie("display",v))}catch(me){yt(n,n.return,me)}}}else if(ee.tag===6){if(Y===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(me){yt(n,n.return,me)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;Y===ee&&(Y=null),ee=ee.return}Y===ee&&(Y=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:fr(s,n),Dr(n),c&4&&Qm(n);break;case 21:break;default:fr(s,n),Dr(n)}}function Dr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(qm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Te(d,""),c.flags&=-33);var g=Km(n);td(n,g,d);break;case 3:case 4:var v=c.stateNode.containerInfo,R=Km(n);ed(n,R,v);break;default:throw Error(t(161))}}catch(x){yt(n,n.return,x)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Bw(n,s,a){de=n,Jm(n)}function Jm(n,s,a){for(var c=(n.mode&1)!==0;de!==null;){var d=de,g=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||yu;if(!v){var R=d.alternate,x=R!==null&&R.memoizedState!==null||rn;R=yu;var $=rn;if(yu=v,(rn=x)&&!$)for(de=d;de!==null;)v=de,x=v.child,v.tag===22&&v.memoizedState!==null?eg(d):x!==null?(x.return=v,de=x):eg(d);for(;g!==null;)de=g,Jm(g),g=g.sibling;de=d,yu=R,rn=$}Ym(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,de=g):Ym(n)}}function Ym(n){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:rn||_u(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!rn)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:hr(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Qp(s,g,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Qp(s,v,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var ee=Y.dehydrated;ee!==null&&ar(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||s.flags&512&&Zh(s)}catch(X){yt(s,s.return,X)}}if(s===n){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function Zm(n){for(;de!==null;){var s=de;if(s===n){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function eg(n){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{_u(4,s)}catch(x){yt(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(x){yt(s,d,x)}}var g=s.return;try{Zh(s)}catch(x){yt(s,g,x)}break;case 5:var v=s.return;try{Zh(s)}catch(x){yt(s,v,x)}}}catch(x){yt(s,s.return,x)}if(s===n){de=null;break}var R=s.sibling;if(R!==null){R.return=s.return,de=R;break}de=s.return}}var zw=Math.ceil,vu=ae.ReactCurrentDispatcher,nd=ae.ReactCurrentOwner,Qn=ae.ReactCurrentBatchConfig,Xe=0,Ft=null,Tt=null,Gt=0,Ln=0,Ao=Ci(0),Nt=0,Oa=null,Rs=0,Eu=0,rd=0,La=null,wn=null,id=0,Ro=1/0,ti=null,wu=!1,sd=null,bi=null,Tu=!1,Oi=null,Iu=0,Va=0,od=null,Su=-1,Au=0;function mn(){return(Xe&6)!==0?it():Su!==-1?Su:Su=it()}function Li(n){return(n.mode&1)===0?1:(Xe&2)!==0&&Gt!==0?Gt&-Gt:Aw.transition!==null?(Au===0&&(Au=ps()),Au):(n=We,n!==0||(n=window.event,n=n===void 0?16:ca(n.type)),n)}function pr(n,s,a,c){if(50<Va)throw Va=0,od=null,Error(t(185));vi(n,a,c),((Xe&2)===0||n!==Ft)&&(n===Ft&&((Xe&2)===0&&(Eu|=a),Nt===4&&Vi(n,Gt)),Tn(n,c),a===1&&Xe===0&&(s.mode&1)===0&&(Ro=it()+500,Zl&&ki()))}function Tn(n,s){var a=n.callbackNode;$r(n,s);var c=fs(n,n===Ft?Gt:0);if(c===0)a!==null&&sa(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&sa(a),s===1)n.tag===0?Sw(ng.bind(null,n)):Up(ng.bind(null,n)),Ew(function(){(Xe&6)===0&&ki()}),a=null;else{switch(wi(c)){case 1:a=hs;break;case 4:a=gi;break;case 16:a=zn;break;case 536870912:a=Al;break;default:a=zn}a=cg(a,tg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function tg(n,s){if(Su=-1,Au=0,(Xe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Co()&&n.callbackNode!==a)return null;var c=fs(n,n===Ft?Gt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Ru(n,c);else{s=c;var d=Xe;Xe|=2;var g=ig();(Ft!==n||Gt!==s)&&(ti=null,Ro=it()+500,Ps(n,s));do try{Ww();break}catch(R){rg(n,R)}while(!0);Sh(),vu.current=g,Xe=d,Tt!==null?s=0:(Ft=null,Gt=0,s=Nt)}if(s!==0){if(s===2&&(d=xn(n),d!==0&&(c=d,s=ad(n,d))),s===1)throw a=Oa,Ps(n,0),Vi(n,c),Tn(n,it()),a;if(s===6)Vi(n,c);else{if(d=n.current.alternate,(c&30)===0&&!$w(d)&&(s=Ru(n,c),s===2&&(g=xn(n),g!==0&&(c=g,s=ad(n,g))),s===1))throw a=Oa,Ps(n,0),Vi(n,c),Tn(n,it()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ks(n,wn,ti);break;case 3:if(Vi(n,c),(c&130023424)===c&&(s=id+500-it(),10<s)){if(fs(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){mn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=fh(ks.bind(null,n,wn,ti),s);break}ks(n,wn,ti);break;case 4:if(Vi(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var v=31-dn(c);g=1<<v,v=s[v],v>d&&(d=v),c&=~g}if(c=d,c=it()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*zw(c/1960))-c,10<c){n.timeoutHandle=fh(ks.bind(null,n,wn,ti),c);break}ks(n,wn,ti);break;case 5:ks(n,wn,ti);break;default:throw Error(t(329))}}}return Tn(n,it()),n.callbackNode===a?tg.bind(null,n):null}function ad(n,s){var a=La;return n.current.memoizedState.isDehydrated&&(Ps(n,s).flags|=256),n=Ru(n,s),n!==2&&(s=wn,wn=a,s!==null&&ld(s)),n}function ld(n){wn===null?wn=n:wn.push.apply(wn,n)}function $w(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!ur(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(n,s){for(s&=~rd,s&=~Eu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-dn(s),c=1<<a;n[a]=-1,s&=~c}}function ng(n){if((Xe&6)!==0)throw Error(t(327));Co();var s=fs(n,0);if((s&1)===0)return Tn(n,it()),null;var a=Ru(n,s);if(n.tag!==0&&a===2){var c=xn(n);c!==0&&(s=c,a=ad(n,c))}if(a===1)throw a=Oa,Ps(n,0),Vi(n,s),Tn(n,it()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ks(n,wn,ti),Tn(n,it()),null}function ud(n,s){var a=Xe;Xe|=1;try{return n(s)}finally{Xe=a,Xe===0&&(Ro=it()+500,Zl&&ki())}}function Cs(n){Oi!==null&&Oi.tag===0&&(Xe&6)===0&&Co();var s=Xe;Xe|=1;var a=Qn.transition,c=We;try{if(Qn.transition=null,We=1,n)return n()}finally{We=c,Qn.transition=a,Xe=s,(Xe&6)===0&&ki()}}function cd(){Ln=Ao.current,lt(Ao)}function Ps(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,vw(a)),Tt!==null)for(a=Tt.return;a!==null;){var c=a;switch(vh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Jl();break;case 3:To(),lt(_n),lt(en),Oh();break;case 5:Dh(c);break;case 4:To();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Ah(c.type._context);break;case 22:case 23:cd()}a=a.return}if(Ft=n,Tt=n=Mi(n.current,null),Gt=Ln=s,Nt=0,Oa=null,rd=Eu=Rs=0,wn=La=null,Is!==null){for(s=0;s<Is.length;s++)if(a=Is[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var v=g.next;g.next=d,c.next=v}a.pending=c}Is=null}return n}function rg(n,s){do{var a=Tt;try{if(Sh(),cu.current=pu,hu){for(var c=mt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}hu=!1}if(As=0,jt=xt=mt=null,Pa=!1,ka=0,nd.current=null,a===null||a.return===null){Nt=1,Oa=s,Tt=null;break}e:{var g=n,v=a.return,R=a,x=s;if(s=Gt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,Y=R,ee=Y.tag;if((Y.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ue=Pm(v);if(ue!==null){ue.flags&=-257,km(ue,v,R,g,s),ue.mode&1&&Cm(g,$,s),s=ue,x=$;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(x),s.updateQueue=me}else pe.add(x);break e}else{if((s&1)===0){Cm(g,$,s),hd();break e}x=Error(t(426))}}else if(ct&&R.mode&1){var vt=Pm(v);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),km(vt,v,R,g,s),Th(Io(x,R));break e}}g=x=Io(x,R),Nt!==4&&(Nt=2),La===null?La=[g]:La.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Am(g,x,s);Gp(g,U);break e;case 1:R=x;var O=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(bi===null||!bi.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=Rm(g,R,s);Gp(g,re);break e}}g=g.return}while(g!==null)}og(a)}catch(ge){s=ge,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function ig(){var n=vu.current;return vu.current=pu,n===null?pu:n}function hd(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ft===null||(Rs&268435455)===0&&(Eu&268435455)===0||Vi(Ft,Gt)}function Ru(n,s){var a=Xe;Xe|=2;var c=ig();(Ft!==n||Gt!==s)&&(ti=null,Ps(n,s));do try{Hw();break}catch(d){rg(n,d)}while(!0);if(Sh(),Xe=a,vu.current=c,Tt!==null)throw Error(t(261));return Ft=null,Gt=0,Nt}function Hw(){for(;Tt!==null;)sg(Tt)}function Ww(){for(;Tt!==null&&!Il();)sg(Tt)}function sg(n){var s=ug(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,s===null?og(n):Tt=s,nd.current=null}function og(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Mw(a,s,Ln),a!==null){Tt=a;return}}else{if(a=jw(a,s),a!==null){a.flags&=32767,Tt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nt=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=n}while(s!==null);Nt===0&&(Nt=5)}function ks(n,s,a){var c=We,d=Qn.transition;try{Qn.transition=null,We=1,qw(n,s,a,c)}finally{Qn.transition=d,We=c}return null}function qw(n,s,a,c){do Co();while(Oi!==null);if((Xe&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(rt(n,g),n===Ft&&(Tt=Ft=null,Gt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Tu||(Tu=!0,cg(zn,function(){return Co(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Qn.transition,Qn.transition=null;var v=We;We=1;var R=Xe;Xe|=4,nd.current=null,Uw(n,a),Xm(a,n),dw(hh),Ii=!!ch,hh=ch=null,n.current=a,Bw(a),Gc(),Xe=R,We=v,Qn.transition=g}else n.current=a;if(Tu&&(Tu=!1,Oi=n,Iu=d),g=n.pendingLanes,g===0&&(bi=null),Rl(a.stateNode),Tn(n,it()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(wu)throw wu=!1,n=sd,sd=null,n;return(Iu&1)!==0&&n.tag!==0&&Co(),g=n.pendingLanes,(g&1)!==0?n===od?Va++:(Va=0,od=n):Va=0,ki(),null}function Co(){if(Oi!==null){var n=wi(Iu),s=Qn.transition,a=We;try{if(Qn.transition=null,We=16>n?16:n,Oi===null)var c=!1;else{if(n=Oi,Oi=null,Iu=0,(Xe&6)!==0)throw Error(t(331));var d=Xe;for(Xe|=4,de=n.current;de!==null;){var g=de,v=g.child;if((de.flags&16)!==0){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var $=R[x];for(de=$;de!==null;){var Y=de;switch(Y.tag){case 0:case 11:case 15:ba(8,Y,g)}var ee=Y.child;if(ee!==null)ee.return=Y,de=ee;else for(;de!==null;){Y=de;var X=Y.sibling,ue=Y.return;if(Wm(Y),Y===$){de=null;break}if(X!==null){X.return=ue,de=X;break}de=ue}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var vt=me.sibling;me.sibling=null,me=vt}while(me!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&v!==null)v.return=g,de=v;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ba(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,de=U;break e}de=g.return}}var O=n.current;for(de=O;de!==null;){v=de;var B=v.child;if((v.subtreeFlags&2064)!==0&&B!==null)B.return=v,de=B;else e:for(v=O;de!==null;){if(R=de,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:_u(9,R)}}catch(ge){yt(R,R.return,ge)}if(R===v){de=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,de=re;break e}de=R.return}}if(Xe=d,ki(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ds,n)}catch{}c=!0}return c}finally{We=a,Qn.transition=s}}return!1}function ag(n,s,a){s=Io(a,s),s=Am(n,s,1),n=Ni(n,s,1),s=mn(),n!==null&&(vi(n,1,s),Tn(n,s))}function yt(n,s,a){if(n.tag===3)ag(n,n,a);else for(;s!==null;){if(s.tag===3){ag(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))){n=Io(a,n),n=Rm(s,n,1),s=Ni(s,n,1),n=mn(),s!==null&&(vi(s,1,n),Tn(s,n));break}}s=s.return}}function Kw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=mn(),n.pingedLanes|=n.suspendedLanes&a,Ft===n&&(Gt&a)===a&&(Nt===4||Nt===3&&(Gt&130023424)===Gt&&500>it()-id?Ps(n,0):rd|=a),Tn(n,s)}function lg(n,s){s===0&&((n.mode&1)===0?s=1:(s=Qs,Qs<<=1,(Qs&130023424)===0&&(Qs=4194304)));var a=mn();n=Yr(n,s),n!==null&&(vi(n,s,a),Tn(n,a))}function Gw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),lg(n,a)}function Qw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),lg(n,a)}var ug;ug=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||_n.current)En=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return En=!1,Vw(n,s,a);En=(n.flags&131072)!==0}else En=!1,ct&&(s.flags&1048576)!==0&&Bp(s,tu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;gu(n,s),n=s.pendingProps;var d=mo(s,en.current);Eo(s,a),d=Mh(null,s,c,n,d,a);var g=jh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(c)?(g=!0,Yl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ph(s),d.updater=au,s.stateNode=d,d._reactInternals=s,xh(s,c,n,a),s=qh(null,s,c,!0,g,a)):(s.tag=0,ct&&g&&_h(s),pn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(gu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=Jw(c),n=hr(c,n),d){case 0:s=Wh(null,s,c,n,a);break e;case 1:s=Lm(null,s,c,n,a);break e;case 11:s=xm(null,s,c,n,a);break e;case 14:s=Nm(null,s,c,hr(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),Wh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),Lm(n,s,c,d,a);case 3:e:{if(Vm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,Kp(n,s),ou(s,c,null,a);var v=s.memoizedState;if(c=v.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=Io(Error(t(423)),s),s=Mm(n,s,c,a,d);break e}else if(c!==d){d=Io(Error(t(424)),s),s=Mm(n,s,c,a,d);break e}else for(On=Ri(s.stateNode.containerInfo.firstChild),bn=s,ct=!0,cr=null,a=nm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_o(),c===d){s=ei(n,s,a);break e}pn(n,s,c,a)}s=s.child}return s;case 5:return rm(s),n===null&&wh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,v=d.children,dh(c,d)?v=null:g!==null&&dh(c,g)&&(s.flags|=32),Om(n,s),pn(n,s,v,a),s.child;case 6:return n===null&&wh(s),null;case 13:return jm(n,s,a);case 4:return Nh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=wo(s,null,c,a):pn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),xm(n,s,c,d,a);case 7:return pn(n,s,s.pendingProps,a),s.child;case 8:return pn(n,s,s.pendingProps.children,a),s.child;case 12:return pn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,v=d.value,st(ru,c._currentValue),c._currentValue=v,g!==null)if(ur(g.value,v)){if(g.children===d.children&&!_n.current){s=ei(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){v=g.child;for(var x=R.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Zr(-1,a&-a),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),$.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Rh(g.return,a,s),R.lanes|=a;break}x=x.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),Rh(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}pn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Eo(s,a),d=Kn(d),c=c(d),s.flags|=1,pn(n,s,c,a),s.child;case 14:return c=s.type,d=hr(c,s.pendingProps),d=hr(c.type,d),Nm(n,s,c,d,a);case 15:return Dm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:hr(c,d),gu(n,s),s.tag=1,vn(c)?(n=!0,Yl(s)):n=!1,Eo(s,a),Yp(s,c,d),xh(s,c,d,a),qh(null,s,c,!0,n,a);case 19:return Um(n,s,a);case 22:return bm(n,s,a)}throw Error(t(156,s.tag))};function cg(n,s){return Ks(n,s)}function Xw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,s,a,c){return new Xw(n,s,a,c)}function dd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Jw(n){if(typeof n=="function")return dd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===Lt)return 14}return 2}function Mi(n,s){var a=n.alternate;return a===null?(a=Xn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Cu(n,s,a,c,d,g){var v=2;if(c=n,typeof n=="function")dd(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case b:return xs(a.children,d,g,s);case A:v=8,d|=8;break;case P:return n=Xn(12,a,s,d|2),n.elementType=P,n.lanes=g,n;case C:return n=Xn(13,a,s,d),n.elementType=C,n.lanes=g,n;case dt:return n=Xn(19,a,s,d),n.elementType=dt,n.lanes=g,n;case Ne:return Pu(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:v=10;break e;case L:v=9;break e;case V:v=11;break e;case Lt:v=14;break e;case Vt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Xn(v,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function xs(n,s,a,c){return n=Xn(7,n,c,s),n.lanes=a,n}function Pu(n,s,a,c){return n=Xn(22,n,c,s),n.elementType=Ne,n.lanes=a,n.stateNode={isHidden:!1},n}function fd(n,s,a){return n=Xn(6,n,null,s),n.lanes=a,n}function pd(n,s,a){return s=Xn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Yw(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function md(n,s,a,c,d,g,v,R,x){return n=new Yw(n,s,a,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Xn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(g),n}function Zw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function hg(n){if(!n)return Pi;n=n._reactInternals;e:{if(nr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(vn(a))return jp(n,a,s)}return s}function dg(n,s,a,c,d,g,v,R,x){return n=md(a,c,!0,n,d,g,v,R,x),n.context=hg(null),a=n.current,c=mn(),d=Li(a),g=Zr(c,d),g.callback=s??null,Ni(a,g,d),n.current.lanes=d,vi(n,d,c),Tn(n,c),n}function ku(n,s,a,c){var d=s.current,g=mn(),v=Li(d);return a=hg(a),s.context===null?s.context=a:s.pendingContext=a,s=Zr(g,v),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Ni(d,s,v),n!==null&&(pr(n,d,v,g),su(n,d,v)),v}function xu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function fg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function gd(n,s){fg(n,s),(n=n.alternate)&&fg(n,s)}function eT(){return null}var pg=typeof reportError=="function"?reportError:function(n){console.error(n)};function yd(n){this._internalRoot=n}Nu.prototype.render=yd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));ku(n,s,null,null)},Nu.prototype.unmount=yd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Cs(function(){ku(null,n,null,null)}),s[Gr]=null}};function Nu(n){this._internalRoot=n}Nu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Nl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ar.length&&s!==0&&s<Ar[a].priority;a++);Ar.splice(a,0,n),a===0&&Ol(n)}};function _d(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Du(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mg(){}function tT(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=xu(v);g.call($)}}var v=dg(s,c,n,0,null,!1,!1,"",mg);return n._reactRootContainer=v,n[Gr]=v.current,Ea(n.nodeType===8?n.parentNode:n),Cs(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var $=xu(x);R.call($)}}var x=md(n,0,!1,null,null,!1,!1,"",mg);return n._reactRootContainer=x,n[Gr]=x.current,Ea(n.nodeType===8?n.parentNode:n),Cs(function(){ku(s,x,a,c)}),x}function bu(n,s,a,c,d){var g=a._reactRootContainer;if(g){var v=g;if(typeof d=="function"){var R=d;d=function(){var x=xu(v);R.call(x)}}ku(s,v,n,d)}else v=tT(a,s,n,d,c);return xu(v)}kl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=yi(s.pendingLanes);a!==0&&(Ei(s,a|1),Tn(s,it()),(Xe&6)===0&&(Ro=it()+500,ki()))}break;case 13:Cs(function(){var c=Yr(n,1);if(c!==null){var d=mn();pr(c,n,1,d)}}),gd(n,1)}},Xs=function(n){if(n.tag===13){var s=Yr(n,134217728);if(s!==null){var a=mn();pr(s,n,134217728,a)}gd(n,134217728)}},xl=function(n){if(n.tag===13){var s=Li(n),a=Yr(n,s);if(a!==null){var c=mn();pr(a,n,s,c)}gd(n,s)}},Nl=function(){return We},Dl=function(n,s){var a=We;try{return We=n,s()}finally{We=a}},Zn=function(n,s,a){switch(s){case"input":if(as(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=Xl(c);if(!d)throw Error(t(90));vr(c),as(c,d)}}}break;case"textarea":Br(n,a);break;case"select":s=a.value,s!=null&&Pn(n,!!a.multiple,s,!1)}},cn=ud,er=Cs;var nT={usingClientEntryPoint:!1,Events:[Ia,fo,Xl,nt,Ct,ud]},Ma={findFiberByHostInstance:vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rT={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ia(n),n===null?null:n.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||eT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{ds=Ou.inject(rT),kn=Ou}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT,In.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(s))throw Error(t(200));return Zw(n,s,null,a)},In.createRoot=function(n,s){if(!_d(n))throw Error(t(299));var a=!1,c="",d=pg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=md(n,1,!1,null,null,a,!1,c,d),n[Gr]=s.current,Ea(n.nodeType===8?n.parentNode:n),new yd(s)},In.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ia(s),n=n===null?null:n.stateNode,n},In.flushSync=function(n){return Cs(n)},In.hydrate=function(n,s,a){if(!Du(s))throw Error(t(200));return bu(null,n,s,!0,a)},In.hydrateRoot=function(n,s,a){if(!_d(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",v=pg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=dg(s,null,n,1,a??null,d,!1,g,v),n[Gr]=s.current,Ea(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Nu(s)},In.render=function(n,s,a){if(!Du(s))throw Error(t(200));return bu(null,n,s,!1,a)},In.unmountComponentAtNode=function(n){if(!Du(n))throw Error(t(40));return n._reactRootContainer?(Cs(function(){bu(null,null,n,!1,function(){n._reactRootContainer=null,n[Gr]=null})}),!0):!1},In.unstable_batchedUpdates=ud,In.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Du(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return bu(n,s,a,!1,c)},In.version="18.2.0-next-9e3b772b8-20220608",In}var Ig;function dT(){if(Ig)return wd.exports;Ig=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=hT(),wd.exports}var Sg;function fT(){if(Sg)return Lu;Sg=1;var r=dT();return Lu.createRoot=r.createRoot,Lu.hydrateRoot=r.hydrateRoot,Lu}var pT=fT();const mT=f_(pT),p_=_t.createContext({}),m_=!0;function gT({baseColor:r,highlightColor:e,width:t,height:i,borderRadius:o,circle:l,direction:h,duration:f,enableAnimation:m=m_}){const y={};return h==="rtl"&&(y["--animation-direction"]="reverse"),typeof f=="number"&&(y["--animation-duration"]=`${f}s`),m||(y["--pseudo-element-display"]="none"),(typeof t=="string"||typeof t=="number")&&(y.width=t),(typeof i=="string"||typeof i=="number")&&(y.height=i),(typeof o=="string"||typeof o=="number")&&(y.borderRadius=o),l&&(y.borderRadius="50%"),typeof r<"u"&&(y["--base-color"]=r),typeof e<"u"&&(y["--highlight-color"]=e),y}function bo({count:r=1,wrapper:e,className:t,containerClassName:i,containerTestId:o,circle:l=!1,style:h,...f}){var m,y,E;const S=_t.useContext(p_),I={...f};for(const[oe,ae]of Object.entries(f))typeof ae>"u"&&delete I[oe];const N={...S,...I,circle:l},z={...h,...gT(N)};let j="react-loading-skeleton";t&&(j+=` ${t}`);const M=(m=N.inline)!==null&&m!==void 0?m:!1,te=[],ne=Math.ceil(r);for(let oe=0;oe<ne;oe++){let ae=z;if(ne>r&&oe===ne-1){const Pe=(y=ae.width)!==null&&y!==void 0?y:"100%",b=r%1,A=typeof Pe=="number"?Pe*b:`calc(${Pe} * ${b})`;ae={...ae,width:A}}const je=_t.createElement("span",{className:j,style:ae,key:oe},"");M?te.push(je):te.push(_t.createElement(_t.Fragment,{key:oe},je,_t.createElement("br",null)))}return _t.createElement("span",{className:i,"data-testid":o,"aria-live":"polite","aria-busy":(E=N.enableAnimation)!==null&&E!==void 0?E:m_},e?te.map((oe,ae)=>_t.createElement(e,{key:ae},oe)):te)}function yT({children:r,...e}){return _t.createElement(p_.Provider,{value:e},r)}const _T="modulepreload",vT=function(r,e){return new URL(r,e).href},Ag={},Jn=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){const h=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=Promise.allSettled(t.map(y=>{if(y=vT(y,i),y in Ag)return;Ag[y]=!0;const E=y.endsWith(".css"),S=E?'[rel="stylesheet"]':"";if(!!i)for(let z=h.length-1;z>=0;z--){const j=h[z];if(j.href===y&&(!E||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${S}`))return;const N=document.createElement("link");if(N.rel=E?"stylesheet":_T,E||(N.as="script"),N.crossOrigin="",N.href=y,m&&N.setAttribute("nonce",m),document.head.appendChild(N),E)return new Promise((z,j)=>{N.addEventListener("load",z),N.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return o.then(h=>{for(const f of h||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/**
 * @remix-run/router v1.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},tt.apply(this,arguments)}var St;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(St||(St={}));const Rg="popstate";function ET(r){r===void 0&&(r={});function e(o,l){let{pathname:h="/",search:f="",hash:m=""}=Ur(o.location.hash.substr(1));return Ja("",{pathname:h,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let m=o.location.href,y=m.indexOf("#");f=y===-1?m:m.slice(0,y)}return f+"#"+(typeof l=="string"?l:ai(l))}function i(o,l){g_(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return TT(e,t,i,r)}function Me(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function g_(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substr(2,8)}function Cg(r,e){return{usr:r.state,key:r.key,idx:e}}function Ja(r,e,t,i){return t===void 0&&(t=null),tt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Ur(e):e,{state:t,key:e&&e.key||i||wT()})}function ai(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ur(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function TT(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=St.Pop,m=null,y=E();y==null&&(y=0,h.replaceState(tt({},h.state,{idx:y}),""));function E(){return(h.state||{idx:null}).idx}function S(){let M=St.Pop,te=E();if(te!=null){let ne=te-y;f=M,y=te,m&&m({action:f,location:j.location,delta:ne})}else g_(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function I(M,te){f=St.Push;let ne=Ja(j.location,M,te);t&&t(ne,M),y=E()+1;let oe=Cg(ne,y),ae=j.createHref(ne);try{h.pushState(oe,"",ae)}catch{o.location.assign(ae)}l&&m&&m({action:f,location:j.location,delta:1})}function N(M,te){f=St.Replace;let ne=Ja(j.location,M,te);t&&t(ne,M),y=E();let oe=Cg(ne,y),ae=j.createHref(ne);h.replaceState(oe,"",ae),l&&m&&m({action:f,location:j.location,delta:0})}function z(M){let te=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof M=="string"?M:ai(M);return Me(te,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,te)}let j={get action(){return f},get location(){return r(o,h)},listen(M){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Rg,S),m=M,()=>{o.removeEventListener(Rg,S),m=null}},createHref(M){return e(o,M)},createURL:z,encodeLocation(M){let te=z(M);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:I,replace:N,go(M){return h.go(M)}};return j}var Qt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Qt||(Qt={}));function IT(r){return r.index===!0}function y_(r,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),r.map((i,o)=>{let l=[...e,o],h=typeof i.id=="string"?i.id:l.join("-");return Me(i.index!==!0||!i.children,"Cannot specify children on an index route"),Me(!t.has(h),'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),t.add(h),IT(i)?tt({},i,{id:h}):tt({},i,{id:h,children:i.children?y_(i.children,l,t):void 0})})}function Ba(r,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Ur(e):e,o=E_(i.pathname||"/",t);if(o==null)return null;let l=__(r);ST(l);let h=null;for(let f=0;h==null&&f<l.length;++f)h=bT(l[f],VT(o));return h}function __(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(Me(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let y=oi([i,m.relativePath]),E=t.concat(m);l.children&&l.children.length>0&&(Me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),__(l.children,e,E,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:NT(y,l.index),routesMeta:E})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let m of v_(l.path))o(l,h,m)}),e}function v_(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=v_(i.join("/")),f=[];return f.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...h),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function ST(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:DT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const AT=/^:\w+$/,RT=3,CT=2,PT=1,kT=10,xT=-2,Pg=r=>r==="*";function NT(r,e){let t=r.split("/"),i=t.length;return t.some(Pg)&&(i+=xT),e&&(i+=CT),t.filter(o=>!Pg(o)).reduce((o,l)=>o+(AT.test(l)?RT:l===""?PT:kT),i)}function DT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function bT(r,e){let{routesMeta:t}=r,i={},o="/",l=[];for(let h=0;h<t.length;++h){let f=t[h],m=h===t.length-1,y=o==="/"?e:e.slice(o.length)||"/",E=OT({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y);if(!E)return null;Object.assign(i,E.params);let S=f.route;l.push({params:i,pathname:oi([o,E.pathname]),pathnameBase:UT(oi([o,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(o=oi([o,E.pathnameBase]))}return l}function OT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=LT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,E,S)=>{if(E==="*"){let I=f[S]||"";h=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}return y[E]=MT(f[S]||"",E),y},{}),pathname:l,pathnameBase:h,pattern:r}}function LT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),wc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,f)=>(i.push(f),"/([^\\/]+)"));return r.endsWith("*")?(i.push("*"),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function VT(r){try{return decodeURI(r)}catch(e){return wc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function MT(r,e){try{return decodeURIComponent(r)}catch(t){return wc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function E_(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function wc(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jT(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Ur(r):r;return{pathname:t?t.startsWith("/")?t:FT(t,e):e,search:BT(i),hash:zT(o)}}function FT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sd(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tc(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ff(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Ur(r):(o=tt({},r),Me(!o.pathname||!o.pathname.includes("?"),Sd("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),Sd("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),Sd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(i||h==null)f=t;else{let S=e.length-1;if(h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}f=S>=0?e[S]:"/"}let m=jT(o,f),y=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}const oi=r=>r.join("/").replace(/\/\/+/g,"/"),UT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class kg extends Error{}class $T{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Me(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let i;this.abortPromise=new Promise((l,h)=>i=h),this.controller=new AbortController;let o=()=>i(new kg("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",o),this.controller.signal.addEventListener("abort",o),this.data=Object.entries(e).reduce((l,h)=>{let[f,m]=h;return Object.assign(l,{[f]:this.trackPromise(f,m)})},{}),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let i=Promise.race([t,this.abortPromise]).then(o=>this.onSettle(i,e,null,o),o=>this.onSettle(i,e,o));return i.catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),i}onSettle(e,t,i,o){return this.controller.signal.aborted&&i instanceof kg?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>i}),Promise.reject(i)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),i?(Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)):(Object.defineProperty(e,"_data",{get:()=>o}),this.emit(!1,t),o))}emit(e,t){this.subscribers.forEach(i=>i(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let i=()=>this.cancel();e.addEventListener("abort",i),t=await new Promise(o=>{this.subscribe(l=>{e.removeEventListener("abort",i),(l||this.done)&&o(l)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Me(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[i,o]=t;return Object.assign(e,{[i]:WT(o)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function HT(r){return r instanceof Promise&&r._tracked===!0}function WT(r){if(!HT(r))return r;if(r._error)throw r._error;return r._data}class Ic{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function w_(r){return r instanceof Ic}const T_=["post","put","patch","delete"],qT=new Set(T_),KT=["get",...T_],GT=new Set(KT),QT=new Set([301,302,303,307,308]),XT=new Set([307,308]),Ad={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},JT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},xg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},I_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YT=!I_;function ZT(r){Me(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=y_(r.routes),t=null,i=new Set,o=null,l=null,h=null,f=r.hydrationData!=null,m=Ba(e,r.history.location,r.basename),y=null;if(m==null){let q=ni(404,{pathname:r.history.location.pathname}),{matches:W,route:G}=Vg(e);m=W,y={[G.id]:q}}let E=!m.some(q=>q.route.loader)||r.hydrationData!=null,S,I={historyAction:r.history.action,location:r.history.location,matches:m,initialized:E,navigation:Ad,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||y,fetchers:new Map,blockers:new Map},N=St.Pop,z=!1,j,M=!1,te=!1,ne=[],oe=[],ae=new Map,je=0,Pe=-1,b=new Map,A=new Set,P=new Map,D=new Map,L=null,V=new Map,C=!1;function dt(){return t=r.history.listen(q=>{let{action:W,location:G,delta:fe}=q;if(C){C=!1;return}let le=Un({currentLocation:I.location,nextLocation:G,historyAction:W});if(le){C=!0,r.history.go(fe*-1),Yn(le,{state:"blocked",location:G,proceed(){Yn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),r.history.go(fe)},reset(){wr(le),Ne({blockers:new Map(S.state.blockers)})}});return}return K(W,G)}),I.initialized||K(St.Pop,I.location),S}function Lt(){t&&t(),i.clear(),j&&j.abort(),I.fetchers.forEach((q,W)=>vr(W)),I.blockers.forEach((q,W)=>wr(W))}function Vt(q){return i.add(q),()=>i.delete(q)}function Ne(q){I=tt({},I,q),i.forEach(W=>W(I))}function ie(q,W){var G,fe;let le=I.actionData!=null&&I.navigation.formMethod!=null&&Ui(I.navigation.formMethod)&&I.navigation.state==="loading"&&((G=q.state)==null?void 0:G._isRedirect)!==!0,Te;W.actionData?Object.keys(W.actionData).length>0?Te=W.actionData:Te=null:le?Te=I.actionData:Te=null;let Ee=W.loaderData?Lg(I.loaderData,W.loaderData,W.matches||[],W.errors):I.loaderData;for(let[Ie]of V)wr(Ie);let Ve=z===!0||I.navigation.formMethod!=null&&Ui(I.navigation.formMethod)&&((fe=q.state)==null?void 0:fe._isRedirect)!==!0;Ne(tt({},W,{actionData:Te,loaderData:Ee,historyAction:N,location:q,initialized:!0,navigation:Ad,revalidation:"idle",restoreScrollPosition:Br(q,W.matches||I.matches),preventScrollReset:Ve,blockers:new Map(I.blockers)})),M||N===St.Pop||(N===St.Push?r.history.push(q,q.state):N===St.Replace&&r.history.replace(q,q.state)),N=St.Pop,z=!1,M=!1,te=!1,ne=[],oe=[]}async function ye(q,W){if(typeof q=="number"){r.history.go(q);return}let{path:G,submission:fe,error:le}=Ng(q,W),Te=I.location,Ee=Ja(I.location,G,W&&W.state);Ee=tt({},Ee,r.history.encodeLocation(Ee));let Ve=W&&W.replace!=null?W.replace:void 0,Ie=St.Push;Ve===!0?Ie=St.Replace:Ve===!1||fe!=null&&Ui(fe.formMethod)&&fe.formAction===I.location.pathname+I.location.search&&(Ie=St.Replace);let ot=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Le=Un({currentLocation:Te,nextLocation:Ee,historyAction:Ie});if(Le){Yn(Le,{state:"blocked",location:Ee,proceed(){Yn(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),ye(q,W)},reset(){wr(Le),Ne({blockers:new Map(I.blockers)})}});return}return await K(Ie,Ee,{submission:fe,pendingError:le,preventScrollReset:ot,replace:W&&W.replace})}function k(){if(_r(),Ne({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){K(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}K(N||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation})}}async function K(q,W,G){j&&j.abort(),j=null,N=q,M=(G&&G.startUninterruptedRevalidation)===!0,mi(I.location,I.matches),z=(G&&G.preventScrollReset)===!0;let fe=G&&G.overrideNavigation,le=Ba(e,W,r.basename);if(!le){let Ye=ni(404,{pathname:W.pathname}),{matches:zt,route:Rt}=Vg(e);Pn(),ie(W,{matches:zt,loaderData:{},errors:{[Rt.id]:Ye}});return}if(iI(I.location,W)){ie(W,{matches:le});return}j=new AbortController;let Te=Ua(r.history,W,j.signal,G&&G.submission),Ee,Ve;if(G&&G.pendingError)Ve={[Do(le).route.id]:G.pendingError};else if(G&&G.submission&&Ui(G.submission.formMethod)){let Ye=await he(Te,W,G.submission,le,{replace:G.replace});if(Ye.shortCircuited)return;Ee=Ye.pendingActionData,Ve=Ye.pendingActionError,fe=tt({state:"loading",location:W},G.submission),Te=new Request(Te.url,{signal:Te.signal})}let{shortCircuited:Ie,loaderData:ot,errors:Le}=await ve(Te,W,le,fe,G&&G.submission,G&&G.replace,Ee,Ve);Ie||(j=null,ie(W,tt({matches:le},Ee?{actionData:Ee}:{},{loaderData:ot,errors:Le})))}async function he(q,W,G,fe,le){_r();let Te=tt({state:"submitting",location:W},G);Ne({navigation:Te});let Ee,Ve=Ug(fe,W);if(!Ve.route.action)Ee={type:Qt.error,error:ni(405,{method:q.method,pathname:W.pathname,routeId:Ve.route.id})};else if(Ee=await Fa("action",q,Ve,fe,S.basename),q.signal.aborted)return{shortCircuited:!0};if(Oo(Ee)){let Ie;return le&&le.replace!=null?Ie=le.replace:Ie=Ee.location===I.location.pathname+I.location.search,await Fe(I,Ee,{submission:G,replace:Ie}),{shortCircuited:!0}}if(Wa(Ee)){let Ie=Do(fe,Ve.route.id);return(le&&le.replace)!==!0&&(N=St.Push),{pendingActionData:{},pendingActionError:{[Ie.route.id]:Ee.error}}}if(bs(Ee))throw ni(400,{type:"defer-action"});return{pendingActionData:{[Ve.route.id]:Ee.data}}}async function ve(q,W,G,fe,le,Te,Ee,Ve){let Ie=fe;Ie||(Ie=tt({state:"loading",location:W,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},le));let ot=le||(Ie.formMethod&&Ie.formAction&&Ie.formData&&Ie.formEncType?{formMethod:Ie.formMethod,formAction:Ie.formAction,formData:Ie.formData,formEncType:Ie.formEncType}:void 0),[Le,Ye]=Dg(r.history,I,G,ot,W,te,ne,oe,Ee,Ve,P);if(Pn(nt=>!(G&&G.some(Ct=>Ct.route.id===nt))||Le&&Le.some(Ct=>Ct.route.id===nt)),Le.length===0&&Ye.length===0)return ie(W,tt({matches:G,loaderData:{},errors:Ve||null},Ee?{actionData:Ee}:{})),{shortCircuited:!0};if(!M){Ye.forEach(Ct=>{let[cn]=Ct,er=I.fetchers.get(cn),hn={state:"loading",data:er&&er.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(cn,hn)});let nt=Ee||I.actionData;Ne(tt({navigation:Ie},nt?Object.keys(nt).length===0?{actionData:null}:{actionData:nt}:{},Ye.length>0?{fetchers:new Map(I.fetchers)}:{}))}Pe=++je,Ye.forEach(nt=>{let[Ct]=nt;return ae.set(Ct,j)});let{results:zt,loaderResults:Rt,fetcherResults:Bn}=await At(I.matches,G,Le,Ye,q);if(q.signal.aborted)return{shortCircuited:!0};Ye.forEach(nt=>{let[Ct]=nt;return ae.delete(Ct)});let Zn=Mg(zt);if(Zn)return await Fe(I,Zn,{replace:Te}),{shortCircuited:!0};let{loaderData:$t,errors:Ht}=Og(I,G,Le,Rt,Ve,Ye,Bn,D);D.forEach((nt,Ct)=>{nt.subscribe(cn=>{(cn||nt.done)&&D.delete(Ct)})}),fi();let Tr=pi(Pe);return tt({loaderData:$t,errors:Ht},Tr||Ye.length>0?{fetchers:new Map(I.fetchers)}:{})}function Oe(q){return I.fetchers.get(q)||JT}function qe(q,W,G,fe){if(YT)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ae.has(q)&&Cn(q);let le=Ba(e,G,r.basename);if(!le){Rn(q,W,ni(404,{pathname:G}));return}let{path:Te,submission:Ee}=Ng(G,fe,!0),Ve=Ug(le,Te);if(Ee&&Ui(Ee.formMethod)){He(q,W,Te,Ve,le,Ee);return}P.set(q,[Te,Ve,le]),Ke(q,W,Te,Ve,le,Ee)}async function He(q,W,G,fe,le,Te){if(_r(),P.delete(q),!fe.route.action){let Zt=ni(405,{method:Te.formMethod,pathname:G,routeId:W});Rn(q,W,Zt);return}let Ee=I.fetchers.get(q),Ve=tt({state:"submitting"},Te,{data:Ee&&Ee.data," _hasFetcherDoneAnything ":!0});I.fetchers.set(q,Ve),Ne({fetchers:new Map(I.fetchers)});let Ie=new AbortController,ot=Ua(r.history,G,Ie.signal,Te);ae.set(q,Ie);let Le=await Fa("action",ot,fe,le,S.basename);if(ot.signal.aborted){ae.get(q)===Ie&&ae.delete(q);return}if(Oo(Le)){ae.delete(q),A.add(q);let Zt=tt({state:"loading"},Te,{data:void 0," _hasFetcherDoneAnything ":!0});return I.fetchers.set(q,Zt),Ne({fetchers:new Map(I.fetchers)}),Fe(I,Le,{isFetchActionRedirect:!0})}if(Wa(Le)){Rn(q,W,Le.error);return}if(bs(Le))throw ni(400,{type:"defer-action"});let Ye=I.navigation.location||I.location,zt=Ua(r.history,Ye,Ie.signal),Rt=I.navigation.state!=="idle"?Ba(e,I.navigation.location,r.basename):I.matches;Me(Rt,"Didn't find any matches after fetcher action");let Bn=++je;b.set(q,Bn);let Zn=tt({state:"loading",data:Le.data},Te,{" _hasFetcherDoneAnything ":!0});I.fetchers.set(q,Zn);let[$t,Ht]=Dg(r.history,I,Rt,Te,Ye,te,ne,oe,{[fe.route.id]:Le.data},void 0,P);Ht.filter(Zt=>{let[Pt]=Zt;return Pt!==q}).forEach(Zt=>{let[Pt]=Zt,Ir=I.fetchers.get(Pt),zr={state:"loading",data:Ir&&Ir.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(Pt,zr),ae.set(Pt,Ie)}),Ne({fetchers:new Map(I.fetchers)});let{results:Tr,loaderResults:nt,fetcherResults:Ct}=await At(I.matches,Rt,$t,Ht,zt);if(Ie.signal.aborted)return;b.delete(q),ae.delete(q),Ht.forEach(Zt=>{let[Pt]=Zt;return ae.delete(Pt)});let cn=Mg(Tr);if(cn)return Fe(I,cn);let{loaderData:er,errors:hn}=Og(I,I.matches,$t,nt,void 0,Ht,Ct,D),us={state:"idle",data:Le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(q,us);let ft=pi(Bn);I.navigation.state==="loading"&&Bn>Pe?(Me(N,"Expected pending action"),j&&j.abort(),ie(I.navigation.location,{matches:Rt,loaderData:er,errors:hn,fetchers:new Map(I.fetchers)})):(Ne(tt({errors:hn,loaderData:Lg(I.loaderData,er,Rt,hn)},ft?{fetchers:new Map(I.fetchers)}:{})),te=!1)}async function Ke(q,W,G,fe,le,Te){let Ee=I.fetchers.get(q),Ve=tt({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Te,{data:Ee&&Ee.data," _hasFetcherDoneAnything ":!0});I.fetchers.set(q,Ve),Ne({fetchers:new Map(I.fetchers)});let Ie=new AbortController,ot=Ua(r.history,G,Ie.signal);ae.set(q,Ie);let Le=await Fa("loader",ot,fe,le,S.basename);if(bs(Le)&&(Le=await C_(Le,ot.signal,!0)||Le),ae.get(q)===Ie&&ae.delete(q),ot.signal.aborted)return;if(Oo(Le)){await Fe(I,Le);return}if(Wa(Le)){let zt=Do(I.matches,W);I.fetchers.delete(q),Ne({fetchers:new Map(I.fetchers),errors:{[zt.route.id]:Le.error}});return}Me(!bs(Le),"Unhandled fetcher deferred data");let Ye={state:"idle",data:Le.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(q,Ye),Ne({fetchers:new Map(I.fetchers)})}async function Fe(q,W,G){var fe;let{submission:le,replace:Te,isFetchActionRedirect:Ee}=G===void 0?{}:G;W.revalidate&&(te=!0);let Ve=Ja(q.location,W.location,tt({_isRedirect:!0},Ee?{_isFetchActionRedirect:!0}:{}));if(Me(Ve,"Expected a location on the redirect navigation"),I_&&typeof((fe=window)==null?void 0:fe.location)<"u"){let Rt=r.history.createURL(W.location).origin;if(window.location.origin!==Rt){Te?window.location.replace(W.location):window.location.assign(W.location);return}}j=null;let Ie=Te===!0?St.Replace:St.Push,{formMethod:ot,formAction:Le,formEncType:Ye,formData:zt}=q.navigation;!le&&ot&&Le&&zt&&Ye&&(le={formMethod:ot,formAction:Le,formEncType:Ye,formData:zt}),XT.has(W.status)&&le&&Ui(le.formMethod)?await K(Ie,Ve,{submission:tt({},le,{formAction:W.location}),preventScrollReset:z}):await K(Ie,Ve,{overrideNavigation:{state:"loading",location:Ve,formMethod:le?le.formMethod:void 0,formAction:le?le.formAction:void 0,formEncType:le?le.formEncType:void 0,formData:le?le.formData:void 0},preventScrollReset:z})}async function At(q,W,G,fe,le){let Te=await Promise.all([...G.map(Ie=>Fa("loader",le,Ie,W,S.basename)),...fe.map(Ie=>{let[,ot,Le,Ye]=Ie;return Fa("loader",Ua(r.history,ot,le.signal),Le,Ye,S.basename)})]),Ee=Te.slice(0,G.length),Ve=Te.slice(G.length);return await Promise.all([jg(q,G,Ee,le.signal,!1,I.loaderData),jg(q,fe.map(Ie=>{let[,,ot]=Ie;return ot}),Ve,le.signal,!0)]),{results:Te,loaderResults:Ee,fetcherResults:Ve}}function _r(){te=!0,ne.push(...Pn()),P.forEach((q,W)=>{ae.has(W)&&(oe.push(W),Cn(W))})}function Rn(q,W,G){let fe=Do(I.matches,W);vr(q),Ne({errors:{[fe.route.id]:G},fetchers:new Map(I.fetchers)})}function vr(q){ae.has(q)&&Cn(q),P.delete(q),b.delete(q),A.delete(q),I.fetchers.delete(q)}function Cn(q){let W=ae.get(q);Me(W,"Expected fetch controller: "+q),W.abort(),ae.delete(q)}function Er(q){for(let W of q){let fe={state:"idle",data:Oe(W).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};I.fetchers.set(W,fe)}}function fi(){let q=[];for(let W of A){let G=I.fetchers.get(W);Me(G,"Expected fetcher: "+W),G.state==="loading"&&(A.delete(W),q.push(W))}Er(q)}function pi(q){let W=[];for(let[G,fe]of b)if(fe<q){let le=I.fetchers.get(G);Me(le,"Expected fetcher: "+G),le.state==="loading"&&(Cn(G),b.delete(G),W.push(G))}return Er(W),W.length>0}function as(q,W){let G=I.blockers.get(q)||xg;return V.get(q)!==W&&(V.set(q,W),L==null?L=q:q!==L&&wc(!1,"A router only supports one blocker at a time")),G}function wr(q){I.blockers.delete(q),V.delete(q),L===q&&(L=null)}function Yn(q,W){let G=I.blockers.get(q)||xg;Me(G.state==="unblocked"&&W.state==="blocked"||G.state==="blocked"&&W.state==="blocked"||G.state==="blocked"&&W.state==="proceeding"||G.state==="blocked"&&W.state==="unblocked"||G.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+W.state),I.blockers.set(q,W),Ne({blockers:new Map(I.blockers)})}function Un(q){let{currentLocation:W,nextLocation:G,historyAction:fe}=q;if(L==null)return;let le=V.get(L);Me(le,"Could not find a function for the active blocker");let Te=I.blockers.get(L);if(!(Te&&Te.state==="proceeding")&&le({currentLocation:W,nextLocation:G,historyAction:fe}))return L}function Pn(q){let W=[];return D.forEach((G,fe)=>{(!q||q(fe))&&(G.cancel(),W.push(fe),D.delete(fe))}),W}function ls(q,W,G){if(o=q,h=W,l=G||(fe=>fe.key),!f&&I.navigation===Ad){f=!0;let fe=Br(I.location,I.matches);fe!=null&&Ne({restoreScrollPosition:fe})}return()=>{o=null,h=null,l=null}}function mi(q,W){if(o&&l&&h){let G=W.map(le=>Fg(le,I.loaderData)),fe=l(q,G)||q.key;o[fe]=h()}}function Br(q,W){if(o&&l&&h){let G=W.map(Te=>Fg(Te,I.loaderData)),fe=l(q,G)||q.key,le=o[fe];if(typeof le=="number")return le}return null}return S={get basename(){return r.basename},get state(){return I},get routes(){return e},initialize:dt,subscribe:Vt,enableScrollRestoration:ls,navigate:ye,fetch:qe,revalidate:k,createHref:q=>r.history.createHref(q),encodeLocation:q=>r.history.encodeLocation(q),getFetcher:Oe,deleteFetcher:vr,dispose:Lt,getBlocker:as,deleteBlocker:wr,_internalFetchControllers:ae,_internalActiveDeferreds:D},S}function eI(r){return r!=null&&"formData"in r}function Ng(r,e,t){t===void 0&&(t=!1);let i=typeof r=="string"?r:ai(r);if(!e||!eI(e))return{path:i};if(e.formMethod&&!oI(e.formMethod))return{path:i,error:ni(405,{method:e.formMethod})};let o;if(e.formData&&(o={formMethod:e.formMethod||"get",formAction:R_(i),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Ui(o.formMethod)))return{path:i,submission:o};let l=Ur(i);try{let h=A_(e.formData);t&&l.search&&P_(l.search)&&h.append("index",""),l.search="?"+h}catch{return{path:i,error:ni(400)}}return{path:ai(l),submission:o}}function tI(r,e){let t=r;if(e){let i=r.findIndex(o=>o.route.id===e);i>=0&&(t=r.slice(0,i))}return t}function Dg(r,e,t,i,o,l,h,f,m,y,E){let S=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,I=y?Object.keys(y)[0]:void 0,z=tI(t,I).filter((M,te)=>M.route.loader!=null&&(nI(e.loaderData,e.matches[te],M)||h.some(ne=>ne===M.route.id)||bg(r,e.location,e.matches[te],i,o,M,l,S))),j=[];return E&&E.forEach((M,te)=>{let[ne,oe,ae]=M;f.includes(te)?j.push([te,ne,oe,ae]):l&&bg(r,ne,oe,i,ne,oe,l,S)&&j.push([te,ne,oe,ae])}),[z,j]}function nI(r,e,t){let i=!e||t.route.id!==e.route.id,o=r[t.route.id]===void 0;return i||o}function S_(r,e){let t=r.route.path;return r.pathname!==e.pathname||t&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function bg(r,e,t,i,o,l,h,f){let m=r.createURL(e),y=t.params,E=r.createURL(o),S=l.params,I=S_(t,l)||m.toString()===E.toString()||m.search!==E.search||h;if(l.route.shouldRevalidate){let N=l.route.shouldRevalidate(tt({currentUrl:m,currentParams:y,nextUrl:E,nextParams:S},i,{actionResult:f,defaultShouldRevalidate:I}));if(typeof N=="boolean")return N}return I}async function Fa(r,e,t,i,o,l,h,f){o===void 0&&(o="/"),l===void 0&&(l=!1),h===void 0&&(h=!1);let m,y,E,S=new Promise((N,z)=>E=z),I=()=>E();e.signal.addEventListener("abort",I);try{let N=t.route[r];Me(N,"Could not find the "+r+' to run on the "'+t.route.id+'" route'),y=await Promise.race([N({request:e,params:t.params,context:f}),S]),Me(y!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(N){m=Qt.error,y=N}finally{e.signal.removeEventListener("abort",I)}if(sI(y)){let N=y.status;if(QT.has(N)){let M=y.headers.get("Location");if(Me(M,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(M)){if(!l){let ne=new URL(e.url),oe=M.startsWith("//")?new URL(ne.protocol+M):new URL(M);oe.origin===ne.origin&&(M=oe.pathname+oe.search+oe.hash)}}else{let ne=i.slice(0,i.indexOf(t)+1),oe=Tc(ne).map(je=>je.pathnameBase),ae=ff(M,oe,new URL(e.url).pathname);if(Me(ai(ae),"Unable to resolve redirect location: "+M),o){let je=ae.pathname;ae.pathname=je==="/"?o:oi([o,je])}M=ai(ae)}if(l)throw y.headers.set("Location",M),y;return{type:Qt.redirect,status:N,location:M,revalidate:y.headers.get("X-Remix-Revalidate")!==null}}if(h)throw{type:m||Qt.data,response:y};let z,j=y.headers.get("Content-Type");return j&&/\bapplication\/json\b/.test(j)?z=await y.json():z=await y.text(),m===Qt.error?{type:m,error:new Ic(N,y.statusText,z),headers:y.headers}:{type:Qt.data,data:z,statusCode:y.status,headers:y.headers}}return m===Qt.error?{type:m,error:y}:y instanceof $T?{type:Qt.deferred,deferredData:y}:{type:Qt.data,data:y}}function Ua(r,e,t,i){let o=r.createURL(R_(e)).toString(),l={signal:t};if(i&&Ui(i.formMethod)){let{formMethod:h,formEncType:f,formData:m}=i;l.method=h.toUpperCase(),l.body=f==="application/x-www-form-urlencoded"?A_(m):m}return new Request(o,l)}function A_(r){let e=new URLSearchParams;for(let[t,i]of r.entries())Me(typeof i=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,i);return e}function rI(r,e,t,i,o){let l={},h=null,f,m=!1,y={};return t.forEach((E,S)=>{let I=e[S].route.id;if(Me(!Oo(E),"Cannot handle redirect results in processLoaderData"),Wa(E)){let N=Do(r,I),z=E.error;i&&(z=Object.values(i)[0],i=void 0),h=h||{},h[N.route.id]==null&&(h[N.route.id]=z),l[I]=void 0,m||(m=!0,f=w_(E.error)?E.error.status:500),E.headers&&(y[I]=E.headers)}else bs(E)?(o.set(I,E.deferredData),l[I]=E.deferredData.data):l[I]=E.data,E.statusCode!=null&&E.statusCode!==200&&!m&&(f=E.statusCode),E.headers&&(y[I]=E.headers)}),i&&(h=i,l[Object.keys(i)[0]]=void 0),{loaderData:l,errors:h,statusCode:f||200,loaderHeaders:y}}function Og(r,e,t,i,o,l,h,f){let{loaderData:m,errors:y}=rI(e,t,i,o,f);for(let E=0;E<l.length;E++){let[S,,I]=l[E];Me(h!==void 0&&h[E]!==void 0,"Did not find corresponding fetcher result");let N=h[E];if(Wa(N)){let z=Do(r.matches,I.route.id);y&&y[z.route.id]||(y=tt({},y,{[z.route.id]:N.error})),r.fetchers.delete(S)}else if(Oo(N))Me(!1,"Unhandled fetcher revalidation redirect");else if(bs(N))Me(!1,"Unhandled fetcher deferred data");else{let z={state:"idle",data:N.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};r.fetchers.set(S,z)}}return{loaderData:m,errors:y}}function Lg(r,e,t,i){let o=tt({},e);for(let l of t){let h=l.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(o[h]=e[h]):r[h]!==void 0&&(o[h]=r[h]),i&&i.hasOwnProperty(h))break}return o}function Do(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function Vg(r){let e=r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ni(r,e){let{pathname:t,routeId:i,method:o,type:l}=e===void 0?{}:e,h="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(h="Bad Request",o&&t&&i?f="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?f="defer() is not supported in actions":f="Cannot submit binary form data using GET"):r===403?(h="Forbidden",f='Route "'+i+'" does not match URL "'+t+'"'):r===404?(h="Not Found",f='No route matches URL "'+t+'"'):r===405&&(h="Method Not Allowed",o&&t&&i?f="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(f='Invalid request method "'+o.toUpperCase()+'"')),new Ic(r||500,h,new Error(f),!0)}function Mg(r){for(let e=r.length-1;e>=0;e--){let t=r[e];if(Oo(t))return t}}function R_(r){let e=typeof r=="string"?Ur(r):r;return ai(tt({},e,{hash:""}))}function iI(r,e){return r.pathname===e.pathname&&r.search===e.search&&r.hash!==e.hash}function bs(r){return r.type===Qt.deferred}function Wa(r){return r.type===Qt.error}function Oo(r){return(r&&r.type)===Qt.redirect}function sI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function oI(r){return GT.has(r)}function Ui(r){return qT.has(r)}async function jg(r,e,t,i,o,l){for(let h=0;h<t.length;h++){let f=t[h],m=e[h],y=r.find(S=>S.route.id===m.route.id),E=y!=null&&!S_(y,m)&&(l&&l[m.route.id])!==void 0;bs(f)&&(o||E)&&await C_(f,i,o).then(S=>{S&&(t[h]=S||t[h])})}}async function C_(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Qt.data,data:r.deferredData.unwrappedData}}catch(o){return{type:Qt.error,error:o}}return{type:Qt.data,data:r.deferredData.data}}}function P_(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Fg(r,e){let{route:t,pathname:i,params:o}=r;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Ug(r,e){let t=typeof e=="string"?Ur(e).search:e.search;if(r[r.length-1].route.index&&P_(t||""))return r[r.length-1];let i=Tc(r);return i[i.length-1]}/**
 * React Router v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Zu.apply(this,arguments)}function aI(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}const lI=typeof Object.is=="function"?Object.is:aI,{useState:uI,useEffect:cI,useLayoutEffect:hI,useDebugValue:dI}=jd;function fI(r,e,t){const i=e(),[{inst:o},l]=uI({inst:{value:i,getSnapshot:e}});return hI(()=>{o.value=i,o.getSnapshot=e,Rd(o)&&l({inst:o})},[r,i,e]),cI(()=>(Rd(o)&&l({inst:o}),r(()=>{Rd(o)&&l({inst:o})})),[r]),dI(i),i}function Rd(r){const e=r.getSnapshot,t=r.value;try{const i=e();return!lI(t,i)}catch{return!0}}function pI(r,e,t){return e()}const mI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gI=!mI,yI=gI?pI:fI,_I="useSyncExternalStore"in jd?(r=>r.useSyncExternalStore)(jd):yI,pf=J.createContext(null),Sc=J.createContext(null),al=J.createContext(null),Ac=J.createContext(null),Bs=J.createContext({outlet:null,matches:[]}),k_=J.createContext(null);function vI(r,e){let{relative:t}=e===void 0?{}:e;ll()||Me(!1);let{basename:i,navigator:o}=J.useContext(al),{hash:l,pathname:h,search:f}=mf(r,{relative:t}),m=h;return i!=="/"&&(m=h==="/"?i:oi([i,h])),o.createHref({pathname:m,search:f,hash:l})}function ll(){return J.useContext(Ac)!=null}function ul(){return ll()||Me(!1),J.useContext(Ac).location}function x_(){ll()||Me(!1);let{basename:r,navigator:e}=J.useContext(al),{matches:t}=J.useContext(Bs),{pathname:i}=ul(),o=JSON.stringify(Tc(t).map(f=>f.pathnameBase)),l=J.useRef(!1);return J.useEffect(()=>{l.current=!0}),J.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){e.go(f);return}let y=ff(f,JSON.parse(o),i,m.relative==="path");r!=="/"&&(y.pathname=y.pathname==="/"?r:oi([r,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[r,e,o,i])}const EI=J.createContext(null);function wI(r){let e=J.useContext(Bs).outlet;return e&&J.createElement(EI.Provider,{value:r},e)}function mf(r,e){let{relative:t}=e===void 0?{}:e,{matches:i}=J.useContext(Bs),{pathname:o}=ul(),l=JSON.stringify(Tc(i).map(h=>h.pathnameBase));return J.useMemo(()=>ff(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function TI(r,e){ll()||Me(!1);let{navigator:t}=J.useContext(al),i=J.useContext(Sc),{matches:o}=J.useContext(Bs),l=o[o.length-1],h=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=ul(),y;if(e){var E;let j=typeof e=="string"?Ur(e):e;f==="/"||(E=j.pathname)!=null&&E.startsWith(f)||Me(!1),y=j}else y=m;let S=y.pathname||"/",I=f==="/"?S:S.slice(f.length)||"/",N=Ba(r,{pathname:I}),z=RI(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:oi([f,t.encodeLocation?t.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:oi([f,t.encodeLocation?t.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,i||void 0);return e&&z?J.createElement(Ac.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:St.Pop}},z):z}function II(){let r=PI(),e=w_(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unhandled Thrown Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",J.createElement("code",{style:l},"errorElement")," props on",J.createElement("code",{style:l},"<Route>")))}class SI extends J.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?J.createElement(Bs.Provider,{value:this.props.routeContext},J.createElement(k_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AI(r){let{routeContext:e,match:t,children:i}=r,o=J.useContext(pf);return o&&o.static&&o.staticContext&&t.route.errorElement&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(Bs.Provider,{value:e},i)}function RI(r,e,t){if(e===void 0&&(e=[]),r==null)if(t!=null&&t.errors)r=t.matches;else return null;let i=r,o=t==null?void 0:t.errors;if(o!=null){let l=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id]));l>=0||Me(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,h,f)=>{let m=h.route.id?o==null?void 0:o[h.route.id]:null,y=t?h.route.errorElement||J.createElement(II,null):null,E=e.concat(i.slice(0,f+1)),S=()=>J.createElement(AI,{match:h,routeContext:{outlet:l,matches:E}},m?y:h.route.element!==void 0?h.route.element:l);return t&&(h.route.errorElement||f===0)?J.createElement(SI,{location:t.location,component:y,error:m,children:S(),routeContext:{outlet:null,matches:E}}):S()},null)}var Bg;(function(r){r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator"})(Bg||(Bg={}));var Fo;(function(r){r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator"})(Fo||(Fo={}));function N_(r){let e=J.useContext(Sc);return e||Me(!1),e}function CI(r){let e=J.useContext(Bs);return e||Me(!1),e}function D_(r){let e=CI(),t=e.matches[e.matches.length-1];return t.route.id||Me(!1),t.route.id}function gf(){let r=N_(Fo.UseLoaderData),e=D_(Fo.UseLoaderData);if(r.errors&&r.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return r.loaderData[e]}function PI(){var r;let e=J.useContext(k_),t=N_(Fo.UseRouteError),i=D_(Fo.UseRouteError);return e||((r=t.errors)==null?void 0:r[i])}function kI(r){let{fallbackElement:e,router:t}=r,i=_I(t.subscribe,()=>t.state,()=>t.state),o=J.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:h=>t.navigate(h),push:(h,f,m)=>t.navigate(h,{state:f,preventScrollReset:m==null?void 0:m.preventScrollReset}),replace:(h,f,m)=>t.navigate(h,{replace:!0,state:f,preventScrollReset:m==null?void 0:m.preventScrollReset})}),[t]),l=t.basename||"/";return J.createElement(J.Fragment,null,J.createElement(pf.Provider,{value:{router:t,navigator:o,static:!1,basename:l}},J.createElement(Sc.Provider,{value:i},J.createElement(xI,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:o},t.state.initialized?J.createElement(NI,null):e))),null)}function b1(r){return wI(r.context)}function Vn(r){Me(!1)}function xI(r){let{basename:e="/",children:t=null,location:i,navigationType:o=St.Pop,navigator:l,static:h=!1}=r;ll()&&Me(!1);let f=e.replace(/^\/*/,"/"),m=J.useMemo(()=>({basename:f,navigator:l,static:h}),[f,l,h]);typeof i=="string"&&(i=Ur(i));let{pathname:y="/",search:E="",hash:S="",state:I=null,key:N="default"}=i,z=J.useMemo(()=>{let j=E_(y,f);return j==null?null:{pathname:j,search:E,hash:S,state:I,key:N}},[f,y,E,S,I,N]);return z==null?null:J.createElement(al.Provider,{value:m},J.createElement(Ac.Provider,{children:t,value:{location:z,navigationType:o}}))}function NI(r){let{children:e,location:t}=r,i=J.useContext(pf),o=i&&!e?i.router.routes:ec(e);return TI(o,t)}var zg;(function(r){r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error"})(zg||(zg={}));new Promise(()=>{});function ec(r,e){e===void 0&&(e=[]);let t=[];return J.Children.forEach(r,(i,o)=>{if(!J.isValidElement(i))return;if(i.type===J.Fragment){t.push.apply(t,ec(i.props.children,e));return}i.type!==Vn&&Me(!1),!i.props.index||!i.props.children||Me(!1);let l=[...e,o],h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(h.children=ec(i.props.children,l)),t.push(h)}),t}function b_(r){return r.map(e=>{let t=Zu({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=b_(t.children)),t})}/**
 * React Router DOM v6.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ya.apply(this,arguments)}function O_(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function DI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bI(r,e){return r.button===0&&(!e||e==="_self")&&!DI(r)}const OI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],LI=["aria-current","caseSensitive","className","end","style","to","children"];function VI(r,e){return ZT({basename:void 0,history:ET({window:void 0}),hydrationData:MI(),routes:b_(r)}).initialize()}function MI(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=Ya({},e,{errors:jI(e.errors)})),e}function jI(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Ic(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){let l=new Error(o.message);l.stack="",t[i]=l}else t[i]=o;return t}const FI=J.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:m,to:y,preventScrollReset:E}=e,S=O_(e,OI),I=vI(y,{relative:o}),N=UI(y,{replace:h,state:f,target:m,preventScrollReset:E,relative:o});function z(j){i&&i(j),j.defaultPrevented||N(j)}return J.createElement("a",Ya({},S,{href:I,onClick:l?i:z,ref:t,target:m}))}),O1=J.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:o=!1,className:l="",end:h=!1,style:f,to:m,children:y}=e,E=O_(e,LI),S=mf(m,{relative:E.relative}),I=ul(),N=J.useContext(Sc),{navigator:z}=J.useContext(al),j=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,M=I.pathname,te=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(M=M.toLowerCase(),te=te?te.toLowerCase():null,j=j.toLowerCase());let ne=M===j||!h&&M.startsWith(j)&&M.charAt(j.length)==="/",oe=te!=null&&(te===j||!h&&te.startsWith(j)&&te.charAt(j.length)==="/"),ae=ne?i:void 0,je;typeof l=="function"?je=l({isActive:ne,isPending:oe}):je=[l,ne?"active":null,oe?"pending":null].filter(Boolean).join(" ");let Pe=typeof f=="function"?f({isActive:ne,isPending:oe}):f;return J.createElement(FI,Ya({},E,{"aria-current":ae,className:je,ref:t,style:Pe,to:m}),typeof y=="function"?y({isActive:ne,isPending:oe}):y)});var $g;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmitImpl="useSubmitImpl",r.UseFetcher="useFetcher"})($g||($g={}));var Hg;(function(r){r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Hg||(Hg={}));function UI(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h}=e===void 0?{}:e,f=x_(),m=ul(),y=mf(r,{relative:h});return J.useCallback(E=>{if(bI(E,t)){E.preventDefault();let S=i!==void 0?i:ai(m)===ai(y);f(r,{replace:S,state:o,preventScrollReset:l,relative:h})}},[m,f,y,i,o,t,r,l,h])}function BI(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=null;return J.useEffect(()=>{const t=o=>{let l=0;clearInterval(e),e=setInterval(()=>{o.target.innerText=o.target.innerText.split("").map((h,f)=>f<l?o.target.dataset.value[f]:o.target.dataset.value[f]===" "?" ":r[Math.floor(Math.random()*26)]).join(""),l>=o.target.dataset.value.length&&clearInterval(e),l+=.3333333333333333},25)},i=document.querySelector(".animated-intro-text");return i.addEventListener("mouseover",t),t({target:i}),()=>{clearInterval(e),i.removeEventListener("mouseover",t)}},[e,r]),w.jsxs("section",{className:"home-introduction-section",children:[w.jsx("div",{className:"home-introduction-section__title",children:w.jsx("h1",{className:"animated-intro-text","data-value":"Hi, I'm Abdelouahab",children:"Hi, I'm Abdelouahab"})}),w.jsxs("h2",{className:"home-introduction-section__subtitle",children:[" "," a Data Scientist & Software Engineer"]}),w.jsxs("a",{className:"home-introduction-section__button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/bellaabdelouahab",children:["Buy Me A Coffee ",w.jsx("span",{children:">"})," "]}),w.jsx("div",{className:"home-introduction-section__img",style:{backgroundImage:"url(./code.png)"}})]})}function zI({project:r}){const{title:e,description:t,image:i,githubLink:o,highlighted:l}=r,[h,f]=J.useState(!1);let m=t.slice(0,250);const y=m.lastIndexOf(" ");return m=m.slice(0,y),J.useEffect(()=>{const E=new Image;E.src=`${i}`,E.onload=()=>f(!0)},[i]),w.jsxs("div",{className:"home-projects-section__projects__project",style:{border:l==="star"?"4px solid #c39a3b":"none"},children:[w.jsx("div",{className:"home-projects-section__projects__project__img",style:{backgroundImage:h?`url(${i})`:"none",backgroundSize:"100.5% 100%"},children:!h&&w.jsx(bo,{height:"100%"})}),h?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"home-projects-section__projects__project__title",children:e}),w.jsxs("p",{className:"home-projects-section__projects__project__description",children:[m,"..."]})]}):w.jsxs("div",{children:[w.jsx(bo,{height:24,width:"60%",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(bo,{count:7})})]}),w.jsxs("div",{className:"home-projects-section__projects__project__buttons",children:[w.jsx("a",{className:"home-projects-section__projects__project__buttons__view",target:"_blank",rel:"noopener noreferrer",href:o,children:"View Project"}),l==="star"&&w.jsx("a",{className:"home-projects-section__projects__project__buttons__sponsor",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/bellaabdelouahab/",children:"1$/Sponsor"})]})]})}function $I({projectHighlight:r}){return w.jsxs("section",{className:"home-projects-section hidden-area",children:[w.jsx("h2",{className:"home-projects-section__title",children:" Projects Highlights"}),w.jsx("hr",{className:"home-projects-section__hr"}),w.jsx("div",{className:"home-projects-section__projects",children:r&&r.map(e=>w.jsx(zI,{project:e},e._id))})]})}function HI(){return w.jsxs("section",{className:"github-progress-section hidden-area",children:[w.jsxs("h2",{className:"home-sections-title",children:[w.jsx("span",{children:"03. "}),"Github Progress"]}),w.jsx("hr",{className:"github-progress-section__hr"}),w.jsx("div",{className:"github-progress-section__img"})]})}function WI(){const[r,e]=J.useState([{title:"S-maint Website [Smart Maintenance]",description:"Smart Maintenance is a Moroccan company that offersa wide range of services in the field of maintenance. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service. The website various features such as a blog, services, staff management, and digital resources management.",link:"https://s-maint.com",image:"./internshipes/smart-maint.jpg",technologies:["Angular","Spring Boot","Mongodb","Docker","Nginx","Plausible","SendGrid"]},{title:"NidInnovation Website",description:"Nid Innovation is a Moroccan company that offers a wide range of services in the field of innovation. The website is a platform that provides information about the company and its services, and it also allows users to contact the company for more information or to request a service.",link:"https://nidinnovation.com",image:"./internshipes/nidinnovation.png",technologies:["React","PHP","Node.js","Express","MongoDB","Docker","SendGrid"]},{title:"E-khsab: A Connected Cow Monitoring System [Agri4.0]",description:"Development of e-services to monitor in real-time the health status and well-being of cows, plan artificial inseminations, enhance herd reproduction, and implement a heat detection system within a core group of breeders, which will be extended to a larger number of breeders on a national scale.",link:"https://poledigital.ma/projets/projets-elevage-4-0/e-khsab",image:"./internshipes/agri4.0.png",technologies:["Spring Boot","JHipster","React","PostgreSQL","RabbitMQ","WebSockets","Arduino"]},{title:"CRJEA Website : Reference Center for Young Entrepreneurs [UM6P & CRJEA]",description:"The CRJEA is a reference center that offers tailored support to young project holders or newly created companies and cooperatives. in the field of agriculture. The website is a platform that provides a full tracking system for the projects and the project holders.",link:"http://crjea-rsk.com",image:"./internshipes/crjea.jpg",technologies:["Django","React","Bootstrap","MongoDB","Docker","Nginx"]},{title:"Desktop application for managing package sending for special clients",description:"During this internship, I created a desktop application using JavaFX as a UI library and Oracle as a database. The application is used to manage the sending of packages for special clients (Lawyers, Journalists, Writers). This application was created to make it easy for them to send packages instead of waiting in lines. The application is used by the post office employees.",image:"./internshipes/1200px-GBAM_LOGO.png",technologies:["JavaFX","Oracle - Cloud","XML","CSS","Python","SMTP"]},{title:"A Web Site For Envelope Database Management",description:"During this internship, I worked on a website for the management of the envelopes database. The workflow of the application is as follows: a customer brings a package or an envelope to the post office, the post office employee will register the envelope and scan its code, and the system will automatically generate a tracking number for the envelope which the customer will receive a receipt with.",image:"./internshipes/PosteMaroc.jpg",technologies:["HTML","CSS","JavaScript","Flask"]}]),t=J.useRef(null),[i,o]=J.useState(3),l=()=>{o(r.length)};return J.useEffect(()=>{const h=new IntersectionObserver(y=>{y.forEach(E=>{E.isIntersecting&&E.target.classList.add("is-visible")})},{root:null,rootMargin:"0px",threshold:.1}),f=t.current.querySelectorAll(".animatable");return f.forEach(y=>h.observe(y)),document.querySelectorAll(".internship-project").forEach((y,E)=>{const S=y.clientHeight;document.querySelectorAll(`.gradientLine-${E*2}, .gradientLine-${E*2+1}`).forEach(N=>N.style.height=`${S/2}px`)}),()=>f.forEach(y=>h.unobserve(y))},[i,r]),w.jsxs("section",{className:"internship-projects-section",ref:t,children:[w.jsx("div",{className:"experience",children:w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"04. "}),"Professional Experience"]})}),w.jsxs("div",{className:"internship-projects-section__projects",children:[r.slice(0,i).map((h,f)=>w.jsx(qI,{project:h},f)),w.jsx("div",{className:"lineAnimation",children:r.slice(0,i).map((h,f)=>w.jsxs("div",{className:"animatable",children:[w.jsx("div",{className:`gradientLine-start gradientLine-${f*2}`}),w.jsx("div",{className:"iconContainer",children:w.jsx("img",{src:"./icons/calendar.png",alt:"Calendar",width:"30"})}),w.jsx("div",{className:`gradientLine-end gradientLine-${f*2+1}`})]},f))}),i<r.length?w.jsx("div",{className:"show-more-button",children:w.jsxs("button",{onClick:l,children:["Show More (",r.length-i,")"]})}):w.jsx("div",{className:"show-more-button"})]})]})}function qI({project:r}){return w.jsxs("div",{className:"internship-project ",children:[w.jsx("div",{className:"internship-project__img",children:w.jsx("img",{src:r.image,alt:r.title})}),w.jsxs("div",{className:"internship-project__content",children:[w.jsx("h1",{children:r.title}),w.jsx("p",{children:r.description}),r.link&&w.jsxs("a",{href:r.link,target:"_blank",className:"internship-project__content__link",children:[w.jsx("img",{src:"./icons/site.png",alt:"Link icon",width:"20"}),"Link to website for more details"]}),w.jsx("ul",{className:"internship-project__content__list",children:r.technologies.map((e,t)=>w.jsx("li",{children:e},t))})]})]})}function KI(){return w.jsx("section",{className:"home-about-section",children:w.jsxs("div",{className:"hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"02. "}),"About Me"]}),w.jsxs("div",{className:"about-content",children:[w.jsxs("div",{className:"about-content-text",children:[w.jsxs("p",{children:["I am Bella Abdelouahab, an accomplished data scientist with ten months of extensive experience. My educational foundation encompasses robust training in decision-making, data science, computer systems engineering, and software development. Proficient in both web development and machine learning, I am deeply passionate about my profession. I actively pursue new challenges to enhance my skills and expand my expertise.",w.jsx("br",{}),"In addition to my technical proficiency, I excel as a communicator and thrive in collaborative team environments, dedicated to achieving shared objectives."]}),w.jsx("span",{className:"about-content-skills_title",children:"Skills:"}),w.jsx("div",{className:"about-skills-list",children:w.jsxs("ul",{children:[w.jsx("li",{children:"Python(advanced), Java(advanced), C, C++"}),w.jsx("li",{children:"Machine learning/deep learning"}),w.jsx("li",{children:"Oracle SQL/PLSQL"}),w.jsx("li",{children:"MongoDB"}),w.jsx("li",{children:"Back-end (Django-Node-SpringBoot)"}),w.jsx("li",{children:"Front-end (ReactJS, NextJs, ViewJs)"}),w.jsx("li",{children:"JavaFX & Swing"}),w.jsx("li",{children:"Tkinter & Pyglet"}),w.jsx("li",{children:"Microsoft Power BI"}),w.jsx("li",{children:"Data warehousing"})]})})]}),w.jsx("div",{className:"about-content-image",children:w.jsx("div",{id:"about-content-img_flow",style:{backgroundImage:"url('./Personal Picture.jpg')"}})})]})]})})}function GI(){return w.jsxs("div",{className:"get-in-touch hidden-area",style:{backgroundColor:"#1e1e1e"},children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"08. "}),"Get in Touch"]}),w.jsx("p",{className:"get-in-touch-content",children:"I am actively seeking new career opportunities and my inbox is open for potential job offers. Feel free to reach out with any relevant job opportunities or to connect for potential future collaborations. I look forward to hearing from you!"}),w.jsx("div",{className:"get-in-touch-btn",children:w.jsx("a",{href:"mailto:",children:w.jsx("button",{style:{marginBottom:"5rem"},children:"Get in Touch"})})})]})}const QI=({isOpen:r,onClose:e,title:t,children:i})=>(J.useEffect(()=>{const o=l=>{l.key==="Escape"&&r&&e()};return document.addEventListener("keydown",o),r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.removeEventListener("keydown",o),document.body.style.overflow="auto"}},[r,e]),r?w.jsx("div",{className:"modal-overlay",onClick:e,children:w.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:t}),w.jsx("button",{className:"modal-close-btn",onClick:e,children:""})]}),w.jsx("div",{className:"modal-content",children:i})]})}):null);var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,E=l>>2,S=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,N=y&63;m||(N=64,h||(I=64)),i.push(t[E],t[S],t[I],t[N])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new JI;const I=l<<2|f>>4;if(i.push(I),y!==64){const N=f<<4&240|y>>2;if(i.push(N),S!==64){const z=y<<6&192|S;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(r){const e=L_(r);return V_.encodeByteArray(e,!0)},tc=function(r){return YI(r).replace(/\./g,"")},M_=function(r){try{return V_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>ZI().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof Wg>"u")return;const r=Wg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&M_(r[1]);return e&&JSON.parse(e)},Rc=()=>{try{return eS()||tS()||nS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j_=r=>{var e,t;return(t=(e=Rc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},rS=r=>{const e=j_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},F_=()=>{var r;return(r=Rc())===null||r===void 0?void 0:r.config},U_=r=>{var e;return(e=Rc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[tc(JSON.stringify(t)),tc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function aS(){var r;const e=(r=Rc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class di extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mS,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?gS(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new di(o,f,i)}}function gS(r,e){return r.replace(yS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const yS=/\{\$([^}]+)}/g;function _S(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function nc(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(qg(l)&&qg(h)){if(!nc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function qg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vS(r,e){const t=new ES(r,e);return t.subscribe.bind(t)}class ES{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Cd),o.error===void 0&&(o.error=Cd),o.complete===void 0&&(o.complete=Cd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new iS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SS(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(r){return r===Ds?void 0:r}function SS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const RS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},CS=Be.INFO,PS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},kS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=PS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const xS=(r,e)=>e.some(t=>r instanceof t);let Kg,Gg;function NS(){return Kg||(Kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Fd=new WeakMap,z_=new WeakMap,Pd=new WeakMap,_f=new WeakMap;function bS(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(qi(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&B_.set(t,r)}).catch(()=>{}),_f.set(e,r),e}function OS(r){if(Fd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Fd.set(r,e)}let Ud={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||z_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function LS(r){Ud=r(Ud)}function VS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(kd(this),e,...t);return z_.set(i,e.sort?e.sort():[e]),qi(i)}:DS().includes(r)?function(...e){return r.apply(kd(this),e),qi(B_.get(this))}:function(...e){return qi(r.apply(kd(this),e))}}function MS(r){return typeof r=="function"?VS(r):(r instanceof IDBTransaction&&OS(r),xS(r,NS())?new Proxy(r,Ud):r)}function qi(r){if(r instanceof IDBRequest)return bS(r);if(Pd.has(r))return Pd.get(r);const e=MS(r);return e!==r&&(Pd.set(r,e),_f.set(e,r)),e}const kd=r=>_f.get(r);function jS(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=qi(h);return i&&h.addEventListener("upgradeneeded",m=>{i(qi(h.result),m.oldVersion,m.newVersion,qi(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const FS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],xd=new Map;function Qg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=US.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FS.includes(t)))return;const l=async function(h,...f){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&m.done]))[0]};return xd.set(e,l),l}LS(r=>({...r,get:(e,t,i)=>Qg(e,t)||r.get(e,t,i),has:(e,t)=>!!Qg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function zS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",Xg="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new yf("@firebase/app"),$S="@firebase/app-compat",HS="@firebase/analytics-compat",WS="@firebase/analytics",qS="@firebase/app-check-compat",KS="@firebase/app-check",GS="@firebase/auth",QS="@firebase/auth-compat",XS="@firebase/database",JS="@firebase/data-connect",YS="@firebase/database-compat",ZS="@firebase/functions",e0="@firebase/functions-compat",t0="@firebase/installations",n0="@firebase/installations-compat",r0="@firebase/messaging",i0="@firebase/messaging-compat",s0="@firebase/performance",o0="@firebase/performance-compat",a0="@firebase/remote-config",l0="@firebase/remote-config-compat",u0="@firebase/storage",c0="@firebase/storage-compat",h0="@firebase/firestore",d0="@firebase/vertexai",f0="@firebase/firestore-compat",p0="firebase",m0="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",g0={[Bd]:"fire-core",[$S]:"fire-core-compat",[WS]:"fire-analytics",[HS]:"fire-analytics-compat",[KS]:"fire-app-check",[qS]:"fire-app-check-compat",[GS]:"fire-auth",[QS]:"fire-auth-compat",[XS]:"fire-rtdb",[JS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[ZS]:"fire-fn",[e0]:"fire-fn-compat",[t0]:"fire-iid",[n0]:"fire-iid-compat",[r0]:"fire-fcm",[i0]:"fire-fcm-compat",[s0]:"fire-perf",[o0]:"fire-perf-compat",[a0]:"fire-rc",[l0]:"fire-rc-compat",[u0]:"fire-gcs",[c0]:"fire-gcs-compat",[h0]:"fire-fst",[f0]:"fire-fst-compat",[d0]:"fire-vertex","fire-js":"fire-js",[p0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,y0=new Map,$d=new Map;function Jg(r,e){try{r.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Uo(r){const e=r.name;if($d.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,r);for(const t of rc.values())Jg(t,r);for(const t of y0.values())Jg(t,r);return!0}function vf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function mr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new cl("app","Firebase",_0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=m0;function $_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(t||(t=F_()),!t)throw Ki.create("no-options");const l=rc.get(o);if(l){if(nc(t,l.options)&&nc(i,l.config))return l;throw Ki.create("duplicate-app",{appName:o})}const h=new AS(o);for(const m of $d.values())h.addComponent(m);const f=new v0(t,i,h);return rc.set(o,f),f}function H_(r=zd){const e=rc.get(r);if(!e&&r===zd&&F_())return $_();if(!e)throw Ki.create("no-app",{appName:r});return e}function Gi(r,e,t){var i;let o=(i=g0[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(f.join(" "));return}Uo(new Ms(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebase-heartbeat-database",w0=1,Za="firebase-heartbeat-store";let Nd=null;function W_(){return Nd||(Nd=jS(E0,w0,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ki.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function T0(r){try{const t=(await W_()).transaction(Za),i=await t.objectStore(Za).get(q_(r));return await t.done,i}catch(e){if(e instanceof di)li.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(t.message)}}}async function Yg(r,e){try{const i=(await W_()).transaction(Za,"readwrite");await i.objectStore(Za).put(e,q_(r)),await i.done}catch(t){if(t instanceof di)li.warn(t.message);else{const i=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});li.warn(i.message)}}}function q_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=1024,S0=30;class A0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new C0(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Zg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>S0){const h=P0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){li.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Zg(),{heartbeatsToSend:i,unsentEntries:o}=R0(this._heartbeatsCache.heartbeats),l=tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return li.warn(t),""}}}function Zg(){return new Date().toISOString().substring(0,10)}function R0(r,e=I0){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),ey(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ey(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class C0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await T0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ey(r){return tc(JSON.stringify({version:2,heartbeats:r})).length}function P0(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r){Uo(new Ms("platform-logger",e=>new BS(e),"PRIVATE")),Uo(new Ms("heartbeat",e=>new A0(e),"PRIVATE")),Gi(Bd,Xg,r),Gi(Bd,Xg,"esm2017"),Gi("fire-js","")}k0("");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,K_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function P(){}P.prototype=A.prototype,b.D=A.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(D,L,V){for(var C=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)C[dt-2]=arguments[dt];return A.prototype[L].apply(D,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)D[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)D[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=b.g[0],P=b.g[1],L=b.g[2];var V=b.g[3],C=A+(V^P&(L^V))+D[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=V+(L^A&(P^L))+D[1]+3905402710&4294967295,V=A+(C<<12&4294967295|C>>>20),C=L+(P^V&(A^P))+D[2]+606105819&4294967295,L=V+(C<<17&4294967295|C>>>15),C=P+(A^L&(V^A))+D[3]+3250441966&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(V^P&(L^V))+D[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=V+(L^A&(P^L))+D[5]+1200080426&4294967295,V=A+(C<<12&4294967295|C>>>20),C=L+(P^V&(A^P))+D[6]+2821735955&4294967295,L=V+(C<<17&4294967295|C>>>15),C=P+(A^L&(V^A))+D[7]+4249261313&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(V^P&(L^V))+D[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=V+(L^A&(P^L))+D[9]+2336552879&4294967295,V=A+(C<<12&4294967295|C>>>20),C=L+(P^V&(A^P))+D[10]+4294925233&4294967295,L=V+(C<<17&4294967295|C>>>15),C=P+(A^L&(V^A))+D[11]+2304563134&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(V^P&(L^V))+D[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=V+(L^A&(P^L))+D[13]+4254626195&4294967295,V=A+(C<<12&4294967295|C>>>20),C=L+(P^V&(A^P))+D[14]+2792965006&4294967295,L=V+(C<<17&4294967295|C>>>15),C=P+(A^L&(V^A))+D[15]+1236535329&4294967295,P=L+(C<<22&4294967295|C>>>10),C=A+(L^V&(P^L))+D[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=V+(P^L&(A^P))+D[6]+3225465664&4294967295,V=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(V^A))+D[11]+643717713&4294967295,L=V+(C<<14&4294967295|C>>>18),C=P+(V^A&(L^V))+D[0]+3921069994&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^V&(P^L))+D[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=V+(P^L&(A^P))+D[10]+38016083&4294967295,V=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(V^A))+D[15]+3634488961&4294967295,L=V+(C<<14&4294967295|C>>>18),C=P+(V^A&(L^V))+D[4]+3889429448&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^V&(P^L))+D[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=V+(P^L&(A^P))+D[14]+3275163606&4294967295,V=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(V^A))+D[3]+4107603335&4294967295,L=V+(C<<14&4294967295|C>>>18),C=P+(V^A&(L^V))+D[8]+1163531501&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(L^V&(P^L))+D[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=V+(P^L&(A^P))+D[2]+4243563512&4294967295,V=A+(C<<9&4294967295|C>>>23),C=L+(A^P&(V^A))+D[7]+1735328473&4294967295,L=V+(C<<14&4294967295|C>>>18),C=P+(V^A&(L^V))+D[12]+2368359562&4294967295,P=L+(C<<20&4294967295|C>>>12),C=A+(P^L^V)+D[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=V+(A^P^L)+D[8]+2272392833&4294967295,V=A+(C<<11&4294967295|C>>>21),C=L+(V^A^P)+D[11]+1839030562&4294967295,L=V+(C<<16&4294967295|C>>>16),C=P+(L^V^A)+D[14]+4259657740&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^V)+D[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=V+(A^P^L)+D[4]+1272893353&4294967295,V=A+(C<<11&4294967295|C>>>21),C=L+(V^A^P)+D[7]+4139469664&4294967295,L=V+(C<<16&4294967295|C>>>16),C=P+(L^V^A)+D[10]+3200236656&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^V)+D[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=V+(A^P^L)+D[0]+3936430074&4294967295,V=A+(C<<11&4294967295|C>>>21),C=L+(V^A^P)+D[3]+3572445317&4294967295,L=V+(C<<16&4294967295|C>>>16),C=P+(L^V^A)+D[6]+76029189&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(P^L^V)+D[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=V+(A^P^L)+D[12]+3873151461&4294967295,V=A+(C<<11&4294967295|C>>>21),C=L+(V^A^P)+D[15]+530742520&4294967295,L=V+(C<<16&4294967295|C>>>16),C=P+(L^V^A)+D[2]+3299628645&4294967295,P=L+(C<<23&4294967295|C>>>9),C=A+(L^(P|~V))+D[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=V+(P^(A|~L))+D[7]+1126891415&4294967295,V=A+(C<<10&4294967295|C>>>22),C=L+(A^(V|~P))+D[14]+2878612391&4294967295,L=V+(C<<15&4294967295|C>>>17),C=P+(V^(L|~A))+D[5]+4237533241&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~V))+D[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=V+(P^(A|~L))+D[3]+2399980690&4294967295,V=A+(C<<10&4294967295|C>>>22),C=L+(A^(V|~P))+D[10]+4293915773&4294967295,L=V+(C<<15&4294967295|C>>>17),C=P+(V^(L|~A))+D[1]+2240044497&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~V))+D[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=V+(P^(A|~L))+D[15]+4264355552&4294967295,V=A+(C<<10&4294967295|C>>>22),C=L+(A^(V|~P))+D[6]+2734768916&4294967295,L=V+(C<<15&4294967295|C>>>17),C=P+(V^(L|~A))+D[13]+1309151649&4294967295,P=L+(C<<21&4294967295|C>>>11),C=A+(L^(P|~V))+D[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=V+(P^(A|~L))+D[11]+3174756917&4294967295,V=A+(C<<10&4294967295|C>>>22),C=L+(A^(V|~P))+D[2]+718787259&4294967295,L=V+(C<<15&4294967295|C>>>17),C=P+(V^(L|~A))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+L&4294967295,b.g[3]=b.g[3]+V&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var P=A-this.blockSize,D=this.B,L=this.h,V=0;V<A;){if(L==0)for(;V<=P;)o(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<A;)if(D[L++]=b.charCodeAt(V++),L==this.blockSize){o(this,D),L=0;break}}else for(;V<A;)if(D[L++]=b[V++],L==this.blockSize){o(this,D),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var P=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=P&255,P/=256;for(this.u(b),b=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)b[P++]=this.g[A]>>>D&255;return b};function l(b,A){var P=f;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=A(b)}function h(b,A){this.h=A;for(var P=[],D=!0,L=b.length-1;0<=L;L--){var V=b[L]|0;D&&V==A||(P[L]=V,D=!1)}this.g=P}var f={};function m(b){return-128<=b&&128>b?l(b,function(A){return new h([A|0],0>A?-1:0)}):new h([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return S;if(0>b)return M(y(-b));for(var A=[],P=1,D=0;b>=P;D++)A[D]=b/P|0,P*=4294967296;return new h(A,0)}function E(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return M(E(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(A,8)),D=S,L=0;L<b.length;L+=8){var V=Math.min(8,b.length-L),C=parseInt(b.substring(L,L+V),A);8>V?(V=y(Math.pow(A,V)),D=D.j(V).add(y(C))):(D=D.j(P),D=D.add(y(C)))}return D}var S=m(0),I=m(1),N=m(16777216);r=h.prototype,r.m=function(){if(j(this))return-M(this).m();for(var b=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);b+=(0<=D?D:4294967296+D)*A,A*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(z(this))return"0";if(j(this))return"-"+M(this).toString(b);for(var A=y(Math.pow(b,6)),P=this,D="";;){var L=ae(P,A).g;P=te(P,L.j(A));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=L,z(P))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function z(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function j(b){return b.h==-1}r.l=function(b){return b=te(this,b),j(b)?-1:z(b)?0:1};function M(b){for(var A=b.g.length,P=[],D=0;D<A;D++)P[D]=~b.g[D];return new h(P,~b.h).add(I)}r.abs=function(){return j(this)?M(this):this},r.add=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0,L=0;L<=A;L++){var V=D+(this.i(L)&65535)+(b.i(L)&65535),C=(V>>>16)+(this.i(L)>>>16)+(b.i(L)>>>16);D=C>>>16,V&=65535,C&=65535,P[L]=C<<16|V}return new h(P,P[P.length-1]&-2147483648?-1:0)};function te(b,A){return b.add(M(A))}r.j=function(b){if(z(this)||z(b))return S;if(j(this))return j(b)?M(this).j(M(b)):M(M(this).j(b));if(j(b))return M(this.j(M(b)));if(0>this.l(N)&&0>b.l(N))return y(this.m()*b.m());for(var A=this.g.length+b.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<b.g.length;L++){var V=this.i(D)>>>16,C=this.i(D)&65535,dt=b.i(L)>>>16,Lt=b.i(L)&65535;P[2*D+2*L]+=C*Lt,ne(P,2*D+2*L),P[2*D+2*L+1]+=V*Lt,ne(P,2*D+2*L+1),P[2*D+2*L+1]+=C*dt,ne(P,2*D+2*L+1),P[2*D+2*L+2]+=V*dt,ne(P,2*D+2*L+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new h(P,0)};function ne(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function oe(b,A){this.g=b,this.h=A}function ae(b,A){if(z(A))throw Error("division by zero");if(z(b))return new oe(S,S);if(j(b))return A=ae(M(b),A),new oe(M(A.g),M(A.h));if(j(A))return A=ae(b,M(A)),new oe(M(A.g),A.h);if(30<b.g.length){if(j(b)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var P=I,D=A;0>=D.l(b);)P=je(P),D=je(D);var L=Pe(P,1),V=Pe(D,1);for(D=Pe(D,2),P=Pe(P,2);!z(D);){var C=V.add(D);0>=C.l(b)&&(L=L.add(P),V=C),D=Pe(D,1),P=Pe(P,1)}return A=te(b,L.j(A)),new oe(L,A)}for(L=S;0<=b.l(A);){for(P=Math.max(1,Math.floor(b.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=y(P),C=V.j(A);j(C)||0<C.l(b);)P-=D,V=y(P),C=V.j(A);z(V)&&(V=I),L=L.add(V),b=te(b,C)}return new oe(L,b)}r.A=function(b){return ae(this,b).h},r.and=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&b.i(D);return new h(P,this.h&b.h)},r.or=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|b.i(D);return new h(P,this.h|b.h)},r.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^b.i(D);return new h(P,this.h^b.h)};function je(b){for(var A=b.g.length+1,P=[],D=0;D<A;D++)P[D]=b.i(D)<<1|b.i(D-1)>>>31;return new h(P,b.h)}function Pe(b,A){var P=A>>5;A%=32;for(var D=b.g.length-P,L=[],V=0;V<D;V++)L[V]=0<A?b.i(V+P)>>>A|b.i(V+P+1)<<32-A:b.i(V+P);return new h(L,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,K_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Qi=h}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G_,za,Q_,$u,Hd,X_,J_,Y_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var _=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in _))break e;_=_[F]}u=u[u.length-1],T=_[u],p=p(T),p!=T&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,T=!1,F={next:function(){if(!T&&_<u.length){var H=_++;return{value:p(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function S(u,p,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function I(u,p,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function N(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function z(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,F,H){for(var se=Array(arguments.length-2),et=2;et<arguments.length;et++)se[et-2]=arguments[et];return p.prototype[F].apply(T,se)}}function j(u){const p=u.length;if(0<p){const _=Array(p);for(let T=0;T<p;T++)_[T]=u[T];return _}return[]}function M(u,p){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(m(T)){const F=u.length||0,H=T.length||0;u.length=F+H;for(let se=0;se<H;se++)u[F+se]=T[se]}else u.push(T)}}class te{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ae(u){return ae[" "](u),u}ae[" "]=function(){};var je=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Pe(u,p,_){for(const T in u)p.call(_,u[T],T,u)}function b(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function A(u){const p={};for(const _ in u)p[_]=u[_];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)u[_]=T[_];for(let H=0;H<P.length;H++)_=P[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function L(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function V(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ye;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class dt{constructor(){this.h=this.g=null}add(p,_){const T=Lt.get();T.set(p,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Lt=new te(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ie=!1,ye=new dt,k=()=>{const u=f.Promise.resolve(void 0);Ne=()=>{u.then(K)}};var K=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){V(_)}var p=Lt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return u}();function qe(u,p){if(ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(je){e:{try{ae(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:He[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&qe.aa.h.call(this)}}z(qe,ve);var He={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function At(u,p,_,T,F){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!T,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function _r(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rn(u){this.src=u,this.g={},this.h=0}Rn.prototype.add=function(u,p,_,T,F){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var se=Cn(u,p,T,F);return-1<se?(p=u[se],_||(p.fa=!1)):(p=new At(p,this.src,H,!!T,F),p.fa=_,u.push(p)),p};function vr(u,p){var _=p.type;if(_ in u.g){var T=u.g[_],F=Array.prototype.indexOf.call(T,p,void 0),H;(H=0<=F)&&Array.prototype.splice.call(T,F,1),H&&(_r(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Cn(u,p,_,T){for(var F=0;F<u.length;++F){var H=u[F];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==T)return F}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),fi={};function pi(u,p,_,T,F){if(Array.isArray(p)){for(var H=0;H<p.length;H++)pi(u,p[H],_,T,F);return null}return _=q(_),u&&u[Ke]?u.K(p,_,y(T)?!!T.capture:!1,F):as(u,p,_,!1,T,F)}function as(u,p,_,T,F,H){if(!p)throw Error("Invalid event type");var se=y(F)?!!F.capture:!!F,et=mi(u);if(et||(u[Er]=et=new Rn(u)),_=et.add(p,_,T,se,H),_.proxy)return _;if(T=wr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)Oe||(F=se),F===void 0&&(F=!1),u.addEventListener(p.toString(),T,F);else if(u.attachEvent)u.attachEvent(Pn(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wr(){function u(_){return p.call(u.src,u.listener,_)}const p=ls;return u}function Yn(u,p,_,T,F){if(Array.isArray(p))for(var H=0;H<p.length;H++)Yn(u,p[H],_,T,F);else T=y(T)?!!T.capture:!!T,_=q(_),u&&u[Ke]?(u=u.i,p=String(p).toString(),p in u.g&&(H=u.g[p],_=Cn(H,_,T,F),-1<_&&(_r(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[p],u.h--)))):u&&(u=mi(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Cn(p,_,T,F)),(_=-1<u?p[u]:null)&&Un(_))}function Un(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ke])vr(p.i,u);else{var _=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(_,T,u.capture):p.detachEvent?p.detachEvent(Pn(_),T):p.addListener&&p.removeListener&&p.removeListener(T),(_=mi(p))?(vr(_,u),_.h==0&&(_.src=null,p[Er]=null)):_r(u)}}}function Pn(u){return u in fi?fi[u]:fi[u]="on"+u}function ls(u,p){if(u.da)u=!0;else{p=new qe(p,this);var _=u.listener,T=u.ha||u.src;u.fa&&Un(u),u=_.call(T,p)}return u}function mi(u){return u=u[Er],u instanceof Rn?u:null}var Br="__closure_events_fn_"+(1e9*Math.random()>>>0);function q(u){return typeof u=="function"?u:(u[Br]||(u[Br]=function(p){return u.handleEvent(p)}),u[Br])}function W(){he.call(this),this.i=new Rn(this),this.M=this,this.F=null}z(W,he),W.prototype[Ke]=!0,W.prototype.removeEventListener=function(u,p,_,T){Yn(this,u,p,_,T)};function G(u,p){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new ve(p,u);else if(p instanceof ve)p.target=p.target||u;else{var F=p;p=new ve(T,u),D(p,F)}if(F=!0,_)for(var H=_.length-1;0<=H;H--){var se=p.g=_[H];F=fe(se,T,!0,p)&&F}if(se=p.g=u,F=fe(se,T,!0,p)&&F,F=fe(se,T,!1,p)&&F,_)for(H=0;H<_.length;H++)se=p.g=_[H],F=fe(se,T,!1,p)&&F}W.prototype.N=function(){if(W.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],T=0;T<_.length;T++)_r(_[T]);delete u.g[p],u.h--}}this.F=null},W.prototype.K=function(u,p,_,T){return this.i.add(String(u),p,!1,_,T)},W.prototype.L=function(u,p,_,T){return this.i.add(String(u),p,!0,_,T)};function fe(u,p,_,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,H=0;H<p.length;++H){var se=p[H];if(se&&!se.da&&se.capture==_){var et=se.listener,kt=se.ha||se.src;se.fa&&vr(u.i,se),F=et.call(kt,T)!==!1&&F}}return F&&!T.defaultPrevented}function le(u,p,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Te(u){u.g=le(()=>{u.g=null,u.i&&(u.i=!1,Te(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ee extends he{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(u){he.call(this),this.h=u,this.g={}}z(Ve,he);var Ie=[];function ot(u){Pe(u.g,function(p,_){this.g.hasOwnProperty(_)&&Un(p)},u),u.g={}}Ve.prototype.N=function(){Ve.aa.N.call(this),ot(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=f.JSON.stringify,Ye=f.JSON.parse,zt=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Rt(){}Rt.prototype.h=null;function Bn(u){return u.h||(u.h=u.i())}function Zn(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){ve.call(this,"d")}z(Ht,ve);function Tr(){ve.call(this,"c")}z(Tr,ve);var nt={},Ct=null;function cn(){return Ct=Ct||new W}nt.La="serverreachability";function er(u){ve.call(this,nt.La,u)}z(er,ve);function hn(u){const p=cn();G(p,new er(p))}nt.STAT_EVENT="statevent";function us(u,p){ve.call(this,nt.STAT_EVENT,u),this.stat=p}z(us,ve);function ft(u){const p=cn();G(p,new us(p,u))}nt.Ma="timingevent";function Zt(u,p){ve.call(this,nt.Ma,u),this.size=p}z(Zt,ve);function Pt(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function zr(u,p,_,T,F,H){u.info(function(){if(u.g)if(H)for(var se="",et=H.split("&"),kt=0;kt<et.length;kt++){var Ge=et[kt].split("=");if(1<Ge.length){var Mt=Ge[0];Ge=Ge[1];var wt=Mt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Mt+"="+Ge+"&"):se+(Mt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+p+`
`+_+`
`+se})}function Hs(u,p,_,T,F,H,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+p+`
`+_+`
`+H+" "+se})}function tr(u,p,_,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Kc(u,_)+(T?" "+T:"")})}function ra(u,p){u.info(function(){return"TIMEOUT: "+p})}Ir.prototype.info=function(){};function Kc(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<F.length;se++)F[se]=""}}}}return Le(_)}catch{return p}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function cs(){}z(cs,Rt),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},nr=new cs;function rr(u,p,_,T){this.j=u,this.i=p,this.l=_,this.R=T||1,this.U=new Ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tl}function Tl(){this.i=null,this.g="",this.h=!1}var ia={},qs={};function Ks(u,p,_){u.L=1,u.v=Ei(xn(p)),u.m=_,u.P=!0,sa(u,null)}function sa(u,p){u.F=Date.now(),it(u),u.A=xn(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ti(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Tl,u.g=Ul(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Ee(I(u.Y,u,u.g),u.O)),p=u.U,_=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ie[0]=F.toString()),F=Ie);for(var H=0;H<F.length;H++){var se=pi(_,F[H],T||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),hn(),zr(u.i,u.u,u.A,u.l,u.R,u.m)}rr.prototype.ca=function(u){u=u.target;const p=this.M;p&&yn(u)==3?p.j():this.Y(u)},rr.prototype.Y=function(u){try{if(u==this.g)e:{const wt=yn(this.g);var p=this.g.Ba();const Hn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Hn?hn(3):hn(2)),hs(this);var _=this.g.Z();this.X=_;t:if(Il(this)){var T=ha(this.g);u="";var F=T.length,H=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),gi(this);var se="";break t}this.h.i=new f.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(H&&p==F-1)});T.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Hs(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var et,kt=this.g;if((et=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(et)){var Ge=et;break t}}Ge=null}if(_=Ge)tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,_);else{this.o=!1,this.s=3,ft(12),zn(this),gi(this);break e}}if(this.P){_=!0;let Dn;for(;!this.J&&this.C<se.length;)if(Dn=Gc(this,se),Dn==qs){wt==4&&(this.s=4,ft(14),_=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==ia){this.s=4,ft(15),tr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else tr(this.i,this.l,Dn,null),oa(this,Dn);if(Il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)tr(this.i,this.l,se,"[Invalid Chunked Response]"),zn(this),gi(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),fa(Mt),Mt.M=!0,ft(11))}}else tr(this.i,this.l,se,null),oa(this,se);wt==4&&zn(this),this.o&&!this.J&&(wt==4?io(this.j,this):(this.o=!1,it(this)))}else Zs(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),zn(this),gi(this)}}}catch{}finally{}};function Il(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gc(u,p){var _=u.C,T=p.indexOf(`
`,_);return T==-1?qs:(_=Number(p.substring(_,T)),isNaN(_)?ia:(T+=1,T+_>p.length?qs:(p=p.slice(T,T+_),u.C=T+_,p)))}rr.prototype.cancel=function(){this.J=!0,zn(this)};function it(u){u.S=Date.now()+u.I,Sl(u,u.I)}function Sl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pt(I(u.ba,u),p)}function hs(u){u.B&&(f.clearTimeout(u.B),u.B=null)}rr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ra(this.i,this.A),this.L!=2&&(hn(),ft(17)),zn(this),this.s=2,gi(this)):Sl(this,this.S-u)};function gi(u){u.j.G==0||u.J||io(u.j,u)}function zn(u){hs(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ot(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function oa(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||dn(_.h,u))){if(!u.K&&dn(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ro(_),lr(_);else break e;no(_),ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Pt(I(_.Za,_),6e3));if(1>=Rl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Kr(_,11)}else if((u.K||_.g==u)&&ro(_),!ne(p))for(F=_.Da.g.parse(p),p=0;p<F.length;p++){let Ge=F[p];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const Mt=Ge[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const wt=Ge[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Hn=Ge[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(T=1.5*Hn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Dn=u.g;if(Dn){const _s=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var H=T.h;H.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(aa(H,H.h),H.h=null))}if(T.D){const oo=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(T.ya=oo,rt(T.I,T.D,oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var se=u;if(T.qa=Fl(T,T.J?T.ia:null,T.W),se.K){Cl(T.h,se);var et=se,kt=T.L;kt&&(et.I=kt),et.B&&(hs(et),it(et)),T.g=se}else ys(T);0<_.i.length&&Cr(_)}else Ge[0]!="stop"&&Ge[0]!="close"||Kr(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Kr(_,7):qt(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}hn(4)}catch{}}var Al=class{constructor(u,p){this.g=u,this.map=p}};function ds(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function dn(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function aa(u,p){u.g?u.g.add(p):u.h=p}function Cl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ds.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return j(u.i)}function Gs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],_=u.length,T=0;T<_;T++)p.push(u[T]);return p}p=[],_=0;for(T in u)p[_++]=u[T];return p}function Qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const T in u)p[_++]=T;return p}}}function yi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Qs(u),T=Gs(u),F=T.length,H=0;H<F;H++)p.call(void 0,T[H],_&&_[H],u)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),F=null;if(0<=T){var H=u[_].substring(0,T);F=u[_].substring(T+1)}else H=u[_];p(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function $r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $r){this.h=u.h,ps(this,u.j),this.o=u.o,this.g=u.g,_i(this,u.s),this.l=u.l;var p=u.i,_=new Sr;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),vi(this,_),this.m=u.m}else u&&(p=String(u).match(fs))?(this.h=!1,ps(this,p[1]||"",!0),this.o=We(p[2]||""),this.g=We(p[3]||"",!0),_i(this,p[4]),this.l=We(p[5]||"",!0),vi(this,p[6]||"",!0),this.m=We(p[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}$r.prototype.toString=function(){var u=[],p=this.j;p&&u.push(wi(p,Xs,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wi(p,Xs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wi(_,_.charAt(0)=="/"?Nl:xl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wi(_,la)),u.join("")};function xn(u){return new $r(u)}function ps(u,p,_){u.j=_?We(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function _i(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function vi(u,p,_){p instanceof Sr?(u.i=p,Ar(u.i,u.h)):(_||(p=wi(p,Dl)),u.i=new Sr(p,u.h))}function rt(u,p,_){u.i.set(p,_)}function Ei(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function We(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wi(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xs=/[#\/\?@]/g,xl=/[#\?:]/g,Nl=/[#\?]/g,Dl=/[#\?@]/g,la=/#/g;function Sr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Wt(u){u.g||(u.g=new Map,u.h=0,u.i&&Qc(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Sr.prototype,r.add=function(u,p){Wt(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function ir(u,p){Wt(u),p=$n(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function sr(u,p){return Wt(u),p=$n(u,p),u.g.has(p)}r.forEach=function(u,p){Wt(this),this.g.forEach(function(_,T){_.forEach(function(F){u.call(p,F,T,this)},this)},this)},r.na=function(){Wt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let T=0;T<p.length;T++){const F=u[T];for(let H=0;H<F.length;H++)_.push(p[T])}return _},r.V=function(u){Wt(this);let p=[];if(typeof u=="string")sr(this,u)&&(p=p.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return Wt(this),this.i=null,u=$n(this,u),sr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ti(u,p,_){ir(u,p),0<_.length&&(u.i=null,u.g.set($n(u,p),j(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var T=p[_];const H=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var F=H;se[T]!==""&&(F+="="+encodeURIComponent(String(se[T]))),u.push(F)}}return this.i=u.join("&")};function $n(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ar(u,p){p&&!u.j&&(Wt(u),u.i=null,u.g.forEach(function(_,T){var F=T.toLowerCase();T!=F&&(ir(this,T),Ti(this,F,_))},u)),u.j=p}function Xc(u,p){const _=new Ir;if(f.Image){const T=new Image;T.onload=N(gn,_,"TestLoadImage: loaded",!0,p,T),T.onerror=N(gn,_,"TestLoadImage: error",!1,p,T),T.onabort=N(gn,_,"TestLoadImage: abort",!1,p,T),T.ontimeout=N(gn,_,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function bl(u,p){const _=new Ir,T=new AbortController,F=setTimeout(()=>{T.abort(),gn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(F),H.ok?gn(_,"TestPingServer: ok",!0,p):gn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),gn(_,"TestPingServer: error",!1,p)})}function gn(u,p,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function Jc(){this.g=new zt}function Ol(u,p,_){const T=_||"";try{yi(u,function(F,H){let se=F;y(F)&&(se=Le(F)),p.push(T+H+"="+encodeURIComponent(se))})}catch(F){throw p.push(T+"type="+encodeURIComponent("_badmap")),F}}function Hr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(Hr,Rt),Hr.prototype.g=function(){return new ms(this.l,this.j)},Hr.prototype.i=function(u){return function(){return u}}({});function ms(u,p){W.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(ms,W),r=ms.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ar(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?or(this):ar(this),this.readyState==3&&Ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},r.Qa=function(u){this.g&&(this.response=u,or(this))},r.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wr(u){let p="";return Pe(u,function(_,T){p+=T,p+=":",p+=_,p+=`\r
`}),p}function Ii(u,p,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Wr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):rt(u,p,_))}function ut(u){W.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(ut,W);var Yc=/^https?$/i,ua=["POST","PUT"];r=ut.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?Bn(this.o):Bn(nr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){gs(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ua,p,void 0))||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of _)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){gs(this,H)}};function gs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Js(u),Nn(u)}function Js(u){u.A||(u.A=!0,G(u,"complete"),G(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,G(this,"complete"),G(this,"abort"),Nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),ut.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(u){if(u.h&&typeof h<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)le(u.Ea,0,u);else if(G(u,"readystatechange"),yn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var T;if(T=se===0){var F=String(u.D).match(fs)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!Yc.test(F?F.toLowerCase():"")}_=T}if(_)G(u,"complete"),G(u,"success");else{u.m=6;try{var H=2<yn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Js(u)}}finally{Nn(u)}}}}function Nn(u,p){if(u.g){Ys(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||G(u,"ready");try{_.onreadystatechange=T}catch{}}}function Ys(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ye(p)}};function ha(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(u){const p={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ne(u[T]))continue;var _=L(u[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[F]||[];p[F]=H,H.push(_)}b(p,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function da(u){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,u),this.cb=Rr("retryDelaySeedMs",1e4,u),this.Wa=Rr("forwardChannelMaxRetries",2,u),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(u&&u.concurrentRequestLimit),this.Da=new Jc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=da.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,T){ft(0),this.W=u,this.H=p||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Fl(this,null,this.W),Cr(this)};function qt(u){if(eo(u),u.G==3){var p=u.U++,_=xn(u.I);if(rt(_,"SID",u.K),rt(_,"RID",p),rt(_,"TYPE","terminate"),qr(u,_),p=new rr(u,u.j,p),p.L=2,p.v=Ei(xn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.v,_=!0),_||(p.g=Ul(p.j,null),p.g.ea(p.v)),p.F=Date.now(),it(p)}jl(u)}function lr(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function eo(u){lr(u),u.u&&(f.clearTimeout(u.u),u.u=null),ro(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Cr(u){if(!kn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ne||k(),ie||(Ne(),ie=!0),ye.add(p,u),u.B=0}}function Zc(u,p){return Rl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pt(I(u.Ga,u,p),Ml(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new rr(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Si(this,F,p),_=xn(this.I),rt(_,"RID",u),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),qr(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(Wr(H)))+"&"+p:this.m&&Ii(_,this.m,H)),aa(this.h,F),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",p),rt(_,"SID","null"),F.T=!0,Ks(F,_,null)):Ks(F,_,p),this.G=2}}else this.G==3&&(u?to(this,u):this.i.length==0||kn(this.h)||to(this))};function to(u,p){var _;p?_=p.l:_=u.U++;const T=xn(u.I);rt(T,"SID",u.K),rt(T,"RID",_),rt(T,"AID",u.T),qr(u,T),u.m&&u.o&&Ii(T,u.m,u.o),_=new rr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Si(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,_),Ks(_,T,p)}function qr(u,p){u.H&&Pe(u.H,function(_,T){rt(p,T,_)}),u.l&&yi({},function(_,T){rt(p,T,_)})}function Si(u,p,_){_=Math.min(u.i.length,_);var T=u.l?I(u.l.Na,u.l,u):null;e:{var F=u.i;let H=-1;for(;;){const se=["count="+_];H==-1?0<_?(H=F[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let et=!0;for(let kt=0;kt<_;kt++){let Ge=F[kt].g;const Mt=F[kt].map;if(Ge-=H,0>Ge)H=Math.max(0,F[kt].g-100),et=!1;else try{Ol(Mt,se,"req"+Ge+"_")}catch{T&&T(Mt)}}if(et){T=se.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,T}function ys(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ne||k(),ie||(Ne(),ie=!0),ye.add(p,u),u.v=0}}function no(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pt(I(u.Fa,u),Ml(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Vl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pt(I(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),lr(this),Vl(this))};function fa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Vl(u){u.g=new rr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=xn(u.qa);rt(p,"RID","rpc"),rt(p,"SID",u.K),rt(p,"AID",u.T),rt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(p,"TO",u.ja),rt(p,"TYPE","xmlhttp"),qr(u,p),u.m&&u.o&&Ii(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ei(xn(p)),_.m=null,_.P=!0,sa(_,u)}r.Za=function(){this.C!=null&&(this.C=null,lr(this),no(this),ft(19))};function ro(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function io(u,p){var _=null;if(u.g==p){ro(u),fa(u),u.g=null;var T=2}else if(dn(u.h,p))_=p.D,Cl(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;T=cn(),G(T,new Zt(T,_)),Cr(u)}else ys(u);else if(F=p.s,F==3||F==0&&0<p.X||!(T==1&&Zc(u,p)||T==2&&no(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),F){case 1:Kr(u,5);break;case 4:Kr(u,10);break;case 3:Kr(u,6);break;default:Kr(u,2)}}}function Ml(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Kr(u,p){if(u.j.info("Error code "+p),p==2){var _=I(u.fb,u),T=u.Xa;const F=!T;T=new $r(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ps(T,"https"),Ei(T),F?Xc(T.toString(),_):bl(T.toString(),_)}else ft(2);u.G=0,u.l&&u.l.sa(p),jl(u),eo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function jl(u){if(u.G=0,u.ka=[],u.l){const p=Pl(u.h);(p.length!=0||u.i.length!=0)&&(M(u.ka,p),M(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Fl(u,p,_){var T=_ instanceof $r?xn(_):new $r(_);if(T.g!="")p&&(T.g=p+"."+T.g),_i(T,T.s);else{var F=f.location;T=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var H=new $r(null);T&&ps(H,T),p&&(H.g=p),F&&_i(H,F),_&&(H.l=_),T=H}return _=u.D,p=u.ya,_&&p&&rt(T,_,p),rt(T,"VER",u.la),qr(u,T),T}function Ul(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ut(new Hr({eb:_})):new ut(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}r=pa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function so(){}so.prototype.g=function(u,p){return new fn(u,p)};function fn(u,p){W.call(this),this.g=new da(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ne(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Pr(this)}z(fn,W),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){qt(this.g)},fn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Le(u),u=_);p.i.push(new Al(p.Ya++,u)),p.G==3&&Cr(p)},fn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,fn.aa.N.call(this)};function Bl(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}z(Bl,Ht);function zl(){Tr.call(this),this.status=1}z(zl,Tr);function Pr(u){this.g=u}z(Pr,pa),Pr.prototype.ua=function(){G(this.g,"a")},Pr.prototype.ta=function(u){G(this.g,new Bl(u))},Pr.prototype.sa=function(u){G(this.g,new zl)},Pr.prototype.ra=function(){G(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Y_=function(){return new so},J_=function(){return cn()},X_=nt,Hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,$u=Ws,wl.COMPLETE="complete",Q_=wl,Zn.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",W.prototype.listen=W.prototype.K,za=Zn,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,G_=ut}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore",ry="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new yf("@firebase/firestore");function Po(){return js.logLevel}function ce(r,...e){if(js.logLevel<=Be.DEBUG){const t=e.map(Ef);js.debug(`Firestore (${Xo}): ${r}`,...t)}}function ui(r,...e){if(js.logLevel<=Be.ERROR){const t=e.map(Ef);js.error(`Firestore (${Xo}): ${r}`,...t)}}function Bo(r,...e){if(js.logLevel<=Be.WARN){const t=e.map(Ef);js.warn(`Firestore (${Xo}): ${r}`,...t)}}function Ef(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r="Unexpected state"){const e=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: `+r;throw ui(e),new Error(e)}function Ze(r,e){r||Ce()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class N0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D0{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string"),new Z_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new on(e)}}class b0{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class O0{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new b0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L0{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const i=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new iy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=V0(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function qd(r,e){const t=Wd().encode(r),i=Wd().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const l=ze(t[o],i[o]);if(l!==0)return l}return ze(t.length,i.length)}function zo(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-62135596800,oy=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*oy);return new bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sy)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oy}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new bt(0,0))}static max(){return new De(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="__name__";class br{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=br.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=br.isNumericId(e),o=br.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?br.extractNumericId(e).compare(br.extractNumericId(t)):qd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class ht extends br{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const M0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends br{construct(e,t,i){return new Jt(e,t,i)}static isValidIdentifier(e){return M0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ay}static keyField(){return new Jt([ay])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new _e(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new _e(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new _e(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ht.fromString(e))}static fromName(e){return new Re(ht.fromString(e).popFirst(5))}static empty(){return new Re(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function j0(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=De.fromTimestamp(i===1e9?new bt(t+1,0):new bt(t,i));return new Yi(o,Re.empty(),e)}function F0(r){return new Yi(r.readTime,r.key,el)}class Yi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yi(De.min(),Re.empty(),el)}static max(){return new Yi(De.max(),Re.empty(),el)}}function U0(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==B0)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},m=>i(m))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(E=>{h[y]=E,++f,f===l&&i(h)},E=>o(E))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function $0(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=-1;function Pc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function H0(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="";function W0(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ly(e)),e=q0(r.get(t),e);return ly(e)}function q0(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case tv:t+="";break;default:t+=l}}return t}function ly(r){return r+tv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function nv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=o??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Xt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cy(this.data.getIterator())}getIteratorFrom(e){return new cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new jn([])}unionWith(e){let t=new Ot(Jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rv("Invalid base64 string: "+l):l}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const K0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(r){if(Ze(!!r),typeof r=="string"){let e=0;const t=K0.exec(r);if(Ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="server_timestamp",sv="__type__",ov="__previous_value__",av="__local_write_time__";function Tf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sv])===null||t===void 0?void 0:t.stringValue)===iv}function kc(r){const e=r.mapValue.fields[ov];return Tf(e)?kc(e):e}function tl(r){const e=Zi(r.mapValue.fields[av].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,i,o,l,h,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y}}const sc="(default)";class nl{constructor(e,t){this.projectId=e,this.database=t||sc}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database===sc}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__type__",Q0="__max__",ju={mapValue:{}},uv="__vector__",oc="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tf(r)?4:J0(r)?9007199254740991:X0(r)?10:11:Ce()}function Mr(r,e){if(r===e)return!0;const t=ts(r);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tl(r).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Zi(o.timestampValue),f=Zi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return es(o.bytesValue).isEqual(es(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Et(o.doubleValue),f=Et(l.doubleValue);return h===f?ic(h)===ic(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(uy(h)!==uy(f))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(f[m]===void 0||!Mr(h[m],f[m])))return!1;return!0}(r,e);default:return Ce()}}function rl(r,e){return(r.values||[]).find(t=>Mr(t,e))!==void 0}function $o(r,e){if(r===e)return 0;const t=ts(r),i=ts(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=Et(l.integerValue||l.doubleValue),m=Et(h.integerValue||h.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(r,e);case 3:return hy(r.timestampValue,e.timestampValue);case 4:return hy(tl(r),tl(e));case 5:return qd(r.stringValue,e.stringValue);case 6:return function(l,h){const f=es(l),m=es(h);return f.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),m=h.split("/");for(let y=0;y<f.length&&y<m.length;y++){const E=ze(f[y],m[y]);if(E!==0)return E}return ze(f.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=ze(Et(l.latitude),Et(h.latitude));return f!==0?f:ze(Et(l.longitude),Et(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,m,y,E;const S=l.fields||{},I=h.fields||{},N=(f=S[oc])===null||f===void 0?void 0:f.arrayValue,z=(m=I[oc])===null||m===void 0?void 0:m.arrayValue,j=ze(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:dy(N,z)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===ju.mapValue&&h===ju.mapValue)return 0;if(l===ju.mapValue)return 1;if(h===ju.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=h.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const I=qd(m[S],E[S]);if(I!==0)return I;const N=$o(f[m[S]],y[E[S]]);if(N!==0)return N}return ze(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function hy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=Zi(r),i=Zi(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function dy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=$o(t[o],i[o]);if(l)return l}return ze(t.length,i.length)}function Ho(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Zi(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return es(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Re.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Kd(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Kd(t.fields[h])}`;return o+"}"}(r.mapValue):Ce()}function Hu(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(r);return e?16+Hu(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Hu(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return ss(i.fields,(l,h)=>{o+=l.length+Hu(h)}),o}(r.mapValue);default:throw Ce()}}function Gd(r){return!!r&&"integerValue"in r}function If(r){return!!r&&"arrayValue"in r}function fy(r){return!!r&&"nullValue"in r}function py(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wu(r){return!!r&&"mapValue"in r}function X0(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lv])===null||t===void 0?void 0:t.stringValue)===uv}function qa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ss(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qa(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function J0(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Jt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=qa(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Wu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ss(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new An(qa(this.value))}}function cv(r){const e=[];return ss(r.fields,(t,i)=>{const o=new Jt([t]);if(Wu(i)){const l=cv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new an(e,0,De.min(),De.min(),De.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new an(e,1,t,De.min(),i,o,0)}static newNoDocument(e,t){return new an(e,2,t,De.min(),De.min(),An.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,De.min(),De.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.position=e,this.inclusive=t}}function my(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(h.referenceValue),t.key):i=$o(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function gy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y0(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{}class Dt extends hv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new eA(e,t,i):t==="array-contains"?new rA(e,i):t==="in"?new iA(e,i):t==="not-in"?new sA(e,i):t==="array-contains-any"?new oA(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new tA(e,i):new nA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison($o(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends hv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new jr(e,t)}matches(e){return dv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dv(r){return r.op==="and"}function fv(r){return Z0(r)&&dv(r)}function Z0(r){for(const e of r.filters)if(e instanceof jr)return!1;return!0}function Qd(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(fv(r))return r.filters.map(e=>Qd(e)).join(",");{const e=r.filters.map(t=>Qd(t)).join(",");return`${r.op}(${e})`}}function pv(r,e){return r instanceof Dt?function(i,o){return o instanceof Dt&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)}(r,e):r instanceof jr?function(i,o){return o instanceof jr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&pv(h,o.filters[f]),!0):!1}(r,e):void Ce()}function mv(r){return r instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(r):r instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(mv).join(" ,")+"}"}(r):"Filter"}class eA extends Dt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class tA extends Dt{constructor(e,t){super(e,"in",t),this.keys=gv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nA extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=gv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class rA extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return If(t)&&rl(t.arrayValue,this.value)}}class iA extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class sA extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class oA extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!If(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.le=null}}function yy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new aA(r,e,t,i,o,l,h)}function Sf(r){const e=be(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ho(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ho(i)).join(",")),e.le=t}return e.le}function Af(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Y0(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!pv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gy(r.startAt,e.startAt)&&gy(r.endAt,e.endAt)}function Xd(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lA(r,e,t,i,o,l,h,f){return new xc(r,e,t,i,o,l,h,f)}function yv(r){return new xc(r)}function _y(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uA(r){return r.collectionGroup!==null}function Ka(r){const e=be(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Ot(Jt.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new lc(l,i))}),t.has(Jt.keyField().canonicalString())||e.he.push(new lc(Jt.keyField(),i))}return e.he}function Or(r){const e=be(r);return e.Pe||(e.Pe=cA(e,Ka(r))),e.Pe}function cA(r,e){if(r.limitType==="F")return yy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new lc(o.field,l)});const t=r.endAt?new ac(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ac(r.startAt.position,r.startAt.inclusive):null;return yy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Jd(r,e,t){return new xc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Nc(r,e){return Af(Or(r),Or(e))&&r.limitType===e.limitType}function _v(r){return`${Sf(Or(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>mv(o)).join(", ")}]`),Pc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ho(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ho(o)).join(",")),`Target(${i})`}(Or(r))}; limitType=${r.limitType})`}function Dc(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of Ka(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,f,m){const y=my(h,f,m);return h.inclusive?y<=0:y<0}(i.startAt,Ka(i),o)||i.endAt&&!function(h,f,m){const y=my(h,f,m);return h.inclusive?y>=0:y>0}(i.endAt,Ka(i),o))}(r,e)}function hA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vv(r){return(e,t)=>{let i=!1;for(const o of Ka(r)){const l=dA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function dA(r,e,t){const i=r.field.isKeyField()?Re.comparator(e.key,t.key):function(l,h,f){const m=h.data.field(l),y=f.data.field(l);return m!==null&&y!==null?$o(m,y):Ce()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return nv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new gt(Re.comparator);function ci(){return fA}const Ev=new gt(Re.comparator);function $a(...r){let e=Ev;for(const t of r)e=e.insert(t.key,t);return e}function wv(r){let e=Ev;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Os(){return Ga()}function Tv(){return Ga()}function Ga(){return new zs(r=>r.toString(),(r,e)=>r.isEqual(e))}const pA=new gt(Re.comparator),mA=new Ot(Re.comparator);function $e(...r){let e=mA;for(const t of r)e=e.add(t);return e}const gA=new Ot(ze);function yA(){return gA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function Iv(r){return{integerValue:""+r}}function _A(r,e){return H0(e)?Iv(e):Rf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function vA(r,e,t){return r instanceof uc?function(o,l){const h={fields:{[sv]:{stringValue:iv},[av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Tf(l)&&(l=kc(l)),l&&(h.fields[ov]=l),{mapValue:h}}(t,e):r instanceof il?Av(r,e):r instanceof sl?Rv(r,e):function(o,l){const h=Sv(o,l),f=vy(h)+vy(o.Ie);return Gd(h)&&Gd(o.Ie)?Iv(f):Rf(o.serializer,f)}(r,e)}function EA(r,e,t){return r instanceof il?Av(r,e):r instanceof sl?Rv(r,e):t}function Sv(r,e){return r instanceof cc?function(i){return Gd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class uc extends bc{}class il extends bc{constructor(e){super(),this.elements=e}}function Av(r,e){const t=Cv(e);for(const i of r.elements)t.some(o=>Mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class sl extends bc{constructor(e){super(),this.elements=e}}function Rv(r,e){let t=Cv(e);for(const i of r.elements)t=t.filter(o=>!Mr(o,i));return{arrayValue:{values:t}}}class cc extends bc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function vy(r){return Et(r.integerValue||r.doubleValue)}function Cv(r){return If(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wA(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof il&&o instanceof il||i instanceof sl&&o instanceof sl?zo(i.elements,o.elements,Mr):i instanceof cc&&o instanceof cc?Mr(i.Ie,o.Ie):i instanceof uc&&o instanceof uc}(r.transform,e.transform)}class TA{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oc{}function Pv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xv(r.key,gr.none()):new dl(r.key,r.data,gr.none());{const t=r.data,i=An.empty();let o=new Ot(Jt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new os(r.key,i,new jn(o.toArray()),gr.none())}}function IA(r,e,t){r instanceof dl?function(o,l,h){const f=o.value.clone(),m=wy(o.fieldTransforms,l,h.transformResults);f.setAll(m),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof os?function(o,l,h){if(!qu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=wy(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(kv(o)),m.setAll(f),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Qa(r,e,t,i){return r instanceof dl?function(l,h,f,m){if(!qu(l.precondition,h))return f;const y=l.value.clone(),E=Ty(l.fieldTransforms,m,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof os?function(l,h,f,m){if(!qu(l.precondition,h))return f;const y=Ty(l.fieldTransforms,m,h),E=h.data;return E.setAll(kv(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(r,e,t,i):function(l,h,f){return qu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function SA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=Sv(i.transform,o||null);l!=null&&(t===null&&(t=An.empty()),t.set(i.field,l))}return t||null}function Ey(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&zo(i,o,(l,h)=>wA(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class dl extends Oc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Oc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function wy(r,e,t){const i=new Map;Ze(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,EA(h,f,t[o]))}return i}function Ty(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,vA(l,h,e))}return i}class xv extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends Oc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&IA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qa(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Tv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const m=Pv(h,f);m!==null&&i.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,i)=>Ey(t,i))&&zo(this.baseMutations,e.baseMutations,(t,i)=>Ey(t,i))}}class Cf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ze(e.mutations.length===i.length);let o=function(){return pA}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Cf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function kA(r){switch(r){case Z.OK:return Ce();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce()}}function Nv(r){if(r===void 0)return ui("GRPC error has no .code"),Z.UNKNOWN;switch(r){case It.OK:return Z.OK;case It.CANCELLED:return Z.CANCELLED;case It.UNKNOWN:return Z.UNKNOWN;case It.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case It.INTERNAL:return Z.INTERNAL;case It.UNAVAILABLE:return Z.UNAVAILABLE;case It.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case It.NOT_FOUND:return Z.NOT_FOUND;case It.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case It.ABORTED:return Z.ABORTED;case It.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case It.DATA_LOSS:return Z.DATA_LOSS;default:return Ce()}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Qi([4294967295,4294967295],0);function Iy(r){const e=Wd().encode(r),t=new K_;return t.update(e),new Uint8Array(t.digest())}function Sy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qi([t,i],0),new Qi([o,l],0)]}class Pf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ha(`Invalid padding: ${t}`);if(i<0)throw new Ha(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Qi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Qi.fromNumber(i)));return o.compare(xA)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Iy(e),[i,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Pf(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const t=Iy(e),[i,o]=Sy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(i,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lc(De.min(),o,new gt(ze),ci(),$e())}}class fl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fl(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Dv{constructor(e,t){this.targetId=e,this.ge=t}}class bv{constructor(e,t,i=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Ay{constructor(){this.pe=0,this.ye=Ry(),this.we=Yt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=$e(),t=$e(),i=$e();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce()}}),new fl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Ry()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new gt(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Xd(l))if(i===0){const h=new Re(l.path);this.ze(t,h,an.newNoDocument(h,De.min()))}else Ze(i===1);else{const h=this.et(t);if(h!==i){const f=this.tt(e),m=f?this.nt(f,e,h):1;if(m!==0){this.Ye(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=es(i).toUint8Array()}catch(m){if(m instanceof rv)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Pf(h,o,l)}catch(m){return Bo(m instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const f=this.Xe(h);if(f){if(l.current&&Xd(f.target)){const m=new Re(f.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,an.newNoDocument(m,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let i=$e();this.Ue.forEach((l,h)=>{let f=!0;h.forEachWhile(m=>{const y=this.Xe(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Lc(e,t,this.Ke,this.Qe,i);return this.Qe=ci(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new gt(ze),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ay,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ot(ze),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ot(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ay),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Fu(){return new gt(Re.comparator)}function Ry(){return new gt(Re.comparator)}const DA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OA={and:"AND",or:"OR"};class LA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function hc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ov(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function VA(r,e){return hc(r,e.toTimestamp())}function Lr(r){return Ze(!!r),De.fromTimestamp(function(t){const i=Zi(t);return new bt(i.seconds,i.nanos)}(r))}function kf(r,e){return Zd(r,e).canonicalString()}function Zd(r,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Lv(r){const e=ht.fromString(r);return Ze(Uv(e)),e}function ef(r,e){return kf(r.databaseId,e.path)}function Dd(r,e){const t=Lv(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(Mv(t))}function Vv(r,e){return kf(r.databaseId,e)}function MA(r){const e=Lv(r);return e.length===4?ht.emptyPath():Mv(e)}function tf(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Mv(r){return Ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Cy(r,e,t){return{name:ef(r,e),fields:t.value.mapValue.fields}}function jA(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const E=y.code===void 0?Z.UNKNOWN:Nv(y.code);return new _e(E,y.message||"")}(h);t=new bv(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Dd(r,i.document.name),l=Lr(i.document.updateTime),h=i.document.createTime?Lr(i.document.createTime):De.min(),f=new An({mapValue:{fields:i.document.fields}}),m=an.newFoundDocument(o,l,h,f),y=i.targetIds||[],E=i.removedTargetIds||[];t=new Ku(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Dd(r,i.document),l=i.readTime?Lr(i.readTime):De.min(),h=an.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Ku([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Dd(r,i.document),l=i.removedTargetIds||[];t=new Ku([],l,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new PA(o,l),f=i.targetId;t=new Dv(f,h)}}return t}function FA(r,e){let t;if(e instanceof dl)t={update:Cy(r,e.key,e.value)};else if(e instanceof xv)t={delete:ef(r,e.key)};else if(e instanceof os)t={update:Cy(r,e.key,e.data),updateMask:GA(e.fieldMask)};else{if(!(e instanceof AA))return Ce();t={verify:ef(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof uc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof il)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof cc)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:VA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce()}(r,e.precondition)),t}function UA(r,e){return r&&r.length>0?(Ze(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?Lr(o.updateTime):Lr(l);return h.isEqual(De.min())&&(h=Lr(l)),new TA(h,o.transformResults||[])}(t,e))):[]}function BA(r,e){return{documents:[Vv(r,e.path)]}}function zA(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Vv(r,o);const l=function(y){if(y.length!==0)return Fv(jr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:xo(I.field),direction:WA(I.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Yd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function $A(r){let e=MA(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ze(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const I=jv(S);return I instanceof jr&&fv(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(I=>function(z){return new lc(No(z.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(S){let I;return I=typeof S=="object"?S.value:S,Pc(I)?null:I}(t.limit));let m=null;t.startAt&&(m=function(S){const I=!!S.before,N=S.values||[];return new ac(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const I=!S.before,N=S.values||[];return new ac(N,I)}(t.endAt)),lA(e,o,h,l,f,"F",m,y)}function HA(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jv(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=No(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(t.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(t){return Dt.create(No(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return jr.create(t.compositeFilter.filters.map(i=>jv(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(r):Ce()}function WA(r){return DA[r]}function qA(r){return bA[r]}function KA(r){return OA[r]}function xo(r){return{fieldPath:r.canonicalString()}}function No(r){return Jt.fromServerFormat(r.fieldPath)}function Fv(r){return r instanceof Dt?function(t){if(t.op==="=="){if(py(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(fy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(py(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(fy(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:qA(t.op),value:t.value}}}(r):r instanceof jr?function(t){const i=t.getFilters().map(o=>Fv(o));return i.length===1?i[0]:{compositeFilter:{op:KA(t.op),filters:i}}}(r):Ce()}function GA(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,i,o,l=De.min(),h=De.min(),f=Yt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.Tt=e}}function XA(r){const e=$A({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.Tn=new YA}addToCollectionParentIndex(e,t){return this.Tn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Yi.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class YA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ot(ht.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ot(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bv=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Bv,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Wo(0)}static Kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",ZA=1048576;function xy([r,e],[t,i]){const o=ze(r,t);return o===0?ze(e,i):o}class eR{constructor(e){this.Hn=e,this.buffer=new Ot(xy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(ky,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yo(t)?ce(ky,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.er(3e5)})}}class nR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Cc.ae);const i=new eR(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Py)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Py):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,h,f,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),Po()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${S} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function rR(r,e){return new nR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Qa(i.mutation,o,jn.empty(),bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const o=Os();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=$a();return l.forEach((f,m)=>{h=h.insert(f,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=Os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=ci();const h=Ga(),f=function(){return Ga()}();return t.forEach((m,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof os)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Qa(E.mutation,y,E.mutation.getFieldMask(),bt.now())):h.set(y.key,jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var S;return f.set(y,new sR(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ga();let o=new gt((h,f)=>h-f),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let E=i.get(m)||jn.empty();E=f.applyToLocalView(y,E),i.set(m,E);const S=(o.get(f.batchId)||$e()).add(m);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,E=m.value,S=Tv();E.forEach(I=>{if(!l.has(I)){const N=Pv(t.get(I),i.get(I));N!==null&&S.set(I,N),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Q.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return Re.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Os());let f=el,m=l;return h.next(y=>Q.forEach(y,(E,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{m=m.insert(E,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,$e())).next(E=>({batchId:f,changes:wv(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let o=$a();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=$a();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,m=>{const y=function(S,I){return new xc(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(E=>{E.forEach((S,I)=>{h=h.insert(S,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((m,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,an.newInvalidDocument(E)))});let f=$a();return h.forEach((m,y)=>{const E=l.get(m);E!==void 0&&Qa(E.mutation,y,jn.empty(),bt.now()),Dc(t,y)&&(f=f.insert(m,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Q.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:XA(o.bundledQuery),readTime:Lr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.overlays=new gt(Re.comparator),this.Rr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Os();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Os(),l=t.length+1,h=new Re(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new gt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=l.get(y.largestBatchId);E===null&&(E=Os(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const f=Os(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,E)=>f.set(y,E)),!(f.size()>=o)););return Q.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new CA(t,i));let l=this.Rr.get(t);l===void 0&&(l=$e(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.Vr=new Ot(Bt.mr),this.gr=new Ot(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Bt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Bt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Re(new ht([])),i=new Bt(t,e),o=new Bt(t,e+1),l=[];return this.gr.forEachInRange([i,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new ht([])),i=new Bt(t,e),o=new Bt(t,e+1);let l=$e();return this.gr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Bt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(Bt.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new Bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?wf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],h=>{const f=this.Or(h.Cr);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ot(ze);return t.forEach(o=>{const l=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],f=>{i=i.add(f.Cr)})}),Q.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const h=new Bt(new Re(l),0);let f=new Ot(ze);return this.Mr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(m.Cr)),!0)},h),Q.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Q.forEach(t.mutations,o=>{const l=new Bt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Bt(t,0),o=this.Mr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.kr=e,this.docs=function(){return new gt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let i=ci();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():an.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=ci();const h=t.path,f=new Re(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||U0(F0(E),i)<=0||(o.has(E.key)||Dc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ce()}qr(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dR(this)}getSize(e){return Q.resolve(this.size)}}class dR extends iR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.Qr=new zs(t=>Sf(t),Af),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xf,this.targetCount=0,this.Kr=Wo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),Q.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.zn(t),Q.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Cc(0),this.zr=!1,this.zr=!0,this.jr=new uR,this.referenceDelegate=e(this),this.Hr=new fR(this),this.indexManager=new JA,this.remoteDocumentCache=function(o){return new hR(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new QA(t),this.Yr=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new cR(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new pR(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return Q.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class pR extends z0{constructor(e){super(),this.currentSequenceNumber=e}}class Nf{constructor(e){this.persistence=e,this.ti=new xf,this.ni=null}static ri(e){return new Nf(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Q.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,i=>{const o=Re.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,De.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Q.or([()=>Q.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dc{constructor(e,t){this.persistence=e,this.oi=new zs(i=>W0(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=rR(this,t)}static ri(e,t){return new dc(e,t)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return Q.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(f=>{f||(i++,l.removeEntry(h,De.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hu(e.data.value)),t}ar(e,t,i){return Q.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=$e(),o=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Df(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dS()?8:$0(ln())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new mR;return this._s(e,t,h).next(f=>{if(l.result=f,this.Xi)return this.us(e,t,h,f.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Po()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Po()<=Be.DEBUG&&ce("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Po()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):Q.resolve())}rs(e,t){if(_y(t))return Q.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Jd(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=$e(...l);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.cs(t,f);return this.ls(t,y,h,m.readTime)?this.rs(e,Jd(t,null,"F")):this.hs(e,y,t,m)}))})))}ss(e,t,i,o){return _y(t)||o.isEqual(De.min())?Q.resolve(null):this.ns.getDocuments(e,i).next(l=>{const h=this.cs(t,l);return this.ls(t,h,i,o)?Q.resolve(null):(Po()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.hs(e,h,t,j0(o,el)).next(f=>f))})}cs(e,t){let i=new Ot(vv(e));return t.forEach((o,l)=>{Dc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return Po()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ns.getDocumentsMatchingQuery(e,t,Yi.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="LocalStore",yR=3e8;class _R{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new gt(ze),this.Is=new zs(l=>Sf(l),Af),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vR(r,e,t,i){return new _R(r,e,t,i)}async function $v(r,e){const t=be(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let m=$e();for(const y of o){h.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of l){f.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(i,m).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:f}))})})}function ER(r,e){const t=be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,m,y,E){const S=y.batch,I=S.keys();let N=Q.resolve();return I.forEach(z=>{N=N.next(()=>E.getEntry(m,z)).next(j=>{const M=y.docVersions.get(z);Ze(M!==null),j.version.compareTo(M)<0&&(S.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),E.addEntry(j)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(m,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=$e();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Hv(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wR(r,e){const t=be(r),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;f.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,S)));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Yt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),o=o.insert(S,N),function(j,M,te){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=yR?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(I,N,E)&&f.push(t.Hr.updateTargetData(l,N))});let m=ci(),y=$e();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(TR(l,h,e.documentUpdates).next(E=>{m=E.Vs,y=E.fs})),!i.isEqual(De.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(E)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.Ts=o,l))}function TR(r,e,t){let i=$e(),o=$e();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let h=ci();return t.forEach((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):ce(bf,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function IR(r,e){const t=be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=wf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function SR(r,e){const t=be(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Hr.allocateTargetId(i).next(h=>(o=new Wi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function nf(r,e,t){const i=be(r),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Yo(h))throw h;ce(bf,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Ny(r,e,t){const i=be(r);let o=De.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",h=>function(m,y,E){const S=be(m),I=S.Is.get(E);return I!==void 0?Q.resolve(S.Ts.get(I)):S.Hr.getTargetData(y,E)}(i,h,Or(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(h,f.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(h,e,t?o:De.min(),t?l:$e())).next(f=>(AR(i,hA(e),f),{documents:f,gs:l})))}function AR(r,e,t){let i=r.Es.get(e)||De.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.Es.set(e,i)}class Dy{constructor(){this.activeTargetIds=yA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RR{constructor(){this.ho=new Dy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Dy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="ConnectivityMonitor";class Oy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(by,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(by,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function rf(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===sc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const h=rf(),f=this.bo(e,t.toUriEncodedString());ce(bd,`Sending RPC '${e}' ${h}:`,f,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,l),this.vo(e,f,m,i).then(y=>(ce(bd,`Received RPC '${e}' ${h}: `,y),y),y=>{throw Bo(bd,`RPC '${e}' ${h} failed with error: `,y,"url: ",f,"request:",i),y})}Co(e,t,i,o,l,h){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=PR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class NR extends kR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=rf();return new Promise((h,f)=>{const m=new G_;m.setWithCredentials(!0),m.listenOnce(Q_.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case $u.NO_ERROR:const E=m.getResponseJson();ce(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case $u.TIMEOUT:ce(sn,`RPC '${e}' ${l} timed out`),f(new _e(Z.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const S=m.getStatus();if(ce(sn,`RPC '${e}' ${l} failed with status:`,S,"response text:",m.getResponseText()),S>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const z=function(M){const te=M.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(te)>=0?te:Z.UNKNOWN}(N.status);f(new _e(z,N.message))}else f(new _e(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new _e(Z.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(sn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ce(sn,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=rf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Y_(),f=J_(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const E=l.join("");ce(sn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const S=h.createWebChannel(E,m);let I=!1,N=!1;const z=new xR({Fo:M=>{N?ce(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(I||(ce(sn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),ce(sn,`RPC '${e}' stream ${o} sending:`,M),S.send(M))},Mo:()=>S.close()}),j=(M,te,ne)=>{M.listen(te,oe=>{try{ne(oe)}catch(ae){setTimeout(()=>{throw ae},0)}})};return j(S,za.EventType.OPEN,()=>{N||(ce(sn,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),j(S,za.EventType.CLOSE,()=>{N||(N=!0,ce(sn,`RPC '${e}' stream ${o} transport closed`),z.Uo())}),j(S,za.EventType.ERROR,M=>{N||(N=!0,Bo(sn,`RPC '${e}' stream ${o} transport errored:`,M),z.Uo(new _e(Z.UNAVAILABLE,"The operation could not be completed")))}),j(S,za.EventType.MESSAGE,M=>{var te;if(!N){const ne=M.data[0];Ze(!!ne);const oe=ne,ae=(oe==null?void 0:oe.error)||((te=oe[0])===null||te===void 0?void 0:te.error);if(ae){ce(sn,`RPC '${e}' stream ${o} received error:`,ae);const je=ae.status;let Pe=function(P){const D=It[P];if(D!==void 0)return Nv(D)}(je),b=ae.message;Pe===void 0&&(Pe=Z.INTERNAL,b="Unknown error status: "+je+" with message "+ae.message),N=!0,z.Uo(new _e(Pe,b)),S.close()}else ce(sn,`RPC '${e}' stream ${o} received:`,ne),z.Ko(ne)}}),j(f,X_.STAT_EVENT,M=>{M.stat===Hd.PROXY?ce(sn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Hd.NOPROXY&&ce(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new LA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="PersistentStream";class qv{constructor(e,t,i,o,l,h,f,m){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Wv(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new _e(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(Ly,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(Ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DR extends qv{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=jA(this.serializer,e),i=function(l){if(!("targetChange"in l))return De.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?De.min():h.readTime?Lr(h.readTime):De.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=tf(this.serializer),t.addTarget=function(l,h){let f;const m=h.target;if(f=Xd(m)?{documents:BA(l,m)}:{query:zA(l,m).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Ov(l,h.resumeToken);const y=Yd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(De.min())>0){f.readTime=hc(l,h.snapshotVersion.toTimestamp());const y=Yd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=HA(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=tf(this.serializer),t.removeTarget=e,this.I_(t)}}class bR extends qv{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=UA(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=tf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>FA(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class LR extends OR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,Zd(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(Z.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,Zd(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(Z.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class MR{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{i.enqueueAndForget(async()=>{$s(this)&&(ce(Fs,"Restarting streams for network reachability change."),await async function(m){const y=be(m);y.W_.add(4),await pl(y),y.j_.set("Unknown"),y.W_.delete(4),await Mc(y)}(this))})}),this.j_=new VR(i,o)}}async function Mc(r){if($s(r))for(const e of r.G_)await e(!0)}async function pl(r){for(const e of r.G_)await e(!1)}function Kv(r,e){const t=be(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Mf(t)?Vf(t):Zo(t).c_()&&Lf(t,e))}function Of(r,e){const t=be(r),i=Zo(t);t.K_.delete(e),i.c_()&&Gv(t,e),t.K_.size===0&&(i.c_()?i.P_():$s(t)&&t.j_.set("Unknown"))}function Lf(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(r).y_(e)}function Gv(r,e){r.H_.Ne(e),Zo(r).w_(e)}function Vf(r){r.H_=new NA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.j_.B_()}function Mf(r){return $s(r)&&!Zo(r).u_()&&r.K_.size>0}function $s(r){return be(r).W_.size===0}function Qv(r){r.H_=void 0}async function jR(r){r.j_.set("Online")}async function FR(r){r.K_.forEach((e,t)=>{Lf(r,e)})}async function UR(r,e){Qv(r),Mf(r)?(r.j_.q_(e),Vf(r)):r.j_.set("Unknown")}async function BR(r,e,t){if(r.j_.set("Online"),e instanceof bv&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.K_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(i){ce(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fc(r,i)}else if(e instanceof Ku?r.H_.We(e):e instanceof Dv?r.H_.Ze(e):r.H_.je(e),!t.isEqual(De.min()))try{const i=await Hv(r.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.H_.ot(h);return f.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.K_.get(y);E&&l.K_.set(y,E.withResumeToken(m.resumeToken,h))}}),f.targetMismatches.forEach((m,y)=>{const E=l.K_.get(m);if(!E)return;l.K_.set(m,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Gv(l,m);const S=new Wi(E.target,m,y,E.sequenceNumber);Lf(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){ce(Fs,"Failed to raise snapshot:",i),await fc(r,i)}}async function fc(r,e,t){if(!Yo(e))throw e;r.W_.add(1),await pl(r),r.j_.set("Offline"),t||(t=()=>Hv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Fs,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Mc(r)})}function Xv(r,e){return e().catch(t=>fc(r,t,e))}async function jc(r){const e=be(r),t=ns(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:wf;for(;zR(e);)try{const o=await IR(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,$R(e,o)}catch(o){await fc(e,o)}Jv(e)&&Yv(e)}function zR(r){return $s(r)&&r.U_.length<10}function $R(r,e){r.U_.push(e);const t=ns(r);t.c_()&&t.S_&&t.b_(e.mutations)}function Jv(r){return $s(r)&&!ns(r).u_()&&r.U_.length>0}function Yv(r){ns(r).start()}async function HR(r){ns(r).C_()}async function WR(r){const e=ns(r);for(const t of r.U_)e.b_(t.mutations)}async function qR(r,e,t){const i=r.U_.shift(),o=Cf.from(i,e,t);await Xv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jc(r)}async function KR(r,e){e&&ns(r).S_&&await async function(i,o){if(function(h){return kA(h)&&h!==Z.ABORTED}(o.code)){const l=i.U_.shift();ns(i).h_(),await Xv(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await jc(i)}}(r,e),Jv(r)&&Yv(r)}async function Vy(r,e){const t=be(r);t.asyncQueue.verifyOperationInProgress(),ce(Fs,"RemoteStore received new credentials");const i=$s(t);t.W_.add(3),await pl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mc(t)}async function GR(r,e){const t=be(r);e?(t.W_.delete(2),await Mc(t)):e||(t.W_.add(2),await pl(t),t.j_.set("Unknown"))}function Zo(r){return r.J_||(r.J_=function(t,i,o){const l=be(t);return l.M_(),new DR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:jR.bind(null,r),No:FR.bind(null,r),Lo:UR.bind(null,r),p_:BR.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mf(r)?Vf(r):r.j_.set("Unknown")):(await r.J_.stop(),Qv(r))})),r.J_}function ns(r){return r.Y_||(r.Y_=function(t,i,o){const l=be(t);return l.M_(),new bR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:HR.bind(null,r),Lo:KR.bind(null,r),D_:WR.bind(null,r),v_:qR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await jc(r)):(await r.Y_.stop(),r.U_.length>0&&(ce(Fs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new jf(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Yo(r))return new _e(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=$a(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Z_=new gt(Re.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class qo{constructor(e,t,i,o,l,h,f,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new qo(e,t,Lo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XR{constructor(){this.queries=jy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=be(t),l=o.queries;o.queries=jy(),l.forEach((h,f)=>{for(const m of f.ta)m.onError(i)})})(this,new _e(Z.ABORTED,"Firestore shutting down"))}}function jy(){return new zs(r=>_v(r),Nc)}async function JR(r,e){const t=be(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new QR,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Ff(h,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Uf(t)}async function YR(r,e){const t=be(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZR(r,e){const t=be(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.ta)f.oa(o)&&(i=!0);h.ea=o}}i&&Uf(t)}function eC(r,e,t){const i=be(r),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function Uf(r){r.ia.forEach(e=>{e.next()})}var sf,Fy;(Fy=sf||(sf={}))._a="default",Fy.Cache="cache";class tC{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class nC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=vv(e),this.wa=new Lo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new My,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),N=Dc(this.query,S)?S:null,z=!!I&&this.mutatedKeys.has(I.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let M=!1;I&&N?I.data.isEqual(N.data)?z!==j&&(i.track({type:3,doc:N}),M=!0):this.va(I,N)||(i.track({type:2,doc:N}),M=!0,(m&&this.ya(N,m)>0||y&&this.ya(N,y)<0)&&(f=!0)):!I&&N?(i.track({type:0,doc:N}),M=!0):I&&!N&&(i.track({type:1,doc:I}),M=!0,(m||y)&&(f=!0)),M&&(N?(h=h.add(N),l=j?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{wa:h,Da:i,ls:f,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(N,z){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return j(N)-j(z)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,y=m!==this.ga;return this.ga=m,h.length!==0||y?{snapshot:new qo(this.query,e.wa,l,h,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new My,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new eE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Zv(i))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bf="SyncEngine";class rC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iC{constructor(e){this.key=e,this.Ba=!1}}class sC{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new zs(f=>_v(f),Nc),this.qa=new Map,this.Qa=new Set,this.$a=new gt(Re.comparator),this.Ua=new Map,this.Ka=new xf,this.Wa={},this.Ga=new Map,this.za=Wo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oC(r,e,t=!0){const i=oE(r);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await tE(i,e,t,!0),o}async function aC(r,e){const t=oE(r);await tE(t,e,!0,!1)}async function tE(r,e,t,i){const o=await SR(r.localStore,Or(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await lC(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Kv(r.remoteStore,o),f}async function lC(r,e,t,i,o){r.Ha=(S,I,N)=>async function(j,M,te,ne){let oe=M.view.ba(te);oe.ls&&(oe=await Ny(j.localStore,M.query,!1).then(({documents:b})=>M.view.ba(b,oe)));const ae=ne&&ne.targetChanges.get(M.targetId),je=ne&&ne.targetMismatches.get(M.targetId)!=null,Pe=M.view.applyChanges(oe,j.isPrimaryClient,ae,je);return By(j,M.targetId,Pe.Ma),Pe.snapshot}(r,S,I,N);const l=await Ny(r.localStore,e,!0),h=new nC(e,l.gs),f=h.ba(l.documents),m=fl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,m);By(r,t,y.Ma);const E=new rC(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function uC(r,e,t){const i=be(r),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(h=>!Nc(h,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await nf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Of(i.remoteStore,o.targetId),of(i,o.targetId)}).catch(Jo)):(of(i,o.targetId),await nf(i.localStore,o.targetId,!0))}async function cC(r,e){const t=be(r),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Of(t.remoteStore,i.targetId))}async function hC(r,e,t){const i=_C(r);try{const o=await function(h,f){const m=be(h),y=bt.now(),E=f.reduce((N,z)=>N.add(z.key),$e());let S,I;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let z=ci(),j=$e();return m.ds.getEntries(N,E).next(M=>{z=M,z.forEach((te,ne)=>{ne.isValidDocument()||(j=j.add(te))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,z)).next(M=>{S=M;const te=[];for(const ne of f){const oe=SA(ne,S.get(ne.key).overlayedDocument);oe!=null&&te.push(new os(ne.key,oe,cv(oe.value.mapValue),gr.exists(!0)))}return m.mutationQueue.addMutationBatch(N,y,te,f)}).next(M=>{I=M;const te=M.applyToLocalDocumentSet(S,j);return m.documentOverlayCache.saveOverlays(N,M.batchId,te)})}).then(()=>({batchId:I.batchId,changes:wv(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,m){let y=h.Wa[h.currentUser.toKey()];y||(y=new gt(ze)),y=y.insert(f,m),h.Wa[h.currentUser.toKey()]=y}(i,o.batchId,t),await ml(i,o.changes),await jc(i.remoteStore)}catch(o){const l=Ff(o,"Failed to persist write");t.reject(l)}}async function nE(r,e){const t=be(r);try{const i=await wR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ua.get(l);h&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ze(h.Ba):o.removedDocuments.size>0&&(Ze(h.Ba),h.Ba=!1))}),await ml(t,i,e)}catch(i){await Jo(i)}}function Uy(r,e,t){const i=be(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const m=be(h);m.onlineState=f;let y=!1;m.queries.forEach((E,S)=>{for(const I of S.ta)I.sa(f)&&(y=!0)}),y&&Uf(m)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dC(r,e,t){const i=be(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),l=o&&o.key;if(l){let h=new gt(Re.comparator);h=h.insert(l,an.newNoDocument(l,De.min()));const f=$e().add(l),m=new Lc(De.min(),new Map,new gt(ze),h,f);await nE(i,m),i.$a=i.$a.remove(l),i.Ua.delete(e),zf(i)}else await nf(i.localStore,e,!1).then(()=>of(i,e,t)).catch(Jo)}async function fC(r,e){const t=be(r),i=e.batch.batchId;try{const o=await ER(t.localStore,e);iE(t,i,null),rE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ml(t,o)}catch(o){await Jo(o)}}async function pC(r,e,t){const i=be(r);try{const o=await function(h,f){const m=be(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return m.mutationQueue.lookupMutationBatch(y,f).next(S=>(Ze(S!==null),E=S.keys(),m.mutationQueue.removeMutationBatch(y,S))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>m.localDocuments.getDocuments(y,E))})}(i.localStore,e);iE(i,e,t),rE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ml(i,o)}catch(o){await Jo(o)}}function rE(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function iE(r,e,t){const i=be(r);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function of(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.qa.get(e))r.ka.delete(i),t&&r.La.Ja(i,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(i=>{r.Ka.containsKey(i)||sE(r,i)})}function sE(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Of(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),zf(r))}function By(r,e,t){for(const i of t)i instanceof Zv?(r.Ka.addReference(i.key,e),mC(r,i)):i instanceof eE?(ce(Bf,"Document no longer in limbo: "+i.key),r.Ka.removeReference(i.key,e),r.Ka.containsKey(i.key)||sE(r,i.key)):Ce()}function mC(r,e){const t=e.key,i=t.path.canonicalString();r.$a.get(t)||r.Qa.has(i)||(ce(Bf,"New document in limbo: "+t),r.Qa.add(i),zf(r))}function zf(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Re(ht.fromString(e)),i=r.za.next();r.Ua.set(i,new iC(t)),r.$a=r.$a.insert(t,i),Kv(r.remoteStore,new Wi(Or(yv(t.path)),i,"TargetPurposeLimboResolution",Cc.ae))}}async function ml(r,e,t){const i=be(r),o=[],l=[],h=[];i.ka.isEmpty()||(i.ka.forEach((f,m)=>{h.push(i.Ha(m,e,t).then(y=>{var E;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Df.Yi(m.targetId,y);l.push(S)}}))}),await Promise.all(h),i.La.p_(o),await async function(m,y){const E=be(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(y,I=>Q.forEach(I.Hi,N=>E.persistence.referenceDelegate.addReference(S,I.targetId,N)).next(()=>Q.forEach(I.Ji,N=>E.persistence.referenceDelegate.removeReference(S,I.targetId,N)))))}catch(S){if(!Yo(S))throw S;ce(bf,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const N=E.Ts.get(I),z=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(z);E.Ts=E.Ts.insert(I,j)}}}(i.localStore,l))}async function gC(r,e){const t=be(r);if(!t.currentUser.isEqual(e)){ce(Bf,"User change. New user:",e.toKey());const i=await $v(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(f=>{f.forEach(m=>{m.reject(new _e(Z.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ml(t,i.Rs)}}function yC(r,e){const t=be(r),i=t.Ua.get(e);if(i&&i.Ba)return $e().add(i.key);{let o=$e();const l=t.qa.get(e);if(!l)return o;for(const h of l){const f=t.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function oE(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dC.bind(null,e),e.La.p_=ZR.bind(null,e.eventManager),e.La.Ja=eC.bind(null,e.eventManager),e}function _C(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vR(this.persistence,new gR,e.initialUser,this.serializer)}Xa(e){return new zv(Nf.ri,this.serializer)}Za(e){return new RR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class vC extends pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof dc);const i=this.persistence.referenceDelegate.garbageCollector;return new tR(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new zv(i=>dc.ri(i,t),this.serializer)}}class af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Uy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XR}()}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),i=function(l){return new NR(l)}(e.databaseInfo);return function(l,h,f,m){return new LR(l,h,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new MR(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Uy(this.syncEngine,t,0),function(){return Oy.D()?new Oy:new CR}())}createSyncEngine(e,t){return function(o,l,h,f,m,y,E){const S=new sC(o,l,h,f,m,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=be(o);ce(Fs,"RemoteStore shutting down."),l.W_.add(5),await pl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}af.provider={build:()=>new af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class wC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ce(rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ce(rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ff(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),ce(rs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await $v(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function zy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await TC(r);ce(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>Vy(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>Vy(e.remoteStore,o)),r._onlineComponents=e}async function TC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(rs,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Ld(r,new pc)}}else ce(rs,"Using default OfflineComponentProvider"),await Ld(r,new vC(void 0));return r._offlineComponents}async function aE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(rs,"Using user provided OnlineComponentProvider"),await zy(r,r._uninitializedComponentsProvider._online)):(ce(rs,"Using default OnlineComponentProvider"),await zy(r,new af))),r._onlineComponents}function IC(r){return aE(r).then(e=>e.syncEngine)}async function SC(r){const e=await aE(r),t=e.eventManager;return t.onListen=oC.bind(null,e.syncEngine),t.onUnlisten=uC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cC.bind(null,e.syncEngine),t}function AC(r,e,t={}){const i=new Xi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,m,y){const E=new EC({next:I=>{E.su(),h.enqueueAndForget(()=>YR(l,S)),I.fromCache&&m.source==="server"?y.reject(new _e(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new tC(f,E,{includeMetadataChanges:!0,Ta:!0});return JR(l,S)}(await SC(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(r,e,t){if(!t)throw new _e(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function RC(r,e,t,i){if(e===!0&&i===!0)throw new _e(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Hy(r){if(!Re.isDocumentKey(r))throw new _e(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wy(r){if(Re.isDocumentKey(r))throw new _e(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function is(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$f(r);throw new _e(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firestore.googleapis.com",qy=!0;class Ky{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cE,this.ssl=qy}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZA)throw new _e(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new x0;switch(i.type){case"firstParty":return new O0(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=$y.get(t);i&&(ce("ComponentProvider","Removing Datastore"),$y.delete(t),i.terminate())}(this),Promise.resolve()}}function CC(r,e,t,i={}){var o;const l=(r=is(r,Fc))._getSettings(),h=`${e}:${t}`;if(l.host!==cE&&l.host!==h&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=on.MOCK_USER;else{f=sS(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new _e(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(y)}r._authCredentials=new N0(new Z_(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class Fn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Ji extends Uc{constructor(e,t,i){super(e,t,yv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Re(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function ea(r,e,...t){if(r=un(r),uE("collection","path",e),r instanceof Fc){const i=ht.fromString(e,...t);return Wy(i),new Ji(r,null,i)}{if(!(r instanceof Fn||r instanceof Ji))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return Wy(i),new Ji(r.firestore,null,i)}}function PC(r,e,...t){if(r=un(r),arguments.length===1&&(e=ev.newId()),uE("doc","path",e),r instanceof Fc){const i=ht.fromString(e,...t);return Hy(i),new Fn(r,null,new Re(i))}{if(!(r instanceof Fn||r instanceof Ji))throw new _e(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...t));return Hy(i),new Fn(r.firestore,r instanceof Ji?r.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="AsyncQueue";class Qy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Wv(this,"async_queue_retry"),this.Su=()=>{const i=Od();i&&ce(Gy,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yo(e))throw e;ce(Gy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(i);throw ui("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=jf.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class gl extends Fc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Qy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qy(e),this._firestoreClient=void 0,await e}}}function kC(r,e){const t=typeof r=="object"?r:H_(),i=typeof r=="string"?r:sc,o=vf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=rS("firestore");l&&CC(o,...l)}return o}function hE(r){if(r._terminated)throw new _e(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xC(r),r._firestoreClient}function xC(r){var e,t,i;const o=r._freezeSettings(),l=function(f,m,y,E){return new G0(f,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,lE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new wC(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(Yt.fromBase64String(e))}catch(t){throw new _e(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^__.*__$/;class DC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class dE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Kf{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fE(this.Lu)&&NC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vc(e)}ju(e,t,i,o=!1){return new Kf({Lu:e,methodName:t,zu:i,path:Jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(r){const e=r._freezeSettings(),t=Vc(r._databaseId);return new bC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function pE(r,e,t,i,o,l={}){const h=r.ju(l.merge||l.mergeFields?2:0,e,t,o);Qf("Data must be an object, but it was:",h,i);const f=mE(i,h);let m,y;if(l.merge)m=new jn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const I=lf(e,S,t);if(!h.contains(I))throw new _e(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);yE(E,I)||E.push(I)}m=new jn(E),y=h.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,y=h.fieldTransforms;return new DC(new An(f),m,y)}class zc extends Hf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function OC(r,e,t,i){const o=r.ju(1,e,t);Qf("Data must be an object, but it was:",o,i);const l=[],h=An.empty();ss(i,(m,y)=>{const E=Xf(e,m,t);y=un(y);const S=o.Uu(E);if(y instanceof zc)l.push(E);else{const I=$c(y,S);I!=null&&(l.push(E),h.set(E,I))}});const f=new jn(l);return new dE(h,f,o.fieldTransforms)}function LC(r,e,t,i,o,l){const h=r.ju(1,e,t),f=[lf(e,i,t)],m=[o];if(l.length%2!=0)throw new _e(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(lf(e,l[I])),m.push(l[I+1]);const y=[],E=An.empty();for(let I=f.length-1;I>=0;--I)if(!yE(y,f[I])){const N=f[I];let z=m[I];z=un(z);const j=h.Uu(N);if(z instanceof zc)y.push(N);else{const M=$c(z,j);M!=null&&(y.push(N),E.set(N,M))}}const S=new jn(y);return new dE(E,S,h.fieldTransforms)}function $c(r,e){if(gE(r=un(r)))return Qf("Unsupported field value:",e,r),mE(r,e);if(r instanceof Hf)return function(i,o){if(!fE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let m=$c(f,o.Ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _A(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=bt.fromDate(i);return{timestampValue:hc(o.serializer,l)}}if(i instanceof bt){const l=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hc(o.serializer,l)}}if(i instanceof Wf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ko)return{bytesValue:Ov(o.serializer,i._byteString)};if(i instanceof Fn){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:kf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof qf)return function(h,f){return{mapValue:{fields:{[lv]:{stringValue:uv},[oc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.Wu("VectorValues must only contain numeric values.");return Rf(f.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${$f(i)}`)}(r,e)}function mE(r,e){const t={};return nv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(r,(i,o)=>{const l=$c(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function gE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof Wf||r instanceof Ko||r instanceof Fn||r instanceof Hf||r instanceof qf)}function Qf(r,e,t){if(!gE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=$f(t);throw i==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+i)}}function lf(r,e,t){if((e=un(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return Xf(r,e);throw mc("Field path arguments must be of type string or ",r,!1,void 0,t)}const VC=new RegExp("[~\\*/\\[\\]]");function Xf(r,e,t){if(e.search(VC)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function mc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${i}`),h&&(m+=` in document ${o}`),m+=")"),new _e(Z.INVALID_ARGUMENT,f+r+m)}function yE(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MC extends _E{data(){return super.data()}}function vE(r,e){return typeof e=="string"?Xf(r,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ss(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[oc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new qf(l)}convertGeoPoint(e){return new Wf(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Ze(Uv(i));const o=new nl(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return o.isEqual(t)||ui(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UC extends _E{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Gu extends UC{data(e={}){return super.data(e)}}class BC{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Bu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Gu(this._firestore,this._userDataWriter,i.key,i,new Bu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const m=new Gu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Bu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Gu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Bu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:zC(f.type),doc:m,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class $C extends FC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function yl(r){r=is(r,Uc);const e=is(r.firestore,gl),t=hE(e),i=new $C(e);return jC(r._query),AC(t,r._query).then(o=>new BC(e,i,r,o))}function V1(r,e,t){r=is(r,Fn);const i=is(r.firestore,gl),o=EE(r.converter,e);return Jf(i,[pE(Gf(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,gr.none())])}function M1(r,e,t,...i){r=is(r,Fn);const o=is(r.firestore,gl),l=Gf(o);let h;return h=typeof(e=un(e))=="string"||e instanceof Bc?LC(l,"updateDoc",r._key,e,t,i):OC(l,"updateDoc",r._key,e),Jf(o,[h.toMutation(r._key,gr.exists(!0))])}function HC(r,e){const t=is(r.firestore,gl),i=PC(r),o=EE(r.converter,e);return Jf(t,[pE(Gf(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,gr.exists(!1))]).then(()=>i)}function Jf(r,e){return function(i,o){const l=new Xi;return i.asyncQueue.enqueueAndForget(async()=>hC(await IC(i),o,l)),l.promise}(hE(r),e)}(function(e,t=!0){(function(o){Xo=o})(Qo),Uo(new Ms("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new gl(new D0(i.getProvider("auth-internal")),new L0(h,i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Gi(ny,ry,e),Gi(ny,ry,"esm2017")})();var WC="firebase",qC="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(WC,qC,"app");function Yf(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=wE,TE=new cl("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new yf("@firebase/auth");function GC(r,...e){gc.logLevel<=Be.WARN&&gc.warn(`Auth (${Qo}): ${r}`,...e)}function Qu(r,...e){gc.logLevel<=Be.ERROR&&gc.error(`Auth (${Qo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,...e){throw ep(r,...e)}function yr(r,...e){return ep(r,...e)}function Zf(r,e,t){const i=Object.assign(Object.assign({},KC()),{[e]:t});return new cl("auth","Firebase",i).create(e,{appName:r.name})}function Vs(r){return Zf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QC(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fr(r,"argument-error"),Zf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return TE.create(r,...e)}function xe(r,e,...t){if(!r)throw ep(e,...t)}function ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qu(e),new Error(e)}function hi(r,e){r||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function XC(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||uS()||"connection"in navigator)?navigator.onLine:!0}function YC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=oS()||cS()}get(){return JC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){hi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new _l(3e4,6e4);function np(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ta(r,e,t,i,o={}){return SE(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=hl(Object.assign({key:r.config.apiKey},h)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:m},l);return lS()||(y.referrerPolicy="no-referrer"),IE.fetch()(AE(r,r.config.apiHost,t,f),y)})}async function SE(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},ZC),e);try{const o=new nP(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw zu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw zu(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw zu(r,"user-disabled",h);const E=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Zf(r,E,y);Fr(r,E)}}catch(o){if(o instanceof di)throw o;Fr(r,"network-request-failed",{message:String(o)})}}async function tP(r,e,t,i,o={}){const l=await ta(r,e,t,i,o);return"mfaPendingCredential"in l&&Fr(r,"multi-factor-auth-required",{_serverResponse:l}),l}function AE(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?tp(r.config,o):`${r.config.apiScheme}://${o}`}class nP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),eP.get())})}}function zu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(r,e){return ta(r,"POST","/v1/accounts:delete",e)}async function RE(r,e){return ta(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iP(r,e=!1){const t=un(r),i=await t.getIdToken(e),o=rp(i);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Xa(Vd(o.auth_time)),issuedAtTime:Xa(Vd(o.iat)),expirationTime:Xa(Vd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Vd(r){return Number(r)*1e3}function rp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=M_(t);return o?JSON.parse(o):(Qu("Failed to decode base64 JWT payload"),null)}catch(o){return Qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Jy(r){const e=rp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof di&&sP(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function sP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await ol(r,RE(t,{idToken:i}));xe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?CE(l.providerUserInfo):[],f=lP(r.providerData,h),m=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),E=m?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new cf(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function aP(r){const e=un(r);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lP(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function CE(r){return r.map(e=>{var{providerId:t}=e,i=Yf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(r,e){const t=await SE(r,{},async()=>{const i=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=AE(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cP(r,e){return ta(r,"POST","/v2/accounts:revokeToken",np(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Jy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await uP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Vo;return i&&(xe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ol(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iP(this,e)}reload(){return aP(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ol(this,rP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,m,y,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,z=(h=t.photoURL)!==null&&h!==void 0?h:void 0,j=(f=t.tenantId)!==null&&f!==void 0?f:void 0,M=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,te=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:ae,isAnonymous:je,providerData:Pe,stsTokenManager:b}=t;xe(oe&&b,e,"internal-error");const A=Vo.fromJSON(this.name,b);xe(typeof oe=="string",e,"internal-error"),Fi(S,e.name),Fi(I,e.name),xe(typeof ae=="boolean",e,"internal-error"),xe(typeof je=="boolean",e,"internal-error"),Fi(N,e.name),Fi(z,e.name),Fi(j,e.name),Fi(M,e.name),Fi(te,e.name),Fi(ne,e.name);const P=new ii({uid:oe,auth:e,email:I,emailVerified:ae,displayName:S,isAnonymous:je,photoURL:z,phoneNumber:N,tenantId:j,stsTokenManager:A,createdAt:te,lastLoginAt:ne});return Pe&&Array.isArray(Pe)&&(P.providerData=Pe.map(D=>Object.assign({},D))),M&&(P._redirectEventId=M),P}static async _fromIdTokenResponse(e,t,i=!1){const o=new Vo;o.updateFromServerResponse(t);const l=new ii({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?CE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Vo;f.updateFromIdToken(i);const m=new ii({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new cf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;function si(r){hi(r instanceof Function,"Expected a class definition");let e=Yy.get(r);return e?(hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Yy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PE.type="NONE";const Zy=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(r,e,t){return`firebase:${r}:${e}:${t}`}class Mo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Xu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Xu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mo(si(Zy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||si(Zy);const h=Xu(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const E=await y._get(h);if(E){const S=ii._fromJSON(e,E);y!==l&&(f=S),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Mo(l,e,i):(l=m[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Mo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(LE(e))return"Webos";if(xE(e))return"Safari";if((e.includes("chrome/")||NE(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kE(r=ln()){return/firefox\//i.test(r)}function xE(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NE(r=ln()){return/crios\//i.test(r)}function DE(r=ln()){return/iemobile/i.test(r)}function bE(r=ln()){return/android/i.test(r)}function OE(r=ln()){return/blackberry/i.test(r)}function LE(r=ln()){return/webos/i.test(r)}function ip(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hP(r=ln()){var e;return ip(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dP(){return hS()&&document.documentMode===10}function VE(r=ln()){return ip(r)||bE(r)||LE(r)||OE(r)||/windows phone/i.test(r)||DE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r,e=[]){let t;switch(r){case"Browser":t=e_(ln());break;case"Worker":t=`${e_(ln())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const m=e(l);h(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(r,e={}){return ta(r,"GET","/v2/passwordPolicy",np(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=6;class gP{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:mP,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new fP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RE(this,{idToken:e}),i=await ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===f)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Vs(this));const t=e?un(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pP(this),t=new gP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await cP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hc(r){return un(r)}class t_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vS(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _P(r){sp=r}function vP(r){return sp.loadJS(r)}function EP(){return sp.gapiScript}function wP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(r,e){const t=vf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(nc(l,e??{}))return o;Fr(o,"already-initialized")}return t.initialize({options:e})}function IP(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(si);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function SP(r,e,t){const i=Hc(r);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=jE(e),{host:h,port:f}=AP(e),m=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),RP()}function jE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AP(r){const e=jE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:n_(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:n_(h)}}}function n_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(r,e){return tP(r,"POST","/v1/accounts:signInWithIdp",np(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="http://localhost";class Us extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Yf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Us(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:CP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends vl{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return zi.credential(t,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends vl{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends vl{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await ii._fromIdTokenResponse(e,i,o),h=r_(i);return new Go({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=r_(i);return new Go({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function r_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends di{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new _c(e,t,i,o)}}function UE(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_c._fromErrorAndOperation(r,l,e,i):l})}async function PP(r,e,t=!1){const i=await ol(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Go._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(r,e,t=!1){const{auth:i}=r;if(mr(i.app))return Promise.reject(Vs(i));const o="reauthenticate";try{const l=await ol(r,UE(i,o,e,r),t);xe(l.idToken,i,"internal-error");const h=rp(l.idToken);xe(h,i,"internal-error");const{sub:f}=h;return xe(r.uid===f,i,"user-mismatch"),Go._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Fr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(r,e,t=!1){if(mr(r.app))return Promise.reject(Vs(r));const i="signIn",o=await UE(r,i,e),l=await Go._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function NP(r,e,t,i){return un(r).onIdTokenChanged(e,t,i)}function DP(r,e,t){return un(r).beforeAuthStateChanged(e,t)}function j1(r,e,t,i){return un(r).onAuthStateChanged(e,t,i)}function F1(r){return un(r).signOut()}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=1e3,OP=10;class zE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,m)=>{this.notifyListeners(h,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);dP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const LP=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$E.type="SESSION";const HE=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Wc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),m=await VP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,m)=>{const y=ap("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(E),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function jP(r){Vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function FP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function BP(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",zP=1,Ec="firebaseLocalStorage",KE="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qc(r,e){return r.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function $P(){const r=indexedDB.deleteDatabase(qE);return new El(r).toPromise()}function hf(){const r=indexedDB.open(qE,zP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Ec,{keyPath:KE})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Ec)?e(i):(i.close(),await $P(),e(await hf()))})})}async function i_(r,e,t){const i=qc(r,!0).put({[KE]:e,value:t});return new El(i).toPromise()}async function HP(r,e){const t=qc(r,!1).get(e),i=await new El(t).toPromise();return i===void 0?null:i.value}function s_(r,e){const t=qc(r,!0).delete(e);return new El(t).toPromise()}const WP=800,qP=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>qP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(BP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await FP(),!this.activeServiceWorker)return;this.sender=new MP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hf();return await i_(e,vc,"1"),await s_(e,vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>HP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=qc(o,!1).getAll();return new El(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const KP=GE;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,e){return e?si(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GP(r){return xP(r.auth,new lp(r),r.bypassAuthState)}function QP(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),kP(t,new lp(r),r.bypassAuthState)}async function XP(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),PP(t,new lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GP;case"linkViaPopup":case"linkViaRedirect":return XP;case"reauthViaPopup":case"reauthViaRedirect":return QP;default:Fr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new _l(2e3,1e4);async function U1(r,e,t){if(mr(r.app))return Promise.reject(yr(r,"operation-not-supported-in-this-environment"));const i=Hc(r);QC(r,e,op);const o=QE(i,t);return new Ls(i,"signInViaPopup",e,o).executeNotNull()}class Ls extends XE{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JP.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="pendingRedirect",Ju=new Map;class ZP extends XE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ju.get(this.auth._key());if(!e){try{const i=await ek(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ju.set(this.auth._key(),e)}return this.bypassAuthState||Ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ek(r,e){const t=rk(e),i=nk(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function tk(r,e){Ju.set(r._key(),e)}function nk(r){return si(r._redirectPersistence)}function rk(r){return Xu(YP,r.config.apiKey,r.name)}async function ik(r,e,t=!1){if(mr(r.app))return Promise.reject(Vs(r));const i=Hc(r),o=QE(i,e),h=await new ZP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=10*60*1e3;class ok{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ak(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!JE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(o_(e))}saveEventToCache(e){this.cachedEventUids.add(o_(e)),this.lastProcessedEventTime=Date.now()}}function o_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function JE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ak(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(r,e={}){return ta(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ck=/^https?/;async function hk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lk(r);for(const t of e)try{if(dk(t))return}catch{}Fr(r,"unauthorized-domain")}function dk(r){const e=uf(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!ck.test(t))return!1;if(uk.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new _l(3e4,6e4);function a_(){const r=Vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pk(r){return new Promise((e,t)=>{var i,o,l;function h(){a_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a_(),t(yr(r,"network-request-failed"))},timeout:fk.get()})}if(!((o=(i=Vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Vr().gapi)===null||l===void 0)&&l.load)h();else{const f=wP("iframefcb");return Vr()[f]=()=>{gapi.load?h():t(yr(r,"network-request-failed"))},vP(`${EP()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Yu=null,e})}let Yu=null;function mk(r){return Yu=Yu||pk(r),Yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new _l(5e3,15e3),yk="__/auth/iframe",_k="emulator/auth/iframe",vk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ek=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?tp(e,_k):`https://${r.config.authDomain}/${yk}`,i={apiKey:e.apiKey,appName:r.name,v:Qo},o=Ek.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${hl(i).slice(1)}`}async function Tk(r){const e=await mk(r),t=Vr().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:wk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vk,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=yr(r,"network-request-failed"),f=Vr().setTimeout(()=>{l(h)},gk.get());function m(){Vr().clearTimeout(f),o(i)}i.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,Ak=600,Rk="_blank",Ck="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pk(r,e,t,i=Sk,o=Ak){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Ik),{width:i.toString(),height:o.toString(),top:l,left:h}),y=ln().toLowerCase();t&&(f=NE(y)?Rk:t),kE(y)&&(e=e||Ck,m.scrollbars="yes");const E=Object.entries(m).reduce((I,[N,z])=>`${I}${N}=${z},`,"");if(hP(y)&&f!=="_self")return kk(e||"",f),new l_(null);const S=window.open(e||"",f,E);xe(S,r,"popup-blocked");try{S.focus()}catch{}return new l_(S)}function kk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="__/auth/handler",Nk="emulator/auth/handler",Dk=encodeURIComponent("fac");async function u_(r,e,t,i,o,l){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Qo,eventId:o};if(e instanceof op){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",_S(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof vl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const m=await r._getAppCheckToken(),y=m?`#${Dk}=${encodeURIComponent(m)}`:"";return`${bk(r)}?${hl(f).slice(1)}${y}`}function bk({config:r}){return r.emulator?tp(r,Nk):`https://${r.authDomain}/${xk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class Ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=ik,this._overrideRedirectResult=tk}async _openPopup(e,t,i,o){var l;hi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await u_(e,t,i,uf(),o);return Pk(e,h,ap())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await u_(e,t,i,uf(),o);return jP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(hi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Tk(e),i=new ok(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Md,{type:Md},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Md];h!==void 0&&t(!!h),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VE()||xE()||ip()}}const Lk=Ok;var c_="@firebase/auth",h_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jk(r){Uo(new Ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(r)},y=new yP(i,o,l,m);return IP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ms("auth-internal",e=>{const t=Hc(e.getProvider("auth").getImmediate());return(i=>new Vk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(c_,h_,Mk(r)),Gi(c_,h_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=5*60,Uk=U_("authIdTokenMaxAge")||Fk;let d_=null;const Bk=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Uk)return;const o=t==null?void 0:t.token;d_!==o&&(d_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zk(r=H_()){const e=vf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=TP(r,{popupRedirectResolver:Lk,persistence:[KP,LP,HE]}),i=U_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=Bk(l.toString());DP(t,h,()=>h(t.currentUser)),NP(t,f=>h(f))}}const o=j_("auth");return o&&SP(t,`http://${o}`),t}function $k(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}_P({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",$k().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jk("Browser");var Ns={VITE_FIREBASE_API_KEY:"AIzaSyC_S3ogmaZ9laLIetOD6eWO8HESZ7OFXEU",VITE_FIREBASE_AUTH_DOMAIN:"portfolio-d0eff.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"portfolio-d0eff",VITE_FIREBASE_STORAGE_BUCKET:"portfolio-d0eff.firebasestorage.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"68887099400",VITE_FIREBASE_APP_ID:"1:68887099400:web:a697b208557cd1eed2f9bd",VITE_FIREBASE_MEASUREMENT_ID:"G-D8JLXQDMXF"};const Hk={apiKey:Ns.VITE_FIREBASE_API_KEY,authDomain:Ns.VITE_FIREBASE_AUTH_DOMAIN,projectId:Ns.VITE_FIREBASE_PROJECT_ID,storageBucket:Ns.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Ns.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Ns.VITE_FIREBASE_APP_ID,measurementId:Ns.VITE_FIREBASE_MEASUREMENT_ID},YE=$_(Hk),na=kC(YE);zk(YE);function Wk(){const[r,e]=J.useState([]),[t,i]=J.useState(!1);J.useEffect(()=>{(async()=>{try{const f=(await yl(ea(na,"clients"))).docs.map(m=>m.data());e(f)}catch(h){console.error(h)}})()},[]);const o=()=>{i(!t)};return w.jsxs("div",{className:"happy-clients-section hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"06. "}),"What My Clients Say"]}),w.jsxs("div",{className:"happy-clients-content",children:[r==null?void 0:r.map((l,h)=>w.jsxs("div",{className:"happy-clients-card",children:[w.jsx("img",{className:"client-pic",src:`${l.image}`,alt:"client"}),w.jsx("img",{className:"quotes-pic",src:"./icons/quotes.png",alt:"quotes"}),w.jsx("h3",{children:l.name}),w.jsx("p",{children:l.description}),w.jsxs("div",{className:"client-profession",children:[w.jsx("p",{children:l.profession}),w.jsx("p",{children:l.company})]})]},h)),w.jsx("div",{className:"add-testimonial-container",children:w.jsx("button",{className:"add-testimonial-btn",onClick:o,children:"Share Your Experience"})})]}),w.jsx(QI,{isOpen:t,onClose:o,title:"Share Your Experience",children:w.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSff6tzcnt1lN26FklbTZtNm2DvUFy5iAS9Pggxz0U8dN83VsA/viewform?embedded=true",title:"Client Testimonial Form",frameBorder:"0",marginHeight:"0",marginWidth:"0",children:"Loading form..."})})]})}const qk="_servicesSection_18is4_1",Kk="_servicesContainer_18is4_7",Gk="_cardsWrapper_18is4_14",Qk="_slideOut_18is4_18",Xk="_cards_18is4_14",Jk="_card_18is4_14",Yk="_cardTitle_18is4_48",Zk="_cardText_18is4_54",e1="_cardButton_18is4_61",t1="_formWrapper_18is4_79",n1="_slideIn_18is4_88",r1="_formContent_18is4_93",i1="_formHeader_18is4_118",s1="_backButton_18is4_126",o1="_formGroup_18is4_145",a1="_submitButton_18is4_176",we={servicesSection:qk,servicesContainer:Kk,cardsWrapper:Gk,slideOut:Qk,cards:Xk,card:Jk,cardTitle:Yk,cardText:Zk,cardButton:e1,formWrapper:t1,slideIn:n1,formContent:r1,formHeader:i1,backButton:s1,formGroup:o1,submitButton:a1};function l1(){const[r,e]=J.useState(null),[t,i]=J.useState({name:"",email:""}),[o,l]=J.useState(!1),h=m=>{i({...t,[m.target.name]:m.target.value})},f=async(m,y={})=>{try{l(!0);const E={...t,...y,service:m,timestamp:new Date};await HC(ea(na,"offers"),E),alert("Thank you! Your request has been submitted. I will be in touch shortly."),e(null),i({name:"",email:""})}catch(E){console.error("Error submitting request:",E),alert("Error submitting your request. Please try again.")}finally{l(!1)}};return w.jsxs("div",{className:we.servicesSection,children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"07. "}),"Services"]}),w.jsxs("div",{className:we.servicesContainer,children:[w.jsx("div",{className:`${we.cardsWrapper} ${r?we.slideOut:""}`,children:w.jsxs("div",{className:we.cards,children:[w.jsxs("div",{className:we.card,children:[w.jsx("img",{src:"icons/AI.png",alt:"",width:75}),w.jsx("h3",{className:we.cardTitle,children:"AI solutions"}),w.jsx("p",{className:we.cardText,children:"Leverage our cutting-edge AI solutions to transform your business operations and gain valuable insights. With our expertise spanning chatbots, predictive analytics, and automation, we empower you to stay ahead in today's data-centric environment. Harness the power of AI with us to unlock new opportunities and drive innovation in your organization."}),w.jsx("button",{className:we.cardButton,onClick:()=>e("ai"),children:"Learn More"})]}),w.jsxs("div",{className:we.card,children:[w.jsx("img",{src:"icons/web-dev.png",alt:"",width:75}),w.jsx("h3",{className:we.cardTitle,children:"Web Development"}),w.jsx("p",{className:we.cardText,children:"Embark on your online journey with me. My website development services blend creativity and functionality to deliver visually stunning websites. I have worked on more than 100+ websites Specializing in both front-end and back-end development,I guarantee seamless performance and an intuitive user interface. Let us lay the groundwork for your digital success."}),w.jsx("button",{className:we.cardButton,onClick:()=>e("web"),children:"Hire Me"})]}),w.jsxs("div",{className:we.card,children:[w.jsx("img",{src:"icons/online-learning.png",alt:"",width:75}),w.jsx("h3",{className:we.cardTitle,children:"Online Learning"}),w.jsx("p",{className:we.cardText,children:"I offer personalized online tutoring services to help you master programming languages and frameworks. Whether you're a beginner or an experienced coder, I provide tailored lessons to suit your learning style. With my guidance, you can enhance your skills and achieve your learning goals. Let's embark on a learning journey together."}),w.jsx("button",{className:we.cardButton,onClick:()=>e("learning"),children:"Contact Me"})]})]})}),w.jsx("div",{className:`${we.formWrapper} ${r==="ai"?we.slideIn:""}`,children:w.jsxs("div",{className:we.formContent,children:[w.jsxs("div",{className:we.formHeader,children:[w.jsx("button",{className:we.backButton,onClick:()=>e(null),children:" Back to Services"}),w.jsx("h2",{children:"AI Solutions"})]}),w.jsxs("form",{onSubmit:m=>{m.preventDefault();const y={company:m.target.company.value,projectDescription:m.target.projectDescription.value,budget:m.target.budget.value,timeline:m.target.timeline.value};f("ai",y)},children:[w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Company/Organization"}),w.jsx("input",{type:"text",name:"company",required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Project Description"}),w.jsx("textarea",{name:"projectDescription",required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $250",children:"Less than $250"}),w.jsx("option",{value:"$250 - $1,000",children:"$250 - $1,000"}),w.jsx("option",{value:"$1,000 - $2,500",children:"$1,000 - $2,500"}),w.jsx("option",{value:"> $2,500",children:"More than $2,500"})]})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 1 month",children:"Less than 1 month"}),w.jsx("option",{value:"1-3 months",children:"1-3 months"}),w.jsx("option",{value:"3-6 months",children:"3-6 months"}),w.jsx("option",{value:"> 6 months",children:"More than 6 months"})]})]}),w.jsx("button",{type:"submit",className:we.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${we.formWrapper} ${r==="web"?we.slideIn:""}`,children:w.jsxs("div",{className:we.formContent,children:[w.jsxs("div",{className:we.formHeader,children:[w.jsx("button",{className:we.backButton,onClick:()=>e(null),children:" Back to Services"}),w.jsx("h2",{children:"Web Development"})]}),w.jsxs("form",{onSubmit:m=>{m.preventDefault();const y={projectType:m.target.projectType.value,features:m.target.features.value,budget:m.target.budget.value,timeline:m.target.timeline.value};f("web",y)},children:[w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Project Type"}),w.jsxs("select",{name:"projectType",required:!0,children:[w.jsx("option",{value:"",children:"Select Project Type"}),w.jsx("option",{value:"E-commerce",children:"E-commerce"}),w.jsx("option",{value:"Portfolio",children:"Portfolio"}),w.jsx("option",{value:"Blog",children:"Blog"}),w.jsx("option",{value:"Corporate",children:"Corporate Website"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Features Needed"}),w.jsx("textarea",{name:"features",placeholder:"Describe the features you need...",required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Budget Range"}),w.jsxs("select",{name:"budget",required:!0,children:[w.jsx("option",{value:"",children:"Select Budget"}),w.jsx("option",{value:"< $1,000",children:"Less than $1,000"}),w.jsx("option",{value:"$1,000 - $3,000",children:"$1,000 - $3,000"}),w.jsx("option",{value:"$3,000 - $5,000",children:"$3,000 - $5,000"}),w.jsx("option",{value:"> $5,000",children:"More than $5,000"})]})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Timeline Expectations"}),w.jsxs("select",{name:"timeline",required:!0,children:[w.jsx("option",{value:"",children:"Select Timeline"}),w.jsx("option",{value:"< 2 weeks",children:"Less than 2 weeks"}),w.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),w.jsx("option",{value:"1-2 months",children:"1-2 months"}),w.jsx("option",{value:"> 2 months",children:"More than 2 months"})]})]}),w.jsx("button",{type:"submit",className:we.submitButton,children:o?"Submitting...":"Submit Request"})]})]})}),w.jsx("div",{className:`${we.formWrapper} ${r==="learning"?we.slideIn:""}`,children:w.jsxs("div",{className:we.formContent,children:[w.jsxs("div",{className:we.formHeader,children:[w.jsx("button",{className:we.backButton,onClick:()=>e(null),children:" Back to Services"}),w.jsx("h2",{children:"Online Learning"})]}),w.jsxs("form",{onSubmit:m=>{m.preventDefault();const y={technology:m.target.technology.value,skillLevel:m.target.skillLevel.value,learningGoals:m.target.learningGoals.value,schedule:m.target.schedule.value};f("learning",y)},children:[w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Technology Interested In"}),w.jsxs("select",{name:"technology",required:!0,children:[w.jsx("option",{value:"",children:"Select Technology"}),w.jsx("option",{value:"JavaScript",children:"JavaScript"}),w.jsx("option",{value:"Python",children:"Python"}),w.jsx("option",{value:"React",children:"React"}),w.jsx("option",{value:"Node.js",children:"Node.js"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Current Skill Level"}),w.jsxs("select",{name:"skillLevel",required:!0,children:[w.jsx("option",{value:"",children:"Select Skill Level"}),w.jsx("option",{value:"Beginner",children:"Beginner"}),w.jsx("option",{value:"Intermediate",children:"Intermediate"}),w.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Learning Goals"}),w.jsx("textarea",{name:"learningGoals",placeholder:"What do you want to achieve?",required:!0})]}),w.jsxs("div",{className:we.formGroup,children:[w.jsx("label",{children:"Preferred Schedule"}),w.jsx("textarea",{name:"schedule",placeholder:"What days/times work best for you?",required:!0})]}),w.jsx("button",{type:"submit",className:we.submitButton,children:o?"Submitting...":"Submit Request"})]})]})})]})]})}function u1(){return J.useEffect(()=>{const r=document.querySelectorAll(".scroller");window.matchMedia("(prefers-reduced-motion: reduce)").matches||e();function e(){r.forEach(t=>{t.setAttribute("data-animated",!0);const i=t.querySelector(".scroller__inner");Array.from(i.children).forEach(l=>{const h=l.cloneNode(!0);h.setAttribute("aria-hidden",!0),i.appendChild(h)})})}},[]),w.jsxs("div",{className:"collaborations hidden-area",children:[w.jsxs("div",{className:"home-sections-title",children:[w.jsx("span",{children:"05. "}),"Collaborations"]}),w.jsx("div",{className:"scroller","data-direction":"right","data-speed":"fast",children:w.jsxs("div",{className:"scroller__inner",children:[w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""}),w.jsx("img",{src:"network/agri4.0_logo.png",alt:""}),w.jsx("img",{src:"network/ensak.png",alt:""}),w.jsx("img",{src:"network/um6p_logo.png",alt:""}),w.jsx("img",{src:"network/postmaroc_logo.png",alt:""}),w.jsx("img",{src:"network/nidinnovation_logo.png",alt:""}),w.jsx("img",{src:"network/smart-maint_logo.png",alt:""})]})})]})}function c1(){const r=gf();return J.useEffect(()=>{const e=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&o.target.classList.add("visible")})});document.querySelectorAll(".hidden-area").forEach(i=>{e.observe(i)})},[]),w.jsxs(w.Fragment,{children:[w.jsx(BI,{}),w.jsx($I,{projectHighlight:r}),w.jsx(KI,{}),w.jsx(HI,{}),w.jsx(WI,{}),w.jsx(u1,{}),w.jsx(Wk,{}),w.jsx(l1,{}),w.jsx(GI,{})]})}const ZE=async()=>{const r=ea(na,"projects");return(await yl(r)).docs.map(i=>({_id:i.id,...i.data()})).filter(i=>i.showInOverview===!0)},h1=Object.freeze(Object.defineProperty({__proto__:null,default:c1,getHighlightedProjects:ZE},Symbol.toStringTag,{value:"Module"}));function d1(){const r=gf(),[e,t]=J.useState(r),i=x_(),[o,l]=J.useState(!1),[h,f]=J.useState("All"),[m,y]=J.useState({});let E=[{All:-1}];r.map(N=>{var z;(z=N==null?void 0:N.tags)==null||z.map(j=>{(te=>{const ne=E.findIndex(oe=>oe.hasOwnProperty(te));ne!==-1?E[ne][te]+=1:E.push({[te]:1})})(j)})}),J.useEffect(()=>{const N=j=>{const M=j.target.getAttribute("data-tag");f(M)},z=document.querySelectorAll(".filter-element");return z.forEach(j=>{j.addEventListener("click",N)}),()=>{z.forEach(j=>{j.removeEventListener("click",N)})}},[]),J.useEffect(()=>{const N=M=>{M.innerHTML=h+" ",l(!1);const te=r.filter(ne=>h==="All"?!0:ne.tags.includes(h));t(te)},z=document.querySelector(".filter");N(z),document.querySelector(".filters").classList.add("hidden"),z.innerHTML=h+" ",l(!1)},[h,r]);const S=N=>{const z=document.querySelector(".filter"),j=document.querySelector(".filters");o?(j.classList.add("hidden"),z.innerHTML=h+" ",l(!1)):(j.classList.remove("hidden"),z.innerHTML=h+" ",l(!0))};J.useEffect(()=>{document.getElementById("cards").onmousemove=N=>{for(const z of document.getElementsByClassName("card")){const j=z.getBoundingClientRect(),M=N.clientX-j.left,te=N.clientY-j.top;z.style.setProperty("--mouse-x",`${M}px`),z.style.setProperty("--mouse-y",`${te}px`)}}},[]);const I=N=>{y(z=>({...z,[N]:!0}))};return w.jsx(w.Fragment,{children:w.jsxs("section",{className:"projects-section",children:[w.jsxs("div",{className:"projects-header",children:[w.jsx("h1",{className:"projects-section__title",children:"Projects Library"}),w.jsx("div",{className:"projects-section__filters",children:w.jsxs("label",{onClick:S,children:["Category: ",w.jsxs("span",{className:"filter",children:[h," "]})," "]})})]}),w.jsx("div",{className:"filters-container",children:w.jsx("div",{className:"filters hidden",children:E.map((N,z)=>Object.entries(N).map(([j,M])=>w.jsxs("div",{className:"filter-element","data-tag":j,children:[j," ",M!==-1?"("+M+")":""]},z)))})}),w.jsx("h2",{className:"projects-section__subtitle",children:"Get Access To All My Public Projects"}),w.jsx("div",{id:"cards",children:e&&e.map((N,z)=>{const j=N.description;let M=j.slice(0,250);const te=M.lastIndexOf(" ");return M=M.slice(0,te),j.length>200&&(M+="..."),w.jsxs("div",{className:"card",onClick:ne=>{i("/projects/"+N.title.replace(/\s/g,"-"),{state:N})},children:[w.jsxs("div",{className:"projects-section__projects__project__img",style:{backgroundImage:m[N._id]?`url(${N.image})`:"none"},children:[!m[N._id]&&w.jsx(bo,{height:"100%"}),w.jsx("img",{src:`${N.image}`,alt:N.title,style:{display:"none"},onLoad:()=>I(N._id)})]}),m[N._id]?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"projects-section__projects__project__title",children:N.title}),w.jsx("p",{className:"projects-section__projects__project__description",children:M})]}):w.jsxs("div",{children:[w.jsx("div",{className:"home-projects-section__projects__project__description",style:{display:"flex",justifyContent:"center",width:"100%"},children:w.jsx(bo,{height:24,width:"10rem",style:{marginBottom:"10px",marginTop:"10px",marginLeft:"10px"}})}),w.jsx("div",{className:"home-projects-section__projects__project__description",children:w.jsx(bo,{count:7})})]})]},N._id)})})]})})}const ew=async()=>{const r=ea(na,"projects");return(await yl(r)).docs.map(i=>({_id:i.id,...i.data()}))},f1=Object.freeze(Object.defineProperty({__proto__:null,default:d1,getProjects:ew},Symbol.toStringTag,{value:"Module"}));async function p1(){const r=ea(na,"certificates"),e=await yl(r),t=e.docs.map(o=>o.data()),i=e.size;return{allCertificates:t,count:i}}function m1(){const r=gf();return w.jsx("section",{children:w.jsxs("div",{className:"container1",children:[w.jsx("h2",{className:"heading-section",children:"Reports"}),w.jsxs("table",{className:"table-dark table-hover",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"#"}),w.jsx("th",{children:"Name"}),w.jsx("th",{children:"Date"}),w.jsx("th",{children:"Description"}),w.jsx("th",{children:"Action"})]})}),w.jsx("tbody",{children:r&&r.map((e,t)=>w.jsxs("tr",{children:[w.jsx("th",{scope:"row",children:t+1}),w.jsx("td",{children:e.name}),w.jsx("td",{children:e.date}),w.jsx("td",{children:e.description}),w.jsx("td",{children:w.jsx("a",{className:"btn-download",href:"reports/"+e.name,style:{cursor:"pointer"},children:"Download"})})]},t))})]})]})})}async function tw(){const r=ea(na,"reports");return(await yl(r)).docs.map(i=>({_id:i.id,...i.data()}))}const g1=Object.freeze(Object.defineProperty({__proto__:null,default:m1,getReports:tw},Symbol.toStringTag,{value:"Module"})),Mn=w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('preloader.png')",backgroundSize:"auto 50%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"preloader"}),y1=_t.lazy(()=>Jn(()=>import("./Root-Bfc5YpNB.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),_1=_t.lazy(()=>Jn(()=>Promise.resolve().then(()=>h1),void 0,import.meta.url)),v1=_t.lazy(()=>Jn(()=>Promise.resolve().then(()=>f1),void 0,import.meta.url)),E1=_t.lazy(()=>Jn(()=>import("./Project-DMH1mCIv.js"),__vite__mapDeps([5,6,1,2,7]),import.meta.url)),w1=_t.lazy(()=>Jn(()=>import("./Certificates-kYzf9Vcs.js"),__vite__mapDeps([8,9]),import.meta.url)),T1=_t.lazy(()=>Jn(()=>import("./Resume-D8i8Ifms.js"),__vite__mapDeps([10,11]),import.meta.url)),I1=_t.lazy(()=>Jn(()=>import("./MusicPicks-CdNqp6-S.js"),__vite__mapDeps([12,13]),import.meta.url)),S1=_t.lazy(()=>Jn(()=>Promise.resolve().then(()=>g1),void 0,import.meta.url)),A1=_t.lazy(()=>Jn(()=>import("./Articles-eMA1eWQi.js"),__vite__mapDeps([14,15]),import.meta.url)),R1=_t.lazy(()=>Jn(()=>import("./Team-BGfhAZwN.js"),__vite__mapDeps([16,2,17]),import.meta.url)),C1=_t.lazy(()=>Jn(()=>import("./BackOffice-DyffPZOR.js"),__vite__mapDeps([18,1,2,3,6,19]),import.meta.url)),P1=_t.lazy(()=>Jn(()=>import("./NotFound-CSDxGIjq.js"),[],import.meta.url)),k1=VI(ec(w.jsxs(Vn,{path:"/",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(y1,{})}),children:[w.jsx(Vn,{index:!0,element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(_1,{})}),loader:ZE}),w.jsx(Vn,{path:"projects",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(v1,{})}),loader:ew}),w.jsx(Vn,{path:"projects/:title",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(E1,{})})}),w.jsx(Vn,{path:"certificates",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(w1,{})}),loader:p1}),w.jsx(Vn,{path:"resume",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(T1,{})})}),w.jsx(Vn,{path:"my-team",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(R1,{})})}),w.jsx(Vn,{path:"music",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(I1,{})})}),w.jsx(Vn,{path:"reports",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(S1,{})}),loader:tw}),w.jsx(Vn,{path:"articles",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(A1,{})})}),w.jsx(Vn,{path:"fillDB",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(C1,{})})}),w.jsx(Vn,{path:"*",element:w.jsx(J.Suspense,{fallback:Mn,children:w.jsx(P1,{})})})]})));function x1(){return w.jsx(kI,{router:k1,fallbackElement:Mn})}const N1=mT.createRoot(document.getElementById("root"));N1.render(w.jsx(yT,{baseColor:"#202020",highlightColor:"#444",children:w.jsx(x1,{})}));export{$i as G,O1 as N,b1 as O,_t as R,bo as S,gf as a,df as b,dT as c,f_ as d,PC as e,na as f,D1 as g,zk as h,U1 as i,w as j,F1 as k,ea as l,yl as m,M1 as n,j1 as o,J as r,V1 as s,ul as u};
